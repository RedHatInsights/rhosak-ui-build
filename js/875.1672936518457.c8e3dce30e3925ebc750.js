"use strict";(self.webpackChunkconsoledot_rhosak=self.webpackChunkconsoledot_rhosak||[]).push([[875],{18480:(e,t,n)=>{n.d(t,{Z:()=>Ae});var i=n(52322),r=n(45355),a=n(21832),o=n(42021),s=n(52586),c=n(64977),l=n(82820),u=n(45194),d=n(83060),p=n(91942),f="/kafkas",h="create",m=[h],v="".concat(f,"/:id?/:section(delete)?"),g="".concat(f,"/").concat(h),b="".concat(f,"/:id/delete"),y=function(){return y=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},y.apply(this,arguments)},x=(0,l.createContext)(null),j=function(e){var t=e.children,n=(0,u.useRouteMatch)(v);if(!n)throw Error("DrawerProvider used outside the expected route");var r=n.params.id&&m.includes(n.params.id)||void 0!==n.params.section?void 0:n.params.id,a=(0,d.NP)(r).data,o=(0,l.useState)(void 0!==r&&n.isExact),s=o[0],c=o[1],f=(0,l.useState)("details"),h=f[0],g=f[1],b=(0,l.useRef)(),j=(0,l.useCallback)((function(e){c((function(t){var n=void 0!==e?e:!t;return!1===n&&b.current&&b.current(),n}))}),[]);(0,l.useEffect)((function(){a||c(!1)}),[a]);var _=(0,l.useMemo)((function(){return{selectedInstance:r,activeTab:h,setActiveTab:g,isExpanded:void 0!==r&&s,toggleExpanded:j,onClose:b}}),[h,s,r,j]);return(0,i.jsx)(x.Provider,y({value:_},{children:(0,i.jsx)(p.dL,y({instance:a,activeTab:h,onTabChange:g,isExpanded:s,onClose:function(){return j(!1)}},{children:t}))}))};function _(e){var t=(0,l.useContext)(x);return t.onClose.current=e,t}var k=n(47357),w=n(60872),C=n(87418),T=n(18767),S=n(2529),O=function(e){var t=e.getUrlForInstance,n=(0,u.useHistory)(),r=(0,l.useContext)(k.QuickStartContext).setActiveQuickStart,a=_((0,l.useCallback)((function(){return n.replace("".concat(f))}),[n])),o=a.selectedInstance,s=a.toggleExpanded,c=a.setActiveTab,h=a.isExpanded,m=(0,p.RC)(),v=(0,w.J)(),b=v.page,y=v.perPage,x=v.setPagination,j=v.setPaginationQuery,O=(0,l.useCallback)((function(){return j(1,y)}),[y,j]),I=(0,C.R)("names",O),P=(0,C.R)("owners",O),L=(0,C.R)("statuses",O),R=(0,T.b)(d.Q0,m.fields,"createdAt","desc"),D=R[0],A=R[1],E=R[2],N=(0,d.bC)({page:b,perPage:y,name:I.chips,owner:P.chips,status:L.chips,sort:A,direction:E}).data,B=(0,l.useCallback)((function(){I.clearChained(P.clearChained(L.clearChained(j(1,y))),!0)}),[I,P,y,j,L]),M=(0,l.useCallback)((function(e,t){o===e&&h?s(!1):(n.replace("".concat(f,"/").concat(e)),s(!0),c(t))}),[n,h,o,c,s]),F=(0,l.useCallback)((function(e){M(e.id,"details")}),[M]),z=(0,l.useCallback)((function(e){M(e.id,"connections")}),[M]),U=(0,l.useCallback)((function(){n.push("".concat(g))}),[n]),V=(0,l.useCallback)((function(e){var t=e.id;n.push("".concat(f,"/").concat(t,"/delete"))}),[n]),H=(0,l.useCallback)((function(){return r&&r("getting-started")}),[r]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(p.HD,{}),(0,i.jsx)(p._K,{instances:null==N?void 0:N.instances,itemCount:null==N?void 0:N.count,page:b,perPage:y,names:I.chips,owners:P.chips,statuses:L.chips,isColumnSortable:D,onPageChange:x,onSearchName:I.add,onRemoveNameChip:I.remove,onRemoveNameChips:I.clear,onSearchOwner:P.add,onRemoveOwnerChip:P.remove,onRemoveOwnerChips:P.clear,onSearchStatus:L.toggle,onRemoveStatusChip:L.remove,onRemoveStatusChips:L.clear,onClearAllFilters:B,onChangeOwner:function(e){},onDelete:V,onCreate:U,isRowSelected:function(e){return e.row.id===o},getUrlForInstance:t,onDetails:F,onConnection:z,onClickConnectionTabLink:function(){},onClickSupportLink:function(){},onInstanceLinkClick:function(){},onQuickstartGuide:H,canHaveInstanceLink:function(e){var t=e.status;return S.A9.includes(t)},canOpenConnection:function(e){var t=e.status;return S.A9.includes(t)},canChangeOwner:function(){return!0},canDelete:function(){return!0}})]})},I=n(79285),P=function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))},L=function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},R=function(){return R=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},R.apply(this,arguments)},D=function(e){var t=e.instancesHref,n=(0,u.useHistory)(),r=function(){var e=this,t=(0,s.Z)().auth,n=(0,l.useCallback)((function(){return P(e,void 0,void 0,(function(){var e,n;return L(this,(function(i){switch(i.label){case 0:return[4,t.getUser()];case 1:return(e=null===(n=i.sent().identity.user)||void 0===n?void 0:n.username)?[2,e]:[2,Promise.reject("Invalid user")]}}))}))}),[t]),i=(0,d.wG)(),r=(0,d.B6)(!0),a=(0,d.Nj)(),o=(0,d.Nj)(),c=(0,d.ck)(),u=(0,l.useCallback)((function(t){var r=t.onAvailable,a=t.onUsed,o=t.onUnavailable;return P(e,void 0,void 0,(function(){return L(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,i(n)];case 1:return e.sent()?r():a(),[3,3];case 2:return e.sent(),o(),[3,3];case 3:return[2]}}))}))}),[i,n]),p=(0,l.useCallback)((function(t){var n=t.onQuotaAvailable,i=t.onNoQuotaAvailable,a=t.onOutOfQuota;return P(e,void 0,void 0,(function(){var e,t,o,s,c;return L(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,r()];case 1:return e=l.sent(),t=e.hasTrialQuota,o=e.remainingPrepaidQuota,s=e.remainingMarketplaceQuota,c=e.marketplaceSubscriptions,void 0!==s||void 0!==o?0===(s||0)&&0===(o||0)?a({quota:{marketplaceSubscriptions:c}}):n({quota:{remainingPrepaidQuota:o,remainingMarketplaceQuota:s,marketplaceSubscriptions:c}}):i({hasTrialQuota:t}),[3,3];case 2:return l.sent(),i({hasTrialQuota:!1}),[3,3];case 3:return[2]}}))}))}),[r]),f=(0,l.useCallback)((function(t,n){var i=n.onAvailable,r=n.onUnavailable;return P(e,void 0,void 0,(function(){var e;return L(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,a(t)];case 1:return e=n.sent(),i(e),[3,3];case 2:return n.sent(),r(),[3,3];case 3:return[2]}}))}))}),[a]),h=(0,l.useCallback)((function(t,n){return P(e,void 0,void 0,(function(){var e,i;return L(this,(function(r){switch(r.label){case 0:return[4,o("standard")];case 1:return e=r.sent(),(i=e.providers.find((function(e){return e.id===t})))?[2,c(i,n,"standard")]:[2,Promise.reject("Invalid cloud provider")]}}))}))}),[c,o]),m=(0,l.useCallback)((function(t,n){return P(e,void 0,void 0,(function(){var e,i,r,a;return L(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,h(t,n)];case 1:if(0===(e=s.sent()).length)throw new Error("No standard sizes found");return[3,3];case 2:return s.sent(),e=[{id:"1",displayName:"1",quota:1},{id:"2",displayName:"2",quota:2}],[3,3];case 3:return[4,o("developer")];case 4:return i=s.sent(),(r=i.providers.find((function(e){return e.id===t})))?[4,c(r,n,"developer")]:[2,Promise.reject("Invalid cloud provider")];case 5:return a=s.sent(),[2,{standard:e,trial:a[0]}]}}))}))}),[c,o,h]);return{checkDeveloperAvailability:u,checkStandardQuota:p,fetchProvidersWithRegions:f,getStandardSizes:h,getTrialSizes:m}}(),a=(0,d.VK)(),o=(0,l.useContext)(k.QuickStartContext),c=function(){n.push("overview")},p=(0,l.useCallback)((function(){o.setActiveQuickStart&&o.setActiveQuickStart("getting-started")}),[o]),h=(0,l.useCallback)((function(e,t,i){a.mutateAsync({instance:e,onSuccess:function(){t(),n.push(f)},onError:i})}),[a,n]),m=(0,l.useCallback)((function(){n.push(t)}),[n,t]);return(0,i.jsx)(I.b,R({},r,{isModalOpen:!0,onCancel:m,onClickContactUs:c,onClickKafkaOverview:c,onClickQuickStart:p,onCreate:h,onLearnHowToAddStreamingUnits:c,onLearnMoreAboutSizes:c,subscriptionOptionsHref:document.location.href+"/../overview",appendTo:function(){return document.getElementById("chrome-app-render-root")||document.body}}))},A=function(e){var t=e.instancesHref,n=(0,u.useHistory)(),r=(0,u.useRouteMatch)(v),a=(0,d.NP)(null==r?void 0:r.params.id),o=a.data,s=a.isError,c=(0,d.Ci)(),f=c.mutateAsync,h=c.isLoading,m=(0,l.useCallback)((function(){n.push(t)}),[n,t]),g=(0,l.useCallback)((function(){(null==o?void 0:o.id)&&f({id:o.id,onError:function(){},onSuccess:function(){n.replace(t)}})}),[f,n,null==o?void 0:o.id,t]);return(0,l.useEffect)((function(){s&&n.replace(t)}),[n,t,s]),o?(0,i.jsx)(p.hv,{isModalOpen:!0,isDeleting:h,onCancel:m,onDelete:g,instanceName:S.A9.includes(o.status)?o.name:void 0,appendTo:function(){return document.getElementById("chrome-app-render-root")||document.body}}):null},E=function(){return E=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},E.apply(this,arguments)},N=function(){return(0,i.jsxs)(u.Route,E({path:v,exact:!0},{children:[(0,i.jsx)(u.Route,E({path:g},{children:(0,i.jsx)(D,{instancesHref:"/kafkas"})})),(0,i.jsx)(u.Route,E({path:b},{children:(0,i.jsx)(A,{instancesHref:"/kafkas"})})),(0,i.jsx)(O,{getUrlForInstance:function(e){return"/kafkas/".concat(e.id,"/details")}})]}))},B=n(88447),M=n(89061),F="".concat(f,"/:id/details"),z="".concat(f,"/:id/details/topics/:topicName");function U(e){var t=(0,u.useHistory)(),n=(0,u.useRouteMatch)(F);if(!n)throw Error("useDataPlaneGate used outside the expected route");var i=(0,d.NP)(n.params.id),r=i.data,a=i.isError;return(0,l.useEffect)((function(){a&&t.replace(e)}),[t,e,a]),{instance:r,match:n}}var V=function(e){var t=e.instancesHref,n=e.children;return U(t).instance?(0,i.jsx)(i.Fragment,{children:n}):(0,i.jsx)(M.g,{})},H=n(87094),G=function(e){var t=e.instancesHref,n=e.activeSection,r=(0,u.useHistory)(),a=_(),o=a.setActiveTab,s=a.toggleExpanded,c=U(t),d=c.instance,f=c.match.url,h={dashboard:"".concat(f,"/dashboard"),topics:"".concat(f,"/topics"),consumer:"".concat(f,"/consumer-groups"),permissions:"".concat(f,"/acls"),settings:"".concat(f,"/settings")},m=(0,l.useCallback)((function(){r.push("".concat(t,"/").concat(d.id,"/delete"))}),[r,d,t]);return(0,i.jsx)(p.q,{instancesHref:t,instanceName:(null==d?void 0:d.name)||"",activeSection:n,sectionsHref:h,onDetails:function(){o("details"),s(!0)},onConnection:function(){o("connections"),s(!0)},canOpenConnection:!!d&&S.A9.includes(null==d?void 0:d.status),canChangeOwner:!0,onChangeOwner:function(){return!1},canDelete:!0,onDelete:m})},Q=function(e){var t=e.instancesHref;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(G,{instancesHref:t,activeSection:"permissions"}),(0,i.jsx)(H.PageSection,{children:"TODO"})]})},K=function(e){var t=e.instancesHref,n=U(t).instance,r=(0,w.J)(),a=r.page,o=r.perPage,s=r.setPagination,c=r.setPaginationQuery,u=(0,l.useCallback)((function(){return c(1,o)}),[o,c]),f=(0,C.R)("topic",u),h=(0,T.b)(d.CW,{name:"TODO name",partitions:"TODO partitions","retention.bytes":"TODO retention bytes","retention.ms":"TODO retention ms"},"name","desc"),m=h[0],v=h[1],g=h[2],b=(0,d.X2)({id:null==n?void 0:n.id,adminUrl:null==n?void 0:n.adminUrl,page:a,perPage:o,sort:v,direction:g,filter:f.chips[0],plan:n.plan}).data;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(G,{instancesHref:t,activeSection:"topics"}),(0,i.jsx)(p.Hg,{topics:null==b?void 0:b.topics,itemCount:null==b?void 0:b.count,page:a,perPage:o,topicName:f.chips,getUrlFortopic:function(e){return"./topics/".concat(e.name)},isColumnSortable:m,onDelete:function(){},onEdit:function(){},onSearchTopic:function(e){f.clear(),f.toggle(e)},onClearAllFilters:f.clear,onCreateTopic:function(){},onPageChange:s,onRemoveTopicChip:f.clear,onRemoveTopicChips:f.clear,onTopicLinkClick:function(){}})]})},q=function(e){var t=e.instancesHref,n=U(t).instance,r=(0,d.We)(),a=(0,l.useCallback)((function(e){return t=void 0,i=void 0,o=function(){return function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,r.mutateAsync({id:n.id,updates:{reauthentication_enabled:e}})];case 1:return t.sent(),[2,e];case 2:return t.sent(),[2,n.request.reauthentication_enabled];case 3:return[2]}}))},new((a=void 0)||(a=Promise))((function(e,n){function r(e){try{c(o.next(e))}catch(e){n(e)}}function s(e){try{c(o.throw(e))}catch(e){n(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(r,s)}c((o=o.apply(t,i||[])).next())}));var t,i,a,o}),[n,r]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(G,{instancesHref:t,activeSection:"settings"}),(0,i.jsx)(p.Zr,{onSubmitReAuthentication:a,reauthenticationEnabled:n.request.reauthentication_enabled})]})},J=n(13533),W=function(){return W=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},W.apply(this,arguments)},Z=function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))},Y=function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},X=function(e){var t=e.instancesHref,n=U(t),r=n.instance,a=n.match.params,o=(0,l.useState)((0,J.U9)()),s=o[0],c=o[1],u=(0,l.useCallback)((function(){c(!0),(0,J.ie)()}),[]),f=(0,d.vC)(),h=(0,d.yN)(),m=(0,d.IQ)(),v=(0,d.Q8)(),g=(0,d.nt)(),b=(0,l.useCallback)((function(){return Z(void 0,void 0,void 0,(function(){var e;return Y(this,(function(t){switch(t.label){case 0:return[4,h(a.id)];case 1:return e=t.sent(),[2,W(W({},e),{topicPartitionsLimit:r.maxPartitions||0})]}}))}))}),[r,a.id,h]),y=(0,l.useCallback)((function(e){var t=e.interval,n=e.duration;return Z(void 0,void 0,void 0,(function(){var e,i,r,o;return Y(this,(function(s){switch(s.label){case 0:return[4,Promise.all([f(a.id),m({id:a.id,duration:n,interval:t})])];case 1:return e=s.sent(),i=e[0],r=e[1],i?[2,W(W({},r),{diskSpaceLimit:((null===(o=i.request.max_data_retention_size)||void 0===o?void 0:o.bytes)||0)/1073741824,connectionsLimit:i.connections||0,connectionRateLimit:i.connectionRate||0})]:[2,Promise.reject("Can't retrieve instance")]}}))}))}),[a.id,f,m]),x=(0,l.useCallback)((function(e){var t=e.interval,n=e.duration,i=e.selectedTopic;return Z(void 0,void 0,void 0,(function(){var e,r,o,s;return Y(this,(function(c){switch(c.label){case 0:return[4,Promise.all([f(a.id),v({id:a.id,duration:n,interval:t,selectedTopic:i})])];case 1:return e=c.sent(),r=e[0],o=e[1],r&&r.adminUrl?[4,g({id:r.id,adminUrl:r.adminUrl,page:1,perPage:1e3,plan:r.plan})]:[2,Promise.reject("Can't retrieve instance")];case 2:return s=c.sent().topics.map((function(e){return e.name})),[2,W(W({},o),{kafkaTopics:s})]}}))}))}),[a.id,f,v,g]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(G,{instancesHref:t,activeSection:"dashboard"}),(0,i.jsx)(p.C3,{onCreateTopic:function(){},onAlertClose:u,hasUserAlreadyClosedAlert:s,getKafkaInstanceMetrics:y,getTopicsMetrics:x,getMetricsKpi:b})]})},$=function(e){var t=e.instancesHref,n=U(t).instance,r=(0,w.J)(),a=r.page,o=r.perPage,s=r.setPagination,c=r.setPaginationQuery,u=(0,l.useCallback)((function(){return c(1,o)}),[o,c]),f=(0,C.R)("consumer",u),h=(0,T.b)(d.XQ,{name:"TODO name"},"name","desc"),m=h[0],v=h[1],g=h[2],b=(0,d.yT)({id:null==n?void 0:n.id,adminUrl:null==n?void 0:n.adminUrl,page:a,perPage:o,sort:v,direction:g,groupId:f.chips[0]}).data;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(G,{instancesHref:t,activeSection:"consumer"}),(0,i.jsx)(p.Jh,{consumers:null==b?void 0:b.groups,itemCount:null==b?void 0:b.count,page:a,perPage:o,consumerName:f.chips,isRowSelected:function(){return!1},isColumnSortable:m,onDelete:function(){},onSearchConsumer:function(e){f.clear(),f.toggle(e)},onClearAllFilters:f.clear,onPageChange:s,onRemoveConsumerChip:f.clear,onRemoveConsumerChips:f.clear,onViewPartition:function(){},onViewResetOffset:function(){}})]})};function ee(e,t){var n=(0,u.useHistory)(),i=U(e).instance,r=(0,u.useRouteMatch)(z);if(!r)throw Error("useDataPlaneGate used outside the expected route");var a=(0,d.BZ)({id:i.id,adminUrl:i.adminUrl,topicName:r.params.topicName,plan:i.plan}),o=a.data,s=a.isError;return(0,l.useEffect)((function(){s&&n.replace(t(i.id))}),[n,i.id,t,e,s]),{instance:i,topic:o,match:r}}var te=function(e){var t=e.instanceDetailsHref,n=e.instancesHref,r=e.activeSection,a=(0,u.useHistory)(),o=_(),s=o.setActiveTab,c=o.toggleExpanded,d=ee(n,t),f=d.instance,h=d.topic,m=d.match.url,v={consumer:"".concat(m,"/consumer-groups"),messages:"".concat(m,"/messages"),properties:"".concat(m,"/properties"),schemas:"".concat(m,"/schemas")},g=(0,l.useCallback)((function(){a.push("".concat(n,"/").concat(f.id,"/delete"))}),[a,f,n]);return(0,i.jsx)(p.YJ,{instancesHref:n,instanceName:f.name,instanceDetailHref:t(f.id),activeSection:r,topicName:h.name,sectionsHref:v,onDetails:function(){s("details"),c(!0)},onConnection:function(){s("connections"),c(!0)},canOpenConnection:!!f&&S.A9.includes(null==f?void 0:f.status),canChangeOwner:!0,onChangeOwner:function(){return!1},canDelete:!0,onDelete:g})},ne=function(e){var t=e.instanceDetailsHref,n=e.instancesHref,r=ee(n,t),a=r.instance,o=r.topic,s=(0,w.J)(),c=s.page,u=s.perPage,f=s.setPagination,h=s.setPaginationQuery,m=(0,l.useCallback)((function(){return h(1,u)}),[u,h]),v=(0,C.R)("consumer",m),g=(0,T.b)(d.XQ,{name:"TODO name"},"name","desc"),b=g[0],y=g[1],x=g[2],j=(0,d.yT)({id:null==a?void 0:a.id,adminUrl:null==a?void 0:a.adminUrl,page:c,perPage:u,sort:y,direction:x,groupId:v.chips[0],topic:o.name}).data;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(te,{instancesHref:n,instanceDetailsHref:t,activeSection:"consumer"}),(0,i.jsx)(p.Jh,{consumers:null==j?void 0:j.groups,itemCount:null==j?void 0:j.count,page:c,perPage:u,consumerName:v.chips,isRowSelected:function(){return!1},isColumnSortable:b,onDelete:function(){},onSearchConsumer:function(e){v.clear(),v.toggle(e)},onClearAllFilters:v.clear,onPageChange:f,onRemoveConsumerChip:v.clear,onRemoveConsumerChips:v.clear,onViewPartition:function(){},onViewResetOffset:function(){}})]})},ie=function(){return ie=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},ie.apply(this,arguments)},re=function(e){var t=e.instanceDetailsHref,n=e.instancesHref,r=ee(n,t),a=r.instance,o=r.topic,s=(0,d.yp)(),c=(0,l.useCallback)((function(e){return t=void 0,n=void 0,r=function(){return function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(t){switch(t.label){case 0:return[4,s(ie(ie({},e),{id:a.id,adminUrl:a.adminUrl,topicName:o.name}))];case 1:return[2,{messages:t.sent(),partitions:o.partitionsCount}]}}))},new((i=void 0)||(i=Promise))((function(e,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(o,s)}c((r=r.apply(t,n||[])).next())}));var t,n,i,r}),[a.adminUrl,a.id,s,o.name,o.partitionsCount]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(te,{instancesHref:n,instanceDetailsHref:t,activeSection:"messages"}),(0,i.jsx)(p.Wd,{getMessages:c})]})},ae=n(1315),oe=n(56156),se=function(){return se=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},se.apply(this,arguments)},ce=function(e){var t=e.defaultFileDeleteDelay,n=e.defaultLogSegmentSize,r=e.defaultSegmentJitterTime,a=e.defaultSegmentTime,o=(0,c.useTranslation)(["create-topic","common"]).t;return(0,i.jsxs)(H.FormSection,se({title:o("cleanup"),id:"cleanup",titleElement:"h2"},{children:[(0,i.jsx)(H.TextContent,{children:(0,i.jsx)(H.Text,se({component:H.TextVariants.p,className:"section-info"},{children:o("cleanup_section_info")}))}),(0,i.jsx)(ae.R,{fieldId:"log-segment-size",btnAriaLabel:o("log_segment_size"),fieldLabel:o("log_segment_size"),fieldValue:o("bytes_to_gibibyte",{bytes:n,gibibyte:(0,oe.ZP)(Number(n),"bytes").to("gibibytes")}),popoverBody:o("log_segment_size"),popoverHeader:o("log_segment_size_description")}),(0,i.jsx)(ae.R,{fieldId:"segement-time",btnAriaLabel:o("segement_time"),fieldLabel:o("segement_time"),fieldValue:o("milliseconds_to_days",{milliseconds:a,days:(0,oe.ZP)(Number(a),"milliseconds").to("days")}),popoverBody:o("segement_time_description"),popoverHeader:o("segement_time")}),(0,i.jsx)(ae.R,{fieldId:"segment-jitter-time",btnAriaLabel:o("segment_jitter_time"),fieldLabel:o("segment_jitter_time"),fieldValue:o("milliseconds_time",{value:r}),popoverBody:o("segment_jitter_time_description"),popoverHeader:o("segment_jitter_time")}),(0,i.jsx)(ae.R,{fieldId:"file-delete-delay",btnAriaLabel:o("file_delete_delay"),fieldLabel:o("file_delete_delay"),fieldValue:o("milliseconds_to_minute",{milliseconds:t,minute:(0,oe.ZP)(Number(t),"milliseconds").to("minutes")}),popoverBody:o("file_delete_delay_description"),popoverHeader:o("file_delete_delay")}),(0,i.jsx)(ae.R,{fieldId:"preallocate-log-segment-files",btnAriaLabel:o("preallocate_log_segment_files"),fieldLabel:o("preallocate_log_segment_files"),fieldValue:o("common:disabled"),popoverBody:o("preallocate_log_segment_files_description"),popoverHeader:o("preallocate_log_segment_files")})]}))},le=function(){return le=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},le.apply(this,arguments)},ue=function(e){var t=e.defaultFlushIntervalMessages,n=e.defaultFlushIntervalTime,r=(0,c.useTranslation)(["create-topic"]).t;return(0,i.jsxs)(H.FormSection,le({title:r("flush"),id:"flush",titleElement:"h2"},{children:[(0,i.jsx)(H.TextContent,{children:(0,i.jsx)(H.Text,le({component:H.TextVariants.p,className:"section-info"},{children:r("flush_section_info")}))}),(0,i.jsx)(ae.R,{fieldId:"flush-interval-messages",btnAriaLabel:r("flush_interval_messages"),fieldLabel:r("flush_interval_messages"),fieldValue:r("messages_time",{value:t}),popoverBody:r("flush_interval_messages_description"),popoverHeader:r("flush_interval_messages")}),(0,i.jsx)(ae.R,{fieldId:"flush-interval-time",btnAriaLabel:r("flush_interval_time"),fieldLabel:r("flush_interval_time"),fieldValue:r("milliseconds_time",{value:n}),popoverBody:r("flush_interval_time_description"),popoverHeader:r("flush_interval_time")})]}))},de=function(){return de=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},de.apply(this,arguments)},pe=function(e){var t=e.defaultMaximumMessageBytes,n=e.defaultMessageTimestampType,r=e.defaultMaxMessageTimestampDiff,a=(0,c.useTranslation)(["create-topic"]).t;return(0,i.jsxs)(H.FormSection,de({title:a("messages"),id:"messages",titleElement:"h2"},{children:[(0,i.jsx)(H.TextContent,{children:(0,i.jsx)(H.Text,de({component:H.TextVariants.p,className:"section-info"},{children:a("message_section_info")}))}),(0,i.jsx)(ae.R,{fieldId:"max-message-size",btnAriaLabel:a("max_message_size"),fieldLabel:a("max_message_size"),fieldValue:a("bytes_size",{value:t}),popoverBody:a("max_message_size_description"),popoverHeader:a("max_message_size")}),(0,i.jsx)(ae.R,{fieldId:"message-timestamp-type",btnAriaLabel:a("message_timestamp_type"),fieldLabel:a("message_timestamp_type"),fieldValue:String(n),popoverBody:a("message_timestamp_type_description"),popoverHeader:a("message_timestamp_type")}),(0,i.jsx)(ae.R,{fieldId:"max-message-timestamp-diff",btnAriaLabel:a("max_message_timestamp_diff"),fieldLabel:a("max_message_timestamp_diff"),fieldValue:a("milliseconds_time",{value:r}),popoverBody:a("max_message_timestamp_diff_description"),popoverHeader:a("max_message_timestamp_diff")}),(0,i.jsx)(ae.R,{fieldId:"compression-type",btnAriaLabel:a("compression_type"),fieldLabel:a("compression_type"),fieldValue:"Producer",popoverBody:a("compression_type_description"),popoverHeader:a("compression_type")}),(0,i.jsx)(ae.R,{fieldId:"message-format",btnAriaLabel:a("message_format"),fieldLabel:a("message_format"),fieldValue:"2.7-IV2",popoverBody:a("message_format_description"),popoverHeader:a("message_format")})]}))},fe=function(){return fe=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},fe.apply(this,arguments)},he=function(){var e=(0,c.useTranslation)(["create-topic","common"]).t;return(0,i.jsxs)(H.FormSection,fe({title:e("replication"),id:"replication",titleElement:"h2"},{children:[(0,i.jsx)(H.TextContent,{children:(0,i.jsxs)(H.Text,fe({component:H.TextVariants.p},{children:[e("replication_section_info"),(0,i.jsx)(H.Text,fe({component:H.TextVariants.small},{children:e("replication_section_info_note")}))]}))}),(0,i.jsx)(ae.R,{fieldId:"unclean-leader-election",btnAriaLabel:e("unclean_leader_election"),fieldLabel:e("unclean_leader_election"),fieldValue:e("common:disabled"),popoverBody:e("unclean_leader_election_description"),popoverHeader:e("unclean_leader_election")})]}))},me=function(){return me=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},me.apply(this,arguments)},ve=function(e){var t=e.defaultIndexIntervalSize,n=e.defaultSegmentIndexSize,r=(0,c.useTranslation)(["create-topic"]).t;return(0,i.jsxs)(H.FormSection,me({title:r("index"),id:"index",titleElement:"h2"},{children:[(0,i.jsx)(H.TextContent,{children:(0,i.jsx)(H.Text,me({component:H.TextVariants.p,className:"section-info"},{children:r("index_section_info")}))}),(0,i.jsx)(ae.R,{fieldId:"index-interval-size",btnAriaLabel:r("index_interval_size"),fieldLabel:r("index_interval_size"),fieldValue:r("bytes_to_kibibytes",{bytes:t,kibibytes:(0,oe.ZP)(Number(t),"bytes").to("kibibytes")}),popoverBody:r("index_interval_size_description"),popoverHeader:r("index_interval_size")}),(0,i.jsx)(ae.R,{fieldId:"segment-index-size",btnAriaLabel:r("segment_index_size"),fieldLabel:r("segment_index_size"),fieldValue:r("bytes_to_mebibytes",{bytes:n,mebibytes:(0,oe.ZP)(Number(t),"bytes").to("mebibytes")}),popoverBody:r("segment_index_size_description"),popoverHeader:r("segment_index_size")})]}))},ge=function(){return ge=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},ge.apply(this,arguments)},be=function(e){var t=e.canHaveDelete,n=(0,c.useTranslation)(["create-topic"]).t;return(0,i.jsx)(H.SidebarPanel,ge({variant:"sticky"},{children:(0,i.jsxs)(H.JumpLinks,ge({isVertical:!0,label:n("jump_to_section"),scrollableSelector:".topic-properties",style:{position:"sticky"}},{children:[(0,i.jsx)(H.JumpLinksItem,ge({href:"#core-configuration"},{children:n("core_configuration")}),0),(0,i.jsx)(H.JumpLinksItem,ge({href:"#messages"},{children:n("messages")}),1),(0,i.jsx)(H.JumpLinksItem,ge({href:"#log"},{children:n("log")}),2),(0,i.jsx)(H.JumpLinksItem,ge({href:"#replication"},{children:n("replication")}),3),(0,i.jsx)(H.JumpLinksItem,ge({href:"#cleanup"},{children:n("cleanup")}),4),(0,i.jsx)(H.JumpLinksItem,ge({href:"#index"},{children:n("index")}),5),(0,i.jsx)(H.JumpLinksItem,ge({href:"#flush"},{children:n("flush")}),6),t?(0,i.jsx)(H.JumpLinksItem,ge({href:"#delete"},{children:n("delete")}),7):(0,i.jsx)(i.Fragment,{})]}))}))},ye=n(83117),xe=function(){return xe=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},xe.apply(this,arguments)},je=function(e){var t=e.topic,n=e.deleteTopic,r=e.updateTopic,a=(0,c.useTranslation)(["create-topic"]).t;return(0,i.jsx)(H.PageSection,xe({variant:"light",className:"topic-properties",hasOverflowScroll:!0},{children:(0,i.jsxs)(H.Sidebar,xe({hasGutter:!0},{children:[(0,i.jsx)(be,{canHaveDelete:!0}),(0,i.jsx)(H.SidebarContent,{children:(0,i.jsx)(H.PageGroup,xe({hasOverflowScroll:!0,id:"topic-detail-view",className:"pf-u-mb-4xl"},{children:(0,i.jsx)(H.PageSection,xe({padding:{default:"noPadding"}},{children:(0,i.jsxs)(H.Split,{children:[(0,i.jsxs)(H.SplitItem,xe({isFilled:!0},{children:[(0,i.jsxs)(H.Form,xe({id:"topic-form"},{children:[(0,i.jsxs)(H.FormSection,xe({title:a("core_configuration"),id:"core-configuration",titleElement:"h2"},{children:[(0,i.jsx)(H.TextContent,{children:(0,i.jsx)(H.Text,xe({component:H.TextVariants.p,className:"section-info"},{children:a("core_config_info")}))}),(0,i.jsx)(ae.R,{fieldId:"topic-name",btnAriaLabel:a("name"),fieldLabel:a("topic_name"),fieldValue:t.name,popoverBody:a("topic_name_description"),popoverHeader:a("topic_name")}),(0,i.jsx)(ae.R,{fieldId:"partitions",btnAriaLabel:a("partitions"),fieldLabel:a("partitions"),fieldValue:t.partitionsCount.toString(),popoverBody:a("partitions_description"),popoverHeader:a("partitions")}),(0,i.jsx)(ae.R,{fieldId:"replicas",btnAriaLabel:a("replicas"),fieldLabel:a("replicas"),fieldValue:"TODO",popoverBody:a("replicas_description"),popoverHeader:a("replicas")}),(0,i.jsx)(ae.R,{fieldId:"min-insync-replicas",btnAriaLabel:a("min_insync_replicas"),fieldLabel:a("min_insync_replicas"),fieldValue:t.config["min.insync.replicas"].toString(),popoverBody:a("min_insync_replicas_description"),popoverHeader:a("min_insync_replicas")}),(0,i.jsx)(ae.R,{fieldId:"retention-time",btnAriaLabel:a("retention_time"),fieldLabel:a("retention_time"),fieldValue:(0,ye.eA)(t.config["retention.ms"].value),popoverBody:a("retention_time_description"),popoverHeader:a("retention_time"),showUnlimited:!0}),(0,i.jsx)(ae.R,{fieldId:"retention-size",btnAriaLabel:a("retention_size"),fieldLabel:a("retention_size"),fieldValue:(0,ye.Cv)(t.config["retention.bytes"].value),popoverHeader:a("retention_size"),popoverBody:a("retention_size_description"),showUnlimited:!0})]})),(0,i.jsx)(pe,{defaultMaximumMessageBytes:t.config["max.message.bytes"].value,defaultMessageTimestampType:t.config["message.timestamp.type"],defaultMaxMessageTimestampDiff:t.config["message.timestamp.difference.max.ms"].value}),(0,i.jsxs)(H.FormSection,xe({title:a("log"),id:"log",titleElement:"h2"},{children:[(0,i.jsx)(H.TextContent,{children:(0,i.jsxs)(H.Text,xe({component:H.TextVariants.p},{children:[a("log_section_info"),(0,i.jsx)(H.Text,xe({component:H.TextVariants.small,className:"section-info-note"},{children:a("log_section_info_note")}))]}))}),(0,i.jsx)(ae.R,{fieldId:"cleanup-policy",btnAriaLabel:a("cleanup_policy"),fieldLabel:a("cleanup_policy"),fieldValue:t.config["cleanup.policy"],popoverBody:a("cleanup_policy_description"),popoverHeader:a("cleanup_policy")}),(0,i.jsx)(ae.R,{fieldId:"delete-retention-time",btnAriaLabel:a("delete_retention_time"),fieldLabel:a("delete_retention_time"),fieldValue:t.config["delete.retention.ms"].value.toString(),popoverBody:a("delete_retention_time_description"),popoverHeader:a("delete_retention_time")}),(0,i.jsx)(ae.R,{fieldId:"min-cleanable-ratio",btnAriaLabel:a("min_cleanable_ratio"),fieldLabel:a("min_cleanable_ratio"),fieldValue:t.config["min.cleanable.dirty.ratio"].toString(),popoverBody:a("min_cleanable_ratio_description"),popoverHeader:a("min_cleanable_ratio")}),(0,i.jsx)(ae.R,{fieldId:"min-compaction-lag-time",btnAriaLabel:a("min_compaction_lag_time"),fieldLabel:a("min_compaction_lag_time"),fieldValue:t.config["min.compaction.lag.ms"].value.toString(),popoverBody:a("min_compaction_lag_time_description"),popoverHeader:a("min_compaction_lag_time")})]})),(0,i.jsx)(he,{}),(0,i.jsx)(ce,{defaultLogSegmentSize:t.config["segment.bytes"].value,defaultSegmentTime:t.config["segment.ms"].value,defaultSegmentJitterTime:t.config["segment.jitter.ms"].value,defaultFileDeleteDelay:t.config["file.delete.delay.ms"].value}),(0,i.jsx)(ve,{defaultIndexIntervalSize:t.config["index.interval.bytes"].value,defaultSegmentIndexSize:t.config["segment.index.bytes"].value}),(0,i.jsx)(ue,{defaultFlushIntervalMessages:t.config["flush.messages"].value,defaultFlushIntervalTime:t.config["flush.ms"].value})]})),(0,i.jsx)(H.Divider,{className:"delete-topic-divider__Margin"}),(0,i.jsxs)(H.TextContent,{children:[(0,i.jsx)(H.Text,xe({component:H.TextVariants.h2,id:"delete"},{children:a("delete_topic_irreversible")})),(0,i.jsx)(H.Text,xe({component:H.TextVariants.p,className:"section-info"},{children:a("delete_topic_info")})),(0,i.jsx)(H.Button,xe({variant:"danger",onClick:n,"data-testid":"tabProperties-actionDelete"},{children:a("delete_topic")}))]})]})),(0,i.jsx)(H.SplitItem,{children:(0,i.jsx)(H.Button,xe({variant:"primary",onClick:r,"data-testid":"tabProperties-actionEdit"},{children:a("edit_props")}))})]})}))}))})]}))}))},_e=function(e){var t=e.instanceDetailsHref,n=e.instancesHref,r=ee(n,t).topic;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(te,{instancesHref:n,instanceDetailsHref:t,activeSection:"properties"}),(0,i.jsx)(je,{topic:r,deleteTopic:function(){},updateTopic:function(){}})]})},ke=n(8476),we=n(13007),Ce=n(9203),Te=function(){return Te=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Te.apply(this,arguments)},Se=function(e){var t=e.instanceDetailsHref,r=e.instancesHref,a=(0,s.Z)(),o=ee(r,t).topic,c=function(e){return e[0],e[1].entry.map((function(e){return"/beta/apps/sr-ui-build".concat(e)}))},l="/service-registry",u={srs:{getToken:a.auth.getToken}};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(te,{instancesHref:r,instanceDetailsHref:t,activeSection:"schemas"}),(0,i.jsx)(we.AuthContext.Provider,Te({value:u},{children:(0,i.jsx)(we.ConfigContext.Provider,Te({value:{srs:{apiBasePath:"https://api.stage.openshift.com"}}},{children:(0,i.jsx)(ke.I18nProvider,Te({lng:"en",resources:{en:{common:function(){return n.e(544).then(n.t.bind(n,42544,19))},"service-registry":function(){return n.e(373).then(n.t.bind(n,62373,19))},srsTemporaryFixMe:function(){return n.e(18).then(n.t.bind(n,38018,19))}}},debug:!0},{children:(0,i.jsx)(Ce.ScalprumComponent,{appName:"srs",module:"./ServiceRegistryMapping",scope:"srs",ErrorComponent:(0,i.jsx)("div",{children:"opsie"}),processor:function(e){return e[0],e[1].entry.map((function(e){return"/beta/apps/srs-ui-build".concat(e)}))},basename:l,topicName:o.name,renderSchema:function(e){return(0,i.jsx)(Ce.ScalprumComponent,{appName:"ar",scope:"ar",ErrorComponent:(0,i.jsx)("div",{children:"opsie"}),processor:c,module:"./FederatedSchemaMapping",registry:e,topicName:o.name,groupId:null,version:"latest",registryId:null==e?void 0:e.id,basename:l})}})}))}))}))]})},Oe=function(e){var t=e.instancesHref,n=e.instanceDetailsHref,r=e.children;return ee(t,n).topic?(0,i.jsx)(i.Fragment,{children:r}):(0,i.jsx)(M.g,{})},Ie=function(){return Ie=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Ie.apply(this,arguments)},Pe=function(){return(0,i.jsx)(u.Route,Ie({path:F},{children:(0,i.jsx)(V,Ie({instancesHref:"/kafkas"},{children:(0,i.jsxs)(u.Switch,{children:[(0,i.jsx)(u.Route,Ie({path:"".concat(F,"/dashboard"),exact:!0},{children:(0,i.jsx)(X,{instancesHref:"/kafkas"})})),(0,i.jsx)(u.Route,Ie({path:"".concat(F,"/topics"),exact:!0},{children:(0,i.jsx)(K,{instancesHref:"/kafkas"})})),(0,i.jsx)(u.Route,Ie({path:"".concat(F,"/consumer-groups"),exact:!0},{children:(0,i.jsx)($,{instancesHref:"/kafkas"})})),(0,i.jsx)(u.Route,Ie({path:"".concat(F,"/acls"),exact:!0},{children:(0,i.jsx)(Q,{instancesHref:"/kafkas"})})),(0,i.jsx)(u.Route,Ie({path:"".concat(F,"/settings"),exact:!0},{children:(0,i.jsx)(q,{instancesHref:"/kafkas"})})),(0,i.jsx)(u.Route,Ie({path:"".concat(F,"/topics"),exact:!0},{children:(0,i.jsx)(K,{instancesHref:"/kafkas"})})),(0,i.jsx)(u.Route,Ie({path:"".concat(F,"/topics")},{children:(0,i.jsx)(Oe,Ie({instancesHref:"/kafkas",instanceDetailsHref:function(e){return"".concat(f,"/").concat(e,"/details")}},{children:(0,i.jsxs)(u.Switch,{children:[(0,i.jsx)(u.Route,Ie({path:"".concat(F,"/topics/:topicName/consumer-groups"),exact:!0},{children:(0,i.jsx)(ne,{instancesHref:"/kafkas",instanceDetailsHref:function(e){return"".concat(f,"/").concat(e,"/details")}})})),(0,i.jsx)(u.Route,Ie({path:"".concat(F,"/topics/:topicName/messages"),exact:!0},{children:(0,i.jsx)(re,{instancesHref:"/kafkas",instanceDetailsHref:function(e){return"".concat(f,"/").concat(e,"/details")}})})),(0,i.jsx)(u.Route,Ie({path:"".concat(F,"/topics/:topicName/properties"),exact:!0},{children:(0,i.jsx)(_e,{instancesHref:"/kafkas",instanceDetailsHref:function(e){return"".concat(f,"/").concat(e,"/details")}})})),(0,i.jsx)(u.Route,Ie({path:"".concat(F,"/topics/:topicName/schemas"),exact:!0},{children:(0,i.jsx)(Se,{instancesHref:"/kafkas",instanceDetailsHref:function(e){return"".concat(f,"/").concat(e,"/details")}})})),(0,i.jsx)(u.Redirect,{from:"".concat(F,"/topics/:topicName/"),to:"".concat(F,"/topics/:topicName/consumer-groups"),exact:!0})]})}))})),(0,i.jsx)(u.Redirect,{from:"".concat(F),to:"".concat(F,"/dashboard"),exact:!0}),(0,i.jsx)(u.Route,{children:(0,i.jsx)(B.InvalidObject,{})})]})}))}))},Le=function(){return(0,i.jsx)(p.rD,{})},Re=function(){return Re=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Re.apply(this,arguments)},De=function(){return(0,i.jsxs)(u.Switch,{children:[(0,i.jsx)(u.Route,Re({path:"/overview",exact:!0},{children:(0,i.jsx)(Le,{})})),(0,i.jsx)(u.Redirect,{from:"/",to:"/kafkas",exact:!0}),(0,i.jsx)(u.Route,Re({path:"/kafkas"},{children:(0,i.jsxs)(j,{children:[(0,i.jsx)(N,{}),(0,i.jsx)(Pe,{})]})})),(0,i.jsx)(u.Route,{path:"",exact:!0})]})};const Ae=(0,l.memo)((function(){var e=(0,u.useHistory)(),t=(0,s.Z)(),n=t.updateDocumentTitle,d=t.on,p=(0,(0,c.useTranslation)().t)("kafka:rhosakTitle");return(0,l.useEffect)((function(){(0,o.JH)().register({notifications:a.ee}),n(p);var t=d("APP_NAVIGATION",(function(t){console.dir(t),t.navId&&e.push("/"+t.navId=="/"?"":t.navId)}));return function(){t&&t()}}),[e,d,p,n]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.ZP,{}),(0,i.jsx)(De,{})]})}))},32490:(e,t,n)=>{n.d(t,{t:()=>d});var i=n(52322),r=n(52586),a=n(13007),o=n(9203),s=n(82820),c=function(){return c=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},c.apply(this,arguments)},l="/apps/rhoas-guides-build",u=function(){return l},d=function(){var e=(0,s.useState)(!1),t=e[0],n=e[1],d=(0,r.Z)().quickStarts;return(0,i.jsx)(a.AssetsContext.Provider,c({value:{getPath:u}},{children:t?null:(0,i.jsx)(o.ScalprumComponent,{appName:"guides",scope:"guides",module:"./QuickStartLoader",ErrorComponent:(0,i.jsx)("div",{children:"opsie"}),processor:function(e){return e[0],e[1].entry.map((function(e){return"".concat(l).concat(e)}))},showDrafts:!1,onLoad:function(e){d&&(n(!0),d.set("applicationServices",e))}})}))}},70355:(e,t,n)=>{n.d(t,{S:()=>c});var i=n(42021),r=n(8864),a=n.n(r),o=n(81236),s=function(e,t,n){if(n||2===arguments.length)for(var i,r=0,a=t.length;r<a;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};function c(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,i.JH)({},s([a(),(0,o.ZP)({errorDescriptionKey:["detail","stack"]})],e,!0))}},2529:(e,t,n)=>{n.d(t,{$x:()=>o,A9:()=>r,KH:()=>s,Qu:()=>l,az:()=>i,hd:()=>u,lO:()=>c,m8:()=>a});var i=["accepted","provisioning","preparing"],r=["ready"],a=["degraded"],o=["suspending"],s=["suspended"],c=["deleting","deprovision"],l=["resuming"],u={creating:i,ready:r,degraded:a,suspended:s,deleting:c,resuming:l,suspending:o}},83117:(e,t,n)=>{var i,r,a,o;n.d(t,{Cv:()=>u,eA:()=>l}),function(e){e.MILLISECOND="milliseconds",e.SECOND="seconds",e.MINUTE="minutes",e.HOUR="hours",e.DAY="days",e.WEEK="weeks",e.CUSTOM="custom",e.UNLIMITED="unlimited"}(a||(a={})),function(e){e.BYTE="bytes",e.KIBIBYTE="kibibytes",e.MEBIBYTE="mebibytes",e.GIBIBYTE="gibibytes",e.TEBIBYTE="tebibytes",e.CUSTOM="custom",e.UNLIMITED="unlimited"}(o||(o={}));var s=((i={})[o.BYTE]=BigInt("1"),i[o.KIBIBYTE]=BigInt("1024"),i[o.MEBIBYTE]=BigInt("1048576"),i[o.GIBIBYTE]=BigInt("1073741824"),i[o.TEBIBYTE]=BigInt("1099511600000"),i),c=((r={})[a.MILLISECOND]=BigInt("1"),r[a.SECOND]=BigInt("1000"),r[a.MINUTE]=BigInt("60000"),r[a.HOUR]=BigInt("3600000"),r[a.DAY]=BigInt("86400000"),r),l=function(e){var t=function(e){if(e){if(e%c.days==BigInt(0))return{value:e/c.days,unit:"days"};if(e%c.hours==BigInt(0))return{value:e/c.hours,unit:"hours"};if(e%c.minutes==BigInt(0))return{value:e/c.minutes,unit:"minutes"};if(e%c.seconds==BigInt(0))return{value:e/c.seconds,unit:"seconds"}}return{value:e,unit:"milliseconds"}}(e),n=t.unit,i=t.value;return-1===Number(i)?"Unlimited":"".concat(e," ms (").concat(i," ").concat(n,")")},u=function(e){var t=d(e),n=t.unit,i=t.value;return-1===Number(i)?"Unlimited":"".concat(e," bytes (").concat(i," ").concat(n,")")},d=function(e){if(e){if(e%s.tebibytes==BigInt(0))return{value:e/s.tebibytes,unit:"tebibytes"};if(e%s.gibibytes==BigInt(0))return{value:e/s.gibibytes,unit:"gibibytes"};if(e%s.mebibytes==BigInt(0))return{value:e/s.mebibytes,unit:"mebibytes"};if(e%s.kibibytes==BigInt(0))return{value:e/s.kibibytes,unit:"kibibytes"}}return{value:e,unit:"bytes"}}},83060:(e,t,n)=>{n.d(t,{gs:()=>B,XQ:()=>Ie,Q0:()=>Se,CW:()=>Oe,yT:()=>re,VK:()=>_e,Ci:()=>we,wG:()=>ae,NP:()=>Z,vC:()=>ce,yN:()=>le,IQ:()=>de,bC:()=>X,yp:()=>ge,ck:()=>be,Nj:()=>ye,B6:()=>xe,BZ:()=>ee,X2:()=>ne,nt:()=>me,Q8:()=>fe,We:()=>Ce});var i=n(10330),r={DEAD:"Dead",EMPTY:"Empty",STABLE:"Stable",UNKNOWN:"Unknown",COMPLETING_REBALANCE:"CompletingRebalance",PREPARING_REBALANCE:"PreparingRebalance"};function a(e){var t,n,i,r,a=e.getMetricsByRangeQuery,o=e.id,s=e.duration,c=e.interval;return t=this,n=void 0,r=function(){var e,t,n,i,r;return function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(l){switch(l.label){case 0:return[4,a(o,s,c,["kubelet_volume_stats_used_bytes","kafka_namespace:kafka_server_socket_server_metrics_connection_creation_rate:sum","kafka_namespace:kafka_server_socket_server_metrics_connection_count:sum"])];case 1:return e=l.sent(),t=(e.data.items||[]).filter((function(e){return!(e.values&&e.metric&&e.metric.topic&&e.metric.name&&e.metric.persistentvolumeclaim&&e.metric.persistentvolumeclaim.includes("zookeeper"))})),n={},i={},r={},t.forEach((function(e){function t(t){e.values.forEach((function(e){var n=e.value,i=e.timestamp;return t[i]=n+(t[i]||0)}))}switch(e.metric.__name__){case"kubelet_volume_stats_used_bytes":t(n);break;case"kafka_namespace:kafka_server_socket_server_metrics_connection_creation_rate:sum":t(i);break;case"kafka_namespace:kafka_server_socket_server_metrics_connection_count:sum":t(r)}})),[2,{usedDiskSpaceMetrics:n,clientConnectionsMetrics:r,connectionAttemptRateMetrics:i,diskSpaceLimit:0,connectionRateLimit:0,connectionsLimit:0}]}}))},new((i=Promise)||(i=Promise))((function(e,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(o,s)}c((r=r.apply(t,n||[])).next())}))}var o=n(2529);function s(e,t,n){return t.map((function(t){return"%"===n?"".concat(e," like %").concat(t.trim(),"%"):"".concat(e," = ").concat(t.trim())})).join(" or ")}var c={name:"name",owner:"owner",provider:"cloud_provider",region:"region",createdAt:"created_at"};function l(e){return t=this,n=void 0,r=function(){var t,n,i,r,a,l,u,d,p,f,h,m,v;return function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(g){switch(g.label){case 0:return t=e.name,n=e.status,i=e.owner,r=e.sort,a=e.direction,l=e.page,u=e.perPage,d=e.dataMapper,p=e.getKafkas,f=function(e,t,n){return[s("name",e,"%"),s("owner",t,"%"),s("status",n.flatMap((function(e){return o.hd[e]})),"=")].filter(Boolean).map((function(e){return"(".concat(e,")")})).join(" and ")}(t,i,n),[4,p(l.toString(10),u.toString(10),r?"".concat(c[r]," ").concat(a):void 0,f)];case 1:return h=g.sent(),m=h.data.items,v=h.data.total,[4,Promise.all(m.map(d))];case 2:return[2,{instances:g.sent(),count:v}]}}))},new((i=Promise)||(i=Promise))((function(e,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(o,s)}c((r=r.apply(t,n||[])).next())}));var t,n,i,r}function u(e,t){return n=this,i=void 0,a=function(){var n,i,r;return function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(a){switch(a.label){case 0:return n=0,i=0,r=0,[4,e(t,["kafka_topic:kafka_topic_partitions:sum","kafka_topic:kafka_topic_partitions:count","consumergroup:kafka_consumergroup_members:count"])];case 1:return(a.sent().data.items||[]).forEach((function(e){var t=e.metric,a=e.value;switch(t.__name__){case"kafka_topic:kafka_topic_partitions:sum":i=a;break;case"kafka_topic:kafka_topic_partitions:count":n=a;break;case"consumergroup:kafka_consumergroup_members:count":r=a}})),[2,{consumerGroups:r,topicPartitions:i,topics:n}]}}))},new((r=void 0)||(r=Promise))((function(e,t){function o(e){try{c(a.next(e))}catch(e){t(e)}}function s(e){try{c(a.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,s)}c((a=a.apply(n,i||[])).next())}));var n,i,r,a}var d={"cleanup.policy":"delete","delete.retention.ms":{type:"ms",value:BigInt("86400000")},"max.compaction.lag.ms":{type:"ms",value:BigInt("9223372036854775807")},"max.message.bytes":{type:"bytes",value:BigInt("1048588")},"message.downconversion.enable":!0,"message.timestamp.difference.max.ms":{type:"ms",value:BigInt("9223372036854775807")},"message.timestamp.type":"CreateTime","min.compaction.lag.ms":{type:"ms",value:BigInt("0")},"retention.bytes":{type:"bytes",value:BigInt("-1")},"retention.ms":{type:"ms",value:BigInt("604800000")},"segment.bytes":{type:"bytes",value:BigInt("1073741824")},"segment.ms":{type:"ms",value:BigInt("604800000")},"compression.type":"producer","file.delete.delay.ms":{type:"ms",value:BigInt("60000")},"flush.messages":{type:"ms",value:BigInt("9223372036854775807")},"flush.ms":{type:"ms",value:BigInt("9223372036854775807")},"index.interval.bytes":{type:"bytes",value:BigInt("4096")},"message.format.version":"3.0-IV1","min.cleanable.dirty.ratio":.5,"min.insync.replicas":1,"segment.index.bytes":{type:"bytes",value:BigInt("10485760")},"segment.jitter.ms":{type:"ms",value:BigInt("0")},"unclean.leader.election.enable":!1,preallocate:!1},p={"cleanup.policy":"delete","delete.retention.ms":{type:"ms",value:BigInt("86400000")},"max.compaction.lag.ms":{type:"ms",value:BigInt("9223372036854775807")},"max.message.bytes":{type:"bytes",value:BigInt("1048588")},"message.downconversion.enable":!0,"message.timestamp.difference.max.ms":{type:"ms",value:BigInt("9223372036854775807")},"message.timestamp.type":"CreateTime","min.compaction.lag.ms":{type:"ms",value:BigInt("0")},"retention.bytes":{type:"bytes",value:BigInt("-1")},"retention.ms":{type:"ms",value:BigInt("604800000")},"segment.bytes":{type:"bytes",value:BigInt("1073741824")},"segment.ms":{type:"ms",value:BigInt("604800000")},"compression.type":"producer","file.delete.delay.ms":{type:"ms",value:BigInt("60000")},"flush.messages":{type:"ms",value:BigInt("9223372036854775807")},"flush.ms":{type:"ms",value:BigInt("9223372036854775807")},"index.interval.bytes":{type:"bytes",value:BigInt("4096")},"message.format.version":"3.0-IV1","min.cleanable.dirty.ratio":.5,"min.insync.replicas":2,"segment.index.bytes":{type:"bytes",value:BigInt("10485760")},"segment.jitter.ms":{type:"ms",value:BigInt("0")},"unclean.leader.election.enable":!1,preallocate:!1};function f(e){var t="developer"===e?d:p;return function(e){var n,i,r=Object.fromEntries((null===(n=e.config)||void 0===n?void 0:n.map((function(e){return[e.key,e.value]})))||[]),a={"cleanup.policy":r["cleanup.policy"],"delete.retention.ms":h(r["delete.retention.ms"],t["delete.retention.ms"]),"max.compaction.lag.ms":h(r["max.compaction.lag.ms"],t["max.compaction.lag.ms"]),"max.message.bytes":m(r["max.message.bytes"],t["max.message.bytes"]),"message.downconversion.enable":g(r["message.downconversion.enable"],t["message.downconversion.enable"]),"message.timestamp.difference.max.ms":h(r["message.timestamp.difference.max.ms"],t["message.timestamp.difference.max.ms"]),"message.timestamp.type":r["message.timestamp.type"],"min.compaction.lag.ms":h(r["min.compaction.lag.ms"],t["min.compaction.lag.ms"]),"retention.bytes":m(r["retention.bytes"],t["retention.bytes"]),"retention.ms":h(r["retention.ms"],t["retention.ms"]),"segment.bytes":m(r["segment.bytes"],t["segment.bytes"]),"segment.ms":h(r["segment.ms"],t["segment.ms"]),"compression.type":r["compression.type"],"file.delete.delay.ms":h(r["file.delete.delay.ms"],t["file.delete.delay.ms"]),"flush.messages":h(r["flush.messages"],t["flush.messages"]),"flush.ms":h(r["flush.ms"],t["flush.ms"]),"follower.replication.throttled.replicas":r["follower.replication.throttled.replicas"],"index.interval.bytes":m(r["index.interval.bytes"],t["index.interval.bytes"]),"leader.replication.throttled.replicas":r["leader.replication.throttled.replicas"],"message.format.version":r["message.format.version"],"min.cleanable.dirty.ratio":v(r["min.cleanable.dirty.ratio"],t["min.cleanable.dirty.ratio"]),"min.insync.replicas":v(r["min.insync.replicas"],t["min.insync.replicas"]),"segment.index.bytes":m(r["segment.index.bytes"],t["segment.index.bytes"]),"segment.jitter.ms":h(r["segment.jitter.ms"],t["segment.jitter.ms"]),"unclean.leader.election.enable":g(r["unclean.leader.election.enable"],t["unclean.leader.election.enable"]),preallocate:g(r.preallocate,t.preallocate)};return{name:e.name,partitionsCount:(null===(i=e.partitions)||void 0===i?void 0:i.length)||0,config:a}}}function h(e,t){return e&&e.trim().length>0?{type:"ms",value:BigInt(e.trim())}:t}function m(e,t){return e&&e.trim().length>0?{type:"bytes",value:BigInt(e.trim())}:t}function v(e,t){return parseInt(e,10)||t}function g(e,t){try{var n=JSON.parse(e);if("boolean"!=typeof n)throw new Error("configValueToBoolean: not a boolean [".concat(e,"]"));return n}catch(e){return t}}function b(e){var t,n,i,r,a=e.getMetricsByRangeQuery,o=e.id,s=e.duration,c=e.interval,l=e.selectedTopic;return t=this,n=void 0,r=function(){var e,t,n,i,r,u,d,p;return function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(f){switch(f.label){case 0:return[4,a(o,s,c,["kafka_topic:kafka_server_brokertopicmetrics_bytes_in_total:rate5m","kafka_topic:kafka_server_brokertopicmetrics_bytes_out_total:rate5m","kafka_topic:kafka_log_log_size:sum","kafka_topic:kafka_server_brokertopicmetrics_messages_in_total:rate5m"])];case 1:return e=f.sent(),t=(e.data.items||[]).filter((function(e){return!(e.values&&e.metric&&e.metric.topic&&e.metric.name)})),n=t.filter((function(e){var t;return void 0===l||(null===(t=e.metric)||void 0===t?void 0:t.topic)===l})),i=Array.from(new Set(t.map((function(e){return e.metric.topic})))),r={},u={},d={},p={},n.forEach((function(e){var t,n=e.metric,i=n.__name__,a=n.topic;function o(t){e.values.forEach((function(e){var n=e.value,i=e.timestamp;return t[i]=n+(t[i]||0)}))}switch(i){case"kafka_topic:kafka_server_brokertopicmetrics_bytes_in_total:rate5m":o(r);break;case"kafka_topic:kafka_server_brokertopicmetrics_bytes_out_total:rate5m":o(u);break;case"kafka_topic:kafka_log_log_size:sum":t=d[a]||{},e.values.forEach((function(e){var n=e.value,i=e.timestamp;return t[i]=n+(t[i]||0)})),d[a]=t;break;case"kafka_topic:kafka_server_brokertopicmetrics_messages_in_total:rate5m":o(p)}})),[2,{metricsTopics:i,bytesOutgoing:u,bytesIncoming:r,bytesPerPartition:d,incomingMessageRate:p}]}}))},new((i=Promise)||(i=Promise))((function(e,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(o,s)}c((r=r.apply(t,n||[])).next())}))}function y(e){var t,n,i,r,a=e.getTopics,o=e.page,s=e.perPage,c=e.filter,l=e.sort,u=e.direction,d=e.plan;return t=this,n=void 0,r=function(){var e,t;return function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(n){switch(n.label){case 0:return[4,a(void 0,void 0,s,c,o,u,l)];case 1:return e=n.sent(),t=(e.data.items||[]).map(f(d)),[2,{count:e.data.total,topics:t}]}}))},new((i=Promise)||(i=Promise))((function(e,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(o,s)}c((r=r.apply(t,n||[])).next())}))}function x(e,t){var n=t;return{id:n.id,displayName:n.display_name,quota:n.quota_consumed,ingress:(n.ingress_throughput_per_sec.bytes||0)/1048576,egress:(n.egress_throughput_per_sec.bytes||0)/1048576,storage:Math.round((n.max_data_retention_size.bytes||0)/1073741824),connections:n.total_max_connections,connectionRate:n.max_connection_attempts_per_sec,maxPartitions:n.max_partitions,messageSize:(n.max_message_size.bytes||0)/1048576,status:"stable"===n.maturity_status?"stable":"preview",trialDurationHours:n.lifespan_seconds?n.lifespan_seconds/60/60:0,isDisabled:e(n.id)}}var j=function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))},_=function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function k(e,t,n){var i;return j(this,void 0,void 0,(function(){var r;return _(this,(function(a){switch(a.label){case 0:return[4,e(t)];case 1:return r=a.sent(),(null===(i=null==r?void 0:r.data)||void 0===i?void 0:i.items)?[2,r.data.items.filter((function(e){return e.enabled&&e.capacity.some((function(e){return e.instance_type===n}))})).map((function(e){var t,i=null===(t=e.capacity)||void 0===t?void 0:t.some((function(e){var t;return e.instance_type===n&&0===(null===(t=e.available_sizes)||void 0===t?void 0:t.length)}));return{id:e.id,displayName:e.display_name,isDisabled:i,capacity:e.capacity}}))]:[2,Promise.reject("Invalid provider")]}}))}))}var w="rhosak";function C(e){var t;return null===(t=e.related_resources)||void 0===t?void 0:t.find((function(e){return"standard"===e.billing_model}))}function T(e){var t;return null===(t=e.related_resources)||void 0===t?void 0:t.find((function(e){return"marketplace"===e.billing_model}))}var S=n(27784),O=n(52322),I=n(85145),P=n(75928),L=n(13533),R=n(82820),D=function(){return D=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},D.apply(this,arguments)},A=(0,R.lazy)((function(){return n.e(147).then(n.bind(n,38147)).then((function(e){return{default:e.ReactQueryDevtools}}))})),E=(0,R.createContext)(null),N=new I.S,B=function(e){var t=e.children,n=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["children"]),r=(0,L.Lw)();return(0,O.jsx)(i.aH,D({client:N},{children:(0,O.jsxs)(E.Provider,D({value:n},{children:[t,(0,O.jsx)(P.t,{initialIsOpen:!0}),r&&(0,O.jsx)(R.Suspense,D({fallback:null},{children:(0,O.jsx)(A,{})}))]}))}))};function M(){return(0,R.useContext)(E)}var F=function(){return F=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},F.apply(this,arguments)},z=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n},U={_root:function(){return{scope:"mas"}},organization:function(){return[F(F({},U._root()),{entity:"organization"})]},quota:{_root:function(){return F(F({},U._root()),{entity:"quota"})},available:function(e){return[F(F(F({},U.quota._root()),{subentity:"available"}),e)]},developerAvailability:function(){return[F(F({},U.quota._root()),{subentity:"developerAvailability"})]},standardAvailability:function(){return[F(F({},U.quota._root()),{subentity:"standardAvailability"})]}}},V={_root:function(){return{scope:"kafka"}},list:function(e){return[F(F({},V._root()),{entity:"list"}),e]},instance:{_root:function(e){var t=e.id,n=e.adminUrl;return F(F({},V._root()),{entity:"instance",id:t,adminUrl:n})},details:function(e){return[F(F({},V.instance._root(e)),{subentity:"details"})]},topics:function(e){var t=e.id,n=e.adminUrl;return[F(F({},V.instance._root({id:t,adminUrl:n})),{subentity:"topics"})]},topic:function(e){var t=e.id,n=e.adminUrl,i=e.topicName;return[F(F({},V.instance._root({id:t,adminUrl:n})),{subentity:"topic"}),{topicName:i}]},topicMessages:function(e){var t=e.id,n=e.adminUrl,i=e.topicName,r=z(e,["id","adminUrl","topicName"]);return[F(F({},V.instance._root({id:t,adminUrl:n})),{subentity:"topicMessages"}),F({topicName:i},r)]},consumerGroups:function(e){return[F(F({},V.instance._root(e)),{subentity:"consumer-groups"}),e]},metrics:{_root:function(e){var t=e.id;return F(F({},V.instance._root({id:t})),{subentity:"metrics",id:t})},kpi:function(e){return[F(F({},V.instance._root(e)),{type:"kpi"})]},instance:function(e){var t=e.id,n=z(e,["id"]);return[F(F({},V.instance._root({id:t})),{type:"instance"}),n]},topic:function(e){var t=e.id,n=z(e,["id"]);return[F(F({},V.instance._root({id:t})),{type:"topic"}),n]}}}},H={_root:function(){return{scope:"providers"}},list:function(e){return[F(F(F({},H._root()),{entity:"list"}),e)]},limits:{_root:function(e){var t=e.provider;return F(F({},H._root()),{entity:"limits",provider:t})},standard:function(e){var t=e.provider,n=e.region;return[F(F({},H.limits._root({provider:t})),{plan:"standard",region:n})]},developer:function(e){var t=e.provider,n=e.region;return[F(F({},H.limits._root({provider:t})),{plan:"developer",region:n})]}}},G=n(37068),Q=n(47251),K=n(71955),q=function(){var e=M(),t=e.accessToken,n=e.basePath;return{kafkasFleet:(0,R.useCallback)((function(){return new K.DefaultApi(new K.Configuration({accessToken:t,basePath:n}))}),[t,n]),account:(0,R.useCallback)((function(){return new G.AppServicesApi(new K.Configuration({accessToken:t,basePath:n}))}),[t,n]),topics:(0,R.useCallback)((function(e){return new Q.TopicsApi(new K.Configuration({accessToken:t,basePath:e}))}),[t]),consumerGroups:(0,R.useCallback)((function(e){return new Q.GroupsApi(new K.Configuration({accessToken:t,basePath:e}))}),[t]),records:(0,R.useCallback)((function(e){return new Q.RecordsApi(new K.Configuration({accessToken:t,basePath:e}))}),[t])}};function J(e,t,n,i){var r,a,o,s={billing:void 0,connectionRate:0,connections:0,createdAt:e.created_at||(new Date).toISOString(),egress:0,expiryDate:e.expires_at,id:e.id,ingress:0,maxPartitions:0,messageSize:{type:"bytes",value:BigInt(0)},name:e.name||"",owner:e.owner||"",plan:e.billing_model,provider:e.cloud_provider,region:e.region||"",size:"1",status:(o=e.status||"",{accepted:"accepted",preparing:"preparing",provisioning:"provisioning",ready:"ready",failed:"degraded",deprovision:"deprovision",deleting:"deleting"}[o]||"degraded"),storage:{type:"bytes",value:BigInt(0)},updatedAt:e.updated_at||(new Date).toISOString(),request:e,version:e.version||"",bootstrapUrl:e.bootstrap_server_host,adminUrl:e.admin_api_server_url};try{var c=null===(r=t.find((function(t){return t.subscriptions.find((function(t){return t===e.billing_cloud_account_id}))})))||void 0===r?void 0:r.marketplace,l="standard"===e.billing_model?"prepaid":c&&e.billing_cloud_account_id?{marketplace:c,subscription:e.billing_cloud_account_id}:void 0;s.billing=l}catch(t){console.warn("kafkaRequestToKafkaInstance","couldn't retrieve the billing info for",e)}try{var u=("developer"===e.instance_type?n:i).find((function(t){return t.id===e.size_id}));u&&(s.size=u.displayName,s.ingress=u.ingress,s.egress=u.egress,s.storage={type:"bytes",value:BigInt((null===(a=e.max_data_retention_size)||void 0===a?void 0:a.bytes)||0)},s.connections=u.connections,s.connectionRate=u.connectionRate,s.maxPartitions=u.maxPartitions,s.messageSize={type:"bytes",value:BigInt(u.messageSize)})}catch(t){console.warn("kafkaRequestToKafkaInstance","couldn't retrieve the limits info for",e)}return s}function W(){var e=xe(),t=ye(),n=be();return function(i){return r=this,a=void 0,s=function(){var r,a,o,s,c,l,u,d;return function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(p){switch(p.label){case 0:return[4,e()];case 1:return r=p.sent(),[4,t("standard"!==i.billing_model?"developer":"standard")];case 2:return a=p.sent(),(o=a.providers.find((function(e){return e.id===i.cloud_provider})))?(s=n(o,i.region,"standard"),c=n(o,i.region,"developer"),[4,Promise.all([s,c])]):[2,Promise.reject("Invalid cloud provider")];case 3:return l=p.sent(),u=l[0],d=l[1],[2,J(i,r.marketplaceSubscriptions,d,u)]}}))},new((o=void 0)||(o=Promise))((function(e,t){function n(e){try{c(s.next(e))}catch(e){t(e)}}function i(e){try{c(s.throw(e))}catch(e){t(e)}}function c(t){var r;t.done?e(t.value):(r=t.value,r instanceof o?r:new o((function(e){e(r)}))).then(n,i)}c((s=s.apply(r,a||[])).next())}));var r,a,o,s}}function Z(e){var t=this,n=M().refetchInterval,i=W(),r=(0,q().kafkasFleet)();return(0,S.a)({enabled:Boolean(e),queryKey:V.instance.details({id:e}),queryFn:function(){return n=t,a=void 0,s=function(){var t;return function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(n){switch(n.label){case 0:return e?[4,r.getKafkaById(e)]:[2,Promise.reject("Invalid Kafka instance id")];case 1:return t=n.sent(),[2,i(t.data)]}}))},new((o=void 0)||(o=Promise))((function(e,t){function i(e){try{c(s.next(e))}catch(e){t(e)}}function r(e){try{c(s.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(i,r)}c((s=s.apply(n,a||[])).next())}));var n,a,o,s},refetchInterval:n})}K.APIErrorCodes.ERROR_4,K.APIErrorCodes.ERROR_36,K.APIErrorCodes.ERROR_24,K.APIErrorCodes.ERROR_120,K.APIErrorCodes.ERROR_5,K.APIErrorCodes.ERROR_121,K.APIErrorCodes.ERROR_21;var Y=function(){return Y=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Y.apply(this,arguments)};function X(e){var t=this,n=M().refetchInterval,r=(0,i.NL)(),a=W(),o=(0,q().kafkasFleet)();return(0,S.a)({queryKey:V.list(e),queryFn:function(){return n=t,i=void 0,c=function(){var t;return function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(n){switch(n.label){case 0:return[4,l(Y({getKafkas:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.getKafkas.apply(o,e)},dataMapper:a},e))];case 1:return(t=n.sent()).instances.forEach((function(e){return r.setQueryData(V.instance.details({id:e.id}),e)})),[2,t]}}))},new((s=void 0)||(s=Promise))((function(e,t){function r(e){try{o(c.next(e))}catch(e){t(e)}}function a(e){try{o(c.throw(e))}catch(e){t(e)}}function o(t){var n;t.done?e(t.value):(n=t.value,n instanceof s?n:new s((function(e){e(n)}))).then(r,a)}o((c=c.apply(n,i||[])).next())}));var n,i,s,c},refetchInterval:n})}var $=function(){return $=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},$.apply(this,arguments)};function ee(e){var t=M().refetchInterval,n=q().topics;return(0,S.a)({queryKey:V.instance.topic(e),queryFn:function(){if(!e.id)return Promise.reject("Invalid id");if(!e.adminUrl)return Promise.reject("Invalid adminUrl");var t=n(e.adminUrl);return function(e){var t,n,i,r,a=e.getTopic,o=e.topicName,s=e.plan;return t=this,n=void 0,r=function(){var e;return function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(t){switch(t.label){case 0:return[4,a(o)];case 1:return e=t.sent(),[2,f(s)(e.data)]}}))},new((i=Promise)||(i=Promise))((function(e,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(o,s)}c((r=r.apply(t,n||[])).next())}))}($({getTopic:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.getTopic.apply(t,e)}},e))},enabled:Boolean(e.adminUrl)&&Boolean(e.id)&&Boolean(e.topicName),refetchInterval:t})}var te=function(){return te=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},te.apply(this,arguments)};function ne(e){var t=M().refetchInterval,n=q().topics;return(0,S.a)({queryKey:V.instance.topics(e),queryFn:function(){if(!e.id)return Promise.reject("Invalid id");if(!e.adminUrl)return Promise.reject("Invalid adminUrl");var t=n(e.adminUrl);return y(te({getTopics:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.getTopics.apply(t,e)}},e))},enabled:Boolean(e.adminUrl)&&Boolean(e.id),refetchInterval:t})}var ie=function(){return ie=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},ie.apply(this,arguments)};function re(e){var t=M().refetchInterval,n=q().consumerGroups;return(0,S.a)({queryKey:V.instance.consumerGroups(e),queryFn:function(){if(!e.id)return Promise.reject("Invalid id");if(!e.adminUrl)return Promise.reject("Invalid adminUrl");var t=n(e.adminUrl);return function(e){var t,n,i,a,o=e.getConsumerGroups,s=e.page,c=e.perPage,l=e.topic,u=e.groupId,d=e.sort,p=e.direction;return t=this,n=void 0,a=function(){var e,t;return function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(n){switch(n.label){case 0:return[4,o(void 0,void 0,c,s,l,u,p,d)];case 1:return e=n.sent(),t=(e.data.items||[]).map((function(e){var t,n,i;return{groupId:e.groupId||"",state:r[e.state],consumers:e.consumers,activeConsumers:null===(t=e.metrics)||void 0===t?void 0:t.activeConsumers,laggingPartitions:null===(n=e.metrics)||void 0===n?void 0:n.laggingPartitions,unassignedPartitions:null===(i=e.metrics)||void 0===i?void 0:i.unassignedPartitions}})),[2,{count:e.data.total,groups:t}]}}))},new((i=Promise)||(i=Promise))((function(e,r){function o(e){try{c(a.next(e))}catch(e){r(e)}}function s(e){try{c(a.throw(e))}catch(e){r(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(o,s)}c((a=a.apply(t,n||[])).next())}))}(ie({getConsumerGroups:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.getConsumerGroups.apply(t,e)}},e))},enabled:Boolean(e.adminUrl)&&Boolean(e.id),refetchInterval:t})}var ae=function(){var e=(0,i.NL)(),t=q().kafkasFleet,n=W();return function(i){var r=t();return e.fetchQuery({queryKey:U.quota.developerAvailability(),queryFn:function(){return t=void 0,a=void 0,s=function(){var t;return function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(a){switch(a.label){case 0:return[4,i()];case 1:return(t=a.sent())?[4,e.fetchQuery({queryKey:V.list({direction:"desc",sort:"createdAt",name:[],status:[],owner:[t],perPage:1e3,page:1}),queryFn:function(){return l({getKafkas:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.getKafkas.apply(r,e)},dataMapper:n,direction:"desc",sort:"createdAt",name:[],status:[],owner:[t],perPage:1e3,page:1})},staleTime:1/0})]:[2,Promise.reject(new Error("Invalid username"))];case 2:return[2,!0!==a.sent().instances.some((function(e){return"standard"!==(null==e?void 0:e.plan)}))]}}))},new((o=void 0)||(o=Promise))((function(e,n){function i(e){try{c(s.next(e))}catch(e){n(e)}}function r(e){try{c(s.throw(e))}catch(e){n(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(i,r)}c((s=s.apply(t,a||[])).next())}));var t,a,o,s}})}},oe=function(e,t,n,i){return new(n||(n=Promise))((function(r,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))},se=function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function ce(){var e=this,t=(0,i.NL)(),n=W(),r=q().kafkasFleet;return function(i){return oe(e,void 0,void 0,(function(){var e,a=this;return se(this,(function(o){return e=r(),[2,t.fetchQuery({queryKey:V.instance.details({id:i}),queryFn:function(){return oe(a,void 0,void 0,(function(){var t;return se(this,(function(r){switch(r.label){case 0:return[4,e.getKafkaById(i)];case 1:return t=r.sent(),[2,n(t.data)]}}))}))}})]}))}))}}function le(){var e=this,t=q().kafkasFleet,n=(0,i.NL)();return function(i){var r=t();return n.fetchQuery({queryKey:V.instance.metrics.kpi({id:i}),queryFn:function(){return t=e,n=void 0,o=function(){return function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(e){return[2,u((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.getMetricsByInstantQuery.apply(r,e)}),i)]}))},new((a=void 0)||(a=Promise))((function(e,i){function r(e){try{c(o.next(e))}catch(e){i(e)}}function s(e){try{c(o.throw(e))}catch(e){i(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(r,s)}c((o=o.apply(t,n||[])).next())}));var t,n,a,o}})}}var ue=function(){return ue=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},ue.apply(this,arguments)};function de(){var e=this,t=q().kafkasFleet,n=(0,i.NL)();return function(i){var r=t();return n.fetchQuery({queryKey:V.instance.metrics.instance(i),queryFn:function(){return t=e,n=void 0,s=function(){return function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(e){return[2,a(ue({getMetricsByRangeQuery:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.getMetricsByRangeQuery.apply(r,e)}},i))]}))},new((o=void 0)||(o=Promise))((function(e,i){function r(e){try{c(s.next(e))}catch(e){i(e)}}function a(e){try{c(s.throw(e))}catch(e){i(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(r,a)}c((s=s.apply(t,n||[])).next())}));var t,n,o,s}})}}var pe=function(){return pe=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},pe.apply(this,arguments)};function fe(){var e=this,t=q().kafkasFleet,n=(0,i.NL)();return function(i){var r=t();return n.fetchQuery({queryKey:V.instance.metrics.topic(i),queryFn:function(){return t=e,n=void 0,o=function(){return function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(e){return[2,b(pe({getMetricsByRangeQuery:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.getMetricsByRangeQuery.apply(r,e)}},i))]}))},new((a=void 0)||(a=Promise))((function(e,i){function r(e){try{c(o.next(e))}catch(e){i(e)}}function s(e){try{c(o.throw(e))}catch(e){i(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(r,s)}c((o=o.apply(t,n||[])).next())}));var t,n,a,o}})}}var he=function(){return he=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},he.apply(this,arguments)};function me(){var e=this,t=q().topics,n=(0,i.NL)();return function(i){var r=t(i.adminUrl);return n.fetchQuery({queryKey:V.instance.topics(i),queryFn:function(){return t=e,n=void 0,o=function(){return function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(e){return[2,y(he({getTopics:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.getTopics.apply(r,e)}},i))]}))},new((a=void 0)||(a=Promise))((function(e,i){function r(e){try{c(o.next(e))}catch(e){i(e)}}function s(e){try{c(o.throw(e))}catch(e){i(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(r,s)}c((o=o.apply(t,n||[])).next())}));var t,n,a,o}})}}var ve=function(){return ve=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},ve.apply(this,arguments)};function ge(){var e=q().records,t=(0,i.NL)();return function(n){var i=e(n.adminUrl);return t.fetchQuery({queryKey:V.instance.topicMessages(n),queryFn:function(){return n.id?n.adminUrl?function(e){var t,n,i,r,a=e.topicName,o=e.consumeRecords,s=e.partition,c=e.offset,l=e.timestamp,u=e.limit;return t=this,n=void 0,r=function(){return function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(e){switch(e.label){case 0:return[4,o(a,void 0,u,void 0,c,s,l)];case 1:return[2,e.sent().data.items.map((function(e){return{partition:e.partition,offset:e.offset,timestamp:e.timestamp,key:e.key,value:e.value,headers:e.headers||{}}}))]}}))},new((i=Promise)||(i=Promise))((function(e,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(o,s)}c((r=r.apply(t,n||[])).next())}))}(ve({consumeRecords:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.consumeRecords.apply(i,e)}},n)):Promise.reject("Invalid adminUrl"):Promise.reject("Invalid id")}})}}function be(){var e=(0,i.NL)(),t=q().kafkasFleet;return function(n,i,r){var a=t();return e.fetchQuery({queryKey:H.limits["standard"===r?"standard":"developer"]({provider:n.id,region:i}),queryFn:function(){return function(e,t,n,i){var r,a,o,s,c,l,u;return s=this,c=void 0,u=function(){var s,c,l,u;return function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(d){switch(d.label){case 0:return s=t.regions,c=s.find((function(e){return e.id===n})),l=(null==c?void 0:c.capacity.flatMap((function(e){return e.available_sizes.map((function(t){return"".concat(e.instance_type,".").concat(t)}))})))||[],[4,e(t.id,n)];case 1:if(u=d.sent(),!(null===(r=null==u?void 0:u.data)||void 0===r?void 0:r.instance_types))throw new Error("No instance_types from backend");return[2,((null===(o=null===(a=null==u?void 0:u.data)||void 0===a?void 0:a.instance_types.find((function(e){return e.id===i})))||void 0===o?void 0:o.sizes)||[]).map(x.bind(void 0,(function(e){return!l.includes("".concat(i,".").concat(e))})))]}}))},new((l=void 0)||(l=Promise))((function(e,t){function n(e){try{r(u.next(e))}catch(e){t(e)}}function i(e){try{r(u.throw(e))}catch(e){t(e)}}function r(t){var r;t.done?e(t.value):(r=t.value,r instanceof l?r:new l((function(e){e(r)}))).then(n,i)}r((u=u.apply(s,c||[])).next())}))}((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.getInstanceTypesByCloudProviderAndRegion.apply(a,e)}),n,i,r)},staleTime:1/0})}}function ye(){var e=(0,i.NL)(),t=q().kafkasFleet;return function(n){var i=t();return e.fetchQuery({queryKey:H.list({plan:n}),queryFn:function(){return function(e,t,n){var i;return j(this,void 0,void 0,(function(){var r,a,o,s,c=this;return _(this,(function(l){switch(l.label){case 0:return[4,e()];case 1:return r=l.sent(),a=(null===(i=null==r?void 0:r.data)||void 0===i?void 0:i.items)||[],[4,Promise.all(a.filter((function(e){return e.enabled})).map((function(e){return j(c,void 0,void 0,(function(){var i,r;return _(this,(function(a){switch(a.label){case 0:return[4,k(t,e.id,n)];case 1:return i=a.sent(),r={id:e.id,displayName:e.display_name,regions:i},[2,i.length>0?r:null]}}))}))})))];case 2:if(0===(o=l.sent().filter((function(e){return Boolean(e)}))).length)throw new Error("No cloud providers with capacity found");return s=o[0],[2,{providers:o,defaultProvider:null==s?void 0:s.id}]}}))}))}((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.getCloudProviders.apply(i,e)}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.getCloudProviderRegions.apply(i,e)}),n)},staleTime:1/0})}}function xe(e){var t=this;void 0===e&&(e=!1);var n=(0,i.NL)(),r=(0,q().account)();return function(){return i=t,a=void 0,s=function(){var t;return function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(i){switch(i.label){case 0:return[4,n.fetchQuery({queryKey:U.organization(),queryFn:function(){return function(e){var t,n,i,r,a,o;return i=this,r=void 0,o=function(){var i;return function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(r){switch(r.label){case 0:return[4,e()];case 1:return i=r.sent(),[2,null===(n=null===(t=null==i?void 0:i.data)||void 0===t?void 0:t.organization)||void 0===n?void 0:n.id]}}))},new((a=void 0)||(a=Promise))((function(e,t){function n(e){try{c(o.next(e))}catch(e){t(e)}}function s(e){try{c(o.throw(e))}catch(e){t(e)}}function c(t){var i;t.done?e(t.value):(i=t.value,i instanceof a?i:new a((function(e){e(i)}))).then(n,s)}c((o=o.apply(i,r||[])).next())}))}((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.apiAccountsMgmtV1CurrentAccountGet.apply(r,e)}))},staleTime:1/0})];case 1:return(t=i.sent())?[2,n.fetchQuery({queryKey:U.quota.available({organization:t}),queryFn:function(){return o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.apiAccountsMgmtV1OrganizationsOrgIdQuotaCostGet.apply(r,e)},s=t,e=void 0,n=void 0,a=function(){var e,t,n,i,r,a,c,l,u,d,p,f;return function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(h){switch(h.label){case 0:return[4,o(s,void 0,!0,void 0,!0)];case 1:if(200!==(e=h.sent()).status)throw new Error(e.statusText);return t=null===(p=e.data.items)||void 0===p?void 0:p.filter((function(e){var t;return null===(t=e.related_resources)||void 0===t?void 0:t.find((function(e){return e.resource_name===w&&"RHOSAK"===e.product}))})),n=null==t?void 0:t.find(C),i=(null==t?void 0:t.some(T))?null==t?void 0:t.filter(T):void 0,r=void 0===n&&void 0===i&&(null===(f=e.data.items)||void 0===f?void 0:f.some((function(e){var t;return null===(t=e.related_resources)||void 0===t?void 0:t.find((function(e){return e.resource_name===w&&"RHOSAKTrial"===e.product}))})))||!1,a=n?n.allowed-n.consumed:void 0,c=i?i.reduce((function(e,t){return t.allowed-t.consumed+e}),0):void 0,l=null==i?void 0:i.filter((function(e){return void 0!==e.cloud_accounts})).flatMap((function(e){return e.cloud_accounts})),u=Array.from(new Set(null==l?void 0:l.map((function(e){return e.cloud_provider_id})))),d=l?u.map((function(e){return{marketplace:e,subscriptions:l.filter((function(t){return t.cloud_provider_id===e})).map((function(e){return e.cloud_account_id}))}})):[],[2,{hasTrialQuota:r,remainingPrepaidQuota:a,remainingMarketplaceQuota:c,marketplaceSubscriptions:d}]}}))},new((i=void 0)||(i=Promise))((function(t,r){function o(e){try{c(a.next(e))}catch(e){r(e)}}function s(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof i?n:new i((function(e){e(n)}))).then(o,s)}c((a=a.apply(e,n||[])).next())}));var e,n,i,a,o,s},staleTime:e?void 0:1/0})]:[2,Promise.reject("Missing organization id")]}}))},new((o=void 0)||(o=Promise))((function(e,t){function n(e){try{c(s.next(e))}catch(e){t(e)}}function r(e){try{c(s.throw(e))}catch(e){t(e)}}function c(t){var i;t.done?e(t.value):(i=t.value,i instanceof o?i:new o((function(e){e(i)}))).then(n,r)}c((s=s.apply(i,a||[])).next())}));var i,a,o,s}}var je=n(18371);function _e(){var e=q().kafkasFleet,t=(0,i.NL)();return(0,je.D)((function(t){var n,i,r,a,o;return i=this,r=void 0,o=function(){var i,r,a,o,s,c,l;return function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(u){switch(u.label){case 0:i=t.instance,r=t.onSuccess,a=t.onError,o=e(),(s={name:i.name,cloud_provider:i.provider,region:i.region}).plan=i.plan+"."+i.sizeId,s.billing_model="prepaid"===i.billing?"standard":void 0!==i.billing?"marketplace":null,s.billing_cloud_account_id=i.billing&&"prepaid"!==i.billing?i.billing.subscription:null,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,o.createKafka(!0,s)];case 2:return u.sent(),r(),[3,4];case 3:if(c=u.sent(),(0,K.isServiceApiError)(c))switch(l=((null===(n=null==c?void 0:c.response)||void 0===n?void 0:n.data)||{}).code,i.plan){case"developer":l===ke.DUPLICATE_INSTANCE_NAME?a("name-taken"):a("developer-unavailable");break;case"standard":switch(l){case ke.DUPLICATE_INSTANCE_NAME:a("name-taken");break;case ke.INTERNAL_CAPACITY_ERROR:a("region-unavailable");break;case ke.INSUFFICIENT_QUOTA:a("insufficient-quota");break;default:console.error("useKafkaCreateInstanceMutation","createKafka unknown error",c),a("unknown")}}else console.error("useKafkaCreateInstanceMutation","createKafka unexpected error",c),a("unknown");return[3,4];case 4:return[2]}}))},new((a=void 0)||(a=Promise))((function(e,t){function n(e){try{c(o.next(e))}catch(e){t(e)}}function s(e){try{c(o.throw(e))}catch(e){t(e)}}function c(t){var i;t.done?e(t.value):(i=t.value,i instanceof a?i:new a((function(e){e(i)}))).then(n,s)}c((o=o.apply(i,r||[])).next())}))}),{onSuccess:function(){t.invalidateQueries([V._root()]),t.invalidateQueries([U.quota._root()])}})}var ke={UNAUTHORIZED_USER:K.APIErrorCodes.ERROR_4,DUPLICATE_INSTANCE_NAME:K.APIErrorCodes.ERROR_36,INTERNAL_CAPACITY_ERROR:K.APIErrorCodes.ERROR_24,INSUFFICIENT_QUOTA:K.APIErrorCodes.ERROR_120,TRIAL_USED:K.APIErrorCodes.ERROR_5,FAILED_TO_CHECK_QUOTA:K.APIErrorCodes.ERROR_121,OWNER_DOES_NOT_EXIST:K.APIErrorCodes.ERROR_21};function we(){var e=q().kafkasFleet,t=(0,i.NL)();return(0,je.D)((function(t){var n,i,r,a,o;return i=this,r=void 0,o=function(){var i,r,a,o,s,c,l;return function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(u){switch(u.label){case 0:i=t.id,r=t.onSuccess,a=t.onError,o=e(),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,o.deleteKafkaById(i,!0)];case 2:return u.sent(),r(),[3,4];case 3:return s=u.sent(),(0,K.isServiceApiError)(s)&&(c=null==s?void 0:s.message,l=((null===(n=null==s?void 0:s.response)||void 0===n?void 0:n.data)||{}).code,a(l||"?",c)),[3,4];case 4:return[2]}}))},new((a=void 0)||(a=Promise))((function(e,t){function n(e){try{c(o.next(e))}catch(e){t(e)}}function s(e){try{c(o.throw(e))}catch(e){t(e)}}function c(t){var i;t.done?e(t.value):(i=t.value,i instanceof a?i:new a((function(e){e(i)}))).then(n,s)}c((o=o.apply(i,r||[])).next())}))}),{onSuccess:function(){t.invalidateQueries([V._root()]),t.invalidateQueries([U.quota._root()])}})}function Ce(){var e=q().kafkasFleet,t=(0,i.NL)();return(0,je.D)((function(t){var n,i,r,a,o=t.id,s=t.updates;return n=this,i=void 0,a=function(){return function(e,t){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(t){return[2,e().updateKafkaById(o,s)]}))},new((r=void 0)||(r=Promise))((function(e,t){function o(e){try{c(a.next(e))}catch(e){t(e)}}function s(e){try{c(a.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,s)}c((a=a.apply(n,i||[])).next())}))}),{onSuccess:function(e,n){var i=n.id;t.invalidateQueries([V.instance.details({id:i})])}})}var Te=function(e,t,n){if(n||2===arguments.length)for(var i,r=0,a=t.length;r<a;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},Se=["name","owner","createdAt","provider","region"],Oe=Te([],Object.values(Q.TopicOrderKey),!0),Ie=Te([],Object.values(Q.ConsumerGroupOrderKey),!0)},13533:(e,t,n)=>{n.d(t,{Lw:()=>r,U9:()=>a,ie:()=>o});const i="mas.rhosak.metrics.lag-alert-closed";function r(){return"true"===localStorage.getItem("mas.devtools")}function a(){return"true"===localStorage.getItem(i)}function o(){return localStorage.setItem(i,"true")}},91942:(e,t,n)=>{n.d(t,{Jh:()=>v,HD:()=>b,q:()=>N,YJ:()=>M,hv:()=>U,bd:()=>G,dL:()=>se,_K:()=>Ee,Wd:()=>xt,rD:()=>Lt,Hg:()=>Bt,C3:()=>Hi,Zr:()=>Ji,RC:()=>q});var i=n(52322),r=n(87094),a=n(30525),o=n(64977),s=function(e){var t=e.state,n=(0,o.useTranslation)(["kafka"]).t;switch(t){case"Stable":return n("consumerGroup.state.stable");case"Empty":return n("consumerGroup.state.empty");case"Dead":return n("consumerGroup.state.dead");case"CompletingRebalance":return n("consumerGroup.state.completing_rebalance");case"PreparingRebalance":return n("consumerGroup.state.preparing_rebalance");case"Unknown":return n("consumerGroup.state.unknown");default:return null}},c=n(82820),l=n(97462),u=function(){return u=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},u.apply(this,arguments)},d=function(){var e=(0,o.useTranslation)(["kafka"]).t;return(0,i.jsxs)(r.EmptyState,u({variant:r.EmptyStateVariant.large},{children:[(0,i.jsx)(r.EmptyStateIcon,{icon:l.TF}),(0,i.jsx)(r.Title,u({headingLevel:"h1",size:r.TitleSizes.lg},{children:e("consumerGroup.empty_consumer_title")})),(0,i.jsx)(r.EmptyStateBody,{children:e("consumerGroup.empty_consumer_body")})]}))},p=n(62298),f=n(60099),h=function(){return h=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},h.apply(this,arguments)},m=["groupId","activeConsumers","laggingPartitions","state"],v=function(e){var t,n=e.consumers,c=e.onDelete,l=e.onViewPartition,u=e.isColumnSortable,v=e.itemCount,g=e.onViewResetOffset,b=e.onClearAllFilters,y=e.page,x=e.perPage,j=e.onPageChange,_=e.consumerName,k=e.onSearchConsumer,w=e.onRemoveConsumerChip,C=e.onRemoveConsumerChips,T=(0,o.useTranslation)("kafka").t,S={groupId:T("consumerGroup.consumer_group_id"),activeConsumers:T("consumerGroup.active_members"),laggingPartitions:T("consumerGroup.partitions_with_lag"),state:T("consumerGroup.state_header")},O=_.length>0;return(0,i.jsx)(r.PageSection,h({isFilled:!0,hasOverflowScroll:!0},{children:(0,i.jsx)(p.H,{variant:a.TableVariant.compact,tableOuiaId:"card-table",ariaLabel:T("consumerGroup.consumer_group_list"),data:n,columns:m,renderHeader:function(e){var t=e.column,n=e.Th,r=e.key;return(0,i.jsx)(n,h({info:"laggingPartitions"===t?{popover:(0,i.jsx)("div",{children:T("consumerGroup.partitions_with_lag_description")}),ariaLabel:"partitions with lag",popoverProps:{headerContent:T("consumerGroup.partitions_with_lag_name")}}:void 0},{children:S[t]}),r)},renderCell:function(e){var t=e.column,n=e.row,r=e.Td,a=e.key;return(0,i.jsx)(r,h({dataLabel:S[t]},{children:function(){switch(t){case"groupId":return n.groupId;case"activeConsumers":return n.activeConsumers;case"laggingPartitions":return n.laggingPartitions;case"state":return(0,i.jsx)(s,{state:n.state})}}()}),a)},renderActions:function(e){var t=e.row,n=e.ActionsColumn;return(0,i.jsx)(n,{items:[{title:T("consumerGroup.view_partitions_offsets"),onClick:function(){return l(t)}},{title:T("consumerGroup.reset_offset"),onClick:function(){return g(t)}},{title:T("common:delete"),onClick:function(){return c(t)}}]})},isColumnSortable:u,filters:(t={},t[S.groupId]={type:"search",chips:_,onSearch:k,onRemoveChip:w,onRemoveGroup:C,validate:function(e){return!/["$^<>|+%/;:,\s*=~#()]/.test(e)},errorMessage:T("input_field_invalid_message")},t),itemCount:v,page:y,onPageChange:j,perPage:x,isFiltered:O,onClearAllFilters:b,emptyStateNoData:(0,i.jsx)(d,{}),emptyStateNoResults:(0,i.jsx)(f.B,{})})}))},g=function(){return g=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},g.apply(this,arguments)},b=function(){var e=(0,o.useTranslation)().t;return(0,i.jsx)(r.PageSection,g({variant:r.PageSectionVariants.light,hasShadowBottom:!0,stickyOnBreakpoint:{default:"top"}},{children:(0,i.jsx)(r.Level,{children:(0,i.jsx)(r.LevelItem,{children:(0,i.jsx)(r.TextContent,{children:(0,i.jsx)(r.Text,g({component:"h1"},{children:e("kafka:table.title")}))})})})}))},y=n(9875),x=n(97386);function j(e,t){var n,i=e.find((function(e){return e.id===t})),r=(null==i?void 0:i.defaultRegion)||(null===(n=null==i?void 0:i.regions.filter((function(e){return 0==!!e.isDisabled}))[0])||void 0===n?void 0:n.id);return{provider:t,region:r}}var _=function(){return _=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},_.apply(this,arguments)},k=((0,y.C)({context:{capabilities:{},sizes:void 0,form:{},creationError:void 0},tsTypes:{},schema:{context:{},events:{},services:{}},initial:"verifyAvailability",id:"standardPlanMachine",states:{verifyAvailability:{entry:"setInitialContext",always:[{cond:"isOverQuota",target:"overQuota"},{cond:"isInstanceUnavailable",target:"instanceUnavailable"},{cond:"isRegionsUnavailable",target:"regionsUnavailable"},{target:"configuring"}]},overQuota:{tags:"blocked"},instanceUnavailable:{tags:"blocked"},regionsUnavailable:{tags:"blocked"},configuring:{type:"parallel",states:{status:{initial:"unsubmitted",states:{unsubmitted:{tags:"unsubmitted"},submitted:{entry:"triggerSubmit",tags:"submitted"}},on:{create:{description:"Save is enabled all the time, if it's clicked before the form is completely filled out we should show the validation for all errored fields",target:".submitted"}}},form:{initial:"invalid",states:{invalid:{tags:"formInvalid"},valid:{entry:"resetCreationErrorMessage",tags:"creatable",on:{fieldInvalid:{target:"invalid"},submit:{target:"saving"}}},saving:{entry:["resetCreationErrorMessage","triggerSave"],tags:"formSaving",on:{createSuccess:{target:"saved"},createError:{actions:"setCreationError",target:"invalid"}}},saved:{type:"final"}},on:{fieldInvalid:{description:"sent by the fields when their value change to an invalid value. This will transition the form to the invalid state, to then eventually transition to the valid state if the field state is marked as done (which means that all fields have a valid value selected)",target:".invalid"}}},fields:{tags:"configurable",type:"parallel",states:{name:{initial:"validate",states:{empty:{tags:"nameEmpty"},invalid:{entry:"fieldInvalid",tags:"nameInvalid"},valid:{tags:"nameValid",type:"final"},validate:{always:[{cond:"nameIsEmpty",target:"empty"},{cond:"nameIsValid",target:"valid"},{target:"invalid"}]}},on:{create:{target:".validate"},nameChange:{actions:"setName",target:".validate"}}},provider:{initial:"validate",states:{validate:{always:[{cond:"providerIsValid",target:"valid"},{target:"invalid"}]},invalid:{entry:"fieldInvalid",tags:"providerInvalid"},valid:{tags:"providerValid",type:"final"}},on:{create:{target:".validate"},providerChange:{actions:"setProvider",cond:"didProviderChange",target:".validate"}}},region:{initial:"validate",states:{validate:{always:[{cond:"regionIsValid",target:"valid"},{target:"invalid"}]},invalid:{entry:"fieldInvalid",tags:"regionInvalid"},valid:{tags:"regionValid",type:"final"}},on:{create:{target:".validate"},providerChange:{target:".validate"},regionChange:{actions:"setRegion",cond:"didRegionChange",target:".validate"}}},size:{initial:"validate",states:{validate:{always:[{cond:"noProviderOrRegion",target:"idle"},{cond:"noSizes",target:"loading"},{cond:"emptySizes",target:"error"},{cond:"sizeIsDisabled",target:"disabled"},{cond:"billingRequiredButNotSelected",target:"waitingForQuota"},{cond:"sizeIsOverQuota",target:"overQuota"},{target:"valid"}]},idle:{entry:"fieldInvalid",tags:"sizeIdle"},disabled:{entry:"fieldInvalid",tags:"sizeDisabled"},waitingForQuota:{entry:"fieldInvalid",tags:"sizeWaitingForQuota"},overQuota:{entry:"fieldInvalid",tags:"sizeOverQuota"},valid:{tags:"sizeValid",type:"final"},error:{entry:"fieldInvalid",tags:"sizeError"},loading:{description:"Fetch the data required to show the available sizes and limits",invoke:{src:"getSizes",onDone:[{actions:"setSizes",target:"validate"}],onError:[{target:"error"}]},tags:"sizeLoading"}},on:{create:{target:".validate"},providerChange:{target:".validate"},regionChange:{target:".validate"},sizeChange:{actions:"setSize",cond:"didSizeChange",target:".validate"},billingChange:{target:".validate"}}},billing:{initial:"validate",states:{validate:{always:[{cond:"onlyPrepaid",target:"prepaidOnly"},{cond:"singleSubscription",target:"singleSubscription"},{cond:"onlySubscriptions",target:"onlySubscriptions"},{description:"user has both prepaid and marketplace subscriptions",target:"prepaidAndSubscriptions"}]},prepaidOnly:{description:"The user doesn't need to specify any option about the billing. The API will automatically figure out the right thing to do without giving it any information.",tags:["noBilling","billingValid"],entry:"setBillingToPrepaid",type:"final"},singleSubscription:{description:"The user doesn't need to specify any option about the billing. The API will automatically figure out the right thing to do without giving it any information.",tags:["noBilling","billingValid","singleSubscription"],entry:"setBillingToSubscription",type:"final"},onlySubscriptions:{description:"More than one subscription exist. The user needs to select one to procede.",initial:"invalid",type:"final",states:{invalid:{},valid:{entry:"triggerBillingChange",tags:"billingValid",type:"final"}},on:{selectSubscription:[{actions:"setBillingToSubscription",cond:"matchesSelectedProviderOrRHMarketplaceAndHasQuota",target:".valid"},{cond:"noSelectedProvider",target:".valid"}]}},prepaidAndSubscriptions:{description:"The user has both prepaid quota and one or more subscription to a marketplace. The user needs to select one to procede.",initial:"empty",type:"final",states:{empty:{},subscription:{entry:"triggerBillingChange",tags:"billingValid",type:"final"},prepaid:{entry:"triggerBillingChange",tags:"billingValid",type:"final"}},on:{selectSubscription:[{actions:"setBillingToSubscription",cond:"matchesSelectedProviderOrRHMarketplaceAndHasQuota",target:".subscription"},{cond:"noSelectedProvider",target:".subscription"}],selectPrepaid:{actions:"setBillingToPrepaid",cond:"hasPrepaidQuota",target:".prepaid"}}}},on:{providerChange:{actions:"unsetSubscription",description:"If a new provider is selected, deselect any previously selected billing option.",target:".validate"}}}},onDone:{target:"#standardPlanMachine.configuring.form.valid"}}},onDone:{target:"saved"}},saved:{type:"final"}}},{actions:{setInitialContext:(0,x.f0)((function(e){return{form:_({},e.capabilities.defaultProvider?j(e.capabilities.availableProviders,e.capabilities.defaultProvider):{})}})),fieldInvalid:(0,x.lW)("fieldInvalid"),setName:(0,x.f0)((function(e,t){var n=t.name;return"name-taken"===e.creationError?{form:_(_({},e.form),{name:n}),creationError:void 0}:{form:_(_({},e.form),{name:n})}})),setProvider:(0,x.f0)((function(e,t){var n=t.provider;return{form:_(_({},e.form),j(e.capabilities.availableProviders,n)),sizes:void 0}})),setRegion:(0,x.f0)((function(e,t){var n=t.region;return"region-unavailable"===e.creationError?{form:_(_({},e.form),{region:n}),sizes:void 0,creationError:void 0}:{form:_(_({},e.form),{region:n}),sizes:void 0}})),setSize:(0,x.f0)((function(e,t){var n=t.size;return{form:_(_({},e.form),{size:n})}})),setSizes:(0,x.f0)((function(e,t){var n=t.data,i=n.sort((function(e,t){return e.quota-t.quota}))[0];return{sizes:n,form:_(_({},e.form),{size:i})}})),resetCreationErrorMessage:(0,x.f0)((function(e){return{creationError:void 0}})),setCreationError:(0,x.f0)((function(e,t){return{creationError:t.error}})),triggerSave:(0,x.lj)((function(e){var t=e.form;return{type:"save",data:{plan:"standard",name:t.name,provider:t.provider,region:t.region,sizeId:t.size.id,billing:t.billing}}})),triggerSubmit:(0,x.lW)("submit"),triggerBillingChange:(0,x.lW)("billingChange"),setBillingToPrepaid:(0,x.f0)((function(e){var t=_({},e.form);return t.billing="prepaid",{form:t}})),setBillingToSubscription:(0,x.f0)((function(e,t){var n=_({},e.form);if("selectSubscription"===t.type)n.billing=t.subscription;else{var i=e.capabilities.marketplaceSubscriptions[0];n.billing={marketplace:i.marketplace,subscription:i.subscriptions[0]}}return{form:n}})),unsetSubscription:(0,x.f0)((function(e){var t=_({},e.form);return t.billing=void 0,{form:t}}))},guards:{isOverQuota:function(e){var t=e.capabilities;return void 0===t||"out-of-quota"===t.instanceAvailability},isInstanceUnavailable:function(e){var t=e.capabilities;return void 0===t||"instance-unavailable"===t.instanceAvailability},isRegionsUnavailable:function(e){var t=e.capabilities;return void 0===t||"regions-unavailable"===t.instanceAvailability},nameIsEmpty:function(e){var t=e.form;return void 0===t.name||0===t.name.length},nameIsValid:function(e){var t=e.form;return/^[a-z]([-a-z0-9]*[a-z0-9])?$/.test(t.name||"")},providerIsValid:function(e){var t=e.form,n=e.capabilities,i=null==n?void 0:n.availableProviders.find((function(e){return e.id===t.provider}));return((null==n?void 0:n.availableProviders)||[]).length>0&&void 0!==i},regionIsValid:function(e){var t=e.form,n=e.capabilities,i=null==n?void 0:n.availableProviders.find((function(e){return e.id===t.provider}));return void 0!==t.region&&void 0!==(null==i?void 0:i.regions.find((function(e){return e.id===t.region})))},noProviderOrRegion:function(e){var t=e.form;return void 0===t.provider||void 0===t.region},noSizes:function(e){return void 0===e.sizes},emptySizes:function(e){var t=e.sizes;return void 0!==t&&0===t.length},sizeIsDisabled:function(e){var t,n=e.form;return void 0===e.capabilities||!0===(null===(t=n.size)||void 0===t?void 0:t.isDisabled)},billingRequiredButNotSelected:function(e,t,n){var i=e.form;return!n.state.hasTag("noBilling")&&void 0===i.billing},sizeIsOverQuota:function(e){var t=e.form,n=e.capabilities;if(void 0===n||!t.size)return!0;var i="prepaid"===t.billing||void 0===t.billing?n.remainingPrepaidQuota:n.remainingMarketplaceQuota;return!i||t.size.quota>i},didProviderChange:function(e,t){return e.form.provider!==t.provider},didRegionChange:function(e,t){return e.form.region!==t.region},didSizeChange:function(e,t){var n;return(null===(n=e.form.size)||void 0===n?void 0:n.id)!==t.size.id},onlyPrepaid:function(e){return 0===e.capabilities.marketplaceSubscriptions.length},singleSubscription:function(e){return void 0===e.capabilities.remainingPrepaidQuota&&1===e.capabilities.marketplaceSubscriptions.flatMap((function(e){return e.subscriptions})).length},onlySubscriptions:function(e){return void 0===e.capabilities.remainingPrepaidQuota&&e.capabilities.marketplaceSubscriptions.length>0},matchesSelectedProviderOrRHMarketplaceAndHasQuota:function(e,t){var n=e.form,i=e.capabilities,r=t.subscription;return void 0!==i.remainingMarketplaceQuota&&i.remainingMarketplaceQuota>0&&("rhm"===r.marketplace||n.provider===r.marketplace)},hasPrepaidQuota:function(e){return void 0!==e.capabilities.remainingPrepaidQuota&&e.capabilities.remainingPrepaidQuota>0},noSelectedProvider:function(e){return void 0===e.form.provider}}}),function(){return k=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},k.apply(this,arguments)});(0,y.C)({context:{capabilities:{},sizes:void 0,form:{},creationError:void 0},tsTypes:{},schema:{context:{},events:{},services:{}},initial:"verifyAvailability",id:"TrialPlanMachine",states:{verifyAvailability:{entry:"setInitialContext",always:[{cond:"isTrialUsed",target:"trialUsed"},{cond:"isTrialUnavailable",target:"trialUnavailable"},{target:"configuring"}]},trialUsed:{tags:"blocked"},trialUnavailable:{tags:"blocked"},regionsUnavailable:{tags:"blocked"},configuring:{type:"parallel",states:{status:{initial:"unsubmitted",states:{unsubmitted:{tags:"unsubmitted"},submitted:{entry:"triggerSubmit",tags:"submitted"}},on:{create:{description:"Save is enabled all the time, if it's clicked before the form is completely filled out we should show the validation for all errored fields",target:".submitted"}}},form:{initial:"invalid",states:{invalid:{tags:"formInvalid"},valid:{entry:"resetCreationErrorMessage",on:{fieldInvalid:{target:"invalid"},submit:{target:"saving"}}},saving:{entry:["resetCreationErrorMessage","triggerSave"],tags:"formSaving",on:{createSuccess:{target:"saved"},createError:{actions:"setCreationError",target:"invalid"}}},saved:{type:"final"}},on:{fieldInvalid:{description:"sent by the fields when their value change to an invalid value. This will transition the form to the invalid state, to then eventually transition to the valid state if the field state is marked as done (which means that all fields have a valid value selected)",target:".invalid"}}},fields:{tags:"configurable",type:"parallel",states:{name:{initial:"validate",states:{empty:{tags:"nameEmpty"},invalid:{entry:"fieldInvalid",tags:"nameInvalid"},valid:{tags:"nameValid",type:"final"},validate:{always:[{cond:"nameIsEmpty",target:"empty"},{cond:"nameIsValid",target:"valid"},{target:"invalid"}]}},on:{create:{target:".validate"},nameChange:{actions:"setName",target:".validate"}}},provider:{initial:"validate",states:{validate:{always:[{cond:"providerIsValid",target:"valid"},{target:"invalid"}]},invalid:{entry:"fieldInvalid",tags:"providerInvalid"},valid:{tags:"providerValid",type:"final"}},on:{create:{target:".validate"},providerChange:{actions:"setProvider",cond:"didProviderChange",target:".validate"}}},region:{initial:"validate",states:{validate:{always:[{cond:"regionIsValid",target:"valid"},{target:"invalid"}]},invalid:{entry:"fieldInvalid",tags:"regionInvalid"},valid:{tags:"regionValid",type:"final"}},on:{create:{target:".validate"},providerChange:{target:".validate"},regionChange:{actions:"setRegion",cond:"didRegionChange",target:".validate"}}},size:{initial:"validate",states:{validate:{always:[{cond:"noProviderAndRegion",target:"idle"},{cond:"noSizes",target:"loading"},{cond:"emptySizes",target:"error"},{target:"valid"}]},idle:{entry:"fieldInvalid",tags:"sizeIdle"},valid:{tags:"sizeValid",type:"final"},error:{entry:"fieldInvalid",tags:"sizeError"},loading:{description:"Fetch the data required to show the available sizes and limits",invoke:{src:"getSizes",onDone:[{actions:"setSizes",target:"validate"}],onError:[{target:"error"}]},tags:"sizeLoading"}},on:{create:{target:".validate"},providerChange:{target:".validate"},regionChange:{target:".validate"}}}},onDone:{target:"#TrialPlanMachine.configuring.form.valid"}}},onDone:{target:"saved"}},saved:{type:"final"}}},{actions:{setInitialContext:(0,x.f0)((function(e){return{form:k({},e.capabilities.defaultProvider?j(e.capabilities.availableProviders,e.capabilities.defaultProvider):{})}})),fieldInvalid:(0,x.lW)("fieldInvalid"),setName:(0,x.f0)((function(e,t){var n=t.name;return"name-taken"===e.creationError?{form:k(k({},e.form),{name:n}),creationError:void 0}:{form:k(k({},e.form),{name:n})}})),setProvider:(0,x.f0)((function(e,t){var n=t.provider;return{form:k(k({},e.form),j(e.capabilities.availableProviders,n)),sizes:void 0}})),setRegion:(0,x.f0)((function(e,t){var n=t.region;return"region-unavailable"===e.creationError?{form:k(k({},e.form),{region:n}),sizes:void 0,creationError:void 0}:{form:k(k({},e.form),{region:n}),sizes:void 0}})),setSizes:(0,x.f0)((function(e,t){return{sizes:t.data}})),resetCreationErrorMessage:(0,x.f0)((function(e){return{creationError:void 0}})),setCreationError:(0,x.f0)((function(e,t){return{creationError:t.error}})),triggerSave:(0,x.lj)((function(e){var t=e.form;return{type:"save",data:{plan:"developer",name:t.name,provider:t.provider,region:t.region,sizeId:e.sizes.trial.id,billing:void 0}}})),triggerSubmit:(0,x.lW)("submit")},guards:{isTrialUsed:function(e){var t=e.capabilities;return void 0===t||"used"===t.instanceAvailability},isTrialUnavailable:function(e){var t=e.capabilities;return void 0===t||"unavailable"===t.instanceAvailability},nameIsEmpty:function(e){var t=e.form;return void 0===t.name||0===t.name.length},nameIsValid:function(e){var t=e.form;return/^[a-z]([-a-z0-9]*[a-z0-9])?$/.test(t.name||"")},providerIsValid:function(e){var t=e.form,n=e.capabilities,i=null==n?void 0:n.availableProviders.find((function(e){return e.id===t.provider}));return((null==n?void 0:n.availableProviders)||[]).length>0&&void 0!==i},regionIsValid:function(e){var t=e.form,n=e.capabilities,i=null==n?void 0:n.availableProviders.find((function(e){return e.id===t.provider}));return void 0!==t.region&&void 0!==(null==i?void 0:i.regions.find((function(e){return e.id===t.region})))},noProviderAndRegion:function(e){var t=e.form;return void 0===t.provider||void 0===t.region},noSizes:function(e){return void 0===e.sizes},emptySizes:function(e){var t=e.sizes;return void 0!==t&&0===t.standard.length},didProviderChange:function(e,t){return e.form.provider!==t.provider},didRegionChange:function(e,t){return e.form.region!==t.region}}}),(0,y.C)({context:{providers:void 0,defaultProvider:void 0,quota:void 0,capabilities:void 0},tsTypes:{},schema:{context:{},events:{},services:{}},id:"createKafkaInstance",initial:"loading",states:{loading:{description:"Fetch the data required to drive the creation flow",tags:"loading",initial:"quota",states:{quota:{initial:"checking standard quota",states:{"checking standard quota":{invoke:{src:"checkStandardQuota",onError:[{actions:"setStandardUnavailable",target:"standard"}]},on:{"standard quota available":{actions:"setStandardAvailable",target:"standard"},"out of standard quota":{actions:"setStandardOutOfQuota",target:"standard"},"no standard quota available":{target:"checking developer availability"}}},standard:{type:"final",always:{target:"#createKafkaInstance.loading.fetching providers"}},developer:{type:"final",always:{target:"#createKafkaInstance.loading.fetching providers"}},"checking developer availability":{invoke:{src:"checkDeveloperAvailability",onError:[{actions:"setDeveloperUnavailable",target:"developer"}]},on:{"developer used":{actions:"setDeveloperUsed",target:"developer"},"developer available":{actions:"setDeveloperAvailable",target:"developer"},"developer unavailable":{actions:"setDeveloperUnavailable",target:"developer"}}}}},"fetching providers":{invoke:{src:"fetchProvidersWithRegions",onError:[{actions:"setProvidersOrRegionsUnavailable",target:"ready"}]},on:{"providers and regions available":{actions:"setProviders",target:"ready"},"providers or regions unavailable":{actions:"setProvidersOrRegionsUnavailable",target:"ready"}}},ready:{type:"final",entry:"setCapabilities"}},onDone:[{cond:"standard plan",target:"standard plan"},{cond:"developer plan",target:"developer plan"},{target:"system unavailable"}]},"system unavailable":{tags:"systemUnavailable",type:"final"},"standard plan":{invoke:{src:"standardPlan",id:"standardPlanService"},tags:"standardPlan",initial:"idle",states:{idle:{on:{save:{target:"saving"}}},saving:{invoke:{src:"createInstance"},tags:"saving",on:{createSuccess:{target:"#createKafkaInstance.complete"},createError:{actions:"notifyCreateErrorToStandardPlan",target:"idle"}}}}},"developer plan":{invoke:{src:"trialPlan",id:"trialPlanService"},tags:"trialPlan",initial:"idle",states:{idle:{on:{save:{target:"saving"}}},saving:{invoke:{src:"createInstance"},tags:"saving",on:{createSuccess:{target:"#createKafkaInstance.complete"},createError:{actions:"notifyCreateErrorToTrialPlan",target:"idle"}}}}},complete:{type:"final"}}},{actions:{setDeveloperAvailable:(0,x.f0)((function(e){return{quota:{plan:"developer",instanceAvailability:"available"}}})),setDeveloperUnavailable:(0,x.f0)((function(e){return{quota:{plan:"developer",instanceAvailability:"unavailable"}}})),setDeveloperUsed:(0,x.f0)((function(e){return{quota:{plan:"developer",instanceAvailability:"used"}}})),setStandardAvailable:(0,x.f0)((function(e,t){return{quota:{plan:"standard",instanceAvailability:"available",remainingPrepaidQuota:t.quota.remainingPrepaidQuota,marketplaceSubscriptions:t.quota.marketplaceSubscriptions,remainingMarketplaceQuota:t.quota.remainingMarketplaceQuota}}})),setStandardOutOfQuota:(0,x.f0)((function(e,t){return{quota:{plan:"standard",instanceAvailability:"out-of-quota",marketplaceSubscriptions:t.quota.marketplaceSubscriptions,remainingMarketplaceQuota:0,remainingPrepaidQuota:0}}})),setStandardUnavailable:(0,x.f0)((function(e){return{quota:{plan:"standard",instanceAvailability:"instance-unavailable",marketplaceSubscriptions:[],remainingMarketplaceQuota:0,remainingPrepaidQuota:0}}})),setProviders:(0,x.f0)((function(e,t){return{providers:t.providers,defaultProvider:t.defaultProvider}})),setProvidersOrRegionsUnavailable:(0,x.f0)((function(e){var t=e.quota;return"standard"===t.plan?t.instanceAvailability="regions-unavailable":t.instanceAvailability="unavailable",{providers:[],quota:t}})),setCapabilities:(0,x.f0)((function(e){var t=e.providers,n=e.defaultProvider,i=e.quota;if(!t||!i)throw new Error("unexpected condition, no providers or quota");return"standard"===i.plan?{capabilities:{plan:"standard",availableProviders:t,defaultProvider:n,instanceAvailability:i.instanceAvailability,marketplaceSubscriptions:i.marketplaceSubscriptions,remainingMarketplaceQuota:i.remainingMarketplaceQuota,remainingPrepaidQuota:i.remainingPrepaidQuota}}:{capabilities:{plan:"developer",availableProviders:t,defaultProvider:n,instanceAvailability:i.instanceAvailability}}})),notifyCreateErrorToStandardPlan:(0,x.Tn)("standardPlanService"),notifyCreateErrorToTrialPlan:(0,x.lW)((function(e,t){return{type:"createError",error:t.error}}),{to:"trialPlanService"})},guards:{"standard plan":function(e){var t;return"standard"===(null===(t=e.quota)||void 0===t?void 0:t.plan)},"developer plan":function(e){var t;return"developer"===(null===(t=e.quota)||void 0===t?void 0:t.plan)}}}),(0,c.createContext)(null);var w=n(45194),C=new URL(n(93987),n.b).href,T=new URL(n(40412),n.b).href,S=new URL(n(84840),n.b).href,O=new URL(n(90504),n.b).href,I=function(){return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("img",{src:C,alt:"",style:{height:"60px"}})})},P=function(){return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("img",{src:T,alt:"",style:{height:"60px"}})})},L=function(){return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("img",{src:S,alt:"",style:{height:"60px"}})})};(0,i.jsx)(I,{}),(0,i.jsx)(L,{}),(0,i.jsx)(P,{}),(0,i.jsx)((function(){return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("img",{src:O,alt:"",style:{height:"60px"}})})}),{}),(0,i.jsx)(I,{}),(0,i.jsx)(L,{}),(0,i.jsx)(P,{});var R=function(){return R=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},R.apply(this,arguments)},D=function(e){var t=e.onDetails,n=e.onConnection,s=e.canOpenConnection,c=e.canChangeOwner,l=e.onChangeOwner,u=e.canDelete,d=e.onDelete,p=(0,o.useTranslation)("kafka").t;return(0,i.jsx)(a.ActionsColumn,{rowData:A,items:[{customChild:(0,i.jsx)(r.DropdownGroup,{label:p("table.actions.view-instance-information")})},{title:p("table.actions.details"),onClick:t},R({title:p("table.actions.connection")},s?{onClick:n}:{isDisabled:!0,tooltipProps:{position:"left",content:p("kafka:no_permission_to_see_connections")},tooltip:!0,style:{pointerEvents:"auto",cursor:"default"}}),{isSeparator:!0},R({title:p("table.actions.change-owner")},c?{onClick:l}:{isDisabled:!0,tooltipProps:{position:"left",content:p("kafka:no_permission_to_change_owner")},tooltip:!0,style:{pointerEvents:"auto",cursor:"default"}}),R({title:p("table.actions.delete")},u?{onClick:d}:{isDisabled:!0,tooltipProps:{position:"left",content:p("kafka:no_permission_to_delete_kafka")},tooltip:!0,style:{pointerEvents:"auto",cursor:"default"}})]})},A={actionProps:{style:{zIndex:9999}}},E=function(){return E=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},E.apply(this,arguments)},N=function(e){var t=e.instancesHref,n=e.instanceName,a=e.activeSection,s=e.sectionsHref,c=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["instancesHref","instanceName","activeSection","sectionsHref"]),l=(0,o.useTranslation)("kafka").t;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("section",E({className:"pf-c-page__main-breadcrumb"},{children:(0,i.jsxs)(r.Breadcrumb,E({ouiaId:"breadcrumb"},{children:[(0,i.jsx)(r.BreadcrumbItem,{render:function(){return(0,i.jsx)(w.Link,E({to:t},{children:l("common:kafka_instance")}))}}),(0,i.jsx)(r.BreadcrumbItem,E({isActive:!0},{children:n}))]}))})),(0,i.jsx)(r.PageSection,E({variant:r.PageSectionVariants.light},{children:(0,i.jsxs)(r.Level,{children:[(0,i.jsx)(r.LevelItem,{children:(0,i.jsx)(r.TextContent,{children:(0,i.jsx)(r.Text,E({component:"h1"},{children:n}))})}),(0,i.jsx)(r.LevelItem,{children:(0,i.jsx)(D,E({},c))})]})})),(0,i.jsx)(r.PageSection,E({variant:r.PageSectionVariants.light,padding:{default:"noPadding"},className:"pf-c-page__main-tabs",hasShadowBottom:!0},{children:(0,i.jsx)(r.Nav,E({variant:"tertiary","data-testid":"pageKafka-tabProperties",className:"pf-u-px-sm-on-xl"},{children:(0,i.jsxs)(r.NavList,{children:[(0,i.jsx)(r.NavItem,E({style:{borderTop:0},"data-testid":"pageKafka-tabDashboard",id:"dashboard-tab-section","aria-label":l("dataPlaneNavigation.dashboard"),ouiaId:"tab-Dashboard",isActive:"dashboard"===a},{children:(0,i.jsx)(w.Link,E({to:s.dashboard},{children:l("dataPlaneNavigation.dashboard")}))})),(0,i.jsx)(r.NavItem,E({style:{borderTop:0},"data-testid":"pageKafka-tabTopics",id:"topics-tab-section","aria-label":l("dataPlaneNavigation.topics"),ouiaId:"tab-Topics",isActive:"topics"===a},{children:(0,i.jsx)(w.Link,E({to:s.topics},{children:l("dataPlaneNavigation.topics")}))})),(0,i.jsx)(r.NavItem,E({style:{borderTop:0},"data-testid":"pageKafka-tabConsumers",id:"consumer-groups-tab-section","aria-label":l("dataPlaneNavigation.consumer_groups"),ouiaId:"tab-Consumers",isActive:"consumer"===a},{children:(0,i.jsx)(w.Link,E({to:s.consumer},{children:l("dataPlaneNavigation.consumer_groups")}))})),(0,i.jsx)(r.NavItem,E({style:{borderTop:0},"data-testid":"pageKafka-tabPermissions",id:"permissions-tab-section","aria-label":l("dataPlaneNavigation.permissions"),ouiaId:"tab-Permissions",isActive:"permissions"===a},{children:(0,i.jsx)(w.Link,E({to:s.permissions},{children:l("dataPlaneNavigation.permissions")}))})),(0,i.jsx)(r.NavItem,E({style:{borderTop:0},"data-testid":"pageKafka-tabSettings",id:"settings-tab-section","aria-label":l("dataPlaneNavigation.settings"),ouiaId:"tab-Settings",isActive:"settings"===a},{children:(0,i.jsx)(w.Link,E({to:s.settings},{children:l("dataPlaneNavigation.settings")}))}))]})}))}))]})},B=function(){return B=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},B.apply(this,arguments)},M=function(e){var t=e.instancesHref,n=e.instanceName,a=e.instanceDetailHref,s=e.topicName,c=e.activeSection,l=e.sectionsHref,u=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["instancesHref","instanceName","instanceDetailHref","topicName","activeSection","sectionsHref"]),d=(0,o.useTranslation)("kafka").t;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("section",B({className:"pf-c-page__main-breadcrumb"},{children:(0,i.jsxs)(r.Breadcrumb,B({ouiaId:"breadcrumb"},{children:[(0,i.jsx)(r.BreadcrumbItem,{render:function(){return(0,i.jsx)(w.Link,B({to:t},{children:d("common:kafka_instance")}))}})," ",(0,i.jsx)(r.BreadcrumbItem,{render:function(){return(0,i.jsx)(w.Link,B({to:a},{children:n}))}}),(0,i.jsx)(r.BreadcrumbItem,B({isActive:!0},{children:s}))]}))})),(0,i.jsx)(r.PageSection,B({variant:r.PageSectionVariants.light},{children:(0,i.jsxs)(r.Level,{children:[(0,i.jsx)(r.LevelItem,{children:(0,i.jsx)(r.TextContent,{children:(0,i.jsx)(r.Text,B({component:"h1"},{children:s}))})}),(0,i.jsx)(r.LevelItem,{children:(0,i.jsx)(D,B({},u))})]})})),(0,i.jsx)(r.PageSection,B({variant:r.PageSectionVariants.light,padding:{default:"noPadding"},className:"pf-c-page__main-tabs",hasShadowBottom:!0},{children:(0,i.jsx)(r.Nav,B({variant:"tertiary",className:"pf-u-px-sm-on-xl"},{children:(0,i.jsxs)(r.NavList,{children:[(0,i.jsx)(r.NavItem,B({style:{borderTop:0},"aria-label":d("dataPlaneTopicNavigation.consumer_groups"),ouiaId:"tab-Dashboard",isActive:"consumer"===c},{children:(0,i.jsx)(w.Link,B({to:l.consumer},{children:d("dataPlaneTopicNavigation.consumer_groups")}))})),(0,i.jsx)(r.NavItem,B({style:{borderTop:0},"aria-label":d("dataPlaneTopicNavigation.messages"),ouiaId:"tab-Topics",isActive:"messages"===c},{children:(0,i.jsx)(w.Link,B({to:l.messages},{children:d("dataPlaneTopicNavigation.messages")}))})),(0,i.jsx)(r.NavItem,B({style:{borderTop:0},"aria-label":d("dataPlaneTopicNavigation.properties"),ouiaId:"tab-Permissions",isActive:"properties"===c},{children:(0,i.jsx)(w.Link,B({to:l.properties},{children:d("dataPlaneTopicNavigation.properties")}))})),(0,i.jsx)(r.NavItem,B({style:{borderTop:0},"aria-label":d("dataPlaneTopicNavigation.schemas"),ouiaId:"tab-Settings",isActive:"schemas"===c},{children:(0,i.jsx)(w.Link,B({to:l.schemas},{children:d("dataPlaneTopicNavigation.schemas")}))}))]})}))}))]})},F=n(31562),z=function(){return z=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},z.apply(this,arguments)},U=function(e){var t=e.instanceName,n=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["instanceName"]),r=(0,o.useTranslation)("kafka").t;return(0,i.jsx)(F.pf,z({},n,{variant:"destructive",title:r("delete_instance_title"),confirmationValue:t},{children:(0,i.jsx)(o.Trans,{ns:"kafka",i18nKey:"delete_instance_message",components:[(0,i.jsx)("strong",{})],values:{instanceName:t}})}))},V=n(63197),H=function(){return H=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},H.apply(this,arguments)},G=function(e){var t=e.lng,r=e.debug,a=e.children;return(0,i.jsx)(V.I18nProvider,H({lng:t,resources:{en:{common:function(){return n.e(890).then(n.t.bind(n,16890,19))},"create-kafka-instance":function(){return n.e(661).then(n.t.bind(n,3661,19))},kafka:function(){return n.e(191).then(n.t.bind(n,7191,19))},"kafkaoverview-v3":function(){return n.e(832).then(n.t.bind(n,30832,19))},metrics:function(){return n.e(793).then(n.t.bind(n,17793,19))},topic:function(){return n.e(286).then(n.t.bind(n,37286,19))},"manage-kafka-permissions":function(){return n.e(945).then(n.t.bind(n,98945,19))},"create-topic":function(){return n.e(971).then(n.t.bind(n,85971,19))},"message-browser":function(){return n.e(486).then(n.t.bind(n,31486,19))},"connection-tab":function(){return n.e(867).then(n.t.bind(n,67867,19))},"connection-tab-p1":function(){return n.e(371).then(n.t.bind(n,92371,19))}},it:{common:function(){return Promise.resolve({delete:"Elimina"})}}},debug:r},{children:a}))},Q=n(31807),K=n(2529);function q(){var e=(0,o.useTranslation)("kafka").t,t={ready:e("statuses.ready"),degraded:e("statuses.degraded"),accepted:e("statuses.accepted"),provisioning:e("statuses.provisioning"),preparing:e("statuses.preparing"),deprovision:e("statuses.deprovision"),deleting:e("statuses.deleting"),suspended:e("statuses.suspended"),suspending:e("statuses.suspending"),resuming:e("statuses.resuming")},n={creating:e("statusesSimplified.creating"),ready:e("statusesSimplified.ready"),degraded:e("statusesSimplified.degraded"),deleting:e("statusesSimplified.deleting"),suspended:e("statusesSimplified.suspended"),suspending:e("statusesSimplified.suspending"),resuming:e("statusesSimplified.resuming")},i={aws:e("common:cloudProviders.aws"),gcp:e("common:cloudProviders.gcp"),azure:e("common:cloudProviders.azure")};return{fields:{id:e("fields.id"),name:e("fields.name"),createdAt:e("fields.createdAt"),updatedAt:e("fields.updatedAt"),expiryDate:e("fields.expiryDate"),owner:e("fields.owner"),provider:e("fields.provider"),region:e("fields.region"),status:e("fields.status"),plan:e("fields.plan"),size:e("fields.size"),ingress:e("fields.ingress"),egress:e("fields.egress"),storage:e("fields.storage"),maxPartitions:e("fields.maxPartitions"),connections:e("fields.connections"),connectionRate:e("fields.connectionRate"),messageSize:e("fields.messageSize"),billing:e("fields.billing"),adminUrl:e("fields.adminUrl"),bootstrapUrl:e("fields.bootstrapUrl"),version:e("fields.version")},statuses:t,statusesSimplified:n,providers:i,providerRegions:{aws:{},gcp:{},azure:{}}}}var J=n(85113),W=n(80659),Z=function(e){var t=e.expiryDate,n=t?(0,W.Z)(t,Date.now()):0;return(0,i.jsx)(r.Alert,{variant:n>24?"info":n<24&&n>5?"warning":"danger",title:(0,i.jsx)(o.Trans,{i18nKey:"kafka:will_expire",components:{time:(0,i.jsx)(J.r,{date:t,format:"expiration"})}}),"aria-live":"polite",isInline:!0,className:"pf-u-mb-lg"})},Y=function(){return Y=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Y.apply(this,arguments)},X=function(e){var t=e.id,n=e.createdAt,a=e.updatedAt,s=e.owner,c=e.provider,l=e.region,u=e.expiryDate,d=e.instanceType,p=e.size,f=e.ingress,h=e.egress,m=e.storage,v=e.maxPartitions,g=e.connections,b=e.connectionRate,y=e.messageSize,x=e.billing,j=e.kafkaVersion,_=(0,o.useTranslation)("kafka").t,k=function(e,t){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.TextListItem,Y({component:r.TextListItemVariants.dt},{children:e})),t?(0,i.jsx)(r.TextListItem,Y({component:r.TextListItemVariants.dd},{children:t})):(0,i.jsx)(r.Skeleton,{width:"50%",screenreaderText:_("common:skeleton_loader_screenreader_text",{contentName:e})})]})};return(0,i.jsxs)("div",Y({className:"mas--details__drawer--tab-content"},{children:["standard"!==d&&u&&(0,i.jsx)(Z,{expiryDate:u}),(0,i.jsx)(r.TextContent,{children:(0,i.jsxs)(r.TextList,Y({component:r.TextListVariants.dl},{children:["standard"===d&&k(_("common:size"),p?_("create-kafka-instance:streaming_size_value",{value:p}):void 0),k(_("ingress"),f?_("create-kafka-instance:ingress_value",{value:f}):void 0),k(_("egress"),h?_("create-kafka-instance:egress_value",{value:h}):void 0),k(_("storage"),m?_("create-kafka-instance:storage_value",{value:m.value}):void 0),k(_("partitions"),v?_("create-kafka-instance:partitions_value",{value:v}):void 0),k(_("client_connections"),g?_("create-kafka-instance:client_connections_value",{value:g}):void 0),k(_("connection_rate"),b?_("create-kafka-instance:connection_rate_value",{value:b}):void 0),k(_("message_size"),y?_("create-kafka-instance:message_size_value",{value:y.value}):void 0),k(_("common:id"),t),k(_("common:kafka_version"),j),k(_("common:owner"),s),k(_("common:time_created"),(0,i.jsx)(J.r,{date:n,format:"long"})),k(_("common:time_updated"),(0,i.jsx)(J.r,{date:a,format:"long"})),k(_("common:cloud_provider"),c),k(_("common:region"),l),k(_("create-kafka-instance:billing.field_label"),function(){if(void 0!==x){if("prepaid"===x)return _("create-kafka-instance:billing.prepaid_option");switch(x.marketplace){case"aws":return(0,i.jsxs)(i.Fragment,{children:[_("create-kafka-instance:billing.marketplace_aws"),(0,i.jsx)("br",{}),x.subscription]});case"azure":return(0,i.jsxs)(i.Fragment,{children:[_("create-kafka-instance:billing.marketplace_azure"),(0,i.jsx)("br",{}),x.subscription]});case"gcp":return(0,i.jsxs)(i.Fragment,{children:[_("create-kafka-instance:billing.marketplace_gcp"),(0,i.jsx)("br",{}),x.subscription]});case"rhm":return(0,i.jsxs)(i.Fragment,{children:[_("create-kafka-instance:billing.marketplace_rh"),(0,i.jsx)("br",{}),x.subscription]})}}}())]}))})]}))},$=n(75877),ee=n(21717),te=n(75934),ne=function(){return ne=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},ne.apply(this,arguments)},ie=function(){var e=(0,o.useTranslation)("kafka").t;return(0,i.jsxs)(r.EmptyState,ne({variant:r.EmptyStateVariant.small},{children:[(0,i.jsx)(r.EmptyStateIcon,{icon:te.LP,color:"#f0ab00"}),(0,i.jsx)(r.Title,ne({headingLevel:"h1",size:r.TitleSizes.lg},{children:e("suspend_empty_state_title")})),(0,i.jsx)(r.EmptyStateBody,{children:e("suspend_empty_state_body")})]}))},re=function(){return re=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},re.apply(this,arguments)},ae=function(e){var t=e.isKafkaSuspended,n=e.isKafkaPending,a=e.externalServer,s=e.tokenEndPointUrl,l=e.linkToServiceAccount,u=e.linkToAccessTab,d=e.adminAPIUrl,p=e.kafkaFleetManagerUrl,f=e.showCreateServiceAccountModal,h=(0,o.useTranslation)().t,m=(0,c.useState)(!1),v=m[0],g=m[1];return t?(0,i.jsx)(ie,{}):(0,i.jsxs)("div",re({className:"mas--details__drawer--tab-content"},{children:[(0,i.jsxs)(r.TextContent,re({className:"pf-u-pb-sm"},{children:[(0,i.jsx)(r.Text,re({component:r.TextVariants.small},{children:h("connection-tab:drawer_resource_tab_body_description_1")})),(0,i.jsx)(r.Text,re({component:r.TextVariants.h3,className:"pf-u-mt-xl"},{children:h("connection-tab:bootstrap_server")})),(0,i.jsx)(r.Text,re({component:r.TextVariants.small},{children:h("connection-tab:bootstrap_server_description")})),n?(0,i.jsx)(r.Skeleton,{fontSize:"2xl"}):(0,i.jsx)(r.ClipboardCopy,re({"data-testid":"drawerStreams-copyBootstrapURL",textAriaLabel:h("connection-tab:bootstrap_server"),isReadOnly:!0},{children:a}))]})),(0,i.jsxs)(r.TextContent,re({className:"pf-u-pb-sm"},{children:[(0,i.jsx)(r.Text,re({component:r.TextVariants.h3,className:"pf-u-mt-xl"},{children:h("connection-tab:service_accounts_small")})),(0,i.jsx)(r.Text,re({component:r.TextVariants.small},{children:(0,i.jsx)(o.Trans,{i18nKey:"connection-tab:create_service_account_to_generate_credentials",components:{value:(0,i.jsx)(w.Link,{to:l,"data-testid":"tableStreams-linkKafka"})}})}))]})),(0,i.jsx)(r.Button,re({variant:r.ButtonVariant.secondary,isInline:!0,onClick:f,"data-testid":"drawerStreams-buttonCreateServiceAccount"},{children:h("connection-tab:create_service_account")})),(0,i.jsx)(r.TextContent,re({className:"pf-u-pt-sm"},{children:(0,i.jsx)(r.Text,re({component:r.TextVariants.small},{children:(0,i.jsx)(o.Trans,{i18nKey:"connection-tab:current_instance",components:{value:(0,i.jsx)(w.Link,{to:u})}})}))})),(0,i.jsx)(r.TextContent,re({className:"pf-u-pb-sm"},{children:(0,i.jsxs)(r.ExpandableSection,re({toggleContent:(0,i.jsx)("div",re({className:"pf-c-content"},{children:(0,i.jsx)(r.Text,re({component:r.TextVariants.h3,className:"pf-c-content"},{children:h("connection-tab:rest_api_header")}))})),isExpanded:v,onToggle:function(){g(!v)},className:"pf-u-mt-lg"},{children:[(0,i.jsx)(r.TextContent,re({className:"pf-u-pb-sm"},{children:(0,i.jsx)(r.Text,re({component:r.TextVariants.small},{children:h("connection-tab:rest_api_description")}))})),(0,i.jsxs)(r.TextContent,{children:[(0,i.jsxs)("strong",{children:[h("connection-tab:kafka_instance_url_label"),(0,i.jsx)(r.Popover,re({headerContent:(0,i.jsx)("div",{children:h("connection-tab:kafka_instance_url_popover_label")}),bodyContent:(0,i.jsxs)(r.TextContent,{children:[(0,i.jsx)("p",{children:h("connection-tab:kafka_instance_url_popover_body")}),(0,i.jsx)("p",{children:(0,i.jsx)(o.Trans,{ns:"connection-tab",i18nKey:"popover_helper_text",components:[(0,i.jsx)(r.Button,{isInline:!0,variant:r.ButtonVariant.link,component:"a",href:"https://console.redhat.com/docs/api/kafkainstance?github-owner=redhat-developer&github-repo=app-services-sdk-core&github-content=kafka-admin-rest.yaml%3Fref%3Ddoc-portal&readonly=true"}),(0,i.jsx)(ee.d,{testId:"customerPortal-link",href:"https://access.redhat.com/documentation/en-us/red_hat_openshift_application_services/1/guide/2409253a-45ee-470e-bdc9-5db4bfcf9d0f",className:"pf-u-ml-xs"})]})})]})},{children:(0,i.jsx)(r.Button,re({variant:r.ButtonVariant.plain,"aria-label":h("connection-tab:kafka_instance_url_button_aria_label")},{children:(0,i.jsx)($.by,{})}))}))]}),d?(0,i.jsx)(r.ClipboardCopy,re({textAriaLabel:h("connection-tab:kafka_instance_url_label"),isReadOnly:!0},{children:d})):(0,i.jsx)(r.Skeleton,{fontSize:"2xl"}),(0,i.jsx)(r.TextContent,re({className:"pf-u-pt-sm"},{children:(0,i.jsx)(r.Text,re({component:r.TextVariants.small},{children:h("connection-tab:kafka_instance_url_description")}))}))]}),(0,i.jsxs)(r.TextContent,re({className:"pf-u-mt-md"},{children:[(0,i.jsxs)("strong",{children:[h("connection-tab:kafka_management_url"),(0,i.jsx)(r.Popover,re({headerContent:(0,i.jsx)("div",{children:h("connection-tab:kafka_management_popover_header")}),bodyContent:(0,i.jsxs)(r.TextContent,{children:[(0,i.jsx)("p",{children:h("connection-tab:kafka_management_popover_body")}),(0,i.jsx)("p",{children:(0,i.jsx)(o.Trans,{ns:"connection-tab",i18nKey:"popover_helper_text",components:[(0,i.jsx)(r.Button,{isInline:!0,variant:r.ButtonVariant.link,component:"a",href:"https://console.redhat.com/docs/api/kafkamgmt?github-owner=redhat-developer&github-repo=app-services-sdk-core&github-content=kas-fleet-manager.yaml%3Fref%3Ddoc-portal"}),(0,i.jsx)(ee.d,{testId:"customerPortal-link",href:"https://access.redhat.com/documentation/en-us/red_hat_openshift_application_services/1/guide/2409253a-45ee-470e-bdc9-5db4bfcf9d0f",className:"pf-u-ml-xs"})]})})]})},{children:(0,i.jsx)(r.Button,re({variant:r.ButtonVariant.plain,"aria-label":h("connection-tab:kafka_management_button_aria_label")},{children:(0,i.jsx)($.by,{})}))}))]}),n?(0,i.jsx)(r.Skeleton,{fontSize:"2xl"}):(0,i.jsx)(r.ClipboardCopy,re({textAriaLabel:h("connection-tab:kafka_management_url"),isReadOnly:!0},{children:p})),(0,i.jsx)(r.TextContent,re({className:"pf-u-pt-sm"},{children:(0,i.jsx)(r.Text,re({component:r.TextVariants.small},{children:h("connection-tab:kafka_management_description")}))}))]}))]}))})),(0,i.jsxs)(r.TextContent,re({className:"pf-u-pb-sm"},{children:[(0,i.jsx)(r.Text,re({component:r.TextVariants.h3,className:"pf-u-mt-xl"},{children:h("connection-tab:authentication_method")})),(0,i.jsxs)(r.Text,re({component:r.TextVariants.h4,className:"pf-u-mt-md"},{children:[h("connection-tab:sasl_oauthbearer")," ",(0,i.jsx)(r.Label,re({color:"green"},{children:h("connection-tab:recommended")})),(0,i.jsx)(r.Popover,re({"aria-label":h("connection-tab:sasl_oauthbearer"),bodyContent:(0,i.jsx)("div",{children:h("connection-tab:sasl_oauthbearer_popover_content")})},{children:(0,i.jsx)(r.Button,re({variant:r.ButtonVariant.plain,"aria-label":h("connection-tab:more_info_about_sasl_oauthbearer")},{children:(0,i.jsx)($.by,{})}))}))]})),(0,i.jsx)(r.Text,re({component:r.TextVariants.small},{children:h("connection-tab:sasl_oauthbearer_description")})),(0,i.jsx)("strong",{children:h("connection-tab:token_endpoint_url")}),n?(0,i.jsx)(r.Skeleton,{fontSize:"2xl"}):(0,i.jsx)(r.ClipboardCopy,re({textAriaLabel:h("connection-tab:token_endpoint_url"),isReadOnly:!0},{children:s}))]})),(0,i.jsxs)(r.TextContent,re({className:"pf-u-pb-sm"},{children:[(0,i.jsx)(r.Text,re({component:r.TextVariants.h4,className:"pf-u-mt-md"},{children:h("connection-tab:sasl_plain")})),(0,i.jsx)(r.Text,re({component:r.TextVariants.small},{children:h("connection-tab:sasl_plain_description")}))]}))]}))},oe=function(){return oe=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},oe.apply(this,arguments)},se=function(e){var t=e.instance,n=e.activeTab,a=e.isExpanded,o=e.onTabChange,s=e.onClose,l=e.children,u=(0,c.useMemo)((function(){return(0,i.jsx)(r.DrawerPanelContent,{children:t?(0,i.jsx)(ce,{instance:t,activeTab:n,onTabChange:o,onClose:s}):null})}),[n,t,s,o]);return(0,i.jsx)(r.Drawer,oe({isExpanded:a,isInline:!0},{children:(0,i.jsx)(r.DrawerContent,oe({panelContent:u},{children:(0,i.jsx)(r.DrawerContentBody,oe({className:"pf-u-display-flex pf-u-flex-direction-column"},{children:l}))}))}))},ce=function(e){var t=e.instance,n=e.activeTab,a=e.onTabChange,s=e.onClose,l=(0,o.useTranslation)(["kafka"]).t,u=q(),d=(0,c.useCallback)((function(e,t){a(t)}),[a]),p=K.az.includes(t.status);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(r.DrawerHead,{children:[(0,i.jsxs)(r.TextContent,{children:[(0,i.jsx)(r.Text,oe({component:r.TextVariants.small,className:"pf-u-mb-0"},{children:l("common:name")})),(0,i.jsx)(r.Title,oe({headingLevel:"h1",size:r.TitleSizes.xl,className:"pf-u-mt-0"},{children:t.name}))]}),(0,i.jsx)(r.DrawerActions,{children:(0,i.jsx)(r.DrawerCloseButton,{onClick:s})})]}),(0,i.jsx)(r.DrawerPanelBody,{children:(0,i.jsxs)(r.Tabs,oe({activeKey:n,onSelect:d},{children:[(0,i.jsx)(r.Tab,oe({eventKey:"details",title:(0,i.jsx)(r.TabTitleText,{children:l("drawer-tabs.details")})},{children:(0,i.jsx)("div",oe({className:"pf-u-pt-md pf-u-pb-md"},{children:(0,i.jsx)(X,{id:t.id,owner:t.owner,createdAt:(0,Q.Z)(t.createdAt),updatedAt:(0,Q.Z)(t.updatedAt),expiryDate:t.expiryDate?(0,Q.Z)(t.expiryDate):void 0,size:t.size,ingress:t.ingress,egress:t.egress,storage:t.storage,maxPartitions:t.maxPartitions,connections:t.connections,connectionRate:t.connectionRate,messageSize:t.messageSize,provider:u.providers[t.provider]||t.provider,region:u.providerRegions[t.provider][t.region]||t.region,instanceType:t.plan,billing:t.billing,kafkaVersion:t.version})}))})),(0,i.jsx)(r.Tab,oe({eventKey:"connections",title:(0,i.jsx)(r.TabTitleText,{children:l("drawer-tabs.connections")}),"data-testid":"drawerStreams-tabConnect"},{children:(0,i.jsx)("div",oe({className:"pf-u-pt-md pf-u-pb-md"},{children:(0,i.jsx)(ae,{isKafkaPending:p,externalServer:le(t.bootstrapUrl),tokenEndPointUrl:"TODO",linkToServiceAccount:"service-accounts",linkToAccessTab:"TODO/acls",adminAPIUrl:ue(t.adminUrl),showCreateServiceAccountModal:function(){},kafkaFleetManagerUrl:"https://api.openshift.com/api/kafkas_mgmt/v1/openapi"})}))}))]}))})]})},le=function(e){if(e)return(null==e?void 0:e.endsWith(":443"))?e:"".concat(e,":443")},ue=function(e){return e?"".concat(e,"/openapi"):void 0},de=n(16808),pe=n(12647),fe=n(38814),he=function(){return he=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},he.apply(this,arguments)},me=(0,c.forwardRef)((function(e,t){var n=e.value,a=e.showWarning,s=void 0!==a&&a,c=e.showError,l=void 0!==c&&c,u=e.withPopover,d=void 0!==u&&u,p=(0,o.useTranslation)("kafka").t,f=d?"link":"plain";switch(!0){case K.A9.includes(n):return(0,i.jsx)("div",{children:(0,i.jsxs)(r.Split,he({hasGutter:!0,className:"mas-c-status"},{children:[(0,i.jsx)(r.SplitItem,{children:(0,i.jsx)(fe.rE,{className:"mas-m-ready"})}),(0,i.jsx)(r.SplitItem,{children:p("statuses.ready")})]}))});case K.az.includes(n):switch(!0){case s:return(0,i.jsxs)("div",{children:[(0,i.jsxs)(r.Split,he({hasGutter:!0,className:"mas-c-status"},{children:[(0,i.jsx)(r.SplitItem,{children:(0,i.jsx)(r.Spinner,{size:"md"})}),(0,i.jsx)(r.SplitItem,{children:(0,i.jsx)(r.Button,he({ref:t,variant:f,isInline:!0},{children:p("statuses.creating")}))})]})),(0,i.jsx)(r.Alert,{variant:"warning",isInline:!0,isPlain:!0,title:"This is taking longer than expected."})]});case l:return(0,i.jsxs)("div",{children:[(0,i.jsxs)(r.Split,he({hasGutter:!0,className:"mas-c-status"},{children:[(0,i.jsx)(r.SplitItem,{children:(0,i.jsx)(r.Spinner,{size:"md"})}),(0,i.jsx)(r.SplitItem,{children:(0,i.jsx)(r.Button,he({ref:t,variant:f,isInline:!0},{children:p("statuses.creating")}))})]})),(0,i.jsx)(r.Alert,{variant:"danger",isInline:!0,isPlain:!0,title:p("status_warning_or_error_title")})]});default:return(0,i.jsx)("div",{children:(0,i.jsxs)(r.Split,he({hasGutter:!0,className:"mas-c-status"},{children:[(0,i.jsx)(r.SplitItem,{children:(0,i.jsx)(r.Spinner,{size:"md"})}),(0,i.jsxs)(r.SplitItem,{children:[(0,i.jsx)(r.Button,he({ref:t,variant:f,isInline:!0},{children:p("statuses.creating")})),(0,i.jsx)(r.Flex,{children:(0,i.jsx)(r.FlexItem,{children:(0,i.jsx)(r.HelperText,{children:(0,i.jsx)(r.HelperTextItem,he({variant:"indeterminate"},{children:p("status_created_shortly_help")}))})})})]})]}))})}case K.m8.includes(n):return(0,i.jsx)("div",{children:(0,i.jsxs)(r.Split,he({hasGutter:!0,className:"mas-c-status"},{children:[(0,i.jsx)(r.SplitItem,{children:(0,i.jsx)(te.LP,{className:"mas-m-degraded"})}),(0,i.jsx)(r.SplitItem,{children:p("statuses.degraded")})]}))});case K.$x.includes(n):return(0,i.jsx)("div",{children:(0,i.jsxs)("p",he({className:"mas-m-deleting"},{children:[" ",p("statuses.suspending")]}))});case K.KH.includes(n):return(0,i.jsx)("div",{children:(0,i.jsxs)(r.Split,he({hasGutter:!0,className:"mas-c-status"},{children:[(0,i.jsx)(r.SplitItem,{children:(0,i.jsx)(te.LP,{className:"mas-m-degraded"})}),(0,i.jsx)(r.SplitItem,{children:(0,i.jsx)(r.Button,he({ref:t,variant:f,isInline:!0},{children:p("statuses.suspended")}))})]}))});case K.Qu.includes(n):return(0,i.jsx)("div",{children:(0,i.jsxs)(r.Split,he({hasGutter:!0,className:"mas-c-status"},{children:[(0,i.jsx)(r.SplitItem,{children:(0,i.jsx)(r.Spinner,{size:"md"})}),(0,i.jsx)(r.SplitItem,{children:p("statuses.resuming")})]}))});case K.lO.includes(n):return(0,i.jsx)("div",{children:(0,i.jsxs)("p",he({className:"mas-m-deleting"},{children:[" ",p("statuses.deleting")]}))});default:return null}})),ve=["pending","preparing","provisioning"],ge={ready:null,degraded:null,accepted:"pending",provisioning:"provisioning",preparing:"preparing",deprovision:null,deleting:null,suspended:"suspended",suspending:null,resuming:null},be=function(){return be=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},be.apply(this,arguments)},ye=function(e){var t=e.currentStatus,n=(0,o.useTranslation)("create-kafka-instance").t,a=ve.findIndex((function(e){return e===t})),s=function(e){return(a===e?"info":a>e&&"success")||"default"};return(0,i.jsxs)(r.ProgressStepper,be({isVertical:!0},{children:[(0,i.jsx)(r.ProgressStep,be({id:"pending",titleId:"pending",isCurrent:"pending"===t,description:n("kafka_status_popover.pending.description"),"aria-label":n("kafka_status_popover.pending.description"),variant:s(0)},{children:n("kafka_status_popover.pending.title")})),(0,i.jsx)(r.ProgressStep,be({id:"provisioning",titleId:"provisioning",isCurrent:"provisioning"===t,description:n("kafka_status_popover.provisioning.description"),"aria-label":n("kafka_status_popover.provisioning.description"),variant:s(1)},{children:n("kafka_status_popover.provisioning.title")})),(0,i.jsx)(r.ProgressStep,be({id:"preparing",titleId:"preparing",isCurrent:"preparing"===t,description:n("kafka_status_popover.preparing.description"),"aria-label":n("kafka_status_popover.preparing.description"),variant:s(2)},{children:n("kafka_status_popover.preparing.title")}))]}))},xe=function(){return xe=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},xe.apply(this,arguments)},je=function(e){var t=e.currentStatus,n=e.showWarning,a=void 0!==n&&n,s=e.showError,c=void 0!==s&&s,l=e.onClickConnectionTabLink,u=e.onClickSupportLink,d=(0,o.useTranslation)("create-kafka-instance").t,p=ve.findIndex((function(e){return e===t}));return(0,i.jsx)("div",{children:(0,i.jsxs)(r.Stack,xe({hasGutter:!0},{children:[(0,i.jsxs)(r.StackItem,{children:[a&&(0,i.jsx)(r.Alert,xe({variant:"warning",isInline:!0,isPlain:!0,title:d("kafka_status_popover.warning_or_error_title")},{children:(0,i.jsx)(r.TextContent,{children:(0,i.jsx)(r.Text,xe({component:r.TextVariants.small},{children:(0,i.jsx)(o.Trans,{ns:["create-kafka-instance"],i18nKey:"kafka_status_popover.header_content_with_warning",components:[(0,i.jsx)(r.Button,{variant:r.ButtonVariant.link,onClick:l,isInline:!0},"btn-connetcion-tab")]})}))})})),c&&(0,i.jsx)(r.Alert,xe({variant:"danger",isInline:!0,isPlain:!0,title:d("kafka_status_popover.warning_or_error_title")},{children:(0,i.jsx)(r.TextContent,{children:(0,i.jsx)(r.Text,xe({component:r.TextVariants.small},{children:(0,i.jsx)(o.Trans,{ns:["create-kafka-instance"],i18nKey:"kafka_status_popover.header_content_with_error",components:[(0,i.jsx)(r.Button,{variant:r.ButtonVariant.link,onClick:l,isInline:!0},"btn-connetcion-tab"),(0,i.jsx)(r.Button,{variant:r.ButtonVariant.link,onClick:u,isInline:!0},"btn-support-case")]})}))})})),!c&&!a&&(0,i.jsx)(r.TextContent,{children:(0,i.jsx)(r.Text,xe({component:r.TextVariants.small},{children:(0,i.jsx)(o.Trans,{ns:["create-kafka-instance"],i18nKey:"kafka_status_popover.header_content",components:[(0,i.jsx)(r.Button,{variant:r.ButtonVariant.link,onClick:l,isInline:!0},"btn-connetcion-tab")]})}))})]}),(0,i.jsx)(r.StackItem,{children:d("common:progress_stepper_current_step",{currentStep:p,total:ve.length})}),(0,i.jsx)(r.StackItem,{children:(0,i.jsx)(ye,{currentStatus:t})})]}))})},_e=function(){return _e=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},_e.apply(this,arguments)},ke=function(e){var t=e.initialOpen,n=void 0!==t&&t,a=e.status,s=e.showWarning,l=void 0!==s&&s,u=e.showError,d=void 0!==u&&u,p=e.onClickConnectionTabLink,f=e.onClickSupportLink,h=e.reference,m=e.children,v=(0,o.useTranslation)("create-kafka-instance").t,g=(0,c.useState)(n),b=g[0],y=g[1],x=function(){return y(!1)},j=(0,c.useCallback)((function(){x(),p()}),[p]),_=(0,c.useCallback)((function(){x(),f()}),[f]);return(0,i.jsx)(r.Popover,_e({headerContent:v("kafka_status_popover.title"),bodyContent:(0,i.jsx)(je,{currentStatus:a,showWarning:l,showError:d,onClickConnectionTabLink:j,onClickSupportLink:_}),isVisible:b,shouldOpen:function(){return y(!0)},shouldClose:function(){return y(!1)},position:"right",enableFlip:!0,reference:h},{children:m}))},we=function(){return we=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},we.apply(this,arguments)},Ce=function(e){var t=e.children,n=e.reference,a=(0,o.useTranslation)("kafka").t;return(0,i.jsx)(r.Popover,we({alertSeverityVariant:"warning",headerIcon:(0,i.jsx)(te.LP,{}),headerContent:a("suspend_popover_title"),bodyContent:(0,i.jsx)(r.TextContent,{children:(0,i.jsx)("p",{children:a("suspend_popover_body_1")})}),position:"right",reference:n},{children:t}))},Te=function(e){var t=e.status,n=e.createdAt,r=e.warningAfterMinutes,a=void 0===r?15:r,o=e.errorAfterMinutes,s=void 0===o?30:o,l=e.onClickConnectionTabLink,u=e.onClickSupportLink,d=ge[t],p=(0,c.useState)(!1),f=p[0],h=p[1],m=(0,c.useRef)(null),v=(0,c.useCallback)((function(){var e=(0,pe.Z)(new Date,n);h(e>s?"error":e>a&&"warning")}),[n,s,a]);(0,de.Y)(v,5e3);var g="warning"===f,b="error"===f;return(0,i.jsxs)(i.Fragment,{children:["suspended"===d?(0,i.jsx)(Ce,{reference:m}):d&&(0,i.jsx)(ke,{status:d,showWarning:g,showError:b,onClickConnectionTabLink:l,onClickSupportLink:u,reference:m}),(0,i.jsx)(me,{value:t,showWarning:g,showError:b,withPopover:void 0!==d,ref:m})]})},Se=n(32468),Oe=function(){return Oe=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Oe.apply(this,arguments)},Ie=function(e){var t=e.onCreate,n=e.onQuickstartGuide,a=(0,o.useTranslation)("kafka").t;return(0,i.jsxs)(r.EmptyState,Oe({variant:r.EmptyStateVariant.xs},{children:[(0,i.jsx)(r.EmptyStateIcon,{icon:Se.wl}),(0,i.jsx)(r.Title,Oe({headingLevel:"h2",size:"lg"},{children:a("empty_state_no_instances_title")})),(0,i.jsx)(r.EmptyStateBody,{children:(0,i.jsx)(o.Trans,{ns:"kafka",i18nKey:"empty_state_no_instances_body",components:[(0,i.jsx)("a",{onClick:n})]})}),(0,i.jsx)(r.Button,Oe({ouiaId:"button-create",variant:"primary",onClick:t},{children:a("empty_state_no_instances_create_instance")}))]}))},Pe=n(40409),Le=function(){return Le=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Le.apply(this,arguments)},Re=function(e){var t=e.onClearAllFilters,n=(0,o.useTranslation)("kafka").t;return(0,i.jsxs)(r.EmptyState,Le({variant:r.EmptyStateVariant.xs},{children:[(0,i.jsx)(r.EmptyStateIcon,{icon:Pe.W1}),(0,i.jsx)(r.Title,Le({headingLevel:"h2",size:"lg"},{children:n("empty_state_no_results_found_title")})),(0,i.jsx)(r.EmptyStateBody,{children:(0,i.jsx)(o.Trans,{ns:"kafka",i18nKey:"empty_state_no_results_found_body",components:[(0,i.jsx)("a",{onClick:t})]})})]}))},De=function(){return De=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},De.apply(this,arguments)},Ae=["name","owner","createdAt","provider","region","status"],Ee=function(e){var t,n=e.instances,a=e.itemCount,s=e.page,c=e.perPage,l=e.names,u=e.owners,d=e.statuses,f=e.getUrlForInstance,h=e.isRowSelected,m=e.isColumnSortable,v=e.onPageChange,g=e.onDetails,b=e.onConnection,y=e.canChangeOwner,x=e.onChangeOwner,j=e.canDelete,_=e.onDelete,k=e.onCreate,C=e.onQuickstartGuide,T=e.onClickConnectionTabLink,S=e.onClickSupportLink,O=e.onInstanceLinkClick,I=e.onSearchName,P=e.onRemoveNameChip,L=e.onRemoveNameChips,R=e.onSearchOwner,A=e.onRemoveOwnerChip,E=e.onRemoveOwnerChips,N=e.onSearchStatus,B=e.onRemoveStatusChip,M=e.onRemoveStatusChips,F=e.onClearAllFilters,z=e.canHaveInstanceLink,U=e.canOpenConnection,V=(0,o.useTranslation)("kafka").t,H=q(),G=l.length>0||u.length>0||d.length>0;return(0,i.jsx)(r.PageSection,De({isFilled:!0},{children:(0,i.jsx)(p.H,{data:n,columns:Ae,renderHeader:function(e){var t=e.column,n=e.Th,r=e.key;return(0,i.jsx)(n,{children:H.fields[t]},r)},renderCell:function(e){var t=e.column,n=e.row,a=e.Td,s=e.key,c=(0,Q.Z)(n.createdAt),l=z(n);return(0,i.jsx)(a,De({dataLabel:H.fields[t]},{children:function(){switch(t){case"name":return(0,i.jsx)(r.Button,{variant:"link",component:function(e){return(0,i.jsx)(w.Link,De({to:f(n)},e,{children:n.name}))},isInline:!0,isAriaDisabled:!l,isDisabled:!l,onClick:function(){return O(n)}});case"provider":return H.providers[n.provider];case"createdAt":return(0,i.jsxs)(r.Stack,{children:[(0,i.jsx)(r.StackItem,{children:(0,i.jsx)(J.r,{date:c,format:"distanceToNowWithAgo"})}),n.expiryDate&&(0,i.jsx)(r.StackItem,{children:(0,i.jsx)(o.Trans,{i18nKey:"will_expire_short",ns:["kafka"],components:{time:(0,i.jsx)(J.r,{date:(0,Q.Z)(n.expiryDate),format:"expiration"})}})})]});case"status":return(0,i.jsx)(Te,{status:n.status,createdAt:c,onClickConnectionTabLink:function(){return T(n)},onClickSupportLink:S});default:return n[t]}}()}),s)},renderActions:function(e){var t=e.row,n=y(t),r=j(t),a=U(t);return(0,i.jsx)(D,{onDetails:function(){return g(t)},onConnection:function(){return b(t)},canOpenConnection:a,canChangeOwner:n,onChangeOwner:function(){return x(t)},canDelete:r,onDelete:function(){return _(t)}})},onRowClick:function(e){var t=e.row;return g(t)},isColumnSortable:m,isRowSelected:h,isRowDeleted:function(e){var t=e.row;return K.lO.includes(t.status)},toolbarBreakpoint:"lg",filters:(t={},t[H.fields.name]={type:"search",chips:l,onSearch:I,onRemoveChip:P,onRemoveGroup:L,validate:function(e){return/^[a-z]([-a-z0-9]*[a-z0-9])?$/.test(e)},errorMessage:V("kafka:input_field_invalid_message")},t[H.fields.owner]={type:"search",chips:u,onSearch:R,onRemoveChip:A,onRemoveGroup:E,validate:function(e){return!/["$^<>|+%/;:,\s*=~#()]/.test(e)},errorMessage:V("kafka:input_field_invalid_message")},t[H.fields.status]={type:"checkbox",chips:d,options:H.statusesSimplified,onToggle:N,onRemoveChip:B,onRemoveGroup:M},t),actions:[{label:V("create_instance"),onClick:k,isPrimary:!0}],itemCount:a,page:s,perPage:c,onPageChange:v,onClearAllFilters:F,ariaLabel:V("table.title"),isFiltered:G,emptyStateNoData:(0,i.jsx)(Ie,{onCreate:k,onQuickstartGuide:C}),emptyStateNoResults:(0,i.jsx)(Re,{onClearAllFilters:F})})}))},Ne=n(90805),Be=n(13585),Me=n(94067),Fe=n(89707),ze=n(98079),Ue=n(6663),Ve=n(63673),He=n(99791),Ge=n(22601),Qe=function(e){var t=e.isDisabled,n=e.value,a=e.onChange,o=(0,c.useState)(!1),s=o[0],l=o[1],u=n?(0,Q.Z)(n):void 0;return(0,i.jsxs)(r.InputGroup,{children:[(0,i.jsx)(r.DatePicker,{isDisabled:t,value:u?(0,Ge.formatInTimeZone)(u,"UTC","yyyy-MM-dd"):void 0,onChange:function(e,t){t&&a((0,Ue.Z)(t))}}),(0,i.jsx)(r.TimePicker,{isDisabled:!u||t,time:s?u:void 0,onChange:function(e,t,n,i,r){if(r&&u&&null!=t&&t>0&&(e.includes("AM")||e.includes("PM"))){var o=u;void 0!==t&&(o=(0,Ve.Z)(o,t)),void 0!==n&&(o=(0,He.Z)(o,n)),a((0,Ue.Z)(o)),l(!0)}}})]})},Ke=function(){return Ke=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Ke.apply(this,arguments)},qe=function(e){var t=e.isDisabled,n=e.offset,a=e.epoch,s=e.timestamp,l=e.onOffsetChange,u=e.onTimestampChange,d=e.onEpochChange,p=e.onLatest,f=(0,o.useTranslation)("message-browser").t,h=(0,c.useState)("latest"),m=h[0],v=h[1],g=(0,c.useState)(!1),b=g[0],y=g[1],x={offset:f("filter.offset"),timestamp:f("filter.timestamp"),epoch:f("filter.epoch"),latest:f("filter.latest")};return(0,i.jsx)(r.ToolbarItem,{children:(0,i.jsxs)(r.InputGroup,{children:[(0,i.jsx)(r.Dropdown,{"data-testid":"filter-group-dropdown",toggle:(0,i.jsx)(r.DropdownToggle,Ke({onToggle:y,isDisabled:t,"data-testid":"filter-group"},{children:x[m]})),position:r.DropdownPosition.left,isOpen:b,onSelect:function(){return y(!1)},dropdownItems:[(0,i.jsx)(r.DropdownItem,Ke({value:"offset",autoFocus:"offset"===m,onClick:function(){return v("offset")}},{children:x.offset}),"offset"),(0,i.jsx)(r.DropdownItem,Ke({value:"timestamp",autoFocus:"timestamp"===m,onClick:function(){return v("timestamp")}},{children:x.timestamp}),"timestamp"),(0,i.jsx)(r.DropdownItem,Ke({value:"epoch",autoFocus:"epoch"===m,onClick:function(){return v("epoch")}},{children:x.epoch}),"epoch"),(0,i.jsx)(r.DropdownSeparator,{},"divider"),(0,i.jsx)(r.DropdownItem,Ke({value:"latest",autoFocus:"latest"===m,onClick:function(){v("latest"),p()}},{children:x.latest}),"latest")]}),"offset"===m&&(0,i.jsx)(r.TextInput,{isDisabled:t,type:"number","aria-label":f("filter.offset_aria_label"),placeholder:f("filter.offset_placeholder"),onChange:function(e){if(""!==e){var t=parseInt(e,10);Number.isInteger(t)&&l(t)}else l(void 0)},value:void 0===n?"":n}),"timestamp"===m&&(0,i.jsx)(Qe,{isDisabled:t,value:s,onChange:u}),"epoch"===m&&(0,i.jsx)(r.TextInput,{isDisabled:t,type:"number","aria-label":f("filter.epoch_aria_label"),placeholder:f("filter.epoch_placeholder"),className:"pf-u-flex-basis-auto pf-u-flex-grow-0 pf-u-w-initial",size:f("filter.epoch_placeholder").length,onChange:function(e){""!==e&&Number(e)>=0?d(Number(e)):d(void 0)},value:null==a?"":a})]})})},Je=function(){return Je=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Je.apply(this,arguments)},We=function(e){var t=e.value,n=e.isDisabled,a=e.onChange,s=(0,o.useTranslation)("message-browser").t,l=(0,c.useState)(!1),u=l[0],d=l[1];return(0,i.jsxs)(r.InputGroup,{children:[(0,i.jsx)(r.InputGroupText,Je({className:"pf-c-content"},{children:s("limit_label")})),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",Je({id:"limit-selector",hidden:!0},{children:"Select a state"})),(0,i.jsx)(r.Select,Je({"aria-label":s("per_page_aria_label"),onToggle:function(e){return d(e)},selections:void 0!==t?[s("limit",{value:t})]:void 0,isOpen:u,isDisabled:n,onSelect:function(){return d(!1)},"data-testid":"limit-selector"},{children:[10,20,50].map((function(e,t){return(0,i.jsx)(r.SelectOption,{value:s("limit",{value:e}),onClick:function(){return a(e)}},t)}))}))]})]})};function Ze(e,t){return JSON.stringify(e)===JSON.stringify(t)}function Ye(e){try{return JSON.stringify(JSON.parse(e),null,2)}catch(e){}return e}var Xe,$e,et=function(){return et=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},et.apply(this,arguments)},tt=function(e){var t=e.columnLabel,n=(0,o.useTranslation)("common").t;return(0,i.jsx)("span",et({className:"pf-u-color-400"},{children:n("table_cell_no_data",{column:t})}))},nt=function(){return nt=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},nt.apply(this,arguments)},it=function(e){var t=e.onClose,n=e.defaultTab,a=e.message,s=(0,o.useTranslation)("message-browser").t;return(0,i.jsxs)(r.DrawerPanelContent,nt({isResizable:!0,minSize:"400px"},{children:[(0,i.jsxs)(r.DrawerHead,{children:[(0,i.jsx)(r.TextContent,{children:(0,i.jsx)(r.Text,nt({component:r.TextVariants.h2},{children:s("message")}))}),(0,i.jsx)(r.DrawerActions,{children:(0,i.jsx)(r.DrawerCloseButton,{onClick:t})})]}),(0,i.jsx)(r.DrawerContentBody,{children:a&&(0,i.jsx)(rt,nt({defaultTab:n,messageKey:a.key},a))})]}))},rt=function(e){var t=e.defaultTab,n=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["defaultTab"]),a=(0,o.useTranslation)("message-browser").t;return(0,i.jsxs)(r.Flex,nt({direction:{default:"column"},"data-testid":"message-details"},{children:[(0,i.jsx)(r.FlexItem,{children:(0,i.jsxs)(r.DescriptionList,nt({isHorizontal:!0,isCompact:!0},{children:[(0,i.jsxs)(r.DescriptionListGroup,{children:[(0,i.jsx)(r.DescriptionListTerm,{children:a("field.partition")}),(0,i.jsx)(r.DescriptionListDescription,{children:n.partition})]}),(0,i.jsxs)(r.DescriptionListGroup,{children:[(0,i.jsx)(r.DescriptionListTerm,{children:a("field.offset")}),(0,i.jsx)(r.DescriptionListDescription,{children:n.offset})]}),(0,i.jsxs)(r.DescriptionListGroup,{children:[(0,i.jsx)(r.DescriptionListTerm,{children:a("field.timestamp")}),(0,i.jsx)(r.DescriptionListDescription,{children:n.timestamp?(0,i.jsx)(J.r,{date:(0,Q.Z)(n.timestamp),format:"longWithMilliseconds"}):(0,i.jsx)(tt,{columnLabel:a("field.timestamp")})})]}),(0,i.jsxs)(r.DescriptionListGroup,{children:[(0,i.jsx)(r.DescriptionListTerm,{children:a("field.epoch")}),(0,i.jsx)(r.DescriptionListDescription,{children:n.timestamp?(0,i.jsx)(J.r,{date:(0,Q.Z)(n.timestamp),format:"epoch"}):(0,i.jsx)(tt,{columnLabel:a("field.epoch")})})]}),(0,i.jsxs)(r.DescriptionListGroup,{children:[(0,i.jsx)(r.DescriptionListTerm,{children:a("field.key")}),(0,i.jsx)(r.DescriptionListDescription,{children:n.messageKey?n.messageKey:(0,i.jsx)(tt,{columnLabel:a("field.key")})})]})]}))}),(0,i.jsx)(r.FlexItem,{children:(0,i.jsxs)(r.Tabs,nt({defaultActiveKey:t},{children:[(0,i.jsx)(r.Tab,nt({eventKey:"value",title:(0,i.jsx)(r.TabTitleText,{children:a("field.value")})},{children:(0,i.jsx)(r.ClipboardCopy,nt({isCode:!0,isExpanded:!0,isReadOnly:!0},{children:Ye(n.value||"")}))})),(0,i.jsx)(r.Tab,nt({eventKey:"headers",title:(0,i.jsx)(r.TabTitleText,{children:a("field.headers")})},{children:(0,i.jsx)(r.ClipboardCopy,nt({isCode:!0,isExpanded:!0,isReadOnly:!0},{children:Ye(JSON.stringify(n.headers)||"")}))}))]}),Math.random())})]}))},at=function(){return at=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},at.apply(this,arguments)},ot=function(e){var t=e.onRefresh,n=(0,o.useTranslation)("message-browser").t;return(0,i.jsxs)(r.EmptyState,at({variant:r.EmptyStateVariant.large},{children:[(0,i.jsx)(r.EmptyStateIcon,{icon:l.TF}),(0,i.jsx)(r.Title,at({headingLevel:"h4",size:"lg"},{children:n("no_data_title")})),(0,i.jsx)(r.EmptyStateBody,{children:n("no_data_body")}),(0,i.jsx)(r.Button,at({onClick:t},{children:n("no_data_refresh")}))]}))},st=function(){return st=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},st.apply(this,arguments)},ct=function(e){var t=e.onReset,n=(0,o.useTranslation)("message-browser").t;return(0,i.jsxs)(r.EmptyState,st({variant:r.EmptyStateVariant.large},{children:[(0,i.jsx)(r.EmptyStateIcon,{icon:Pe.W1}),(0,i.jsx)(r.Title,st({headingLevel:"h4",size:"lg"},{children:n("no_results_title")})),(0,i.jsx)(r.EmptyStateBody,{children:n("no_results_body")}),(0,i.jsx)(r.Button,st({variant:"link",onClick:t},{children:n("no_results_reset")}))]}))},lt=function(){return lt=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},lt.apply(this,arguments)},ut=function(e){var t=e.min,n=e.max,a=(0,o.useTranslation)("message-browser").t;return(0,i.jsx)(r.TextContent,lt({className:"pf-u-font-size"},{children:(0,i.jsxs)(r.Text,{children:[a("offset")," ",(0,i.jsx)("span",lt({className:"custom-text"},{children:t}))," -"," ",(0,i.jsx)("span",lt({className:"custom-text"},{children:n}))]})}))},dt=function(){return dt=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},dt.apply(this,arguments)},pt=function(e,t,n){if(n||2===arguments.length)for(var i,r=0,a=t.length;r<a;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},ft=function(e){var t=e.value,n=e.partitions,a=e.isDisabled,s=e.onChange,l=(0,o.useTranslation)("message-browser").t,u=(0,c.useState)(!1),d=u[0],p=u[1],f="partition-selector",h=(0,c.useCallback)((function(e){if(""!==e){var t=parseInt(e,10);Number.isInteger(t)&&s(t)}p(!1)}),[s]),m=(0,c.useMemo)((function(){return new Array(n).fill(0).map((function(e,t){return t.toString()}))}),[n]),v=(0,c.useCallback)((function(e){var t=e.slice(0,20).map((function(e){return(0,i.jsx)(r.SelectOption,{value:e},e)})),n=e.length-t.length;return n?pt(pt([],t,!0),[(0,i.jsx)(r.SelectOption,{isDisabled:!0,description:l("partitions_hidden",{count:n})},"more-info")],!1):t}),[l]),g=(0,c.useMemo)((function(){return v(m)}),[m,v]),b=(0,c.useCallback)((function(e,t){return""!==t?v(m.filter((function(e){return e.includes(t)}))):g}),[m,v,g]);return(0,i.jsxs)(r.InputGroup,{children:[(0,i.jsx)(r.InputGroupText,dt({className:"pf-c-content"},{children:l("field.partition")})),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",dt({id:f,hidden:!0},{children:l("select_partition_aria_label")})),(0,i.jsx)(r.Select,dt({variant:r.SelectVariant.typeahead,typeAheadAriaLabel:l("select_partition_typeahead"),onToggle:function(e){return p(e)},onSelect:function(e,t){return h(t)},selections:void 0!==t?["".concat(t)]:void 0,isOpen:d,"aria-labelledby":f,maxHeight:200,width:150,onFilter:b,isInputValuePersisted:!1,isDisabled:a,placeholderText:l("partition_placeholder"),onClear:function(){return s(void 0)},"data-testid":"partition-selector"},{children:g}))]}),(0,i.jsx)(r.InputGroupText,dt({id:"".concat(f,"-input"),variant:r.InputGroupTextVariant.plain,className:"pf-c-content"},{children:l("select_partition_of_count",{partitions:n})}))]})},ht=function(){return ht=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},ht.apply(this,arguments)},mt=function(e){var t=e.value,n=e.truncateAt,a=void 0===n?170:n,s=e.onClick,c=(0,o.useTranslation)("message-browser").t,l=function(e,t){var n=e.length>t;return[n?"".concat(e.substring(0,t),"..."):e,n]}(t,a),u=l[0],d=l[1];return(0,i.jsxs)(r.Flex,ht({direction:{default:"column"},spaceItems:{default:"spaceItemsXs"}},{children:[(0,i.jsx)(r.FlexItem,{children:u}),d&&(0,i.jsx)(r.FlexItem,{children:(0,i.jsx)("a",ht({onClick:s?function(e){e.stopPropagation(),s()}:void 0},{children:c("show_more")}))})]}))},vt=(0,y.C)({id:"message-browser",tsTypes:{},schema:{context:{},events:{}},initial:"initialLoading",context:{response:void 0,limit:10,partition:void 0,offset:void 0,timestamp:void 0,selectedMessage:void 0,epoch:void 0},states:{initialLoading:{invoke:{src:"api"},on:{fetchSuccess:{actions:"setMessages",target:"verifyMessages"},fetchFail:"error"}},verifyMessages:{always:[{cond:"noMessages",target:"noData"},{target:"ready"}]},noData:{on:{refresh:"initialLoading"}},error:{on:{refresh:"initialLoading"}},ready:{initial:"pristine",states:{pristine:{},dirty:{tags:"dirty"},shouldSearch:{always:[{cond:"areFiltersChanged",target:"dirty"},{target:"pristine"}]}},always:[{cond:"selectedMessageNotAvailable",actions:"deselectMessage"}],on:{refresh:"refreshing",setPartition:{target:".shouldSearch",actions:"setPartition"},setEpoch:{actions:"setEpoch",target:".shouldSearch"},setTimestamp:{target:".shouldSearch",actions:"setTimestamp"},setOffset:{target:".shouldSearch",actions:"setOffset"},setLatest:{target:".shouldSearch",actions:"setLatest"},setLimit:{target:".shouldSearch",actions:"setLimit"},selectMessage:{actions:"selectMessage"},deselectMessage:{actions:"deselectMessage"}}},refreshing:{invoke:{src:"api"},on:{fetchSuccess:{actions:"setMessages",target:"ready"},fetchFail:{target:"ready"}}}}},{actions:{setMessages:(0,x.f0)((function(e,t){var n=t.messages,i=t.partitions,r=t.offsetMin,a=t.offsetMax;return{response:{lastUpdated:new Date,messages:n,partitions:i,offsetMin:r,offsetMax:a,filter:{partition:e.partition,timestamp:e.timestamp,offset:e.offset,limit:e.limit,epoch:e.epoch}}}})),setPartition:(0,x.f0)((function(e,t){return{partition:t.value}})),setEpoch:(0,x.f0)((function(e,t){return{epoch:t.value}})),setTimestamp:(0,x.f0)((function(e,t){return{timestamp:t.value}})),setOffset:(0,x.f0)((function(e,t){return{offset:t.value}})),setLimit:(0,x.f0)((function(e,t){return{limit:t.value}})),setLatest:(0,x.f0)((function(e){return{timestamp:void 0,offset:void 0}})),selectMessage:(0,x.f0)((function(e,t){return{selectedMessage:t.message}})),deselectMessage:(0,x.f0)((function(e){return{selectedMessage:void 0}}))},guards:{noMessages:function(e){var t=e.response;return void 0===t||0===t.messages.length},selectedMessageNotAvailable:function(e){var t=e.response,n=e.selectedMessage;return void 0!==n&&void 0===(null==t?void 0:t.messages.find((function(e){return Ze(e,n)})))},areFiltersChanged:function(e){var t,n,i,r,a;return(null===(t=e.response)||void 0===t?void 0:t.filter.limit)!==e.limit||(null===(n=e.response)||void 0===n?void 0:n.filter.offset)!==e.offset||(null===(i=e.response)||void 0===i?void 0:i.filter.partition)!==e.partition||(null===(r=e.response)||void 0===r?void 0:r.filter.timestamp)!==e.timestamp||(null===(a=e.response)||void 0===a?void 0:a.filter.epoch)!==e.epoch}}}),gt=function(){return gt=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},gt.apply(this,arguments)},bt=["partition","offset","timestamp","key","headers","value"],yt=[10,10,15,10,void 0,30],xt=function(e){var t,n=e.getMessages,r=(0,ze.e)((function(){return vt}),{devTools:!0,services:{api:function(e){return function(t){n({partition:e.partition,offset:e.offset,timestamp:e.timestamp,limit:e.limit}).then((function(n){var i=n.messages,r=n.partitions;return t({type:"fetchSuccess",messages:i,partitions:r,offsetMin:e.offset||0,offsetMax:i.reduce((function(e,t){return Math.max(e,t.offset||0)}),0)})})).catch((function(){return t({type:"fetchFail"})}))}}}}),a=r[0],o=r[1];return(0,i.jsx)(jt,{isFirstLoad:a.matches("initialLoading"),isNoData:a.matches("noData")||a.matches("error"),isRefreshing:a.matches("refreshing"),requiresSearch:a.hasTag("dirty"),selectedMessage:a.context.selectedMessage,response:a.context.response,lastUpdated:null===(t=a.context.response)||void 0===t?void 0:t.lastUpdated,partition:a.context.partition,limit:a.context.limit,filterOffset:a.context.offset,filterEpoch:a.context.epoch,filterTimestamp:a.context.timestamp,setPartition:function(e){return o({type:"setPartition",value:e})},setOffset:function(e){return o({type:"setOffset",value:e})},setTimestamp:function(e){return o({type:"setTimestamp",value:e})},setEpoch:function(e){return o({type:"setEpoch",value:e})},setLatest:function(){return o({type:"setLatest"})},setLimit:function(e){return o({type:"setLimit",value:e})},refresh:function(){return o({type:"refresh"})},selectMessage:function(e){return o({type:"selectMessage",message:e})},deselectMessage:function(){return o({type:"deselectMessage"})}})},jt=function(e){var t,n=e.isFirstLoad,s=e.isNoData,l=e.isRefreshing,u=e.requiresSearch,d=e.selectedMessage,p=e.response,f=e.partition,h=e.limit,m=e.filterOffset,v=e.filterEpoch,g=e.filterTimestamp,b=e.setPartition,y=e.setOffset,x=e.setTimestamp,j=e.setEpoch,_=e.setLatest,k=e.setLimit,w=e.refresh,C=e.selectMessage,T=e.deselectMessage,S=(0,o.useTranslation)("message-browser").t,O=(0,c.useState)("value"),I=O[0],P=O[1],L=(0,c.useMemo)((function(){return{partition:S("field.partition"),offset:S("field.offset"),timestamp:S("field.timestamp"),key:S("field.key"),value:S("field.value"),headers:S("field.headers")}}),[S]);switch(!0){case n:return(0,i.jsx)(Be.g,{});case s:return(0,i.jsx)(ot,{onRefresh:w});default:return(0,i.jsx)(r.PageSection,gt({isFilled:!0,hasOverflowScroll:!0},{children:(0,i.jsx)(r.Drawer,gt({isInline:!0,isExpanded:void 0!==d},{children:(0,i.jsx)(r.DrawerContent,gt({panelContent:(0,i.jsx)(it,{message:d,defaultTab:I,onClose:T})},{children:(0,i.jsxs)(a.OuterScrollContainer,{children:[(0,i.jsx)(r.Toolbar,gt({className:"mas-KafkaMessageBrowser-Toolbar","data-testid":"message-browser-toolbar"},{children:(0,i.jsxs)(r.ToolbarContent,{children:[(0,i.jsxs)(r.ToolbarToggleGroup,gt({toggleIcon:(0,i.jsx)(Ne.k1,{}),breakpoint:"2xl"},{children:[(0,i.jsx)(r.ToolbarGroup,gt({variant:"filter-group"},{children:(0,i.jsx)(r.ToolbarItem,{children:(0,i.jsx)(ft,{value:f,partitions:(null==p?void 0:p.partitions)||0,onChange:b,isDisabled:l})})})),(0,i.jsx)(r.ToolbarGroup,gt({variant:"filter-group"},{children:(0,i.jsx)(qe,{isDisabled:l,offset:m,epoch:v,timestamp:g,onOffsetChange:y,onTimestampChange:x,onEpochChange:j,onLatest:_})})),(0,i.jsx)(r.ToolbarGroup,{children:(0,i.jsx)(We,{value:h,onChange:k,isDisabled:l})})]})),(0,i.jsxs)(r.ToolbarGroup,{children:[(0,i.jsx)(r.ToolbarItem,{children:(0,i.jsx)(r.Button,gt({variant:"plain",isDisabled:!u||l,"aria-label":S("common:search_button_label"),onClick:w},{children:(0,i.jsx)(Pe.W1,{})}))}),(0,i.jsx)(r.ToolbarItem,{children:(0,i.jsx)(Me.t,{onClick:w,isRefreshing:l,isDisabled:u})})]}),(0,i.jsx)(r.ToolbarGroup,gt({alignment:{default:"alignRight"}},{children:void 0!==(null==p?void 0:p.filter.partition)&&(null==p?void 0:p.messages.length)>0&&(0,i.jsx)(ut,{min:(null==p?void 0:p.offsetMin)||0,max:(null==p?void 0:p.offsetMax)||0})}))]})})),(0,i.jsx)(a.InnerScrollContainer,{children:(0,i.jsx)(Fe.Uh,gt({ariaLabel:S("table_aria_label"),columns:bt,data:null==p?void 0:p.messages,expectedLength:null===(t=null==p?void 0:p.messages)||void 0===t?void 0:t.length,renderHeader:function(e){var t=e.column,n=e.Th,r=e.key;return(0,i.jsx)(n,{children:L[t]},r)},renderCell:function(e){var t=e.column,n=e.row,r=e.colIndex,a=e.Td,o=e.key;return(0,i.jsx)(a,gt({dataLabel:L[t],width:yt[r]},{children:function(){var e=(0,i.jsx)(tt,{columnLabel:L[t]});switch(t){case"partition":return n.partition;case"offset":return n.offset;case"timestamp":return n.timestamp?(0,i.jsx)(J.r,{date:(0,Q.Z)(n.timestamp),format:"longWithMilliseconds"}):e;case"key":return n.key?(0,i.jsx)(mt,{value:n.key,truncateAt:40}):e;case"headers":return Object.keys(n.headers).length>0?(0,i.jsx)(mt,{value:Ye(JSON.stringify(n.headers)),onClick:function(){P("headers"),C(n)}}):e;case"value":return n.value?(0,i.jsx)(mt,{value:Ye(n.value||""),onClick:function(){P("value"),C(n)}}):e}}()}),o)},isRowSelected:function(e){var t=e.row;return void 0!==d&&Ze(t,d)},onRowClick:function(e){var t=e.row;P("value"),C(t)}},{children:(0,i.jsx)(ct,{onReset:function(){_(),b(void 0),w()}})}))})]})}))}))}))}},_t=n(82008),kt=function(){return kt=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},kt.apply(this,arguments)},wt=function(){var e=(0,o.useTranslation)("kafkaoverview-v2").t,t={name:"",firstStreamingUnit:e("firstStreamingUnit"),secondStreamingUnit:e("secondStreamingUnit")};return(0,i.jsxs)(a.TableComposable,{children:[(0,i.jsx)(a.Thead,{children:(0,i.jsxs)(a.Tr,{children:[(0,i.jsx)(a.Th,{children:t.name}),(0,i.jsx)(a.Th,{children:t.firstStreamingUnit}),(0,i.jsx)(a.Th,{children:t.secondStreamingUnit})]})}),(0,i.jsx)(a.Tbody,{children:[{name:"Ingress (MB/second)",firstStreamingUnit:"up to 50",secondStreamingUnit:"up to 100"},{name:"Egress (MB/second)",firstStreamingUnit:"up to 100",secondStreamingUnit:"up to 200"},{name:"Storage* (GB)",firstStreamingUnit:"up to 1000",secondStreamingUnit:"up to 2000"},{name:"Topic partitions",firstStreamingUnit:"up to 1500",secondStreamingUnit:"up to 3000"},{name:"Client connections",firstStreamingUnit:"up to 3000",secondStreamingUnit:"up to 6000"},{name:"Connection rate (connections/second)",firstStreamingUnit:"up to 100",secondStreamingUnit:"up to 200"},{name:"Message size (MB)",firstStreamingUnit:"up to 1",secondStreamingUnit:"up to 1"}].map((function(e){return(0,i.jsxs)(a.Tr,{children:[(0,i.jsx)(a.Td,kt({dataLabel:t.name},{children:e.name})),(0,i.jsx)(a.Td,kt({dataLabel:t.firstStreamingUnit},{children:e.firstStreamingUnit})),(0,i.jsx)(a.Td,kt({dataLabel:t.secondStreamingUnit},{children:e.secondStreamingUnit}))]},e.name)}))})]})},Ct=n(72779),Tt=n.n(Ct),St=function(){return St=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},St.apply(this,arguments)},Ot=function(e){var t=e.title,n=e.tagLine,a=e.description,o=e.description2,s=e.heroImage,c=e.heroImageSize,l=e.heroImageCanRepeat,u=void 0===l||l,d=e.heroImagePositionY,p=void 0===d?0:d,f=e.cta,h=e.variant,m=void 0===h?"light":h,v={"--appsrv-marketing--banner--before--BackgroundImage":"url(".concat(s,")"),"--appsrv-marketing--banner--before--BackgroundSize":"".concat(c,"px"),"--appsrv-marketing--banner--before--BackgroundRepeat":u?"repeat":"no-repeat","--appsrv-marketing--banner--before--BackgroundPositionY":"".concat(p,"px")};return(0,i.jsx)(r.PageSection,St({className:Tt()("appsrv-marketing--banner",{"pf-u-background-color-dark-100":"dark"===m,"pf-u-background-color-100":"light"===m}),variant:"dark"===m?r.PageSectionVariants.dark:r.PageSectionVariants.light,style:v},{children:(0,i.jsxs)(r.Stack,St({hasGutter:!0},{children:[(0,i.jsx)(r.Title,St({headingLevel:"h1",size:"2xl"},{children:t})),(0,i.jsx)(r.Text,St({className:"appsrv-marketing--banner__tagline ".concat("dark"===m?"":"pf-u-color-200")},{children:n})),(0,i.jsx)(r.Text,St({component:r.TextVariants.p},{children:a})),o&&(0,i.jsx)(r.Text,St({component:r.TextVariants.p,className:"pf-u-mt-md"},{children:o})),f&&(0,i.jsx)(r.StackItem,{children:f})]}))}))},It=function(e){var t=e.className,n=void 0===t?"appsrv-marketing--page-section--marketing":t,a=e.variant,o=void 0===a?"default":a,s=e.children;return(0,i.jsx)(r.PageSection,St({isWidthLimited:!0,className:Tt()(n,{"pf-u-background-color-dark-100":"dark"===o,"pf-u-background-color-100":"light"===o}),variant:"dark"===o?r.PageSectionVariants.dark:"light"===o?r.PageSectionVariants.light:r.PageSectionVariants.default},{children:s}))},Pt=function(){return Pt=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Pt.apply(this,arguments)},Lt=function(){var e=(0,o.useTranslation)(["kafkaoverview-v3"]).t;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Ot,{title:e("heroTitle"),tagLine:e("heroTagline"),description:e("heroDescription"),heroImage:_t.VB,heroImageSize:478,heroImageCanRepeat:!1,heroImagePositionY:-99}),(0,i.jsx)(It,{children:(0,i.jsxs)(r.Grid,Pt({hasGutter:!0,lg:6},{children:[(0,i.jsxs)(r.Card,Pt({ouiaId:"card-overview-purchase-now","aria-label":e("kafkaoverview:purchaseCardTitle")},{children:[(0,i.jsx)(r.CardHeader,{children:(0,i.jsx)(r.CardHeaderMain,{children:(0,i.jsx)(r.CardTitle,{children:(0,i.jsx)(r.Title,Pt({headingLevel:"h2"},{children:(0,i.jsx)(o.Trans,Pt({ns:"kafkaoverview-v3",i18nKey:"purchaseCardTitle"},{children:(0,i.jsx)("span",{className:"pf-u-color-200 pf-u-font-size-sm"})}))}))})})}),(0,i.jsx)(r.CardBody,{children:e("purchaseCardMainText")}),(0,i.jsx)(r.CardFooter,{children:(0,i.jsxs)(r.Flex,Pt({spaceItems:{default:"spaceItems2xl"}},{children:[(0,i.jsx)(r.FlexItem,{children:(0,i.jsx)(ee.d,Pt({href:"https://marketplace.redhat.com/en-us/products/red-hat-openshift-streams-for-apache-kafka",testId:"cardPurchase-buttonRH",className:"pf-u-ml-md "},{children:(0,i.jsx)(o.Trans,{ns:"kafkaoverview-v3",i18nKey:"purchaseCardCallToActionButtonRedHat",components:{bold:(0,i.jsx)("strong",{}),size:(0,i.jsx)("span",{className:"pf-u-font-size-lg"})}})}))}),(0,i.jsx)(r.FlexItem,{children:(0,i.jsx)(ee.d,Pt({href:"https://aws.amazon.com/marketplace/pp/prodview-3xohcoyuwkumc",testId:"cardPurchase-buttonAWS",className:"pf-u-ml-md"},{children:(0,i.jsx)(o.Trans,{ns:"kafkaoverview-v3",i18nKey:"purchaseCardCallToActionButtonAWS",components:{bold:(0,i.jsx)("strong",{}),size:(0,i.jsx)("span",{className:"pf-u-font-size-lg"})}})}))})]}))})]})),(0,i.jsxs)(r.Card,Pt({ouiaId:"card-overview-contact-sales","aria-label":e("kafkaoverview:contactSalesCardTitle")},{children:[(0,i.jsx)(r.CardHeader,{children:(0,i.jsx)(r.CardTitle,{children:(0,i.jsx)(r.Title,Pt({headingLevel:"h2"},{children:(0,i.jsx)(o.Trans,Pt({ns:"kafkaoverview-v3",i18nKey:"contactSalesCardTitle"},{children:(0,i.jsx)("span",{className:"pf-u-color-200 pf-u-font-size-sm"})}))}))})}),(0,i.jsx)(r.CardBody,{children:e("contactSalesCardMainText")}),(0,i.jsx)(r.CardFooter,{children:(0,i.jsx)(ee.d,Pt({href:"https://www.redhat.com/en/technologies/cloud-computing/openshift/openshift-streams-for-apache-kafka#contact-us",testId:"cardContactSales-buttonCTA",className:"pf-u-ml-md"},{children:(0,i.jsx)(o.Trans,{ns:"kafkaoverview-v3",i18nKey:"contactSalesCardCallToActionButton",components:{bold:(0,i.jsx)("strong",{}),size:(0,i.jsx)("span",{className:"pf-u-font-size-lg"})}})}))})]}))]}))}),(0,i.jsx)(It,Pt({className:"kafka-overview--page-section--marketing"},{children:(0,i.jsxs)(r.Card,{children:[(0,i.jsx)(r.CardTitle,{children:(0,i.jsx)(r.Title,Pt({headingLevel:"h2"},{children:e("pricingModalTitle")}))}),(0,i.jsx)(r.CardBody,{children:(0,i.jsxs)(r.Flex,Pt({spaceItems:{default:"spaceItemsXl"}},{children:[(0,i.jsx)(r.Flex,Pt({alignSelf:{default:"alignSelfCenter"},justifyContent:{default:"justifyContentCenter"},flex:{default:"flex_1"}},{children:(0,i.jsx)(r.FlexItem,{children:(0,i.jsxs)(r.DescriptionList,Pt({isHorizontal:!0},{children:[(0,i.jsxs)(r.DescriptionListGroup,{children:[(0,i.jsx)(r.DescriptionListTerm,{children:e("steamingUnit")}),(0,i.jsx)(r.DescriptionListDescription,{children:e("streamingUnit_price")})]}),(0,i.jsxs)(r.DescriptionListGroup,{children:[(0,i.jsx)(r.DescriptionListTerm,{children:e("dataTransfer")}),(0,i.jsx)(r.DescriptionListDescription,{children:e("dataTransfer_price")})]}),(0,i.jsxs)(r.DescriptionListGroup,{children:[(0,i.jsx)(r.DescriptionListTerm,{children:e("storage")}),(0,i.jsx)(r.DescriptionListDescription,{children:e("storage_price")})]})]}))})})),(0,i.jsx)(r.Divider,{isVertical:!0}),(0,i.jsx)(r.FlexItem,Pt({flex:{default:"flex_1"}},{children:(0,i.jsx)(r.TextContent,{children:(0,i.jsx)(r.Text,Pt({component:r.TextVariants.p},{children:(0,i.jsx)(o.Trans,{ns:"kafkaoverview-v3",i18nKey:"streamingUnitText",components:{bold:(0,i.jsx)("strong",{})}})}))})}))]}))})]})})),(0,i.jsx)(It,Pt({className:"kafka-overview--page-section--marketing"},{children:(0,i.jsxs)(r.Card,{children:[(0,i.jsx)(r.CardTitle,{children:(0,i.jsx)(r.Title,Pt({headingLevel:"h2"},{children:e("kafkaInstanceCapacityTitle")}))}),(0,i.jsx)(r.CardBody,{children:(0,i.jsxs)(r.Stack,Pt({hasGutter:!0},{children:[(0,i.jsx)(r.Text,Pt({component:r.TextVariants.p},{children:e("kafkaInstanceCapacityDescription")})),(0,i.jsx)(wt,{})]}))}),(0,i.jsx)(r.CardFooter,{children:(0,i.jsx)(r.TextContent,Pt({className:"pf-u-font-size-sm"},{children:(0,i.jsx)(o.Trans,{ns:"kafkaoverview-v3",i18nKey:"kafkaInstanceCapacityfooter",components:[(0,i.jsx)(ee.d,{href:"https://access.redhat.com/support",testId:"SupportLink",className:"pf-u-ml-xs"}),(0,i.jsx)(ee.d,{href:"https://access.redhat.com/documentation/en-us/red_hat_openshift_streams_for_apache_kafka/1/guide/aced8e5e-8229-4cb2-82f9-87a8caa24bb3",testId:"MonitoringDiskSpaceLink",className:"pf-u-ml-xs"})]})}))})]})})),(0,i.jsx)(It,Pt({className:"kafka-overview--page-section--marketing"},{children:(0,i.jsxs)(r.Card,{children:[(0,i.jsx)(r.CardTitle,{children:(0,i.jsx)(r.Title,Pt({headingLevel:"h2"},{children:e("cloudProvidersTitle")}))}),(0,i.jsx)(r.CardBody,{children:(0,i.jsxs)(r.Flex,Pt({spaceItems:{default:"spaceItemsXl"},direction:{default:"column",xl:"row"}},{children:[(0,i.jsx)(r.Flex,Pt({justifyContent:{default:"justifyContentCenter"},flex:{default:"flex_1"}},{children:(0,i.jsx)(r.FlexItem,{children:(0,i.jsxs)(r.Split,Pt({hasGutter:!0},{children:[(0,i.jsx)(r.SplitItem,{children:(0,i.jsx)("img",{src:C,alt:"",style:{height:"60px"}})}),(0,i.jsx)(r.SplitItem,{children:(0,i.jsx)(r.Title,Pt({headingLevel:"h2",className:"pf-u-pt-sm"},{children:e("awsWebServiceTitle")}))})]}))})})),(0,i.jsx)(r.Divider,{orientation:{default:"horizontal",xl:"vertical"}}),(0,i.jsx)(r.Flex,Pt({justifyContent:{default:"justifyContentCenter"},flex:{default:"flex_1"}},{children:(0,i.jsx)(r.FlexItem,{children:(0,i.jsxs)(r.Split,Pt({hasGutter:!0},{children:[(0,i.jsx)(r.SplitItem,{children:(0,i.jsx)("img",{src:S,alt:"",style:{height:"60px"}})}),(0,i.jsxs)(r.SplitItem,{children:[(0,i.jsx)(r.Title,Pt({headingLevel:"h2",className:"pf-u-pt-sm"},{children:e("googleCloudProviderTitle")})),(0,i.jsx)(r.Text,Pt({component:r.TextVariants.p,className:"pf-u-color-200"},{children:e("googleCloudProviderDescription")}))]})]}))})})),(0,i.jsx)(r.Divider,{orientation:{default:"horizontal",xl:"vertical"}}),(0,i.jsx)(r.Flex,Pt({justifyContent:{default:"justifyContentCenter"},flex:{default:"flex_1"}},{children:(0,i.jsx)(r.FlexItem,{children:(0,i.jsxs)(r.Split,Pt({hasGutter:!0},{children:[(0,i.jsx)(r.SplitItem,{children:(0,i.jsx)("img",{src:T,alt:"",style:{height:"60px"}})}),(0,i.jsxs)(r.SplitItem,{children:[(0,i.jsx)(r.Title,Pt({headingLevel:"h2",className:"pf-u-pt-sm"},{children:e("microsoftAzureTitle")})),(0,i.jsx)(r.Text,Pt({component:r.TextVariants.p,className:"pf-u-color-200"},{children:e("microsoftAzureDescription")}))]})]}))})}))]}))})]})}))]})},Rt=function(){return Rt=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Rt.apply(this,arguments)},Dt=function(e){var t=e.onCreateTopic,n=(0,o.useTranslation)("topic").t;return(0,i.jsxs)(r.EmptyState,Rt({"data-ouia-page-id":"emptyStateTopics",variant:r.EmptyStateVariant.large},{children:[(0,i.jsx)(r.EmptyStateIcon,{icon:Se.wl}),(0,i.jsx)(r.Title,Rt({headingLevel:"h2",size:"lg"},{children:n("empty_topics_title")})),(0,i.jsx)(r.EmptyStateBody,{children:n("empty_topics_body")}),(0,i.jsx)(r.Button,Rt({"data-testid":"actionCreateTopic",ouiaId:"button-create",variant:"primary",onClick:t},{children:n("create_topic")}))]}))},At=n(83117),Et=function(){return Et=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Et.apply(this,arguments)},Nt=["name","partitionsCount","config:retention.ms","config:retention.bytes"],Bt=function(e){var t,n=e.topics,s=e.onDelete,c=e.onEdit,l=e.isColumnSortable,u=e.itemCount,d=e.onSearchTopic,h=e.topicName,m=e.onClearAllFilters,v=e.onCreateTopic,g=e.page,b=e.perPage,y=e.onPageChange,x=e.onRemoveTopicChip,j=e.onRemoveTopicChips,_=e.getUrlFortopic,k=e.onTopicLinkClick,C=(0,o.useTranslation)("topic").t,T={name:C("topic_name"),partitionsCount:C("partitions_count"),"config:retention.bytes":C("TODO config:retention.bytes"),"config:retention.ms":C("TODO config:retention.ms")},S=h.length>0;return(0,i.jsx)(r.PageSection,Et({isFilled:!0,hasOverflowScroll:!0},{children:(0,i.jsx)(p.H,{variant:a.TableVariant.compact,tableOuiaId:"card-table",ariaLabel:C("topic_list_table"),data:n,columns:Nt,renderHeader:function(e){var t=e.column,n=e.Th,r=e.key;return(0,i.jsx)(n,{children:T[t]},r)},renderCell:function(e){var t=e.column,n=e.row,a=e.Td,o=e.key;return(0,i.jsx)(a,Et({dataLabel:T[t]},{children:function(){switch(t){case"name":return(0,i.jsx)(r.Button,{variant:"link",component:function(e){return(0,i.jsx)(w.Link,Et({to:_(n)},e,{"data-testid":"tableTopics-linkTopic","data-ouia-component-id":"table-link"},{children:n.name}))},onClick:function(){return k(n)},isInline:!0});case"partitionsCount":return n.partitionsCount;case"config:retention.ms":return(0,At.eA)(n.config["retention.ms"].value);case"config:retention.bytes":return(0,At.Cv)(n.config["retention.bytes"].value)}}()}),o)},renderActions:function(e){var t=e.row,n=e.ActionsColumn;return(0,i.jsx)(n,{items:[{title:C("table.actions.edit"),onClick:function(){return c(t)}},{title:C("table.actions.delete"),onClick:function(){return s(t)}}]})},isColumnSortable:l,filters:(t={},t[T.name]={type:"search",chips:h,onSearch:d,onRemoveChip:x,onRemoveGroup:j,validate:function(e){return!/["$^<>|+%/;:,\s*=~#()]/.test(e)},errorMessage:C("input_field_invalid_message")},t),actions:[{label:C("create_topic"),onClick:v,isPrimary:!0}],itemCount:u,page:g,onPageChange:y,perPage:b,isFiltered:S,onClearAllFilters:m,emptyStateNoData:(0,i.jsx)(Dt,{onCreateTopic:v}),emptyStateNoResults:(0,i.jsx)(f.B,{})})}))};($e=Xe||(Xe={})).UserAccount="USER_ACCOUNT",$e.ServiceAccount="SERVICE_ACCOUNT";var Mt,Ft,zt=function(){return zt=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},zt.apply(this,arguments)},Ut=function(){return(0,i.jsx)(r.PageSection,zt({isFilled:!0},{children:(0,i.jsx)(r.EmptyState,zt({variant:r.EmptyStateVariant.xs},{children:(0,i.jsx)(r.EmptyStateBody,zt({"data-chromatic":"ignore"},{children:(0,i.jsx)(Be.g,{})}))}))}))},Vt=n(63185),Ht=function(){return Ht=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Ht.apply(this,arguments)},Gt=function(){var e=(0,o.useTranslation)().t;return(0,i.jsx)(r.PageSection,Ht({isFilled:!0},{children:(0,i.jsxs)(r.EmptyState,Ht({variant:r.EmptyStateVariant.xs},{children:[(0,i.jsx)(r.EmptyStateIcon,{icon:Vt.Le}),(0,i.jsx)(r.Title,Ht({headingLevel:"h3",size:"lg"},{children:e("metrics:empty_state_no_data_title")})),(0,i.jsx)(r.EmptyStateBody,{children:e("metrics:empty_state_no_data_body")})]}))}))},Qt=function(){return Qt=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Qt.apply(this,arguments)},Kt=function(e){var t=e.metricsLagAlert,n=e.topicsKpi,a=e.topicPartitionsKpi,o=e.consumerGroupKpi,s=e.diskSpaceMetrics,c=e.topicMetrics;return(0,i.jsx)(r.PageSection,Qt({hasOverflowScroll:!0,"aria-label":"TODO",padding:{default:"noPadding"},className:"pf-u-px-lg-on-xl pf-u-pt-sm-on-xl pf-u-pb-lg-on-xl pf-u-px-md pf-u-pb-md"},{children:(0,i.jsxs)(r.Grid,Qt({hasGutter:!0},{children:[(0,i.jsx)(r.GridItem,{children:t}),(0,i.jsx)(r.GridItem,Qt({sm:4},{children:n})),(0,i.jsx)(r.GridItem,Qt({sm:4},{children:a})),(0,i.jsx)(r.GridItem,Qt({sm:4},{children:o})),(0,i.jsx)(r.GridItem,Qt({lg:6},{children:s})),(0,i.jsx)(r.GridItem,Qt({lg:6},{children:c}))]}))}))},qt=function(){return(0,i.jsx)(r.CardBody,{children:(0,i.jsx)(r.Bullseye,{children:(0,i.jsx)(r.Spinner,{isSVG:!0,"data-chromatic":"ignore"})})})},Jt=n(777),Wt=n(35427),Zt=n(49846),Yt=n(99447),Xt=n(66972),$t=n(28454),en=n(84894),tn=n(37870),nn=n(51755),rn=n(1497);!function(e){e[e.Last5minutes=5]="Last5minutes",e[e.Last15minutes=15]="Last15minutes",e[e.Last30minutes=30]="Last30minutes",e[e.Last1hour=60]="Last1hour",e[e.Last3hours=180]="Last3hours",e[e.Last6hours=360]="Last6hours",e[e.Last12hours=720]="Last12hours",e[e.Last24hours=1440]="Last24hours",e[e.Last2days=2880]="Last2days",e[e.Last7days=10080]="Last7days"}(Mt||(Mt={}));var an=((Ft={})[Mt.Last5minutes]={interval:60,ticks:6,showDate:!1},Ft[Mt.Last15minutes]={interval:180,ticks:6,showDate:!1},Ft[Mt.Last30minutes]={interval:300,ticks:7,showDate:!1},Ft[Mt.Last1hour]={interval:600,ticks:6,showDate:!1},Ft[Mt.Last3hours]={interval:1800,ticks:7,showDate:!1},Ft[Mt.Last6hours]={interval:3600,ticks:7,showDate:!1},Ft[Mt.Last12hours]={interval:7200,ticks:7,showDate:!1},Ft[Mt.Last24hours]={interval:14400,ticks:7,showDate:!0},Ft[Mt.Last2days]={interval:28800,ticks:7,showDate:!0},Ft[Mt.Last7days]={interval:86400,ticks:8,showDate:!0},Ft),on=350,sn={bottom:110,left:120,right:40,top:10},cn=function(){return cn=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},cn.apply(this,arguments)},ln=function(){var e=(0,o.useTranslation)().t;return(0,i.jsxs)(r.Flex,cn({direction:{default:"column"},"data-chromatic":"ignore"},{children:[(0,i.jsx)(r.FlexItem,{children:(0,i.jsx)(r.Skeleton,{height:"".concat(on-sn.bottom,"px"),screenreaderText:e("common:skeleton_loader_screenreader_text")})}),(0,i.jsx)(r.FlexItem,{children:(0,i.jsx)(r.Skeleton,{height:"".concat(sn.bottom/2-12.5,"px"),width:"20%"})}),(0,i.jsx)(r.FlexItem,{children:(0,i.jsx)(r.Skeleton,{height:"".concat(sn.bottom/2-12.5,"px"),width:"40%"})})]}))};function un(){var e=(0,c.useRef)(null),t=(0,c.useState)(0),n=t[0],i=t[1],r=function(){return e.current&&i(e.current.clientWidth)};return(0,c.useLayoutEffect)((function(){r()}),[]),(0,c.useEffect)((function(){return window.addEventListener("resize",r),function(){return window.removeEventListener("resize",r)}}),[]),[e,n]}var dn=n(30557),pn=n(41410),fn=n(53080);function hn(e){return(0,dn.Z)(e,{units:"iec"}).toString()}var mn=function(e){return an[e].showDate},vn=function(e,t){var n=(void 0===t?{showDate:!1}:t).showDate,i=(0,pn.Z)(e/1e3);return(0,Ge.formatInTimeZone)(i,"utc",n?"HH:mm'\n'MMM dd":"HH:mm")};function gn(e,t){var n=function(e,t,n){if(n||2===arguments.length)for(var i,r=0,a=t.length;r<a;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}([],e,!0);n.sort();var i=parseInt(n[n.length-1])||Date.now();return new Array(Math.max(an[t].ticks,n.length)).fill(i).map((function(e,n){return(0,fn.Z)(new Date(e),{seconds:an[t].interval*n}).getTime()}))}var bn=function(){return bn=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},bn.apply(this,arguments)},yn=function(e){var t=e.metrics,n=e.duration,r=e.chartName,a=e.xLabel,s=e.yLabel,c=e.usageLimit,l=e.formatValue,u=void 0===l?function(e){return"".concat(e)}:l,d=e.isLoading,p=e.emptyState,f=(0,o.useTranslation)().t,h=un(),m=h[0],v=h[1],g=v&&v>650?6:3,b=function(e,t,n,i,r){var a=[r?{name:i,symbol:{fill:nn.V.value,type:"threshold"}}:void 0,{name:n,symbol:{fill:rn.i.value}}].filter((function(e){return!!e})),o=rn.i.value,s=nn.V.value,c=[],l=[],u=[];Object.entries(e).map((function(e){var t=e[0],i=e[1];l.push({name:n,x:parseInt(t,10),y:i})})),c.push({areaColor:o,softLimitColor:s,area:l,softLimit:u});var d=gn(Object.keys(e),t);return r&&d.forEach((function(e){return u.push({name:i,x:e,y:r})})),{legendData:a,chartData:c,tickValues:d}}(t,n,r,f("metrics:limit"),c),y=b.chartData,x=b.legendData,j=b.tickValues,_=Object.keys(t).length>0,k=mn(n);switch(!0){case d:return(0,i.jsx)(ln,{});case!_:return p;default:return(0,i.jsx)("div",bn({ref:m},{children:(0,i.jsxs)(Jt.k,bn({ariaTitle:r,containerComponent:(0,i.jsx)(Wt.H,{labels:function(e){var t=e.datum;return"".concat(t.name,": ").concat(u(t.y))},constrainToVisibleArea:!0}),legendPosition:"bottom-left",legendComponent:(0,i.jsx)(Zt.Qk,{orientation:"horizontal",data:x,itemsPerRow:g}),height:on,padding:sn,themeColor:Yt.nz.multiUnordered,width:v,legendAllowWrap:!0},{children:[(0,i.jsx)(Xt.C,{label:"\n"+(a||f("metrics:axis-label-time")||""),tickValues:j,tickFormat:function(e){return vn(e,{showDate:k})}}),(0,i.jsx)(Xt.C,{label:"\n\n\n\n\n"+(s||r),dependentAxis:!0,tickFormat:u}),(0,i.jsx)($t.G,{children:y.map((function(e,t){return(0,i.jsx)(en.A,{data:e.area,style:{data:{}}},"chart-area-".concat(t))}))}),(0,i.jsx)(tn.l,{data:y[0].softLimit,style:{data:{stroke:y[0].softLimitColor}}},"chart-softlimit")]}))}))}},xn=n(54044),jn=function(){return jn=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},jn.apply(this,arguments)},_n=[xn.n.value,rn.i.value],kn=function(e){var t=e.partitions,n=e.topic,r=e.duration,a=e.isLoading,s=e.emptyState,c=(0,o.useTranslation)().t,l=un(),u=l[0],d=l[1],p=d&&d>650?6:3,f=function(e,t,n){var i=[],r=[];Object.entries(e).map((function(e,n){var a=e[0],o=e[1],s=t?"".concat(t,": ").concat(a):a,c=_n[n];i.push({name:s});var l=[];Object.entries(o).map((function(e){var t=e[0],n=e[1];l.push({name:s,x:parseInt(t,10),y:n})})),r.push({color:c,area:l})}));var a=gn(Array.from(new Set(Object.values(e).flatMap((function(e){return Object.keys(e)})))),n);return{legendData:i,chartData:r,tickValues:a}}(t,n,r),h=f.chartData,m=f.legendData,v=f.tickValues,g=Object.keys(t).length>0,b=mn(r);return(0,i.jsx)("div",jn({ref:u},{children:function(){switch(!0){case a:return(0,i.jsx)(ln,{});case!g:return s;default:return(0,i.jsxs)(Jt.k,jn({ariaTitle:c("metrics:log_size_per_partition"),containerComponent:(0,i.jsx)(Wt.H,{labels:function(e){var t=e.datum;return"".concat(t.name,": ").concat(hn(t.y))},constrainToVisibleArea:!0}),legendPosition:"bottom-left",legendComponent:(0,i.jsx)(Zt.Qk,{data:m,itemsPerRow:p}),height:on,padding:sn,themeColor:Yt.nz.multiOrdered,width:d,legendAllowWrap:!0},{children:[(0,i.jsx)(Xt.C,{label:"\n"+c("metrics:axis-label-time"),tickValues:v,tickFormat:function(e){return vn(e,{showDate:b})}}),(0,i.jsx)(Xt.C,{label:"\n\n\n\n\n"+c("metrics:axis-label-bytes"),dependentAxis:!0,tickFormat:hn}),(0,i.jsx)($t.G,{children:h.map((function(e,t){return(0,i.jsx)(en.A,{data:e.area},"chart-area-".concat(t))}))})]}))}}()}))},wn=n(67922),Cn=function(){return Cn=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Cn.apply(this,arguments)},Tn=function(e){var t=e.title,n=e.description,a=(0,o.useTranslation)().t;return(0,i.jsx)(r.Popover,Cn({"aria-label":t,headerContent:(0,i.jsx)("div",{children:t}),bodyContent:(0,i.jsx)("div",{children:n})},{children:(0,i.jsx)(wn.iC,{"aria-label":a("metrics:chart-popover-icon-screenreader-text",{title:t})})}))},Sn=n(47134),On=n(5408),In=function(){return In=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},In.apply(this,arguments)},Pn=function(e,t,n){if(n||2===arguments.length)for(var i,r=0,a=t.length;r<a;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},Ln=function(e){var t=e.incomingTopicsData,n=e.outgoingTopicsData,r=e.selectedTopic,a=e.duration,s=e.isLoading,c=e.emptyState,l=(0,o.useTranslation)().t,u=un(),d=u[0],p=u[1],f=p&&p>650?6:3,h=function(e,t,n,i,r){var a=[],o=[],s=Rn(e,i);if(s.length>0){var c=rn.i.value;o.push({color:c,line:s}),a.push({name:i,symbol:{fill:c}})}var l=Rn(t,r);return l.length>0&&(c=On.R.value,o.push({color:c,line:l}),a.push({name:r,symbol:{fill:c}})),{legendData:a,chartData:o,tickValues:gn(Array.from(new Set(Pn(Pn([],Object.keys(e),!0),Object.keys(t),!0))),n)}}(t,n,a,r?l("metrics:incoming_bytes",{topic:r}):l("metrics:incoming_bytes_all_topics"),r?l("metrics:outgoing_bytes",{topic:r}):l("metrics:outgoing_bytes_all_topics")),m=h.chartData,v=h.legendData,g=h.tickValues,b=Object.keys(t).length>0||Object.keys(n).length>0,y=mn(a);switch(!0){case s:return(0,i.jsx)(ln,{});case!b:return c;default:return(0,i.jsx)("div",In({ref:d},{children:(0,i.jsxs)(Jt.k,In({ariaTitle:l("metrics:total_bytes"),containerComponent:(0,i.jsx)(Wt.H,{labels:function(e){var t=e.datum;return"".concat(t.name,": ").concat(hn(t.y))},constrainToVisibleArea:!0}),legendAllowWrap:!0,legendPosition:"bottom-left",legendComponent:(0,i.jsx)(Zt.Qk,{data:v,itemsPerRow:f}),height:on,padding:sn,themeColor:Yt.nz.multiUnordered,width:p},{children:[(0,i.jsx)(Xt.C,{label:"\n"+l("metrics:axis-label-time"),tickValues:g,tickCount:an[a].ticks,tickFormat:function(e){return vn(e,{showDate:y})}}),(0,i.jsx)(Xt.C,{label:"\n\n\n\n\n"+l("metrics:axis-label-bytes"),dependentAxis:!0,tickFormat:hn}),(0,i.jsx)($t.G,{children:m.map((function(e,t){return(0,i.jsx)(Sn.m,{data:e.line,style:{data:{stroke:e.color}}},"chart-line-".concat(t))}))})]}))}))}};function Rn(e,t){var n=[];return Object.entries(e).map((function(e){var i=e[0],r=e[1];n.push({name:t,x:parseInt(i,10),y:r})})),n}var Dn,An=function(){return An=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},An.apply(this,arguments)},En=function(){var e=(0,o.useTranslation)(["metrics"]).t;return(0,i.jsxs)(r.EmptyState,An({variant:r.EmptyStateVariant.xs},{children:[(0,i.jsx)(r.EmptyStateIcon,{icon:te.LP,color:"var(--pf-global--warning-color--100)"}),(0,i.jsx)(r.Title,An({headingLevel:"h3",size:"md"},{children:e("metric_not_available")}))]}))},Nn=function(){return Nn=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Nn.apply(this,arguments)},Bn=function(){var e=(0,o.useTranslation)().t;return(0,i.jsxs)(r.EmptyState,Nn({variant:r.EmptyStateVariant.xs},{children:[(0,i.jsx)(r.EmptyStateIcon,{icon:Pe.W1}),(0,i.jsx)(r.Title,Nn({headingLevel:"h3",size:"lg"},{children:e("metrics:empty_state_no_metrics_data_title")})),(0,i.jsx)(r.EmptyStateBody,{children:e("metrics:empty_state_no_metrics_data_body")})]}))},Mn=n(37629),Fn=function(){return Fn=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Fn.apply(this,arguments)},zn=function(e){var t=e.onCreateTopic,n=(0,o.useTranslation)().t;return(0,i.jsxs)(r.EmptyState,Fn({variant:r.EmptyStateVariant.xs},{children:[(0,i.jsx)(r.EmptyStateIcon,{icon:Mn.R0}),(0,i.jsx)(r.Title,Fn({headingLevel:"h3",size:"lg"},{children:n("metrics:empty_state_no_topics_title")})),(0,i.jsx)(r.EmptyStateBody,{children:n("metrics:empty_state_no_topics_body")}),t&&(0,i.jsx)(r.Button,Fn({ouiaId:"button-create",variant:"primary",onClick:t},{children:n("metrics:empty_state_no_topics_create_topic")}))]}))},Un=function(){return Un=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Un.apply(this,arguments)},Vn=function(){var e=(0,o.useTranslation)().t;return(0,i.jsxs)(r.EmptyState,Un({variant:r.EmptyStateVariant.xs},{children:[(0,i.jsx)(r.EmptyStateIcon,{icon:Ne.k1}),(0,i.jsx)(r.Title,Un({headingLevel:"h3",size:"lg"},{children:e("metrics:empty_state_no_filter_title")})),(0,i.jsx)(r.EmptyStateBody,{children:(0,i.jsx)(o.Trans,{ns:"metrics",i18nKey:"empty_state_no_filter_body",components:{bold:(0,i.jsx)("strong",{})}})})]}))},Hn=function(){return Hn=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Hn.apply(this,arguments)},Gn=((Dn={})[Mt.Last5minutes]="Last 5 minutes",Dn[Mt.Last15minutes]="Last 15 minutes",Dn[Mt.Last30minutes]="Last 30 minutes",Dn[Mt.Last1hour]="Last 1 hour",Dn[Mt.Last3hours]="Last 3 hours",Dn[Mt.Last6hours]="Last 6 hours",Dn[Mt.Last12hours]="Last 12 hours",Dn[Mt.Last24hours]="Last 24 hours",Dn[Mt.Last2days]="Last 2 days",Dn[Mt.Last7days]="Last 7 days",Dn),Qn=function(e){var t=e.duration,n=e.keyText,a=e.ariaLabel,o=e.disableToolbar,s=e.onDurationChange,l=(0,c.useState)(!1),u=l[0],d=l[1],p="filter-by-time-".concat(Date.now());return(0,i.jsxs)(r.ToolbarItem,{children:[(0,i.jsx)("label",Hn({hidden:!0,id:p},{children:a})),(0,i.jsx)(r.Select,Hn({variant:r.SelectVariant.single,"aria-labelledby":p,onToggle:function(e){d(e)},onSelect:function(e,t){var n=Object.entries(Gn).find((function(e){return e[0],e[1]===t}));n&&s(parseInt(n[0],10)),d(!1)},selections:Gn[t],isOpen:u,isDisabled:o},{children:function(e){return[(0,i.jsx)(r.SelectGroup,Hn({label:"Relative time ranges"},{children:Object.values(Gn).map((function(t,n){return(0,i.jsx)(r.SelectOption,{value:t},"".concat(e,"-").concat(n))}))}),"".concat(e,"-group"))]}(n)}))]})},Kn=function(){return Kn=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Kn.apply(this,arguments)},qn={default:"150px",sm:"150px",md:"150px",lg:"200px",xl:"200px","2xl":"200px"},Jn=function(e){var t=e.selectedTopic,n=e.topicList,a=void 0===n?[]:n,s=e.disableToolbar,l=e.ariaLabel,u=e.onSetSelectedTopic,d=(0,o.useTranslation)().t,p=(0,c.useState)(!1),f=p[0],h=p[1],m=(0,c.useState)(Math.random()),v=m[0],g=m[1];(0,c.useEffect)((function(){return g(Math.random())}),[a]);var b=d("metrics:all_topics"),y=function(e){return[(0,i.jsx)(r.SelectOption,{value:b},"topic-filter-0"),(0,i.jsx)(r.SelectGroup,Kn({label:"Filter by topic"},{children:e.map((function(e,t){return(0,i.jsx)(r.SelectOption,{value:e,title:e},"topic-filter-".concat(t+1))}))}),"topic-filter-group")]},x=s||0===a.length,j="filter-by-topic-".concat(Date.now());return(0,i.jsxs)(r.ToolbarItem,Kn({widths:qn},{children:[(0,i.jsx)("label",Kn({hidden:!0,id:j},{children:l})),(0,i.jsx)(r.Select,Kn({variant:r.SelectVariant.single,onToggle:function(e){h(e)},onSelect:function(e,t){u(t!==b?t:void 0),h(!1)},selections:t||b,isOpen:f,placeholderText:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Ne.k1,{})," ",b]}),"aria-labelledby":j,onFilter:function(e,t){var n=a.filter((function(e){return-1!=e.indexOf(t)}))||[];return y(n)},isGrouped:!0,hasInlineFilter:!0,isDisabled:x,position:"left",className:"appserv-metrics-filterbytopic"},{children:y(a)}),v)]}))},Wn=function(){return Wn=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Wn.apply(this,arguments)},Zn=function(e){var t=e.isRefreshing,n=e.lastUpdated,a=void 0===n?new Date:n,s=e.ariaLabel,c=e.onRefresh,l=(0,o.useTranslation)(["metrics"]).t;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.ToolbarItem,{children:(0,i.jsx)(Me.t,{ariaLabel:s,onClick:c,isRefreshing:t})}),(0,i.jsx)(r.ToolbarItem,Wn({alignment:{default:"alignRight"},style:{color:"var(--pf-global--Color--200)"}},{children:(0,i.jsx)("div",Wn({className:"pf-u-font-size-xs"},{children:t?l("metrics:refreshing"):(0,i.jsxs)(i.Fragment,{children:[l("metrics:last-refresh"),(0,i.jsx)("br",{}),(0,i.jsx)(J.r,{date:a,format:"distanceToNow"}),l("metrics:last-refresh-distance")]})}))}))]})},Yn=function(){return Yn=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Yn.apply(this,arguments)},Xn=function(e){var t=e.title,n=e.selectedTopic,a=e.topicList,s=e.duration,c=e.isDisabled,l=e.isRefreshing,u=e.lastUpdated,d=e.onSetTimeDuration,p=e.onRefresh,f=e.onSetSelectedTopic,h=(0,o.useTranslation)().t;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.CardHeader,{children:(0,i.jsx)(r.CardTitle,Yn({component:"h2"},{children:t}))}),(0,i.jsx)(r.Divider,{}),(0,i.jsx)(r.Toolbar,{children:(0,i.jsxs)(r.ToolbarContent,{children:[(0,i.jsx)(Jn,{ariaLabel:h("metrics:topics_filter_by_topic"),selectedTopic:n,onSetSelectedTopic:f,topicList:a,disableToolbar:c}),(0,i.jsx)(Qn,{ariaLabel:h("metrics:topics_filter_by_time"),duration:s,onDurationChange:d,disableToolbar:c,keyText:"topic-metrics-time-filter"}),(0,i.jsx)(Zn,{isRefreshing:l,lastUpdated:u,onRefresh:p,ariaLabel:h("metrics:topics_refresh")})]})}),(0,i.jsx)(r.Divider,{})]})},$n=function(){return $n=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},$n.apply(this,arguments)},ei=function(e){var t=e.topics,n=e.incomingTopicsData,a=e.outgoingTopicsData,s=e.incomingMessageRate,c=e.selectedTopic,l=e.duration,u=e.partitions,d=e.backendUnavailable,p=e.isInitialLoading,f=e.isLoading,h=e.isRefreshing,m=e.isJustCreated,v=e.lastUpdated,g=e.onCreateTopic,b=e.onRefresh,y=e.onSelectedTopic,x=e.onDurationChange,j=(0,o.useTranslation)().t,_=0===t.length,k=void 0!==c&&void 0===t.find((function(e){return e===c})),w=k?(0,i.jsx)(Bn,{}):(0,i.jsx)(En,{});return(0,i.jsxs)(r.Card,$n({"data-testid":"metrics-topics"},{children:[(0,i.jsx)(Xn,{title:j("metrics:topic_metrics"),duration:l,onSetTimeDuration:x,isDisabled:d||m||_||f,isRefreshing:h,selectedTopic:c,onSetSelectedTopic:y,onRefresh:b,topicList:t,lastUpdated:v}),function(){switch(!0){case p:return(0,i.jsx)(qt,{});case d:return(0,i.jsx)(r.CardBody,{children:(0,i.jsx)(En,{})});case m&&!_:return(0,i.jsx)(r.CardBody,{children:(0,i.jsx)(zn,{})});case m&&_:return(0,i.jsx)(r.CardBody,{children:(0,i.jsx)(zn,{onCreateTopic:g})});case void 0!==c:return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ti,{}),(0,i.jsx)(r.CardBody,{children:(0,i.jsx)(Ln,{incomingTopicsData:n,outgoingTopicsData:a,selectedTopic:c,duration:l,isLoading:f,emptyState:w})}),(0,i.jsx)(r.Divider,{}),(0,i.jsx)(ii,{}),(0,i.jsx)(r.CardBody,{children:(0,i.jsx)(yn,{chartName:j("metrics:topic_incoming_message_rate"),yLabel:j("metrics:topic_incoming_message_rate_y_axis"),metrics:s,duration:l,isLoading:f,emptyState:w})}),(0,i.jsx)(r.Divider,{}),(0,i.jsx)(ni,{}),(0,i.jsx)(r.CardBody,{children:(0,i.jsx)(kn,{partitions:u,topic:c,duration:l,isLoading:f,emptyState:w})})]});default:return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ti,{}),(0,i.jsx)(r.CardBody,{children:(0,i.jsx)(Ln,{incomingTopicsData:n,outgoingTopicsData:a,selectedTopic:c,duration:l,isLoading:f,emptyState:w})}),(0,i.jsx)(r.Divider,{}),(0,i.jsx)(ii,{}),(0,i.jsx)(r.CardBody,{children:(0,i.jsx)(yn,{chartName:j("metrics:topic_incoming_message_rate"),yLabel:j("metrics:topic_incoming_message_rate_y_axis"),metrics:s,duration:l,isLoading:f,emptyState:w})}),(0,i.jsx)(r.Divider,{}),(0,i.jsx)(ni,{}),(0,i.jsx)(r.CardBody,{children:(0,i.jsx)(Vn,{})})]})}}()]}))},ti=function(){var e=(0,o.useTranslation)().t;return(0,i.jsxs)(r.CardTitle,$n({component:"h3"},{children:[e("metrics:total_bytes")," ",(0,i.jsx)(Tn,{title:e("metrics:total_bytes_popover_header"),description:e("metrics:topic_metrics_help_text")})]}))},ni=function(){var e=(0,o.useTranslation)().t;return(0,i.jsxs)(r.CardTitle,$n({component:"h3"},{children:[e("metrics:topic_partition_size")," ",(0,i.jsx)(Tn,{title:e("metrics:topic_partition_size_popover_header"),description:e("metrics:topic_partition_size_help_text")})]}))},ii=function(){var e=(0,o.useTranslation)().t;return(0,i.jsxs)(r.CardTitle,$n({component:"h3"},{children:[e("metrics:topic_incoming_message_rate")," ",(0,i.jsx)(Tn,{title:e("metrics:topic_incoming_message_rate_popover_header"),description:e("metrics:topic_incoming_message_rate_help_text")})]}))},ri=function(){return ri=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},ri.apply(this,arguments)},ai=function(e){var t=e.title,n=e.isDisabled,a=e.isRefreshing,s=e.lastUpdated,c=e.duration,l=e.onSetTimeDuration,u=e.onRefresh,d=(0,o.useTranslation)().t;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.CardHeader,{children:(0,i.jsx)(r.CardTitle,ri({component:"h2"},{children:t}))}),(0,i.jsx)(r.Divider,{}),(0,i.jsx)(r.Toolbar,{children:(0,i.jsxs)(r.ToolbarContent,{children:[(0,i.jsx)(Qn,{ariaLabel:d("metrics:kafka_instance_filter_by_time"),duration:c,onDurationChange:l,keyText:"kafka-metrics-time-filter",disableToolbar:n}),(0,i.jsx)(Zn,{isRefreshing:a,lastUpdated:s,onRefresh:u,ariaLabel:d("metrics:kafka_instance_refresh")})]})}),(0,i.jsx)(r.Divider,{})]})},oi=function(){return oi=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},oi.apply(this,arguments)},si=function(e){var t=e.usedDiskMetrics,n=e.clientConnectionsMetrics,a=e.connectionAttemptRateMetrics,s=e.duration,c=e.lastUpdated,l=e.backendUnavailable,u=e.isInitialLoading,d=e.isLoading,p=e.isRefreshing,f=e.isJustCreated,h=e.diskSpaceLimit,m=e.connectionsLimit,v=e.connectionRateLimit,g=e.onRefresh,b=e.onDurationChange,y=(0,o.useTranslation)("metrics").t;return(0,i.jsxs)(r.Card,oi({"data-testid":"metrics-kafka-instance"},{children:[(0,i.jsx)(ai,{title:y("kafka_instance_metrics"),duration:s,lastUpdated:c,onSetTimeDuration:b,isDisabled:l||f||d,isRefreshing:p,onRefresh:g}),function(){switch(!0){case u:return(0,i.jsx)(qt,{});case l:return(0,i.jsx)(r.CardBody,{children:(0,i.jsx)(En,{})});case f:return(0,i.jsx)(r.CardBody,{children:(0,i.jsx)(Gt,{})});default:return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ci,{title:y("used_disk_space"),helperText:y("used_disk_space_help_text")}),(0,i.jsx)(r.CardBody,{children:(0,i.jsx)(yn,{chartName:y("used_disk_space"),yLabel:y("axis-label-bytes"),metrics:t,duration:s,formatValue:hn,usageLimit:h,isLoading:d,emptyState:(0,i.jsx)(En,{})})}),(0,i.jsx)(r.Divider,{}),(0,i.jsx)(ci,{title:y("client_connections"),helperText:y("client_connections_helper_text")}),(0,i.jsx)(r.CardBody,{children:(0,i.jsx)(yn,{chartName:y("client_connections"),yLabel:y("client_connections_y_axis"),metrics:n,duration:s,usageLimit:m,isLoading:d,emptyState:(0,i.jsx)(En,{})})}),(0,i.jsx)(r.Divider,{}),(0,i.jsx)(ci,{title:y("connection_attempt_rate"),helperText:y("connection_attempt_rate_help_text")}),(0,i.jsx)(r.CardBody,{children:(0,i.jsx)(yn,{chartName:y("connection_attempt_rate"),yLabel:y("connection_attempt_rate_yaxis"),metrics:a,duration:s,usageLimit:v,isLoading:d,emptyState:(0,i.jsx)(En,{})})})]})}}()]}))},ci=function(e){var t=e.title,n=e.helperText;return(0,i.jsxs)(r.CardTitle,oi({component:"h3"},{children:[t," ",(0,i.jsx)(Tn,{title:t,description:n})]}))},li=function(){return li=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},li.apply(this,arguments)},ui=function(e){var t=e.metric,n=e.name,a=e.popover,o=e.isLoading;return(0,i.jsxs)(r.Card,li({isFullHeight:!0,"data-testid":n},{children:[(0,i.jsxs)(r.CardTitle,li({component:"h3"},{children:[n," ",(0,i.jsx)(Tn,{title:n,description:a})]})),(0,i.jsxs)(r.CardBody,{children:[!o&&(void 0===t?(0,i.jsx)(r.Bullseye,{children:(0,i.jsx)(En,{})}):(0,i.jsx)(r.Title,li({headingLevel:"h3",size:"4xl","aria-valuetext":"".concat(t," ").concat(n)},{children:t}))),o&&(0,i.jsx)(r.Skeleton,{width:"50px",shape:"square"})]})]}))},di=function(){return di=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},di.apply(this,arguments)},pi=function(e){var t=e.isClosed,n=e.onClickClose,a=(0,o.useTranslation)("metrics").t;return t?(0,i.jsx)(i.Fragment,{children:" "}):(0,i.jsx)(r.Alert,di({isInline:!0,variant:"info",title:a("metrics_lag_title"),actionClose:(0,i.jsx)(r.AlertActionCloseButton,{onClose:n})},{children:(0,i.jsx)("p",{children:a("metrics_lag_description")})}))},fi=n(68063),hi=function(){return hi=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},hi.apply(this,arguments)},mi=function(e){var t=e.metric,n=e.isLoading,a=e.topicPartitionsLimit,s=void 0===a?0:a,c=(0,o.useTranslation)().t;return(0,i.jsxs)(r.Card,hi({isFullHeight:!0,"data-testid":c("metrics:metric_kpi_topicPartitions_name")},{children:[(0,i.jsxs)(r.CardTitle,hi({component:"h3"},{children:[c("metrics:metric_kpi_topicPartitions_name")," ",(0,i.jsx)(Tn,{title:c("metrics:metric_kpi_topicPartitions_name"),description:c("metrics:metric_kpi_topicPartitions_description")})]})),(0,i.jsxs)(r.CardBody,{children:[!n&&(void 0===t?(0,i.jsx)(r.Bullseye,{children:(0,i.jsx)(En,{})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(r.Title,hi({headingLevel:"h3",size:"4xl","aria-valuetext":"".concat(t," ").concat(c("metrics:metric_kpi_topicPartitions_name"))},{children:[t," ",t>=s?(0,i.jsx)(fi.$O,{color:"var(--pf-global--danger-color--100)"}):t>=.95*s?(0,i.jsx)(te.LP,{color:"var(--pf-global--warning-color--100)"}):""]})),(0,i.jsx)(r.TextContent,{children:(0,i.jsx)(r.Text,{children:c("metrics:partition_limit",{topic:s})})})]})),n&&(0,i.jsx)(r.Skeleton,{width:"50px",shape:"square"})]}),t&&t>=s?(0,i.jsx)(r.CardFooter,{children:(0,i.jsxs)(r.Alert,hi({isExpandable:!0,isInline:!0,variant:r.AlertVariant.danger,title:c("metrics:partition_limit_reached_title")},{children:[(0,i.jsx)("p",{children:c("metrics:partition_limit_reached_description_1")}),(0,i.jsx)("p",{children:c("metrics:partition_limit_reached_description_2")})]}))}):t&&t>=.95*s?(0,i.jsx)(r.CardFooter,{children:(0,i.jsxs)(r.Alert,hi({role:"alert",isExpandable:!0,isInline:!0,variant:r.AlertVariant.warning,title:c("metrics:partition_limit_approaching_title")},{children:[(0,i.jsx)("p",{children:c("metrics:partition_limit_approaching_description_1",{limit:s})}),(0,i.jsx)("p",{children:c("metrics:partition_limit_approaching_description_2")})]}))}):" "]}))},vi=n(81397),gi=function(){return gi=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},gi.apply(this,arguments)},bi={initial:"loading",states:{loading:{invoke:{src:"api"},on:{fetchFail:{actions:"incrementRetries",target:"failure"}}},failure:{after:{1e3:[{cond:"canRetryFetching",target:"loading"},{target:"#kafkaInstanceMetrics.criticalFail"}]}}}},yi=(0,y.C)({tsTypes:{},schema:{context:{},events:{}},id:"kafkaInstanceMetrics",context:{lastUpdated:void 0,duration:Mt.Last1hour,usedDiskSpaceMetrics:{},clientConnectionsMetrics:{},connectionAttemptRateMetrics:{},diskSpaceLimit:void 0,connectionsLimit:void 0,connectionRateLimit:void 0,fetchFailures:0},initial:"initialLoading",states:{initialLoading:gi(gi({},bi),{tags:"initialLoading",entry:"setFetchTimestamp",on:{fetchSuccess:[{cond:"isJustCreated",actions:"setMetrics",target:"#kafkaInstanceMetrics.withResponse"},{actions:"setMetrics",target:"justCreated"}]}}),callApi:gi(gi({},bi),{tags:"loading",entry:"setFetchTimestamp",on:{fetchSuccess:{actions:"setMetrics",target:"#kafkaInstanceMetrics.withResponse"}}}),criticalFail:{tags:"failed",on:{refresh:{actions:"resetRetries",target:"callApi"}}},justCreated:{tags:"justCreated",on:{refresh:{target:"initialLoading"}}},withResponse:{tags:"withResponse",on:{refresh:{target:"refreshing"},selectDuration:{actions:"setDuration",target:"callApi"}}},refreshing:{tags:"refreshing",entry:"setFetchTimestamp",invoke:{src:"api"},on:{fetchSuccess:{actions:"setMetrics",target:"withResponse"},fetchFail:{target:"withResponse"}}}}},{actions:{setFetchTimestamp:(0,x.f0)({lastUpdated:function(e){return new Date}}),setMetrics:(0,x.f0)((function(e,t){var n=t.usedDiskSpaceMetrics,i=t.clientConnectionsMetrics,r=t.connectionAttemptRateMetrics,a=t.diskSpaceLimit,o=t.connectionsLimit,s=t.connectionRateLimit;return{usedDiskSpaceMetrics:n,clientConnectionsMetrics:i,connectionAttemptRateMetrics:r,diskSpaceLimit:a*Math.pow(1024,3),connectionsLimit:o,connectionRateLimit:s}})),incrementRetries:(0,x.f0)({fetchFailures:function(e){return e.fetchFailures+1}}),resetRetries:(0,x.f0)({fetchFailures:function(e){return 0}}),setDuration:(0,x.f0)((function(e,t){return{duration:t.duration,usedDiskSpaceMetrics:{},clientConnectionsMetrics:{},connectionAttemptRateMetrics:{}}}))},guards:{canRetryFetching:function(e){return e.fetchFailures<3},isJustCreated:function(e,t){return"fetchSuccess"===t.type&&(Object.keys(t.clientConnectionsMetrics).length>0||Object.keys(t.connectionAttemptRateMetrics).length>0||Object.keys(t.usedDiskSpaceMetrics).length>0)}}}),xi=function(){return xi=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},xi.apply(this,arguments)},ji={initial:"loading",states:{loading:{invoke:{src:"api"},on:{fetchFail:{actions:"incrementRetries",target:"failure"}}},failure:{after:{1e3:[{cond:"canRetryFetching",target:"loading"},{target:"#topicsMetrics.criticalFail"}]}}}},_i=(0,y.C)({tsTypes:{},schema:{context:{},events:{}},id:"topicsMetrics",context:{lastUpdated:void 0,selectedTopic:void 0,duration:Mt.Last1hour,kafkaTopics:[],metricsTopics:[],bytesOutgoing:{},bytesIncoming:{},bytesPerPartition:{},incomingMessageRate:{},fetchFailures:0},initial:"initialLoading",states:{initialLoading:xi(xi({},ji),{tags:"initialLoading",entry:"setFetchTimestamp",on:{fetchSuccess:[{cond:"isJustCreated",actions:"setMetrics",target:"#topicsMetrics.withResponse"},{actions:"setMetrics",target:"justCreated"}]}}),callApi:xi(xi({},ji),{tags:"loading",entry:"setFetchTimestamp",on:{fetchSuccess:{actions:"setMetrics",target:"#topicsMetrics.withResponse"}}}),criticalFail:{tags:"failed",on:{refresh:{actions:"resetRetries",target:"callApi"}}},justCreated:{tags:"justCreated",on:{refresh:{target:"initialLoading"}}},withResponse:{tags:"withResponse",initial:"idle",states:{idle:{},refreshing:{tags:"refreshing",entry:"setFetchTimestamp",invoke:{src:"api"},on:{fetchSuccess:{actions:"setMetrics",target:"#topicsMetrics.withResponse"},fetchFail:{target:"#topicsMetrics.withResponse"}}}},on:{refresh:{target:"#topicsMetrics.withResponse.refreshing"},selectTopic:{actions:"setTopic",target:"callApi"},selectDuration:{actions:"setDuration",target:"callApi"}}}}},{actions:{setFetchTimestamp:(0,x.f0)({lastUpdated:function(e){return new Date}}),setMetrics:(0,x.f0)((function(e,t){return{kafkaTopics:t.kafkaTopics,metricsTopics:t.metricsTopics,bytesPerPartition:t.bytesPerPartition,bytesIncoming:t.bytesIncoming,bytesOutgoing:t.bytesOutgoing,incomingMessageRate:t.incomingMessageRate}})),incrementRetries:(0,x.f0)({fetchFailures:function(e){return e.fetchFailures+1}}),resetRetries:(0,x.f0)({fetchFailures:function(e){return 0}}),setTopic:(0,x.f0)({selectedTopic:function(e,t){return t.topic}}),setDuration:(0,x.f0)({duration:function(e,t){return t.duration}})},guards:{canRetryFetching:function(e){return e.fetchFailures<3},isJustCreated:function(e,t){return"fetchSuccess"===t.type&&(Object.keys(t.bytesIncoming).length>0||Object.keys(t.bytesOutgoing).length>0||Object.keys(t.bytesPerPartition).length>0||Object.keys(t.incomingMessageRate).length>0)}}}),ki=function(){return ki=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},ki.apply(this,arguments)},wi={initial:"loading",states:{loading:{invoke:{src:"api"},on:{fetchFail:{actions:"incrementRetries",target:"failure"}}},failure:{after:{1e3:[{cond:"canRetryFetching",target:"loading"},{target:"#kpis.criticalFail"}]}}}},Ci=(0,y.C)({tsTypes:{},schema:{context:{},events:{}},id:"kpis",context:{topics:void 0,topicPartitions:void 0,consumerGroups:void 0,topicPartitionsLimit:void 0,fetchFailures:0},initial:"initialLoading",states:{initialLoading:ki(ki({},wi),{tags:"initialLoading",on:{fetchSuccess:[{cond:"isJustCreated",actions:"setMetrics",target:"#kpis.withResponse"},{actions:"setMetrics",target:"justCreated"}]}}),callApi:ki(ki({},wi),{tags:"loading",on:{fetchSuccess:{actions:"setMetrics",target:"#kpis.withResponse"}}}),criticalFail:{tags:"failed",on:{refresh:{actions:"resetRetries",target:"callApi"}}},justCreated:{tags:"justCreated",on:{refresh:{target:"initialLoading"}}},withResponse:{tags:"withResponse",initial:"idle",states:{idle:{},refreshing:{tags:"refreshing",invoke:{src:"api"},on:{fetchSuccess:{actions:"setMetrics",target:"#kpis.withResponse"},fetchFail:{target:"#kpis.withResponse"}}}},on:{refresh:{target:"#kpis.withResponse.refreshing"}}}}},{actions:{setMetrics:(0,x.f0)((function(e,t){return{topics:t.topics,topicPartitions:t.topicPartitions,consumerGroups:t.consumerGroups,topicPartitionsLimit:t.topicPartitionsLimit}})),incrementRetries:(0,x.f0)({fetchFailures:function(e){return e.fetchFailures+1}}),resetRetries:(0,x.f0)({fetchFailures:function(e){return 0}})},guards:{canRetryFetching:function(e){return e.fetchFailures<3},isJustCreated:function(e,t){return"fetchSuccess"===t.type&&(void 0!==t.topics||void 0!==t.topicPartitions||void 0!==t.consumerGroups||void 0!==t.topicPartitionsLimit)}}}),Ti=function(){return Ti=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Ti.apply(this,arguments)},Si=(0,c.createContext)(null),Oi=function(e){var t=e.children,n=e.getKafkaInstanceMetrics,r=(0,vi.k)((function(){return yi.withConfig({services:{api:function(e){return function(t){n({duration:e.duration,interval:an[e.duration].interval}).then((function(e){return t(Ti({type:"fetchSuccess"},e))})).catch((function(e){console.error("Failed fetching data",e),t("fetchFail")}))}}}})}),{devTools:!0});return(0,i.jsx)(Si.Provider,Ti({value:{service:r}},{children:t}))},Ii=function(){return Ii=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Ii.apply(this,arguments)},Pi=(0,c.createContext)(null),Li=function(e){var t=e.children,n=e.getMetricsKpi,r=(0,vi.k)((function(){return Ci.withConfig({services:{api:function(){return function(e){n().then((function(t){return e(Ii({type:"fetchSuccess"},t))})).catch((function(t){console.error("Failed fetching data",t),e("fetchFail")}))}}}})}),{devTools:!0});return(0,i.jsx)(Pi.Provider,Ii({value:{service:r}},{children:t}))},Ri=function(){return Ri=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Ri.apply(this,arguments)},Di=(0,c.createContext)(null),Ai=function(e){var t=e.children,n=e.getTopicsMetrics,r=(0,vi.k)((function(){return _i.withConfig({services:{api:function(e){return function(t){n({selectedTopic:e.selectedTopic,duration:e.duration,interval:an[e.duration].interval}).then((function(e){return t(Ri({type:"fetchSuccess"},e))})).catch((function(e){console.error("Failed fetching data",e),t("fetchFail")}))}}}})}),{devTools:!0});return(0,i.jsx)(Di.Provider,Ri({value:{service:r}},{children:t}))},Ei=n(95947),Ni=function(){return Ni=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Ni.apply(this,arguments)};function Bi(){var e=(0,c.useContext)(Si).service,t=(0,Ei.v)(e,(0,c.useCallback)((function(e){return Ni(Ni({},e.context),{isInitialLoading:e.hasTag("initialLoading"),isRefreshing:e.hasTag("refreshing"),isLoading:e.hasTag("loading"),isFailed:e.hasTag("failed"),isJustCreated:e.hasTag("justCreated")})}),[])),n=t.usedDiskSpaceMetrics,i=t.clientConnectionsMetrics,r=t.connectionAttemptRateMetrics,a=t.diskSpaceLimit,o=t.connectionsLimit,s=t.connectionRateLimit,l=t.duration,u=t.lastUpdated,d=t.isInitialLoading,p=t.isLoading,f=t.isRefreshing,h=t.isFailed,m=t.isJustCreated,v=(0,c.useCallback)((function(t){return e.send({type:"selectDuration",duration:t})}),[e]);return{usedDiskSpaceMetrics:n,clientConnectionsMetrics:i,connectionAttemptRateMetrics:r,diskSpaceLimit:a,connectionsLimit:o,connectionRateLimit:s,lastUpdated:u,isInitialLoading:d,isLoading:p,isRefreshing:f,isFailed:h,isJustCreated:m,duration:l,onDurationChange:v,onRefresh:(0,c.useCallback)((function(){return e.send("refresh")}),[e])}}var Mi=function(){return Mi=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Mi.apply(this,arguments)},Fi=function(){return Fi=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Fi.apply(this,arguments)},zi=function(e,t,n){if(n||2===arguments.length)for(var i,r=0,a=t.length;r<a;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};function Ui(){var e=(0,c.useContext)(Di).service,t=(0,Ei.v)(e,(0,c.useCallback)((function(e){return Fi(Fi({},e.context),{isInitialLoading:e.hasTag("initialLoading"),isRefreshing:e.hasTag("refreshing"),isLoading:e.hasTag("loading"),isFailed:e.hasTag("failed"),isJustCreated:e.hasTag("justCreated")})}),[])),n=t.selectedTopic,i=t.duration,r=t.kafkaTopics,a=t.metricsTopics,o=t.bytesIncoming,s=t.bytesOutgoing,l=t.bytesPerPartition,u=t.incomingMessageRate,d=t.isInitialLoading,p=t.isLoading,f=t.isRefreshing,h=t.isFailed,m=t.isJustCreated,v=t.lastUpdated,g=(0,c.useCallback)((function(t){return e.send({type:"selectTopic",topic:t})}),[e]),b=(0,c.useCallback)((function(t){return e.send({type:"selectDuration",duration:t})}),[e]),y=(0,c.useCallback)((function(){return e.send("refresh")}),[e]);return{isInitialLoading:d,isLoading:p,isRefreshing:f,isFailed:h,isJustCreated:m,lastUpdated:v,topics:(0,c.useMemo)((function(){var e=Array.from(new Set(zi(zi([],r,!0),a,!0)));return e.sort((function(e,t){return e.localeCompare(t)})),e}),[r,a]),selectedTopic:n,duration:i,bytesIncoming:o,bytesOutgoing:s,bytesPerPartition:l,incomingMessageRate:u,onTopicChange:g,onDurationChange:b,onRefresh:y}}var Vi=function(){return Vi=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Vi.apply(this,arguments)},Hi=function(e){var t=e.getKafkaInstanceMetrics,n=e.getTopicsMetrics,r=e.getMetricsKpi,a=e.onCreateTopic,o=e.onAlertClose,s=e.hasUserAlreadyClosedAlert;return(0,i.jsx)(Ai,Vi({getTopicsMetrics:n},{children:(0,i.jsx)(Oi,Vi({getKafkaInstanceMetrics:t},{children:(0,i.jsx)(Li,Vi({getMetricsKpi:r},{children:(0,i.jsx)(Gi,{onCreateTopic:a,onClickClose:o,isClosed:s})}))}))}))},Gi=function(e){var t=e.onCreateTopic,n=e.onClickClose,r=e.isClosed,a=(0,o.useTranslation)().t,s=Bi(),l=Ui(),u=function(){var e=(0,c.useContext)(Pi).service,t=(0,Ei.v)(e,(0,c.useCallback)((function(e){return Mi(Mi({},e.context),{isInitialLoading:e.hasTag("initialLoading"),isRefreshing:e.hasTag("refreshing"),isLoading:e.hasTag("loading"),isFailed:e.hasTag("failed"),isJustCreated:e.hasTag("justCreated")})}),[])),n=t.topics,i=t.topicPartitions,r=t.topicPartitionsLimit,a=t.consumerGroups;return{isInitialLoading:t.isInitialLoading,isLoading:t.isLoading,isRefreshing:t.isRefreshing,isFailed:t.isFailed,isJustCreated:t.isJustCreated,topics:n,topicPartitions:i,consumerGroups:a,topicPartitionsLimit:r,onRefresh:(0,c.useCallback)((function(){return e.send("refresh")}),[e])}}();switch(!0){case s.isInitialLoading||l.isInitialLoading||u.isInitialLoading:return(0,i.jsx)(Ut,{});case s.isFailed&&l.isFailed&&l.isFailed:case s.isJustCreated&&l.isJustCreated&&u.isJustCreated:return(0,i.jsx)(Gt,{});default:return(0,i.jsx)(Kt,{metricsLagAlert:(0,i.jsx)(pi,{onClickClose:n,isClosed:r}),topicsKpi:(0,i.jsx)(ui,{metric:u.topics,isLoading:u.isInitialLoading||u.isLoading,name:a("metrics:metric_kpi_topics_name"),popover:a("metrics:metric_kpi_topics_description")}),topicPartitionsKpi:(0,i.jsx)(mi,{metric:u.topicPartitions,isLoading:u.isInitialLoading||u.isLoading,topicPartitionsLimit:u.topicPartitionsLimit}),consumerGroupKpi:(0,i.jsx)(ui,{metric:u.consumerGroups,isLoading:u.isInitialLoading||u.isLoading,name:a("metrics:metric_kpi_consumerGroup_name"),popover:a("metrics:metric_kpi_consumerGroup_description")}),diskSpaceMetrics:(0,i.jsx)(Qi,{}),topicMetrics:(0,i.jsx)(Ki,{onCreateTopic:t})})}},Qi=function(){var e=Bi(),t=e.isInitialLoading,n=e.isLoading,r=e.isRefreshing,a=e.isFailed,o=e.isJustCreated,s=e.duration,c=e.lastUpdated,l=e.usedDiskSpaceMetrics,u=e.clientConnectionsMetrics,d=e.connectionAttemptRateMetrics,p=e.diskSpaceLimit,f=e.connectionsLimit,h=e.connectionRateLimit,m=e.onDurationChange,v=e.onRefresh;return(0,i.jsx)(si,{usedDiskMetrics:l,clientConnectionsMetrics:u,connectionAttemptRateMetrics:d,duration:s,backendUnavailable:a,isInitialLoading:t,isLoading:n,isRefreshing:r,isJustCreated:o,lastUpdated:c,onRefresh:v,onDurationChange:m,diskSpaceLimit:p||0,connectionsLimit:f||0,connectionRateLimit:h||0})},Ki=function(e){var t=e.onCreateTopic,n=Ui(),r=n.isInitialLoading,a=n.isLoading,o=n.isRefreshing,s=n.isFailed,c=n.isJustCreated,l=n.lastUpdated,u=n.selectedTopic,d=n.duration,p=n.topics,f=n.bytesIncoming,h=n.bytesOutgoing,m=n.bytesPerPartition,v=n.incomingMessageRate,g=n.onDurationChange,b=n.onTopicChange,y=n.onRefresh;return(0,i.jsx)(ei,{backendUnavailable:s,topics:p,incomingTopicsData:f,outgoingTopicsData:h,partitions:m,incomingMessageRate:v,duration:d,isInitialLoading:r,isLoading:a,isRefreshing:o,isJustCreated:c,lastUpdated:l,selectedTopic:u,onRefresh:y,onSelectedTopic:b,onDurationChange:g,onCreateTopic:t})},qi=function(){return qi=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},qi.apply(this,arguments)},Ji=function(e){var t=e.onSubmitReAuthentication,n=e.reauthenticationEnabled,a=(0,o.useTranslation)("kafka").t,s=(0,c.useState)(n?"On":"Off"),l=s[0],u=s[1],d=(0,c.useState)(!1),p=d[0],f=d[1],h=function(){f(!1)},m=function(e){u(e?"TurningOn":"TurningOff"),t(e).then((function(e){u(e?"On":"Off"),a("settings.success_alert",{status:e?"on":"off"})})).catch((function(){u(e?"Off":"On"),a("settings.error_alert_title"),a("settings.error_alert_title_description")}))};return(0,i.jsx)(r.PageSection,qi({isFilled:!0,hasOverflowScroll:!0},{children:(0,i.jsxs)(r.Stack,qi({hasGutter:!0},{children:[(0,i.jsx)(r.StackItem,{children:(0,i.jsx)(r.Card,{children:(0,i.jsx)(r.CardBody,{children:a("settings.kafka_instance_settings_label")})})}),(0,i.jsx)(r.StackItem,{children:(0,i.jsx)(r.Card,qi({className:"mas--settings__card"},{children:(0,i.jsx)(r.CardBody,{children:(0,i.jsxs)(r.Flex,qi({flexWrap:{default:"nowrap"}},{children:[(0,i.jsx)(r.FlexItem,qi({grow:{default:"grow"}},{children:(0,i.jsxs)(r.Flex,{children:[(0,i.jsx)(r.FlexItem,qi({component:"span",spacer:{default:"spacerSm"}},{children:(0,i.jsxs)("strong",{children:[a("settings.connection_re_authentication_label"),":"]})})),(0,i.jsx)(r.FlexItem,{children:function(){switch(l){case"On":return a("settings.Connection_re_authentication_states.on");case"TurningOff":return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.Spinner,{size:"md","aria-valuetext":a("settings.Connection_re_authentication_states.turning_off"),"aria-label":a("settings.connection_re_authentication_label")})," ",a("settings.Connection_re_authentication_states.turning_off")]});case"Off":return a("settings.Connection_re_authentication_states.off");case"TurningOn":return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.Spinner,{size:"md","aria-valuetext":"settings.Connection_re_authentication_states.turning_on","aria-label":a("settings.connection_re_authentication_label")})," ",a("settings.Connection_re_authentication_states.turning_on")]});default:return null}}()})]})})),(0,i.jsx)(r.FlexItem,{children:(0,i.jsx)(r.Switch,{id:"Connection-re-authentication-switch","aria-label":a("settings.connection_re_authentication_label"),isChecked:"On"===l||"TurningOff"===l,isDisabled:"TurningOff"===l||"TurningOn"===l,onChange:function(e){"On"===l?f(!0):m(e)}})}),(0,i.jsx)(r.Modal,qi({variant:r.ModalVariant.small,isOpen:p,title:a("settings.warning_title"),titleIconVariant:"warning",actions:[(0,i.jsx)(r.Button,qi({variant:"primary",onClick:function(){f(!1),m(!1)}},{children:a("settings.turn_off_button_label")}),"confirm"),(0,i.jsx)(r.Button,qi({variant:"link",onClick:h},{children:a("common:cancel")}),"cancel")],onClose:h},{children:a("settings.warning_description")}))]}))})}))})]}))}))}},93987:(e,t,n)=>{e.exports=n.p+"fonts/Logo-AWS.svg"},40412:(e,t,n)=>{e.exports=n.p+"fonts/Logo-Azure.svg"},84840:(e,t,n)=>{e.exports=n.p+"fonts/Logo-GCP.svg"},90504:(e,t,n)=>{e.exports=n.p+"fonts/Logo-Redhat.svg"}}]);
//# sourceMappingURL=../sourcemaps/875.b56b12a587f7b7aefd3e3c3895e98dc6.js.map