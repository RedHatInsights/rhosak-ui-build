"use strict";(self.webpackChunkconsoledot_rhosak=self.webpackChunkconsoledot_rhosak||[]).push([[996],{91245:(e,t,n)=>{n.d(t,{Z:()=>Tt});var r=n(52322),i=n(96533),a=n(83215),o=n(19961),s=n(55140),c=n(99521),l=n(82820),u=n(7267),d=n(93741),p=n(13617);function f(){var e=(0,s.Z)().isBeta,t="".concat(document.location.origin).concat(e()?"/beta":"");return(0,l.useCallback)((function(e){if(!e.startsWith("/"))throw new Error("Invalid href provided to useConsoledotLink, href must start with '/'");if(!e.startsWith("/")||e.includes(".."))throw new Error("Invalid href provided to useConsoledotLink, href can't contain relative bits");return"".concat(t).concat(e)}),[t])}var m=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},h=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function v(){var e=this,t=(0,s.Z)().auth,n=(0,l.useCallback)((function(){return m(e,void 0,void 0,(function(){var e,n,r,i,a,o,s;return h(this,(function(c){switch(c.label){case 0:return[4,t.getUser()];case 1:return e=c.sent(),n=null===(a=null===(i=null==e?void 0:e.identity)||void 0===i?void 0:i.user)||void 0===a?void 0:a.username,r=null===(s=null===(o=null==e?void 0:e.identity)||void 0===o?void 0:o.user)||void 0===s?void 0:s.is_org_admin,[2,{username:n,isOrgAdmin:r}]}}))}))}),[t]);return{userData:(0,d.aF)({getUser:n,suspense:!0}).data}}var g=n(5916),b=n(57903),y=function(){var e=(0,b.useDispatch)();return{addAlert:function(t,n,r,i,a){e((0,g.addNotification)({variant:t,title:n,description:a,dismissable:r,id:i}))}}},x="create",j="delete",_="change-owner",k="terms-and-conditions",C=[x,k],w="/kafkas",S="".concat(w),T="".concat(S,"/").concat(x),O=function(e){return"".concat(S,"/").concat(e)},I=function(e){return"".concat(O(e),"/").concat(j)},P=function(e){return"".concat(O(e),"/").concat(_)},A="".concat(S,"/:id?/:section(").concat(j,"|").concat(_,")?"),L="".concat(S,"/").concat(k),E="".concat(S,"/").concat(x),D="".concat(S,"/:id/").concat(j),R="".concat(S,"/:id/").concat(_),N="/clusters",z=function(){return z=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},z.apply(this,arguments)},B=(0,l.createContext)(null),V=function(e){var t=e.children,n=f(),i=(0,u.$B)(A);if(!i)throw Error("DrawerProvider used outside the expected route");var a=i.params.id&&C.includes(i.params.id)||void 0!==i.params.section?void 0:i.params.id,o=(0,d.NP)(a).data,s=(0,l.useState)(void 0!==a&&i.isExact),c=s[0],m=s[1],h=(0,l.useState)("details"),v=h[0],g=h[1],b=(0,l.useRef)(),y=(0,d.dQ)().data,x=(0,l.useCallback)((function(e){m((function(t){var n=void 0!==e?e:!t;return!1===n&&b.current&&b.current(),n}))}),[]);(0,l.useEffect)((function(){o||m(!1)}),[o]);var j=(0,l.useMemo)((function(){return{selectedInstance:a,activeTab:v,setActiveTab:g,isExpanded:void 0!==a&&c,toggleExpanded:x,onClose:b}}),[v,c,a,x]);return(0,r.jsx)(B.Provider,z({value:j},{children:(0,r.jsx)(p.dL,z({instance:o,activeTab:v,onTabChange:g,isExpanded:c,onClose:function(){return x(!1)},tokenEndpointUrl:y,serviceAccountsHref:n("/application-services/service-accounts")},{children:t}))}))};function F(e){var t=(0,l.useContext)(B);return t.onClose.current=e,t}var H=n(89061),G=n(80589),U=function(){return U=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},U.apply(this,arguments)},M=function(e){var t=e.children,n=e.redirectUrl,i=(0,u.TH)().key;return(0,r.jsx)(G.ErrorBoundary,U({resetKeys:[i],fallbackRender:function(){return(0,r.jsx)(Q,{redirectUrl:n})}},{children:t}))},Q=function(e){var t=e.redirectUrl,n=(0,d._C)().reset;return(0,l.useEffect)((function(){return n}),[n]),(0,r.jsx)(u.l_,{to:t})},q=n(2529),K=n(60872),$=n(87418),W=n(18767);function J(e){var t=e.instancesHref,n=e.instanceSelectedHref,r=e.instanceCreationHref,i=e.instanceDeletionHref,a=e.instanceChangeOwnerHref,o=(0,u.k6)(),c=(0,s.Z)().quickStarts,f=F((0,l.useCallback)((function(){o.replace(t)}),[o,t])),m=f.selectedInstance,h=f.toggleExpanded,v=f.setActiveTab,g=f.isExpanded,b=(0,p.RC)(),y=(0,K.J)(),x=y.page,j=y.perPage,_=y.setPagination,k=y.setPaginationQuery,C=(0,l.useCallback)((function(){return k(1,j)}),[j,k]),w=(0,$.R)("names",C),S=(0,$.R)("owners",C),T=(0,$.R)("statuses",C),O=(0,W.b)(d.Q0,b.fields,"createdAt","desc"),I=O[0],P=O[1],A=O[2],L=(0,l.useCallback)((function(){w.clearChained(S.clearChained(T.clearChained(k(1,j))),!0)}),[w,S,j,k,T]),E=(0,l.useCallback)((function(e,t){m===e&&g?h(!1):(o.replace(n(e)),h(!0),v(t))}),[o,n,g,m,v,h]),D=(0,l.useCallback)((function(e){E(e.id,"details")}),[E]),R=(0,l.useCallback)((function(e){E(e.id,"connections")}),[E]),N=(0,l.useCallback)((function(){o.push(r)}),[o,r]),z=(0,l.useCallback)((function(e){var t=e.id;o.push(i(t))}),[o,i]),B=(0,l.useCallback)((function(e){var t=e.id;o.push(a(t))}),[o,a]),V=(0,l.useCallback)((function(){return c.toggle("getting-started")}),[c]);return{selectedInstance:m,page:x,perPage:j,setPagination:_,namesChips:w,ownersChips:S,statusesChips:T,isColumnSortable:I,sort:P,sortDirection:A,onClearAllFilters:L,onDetailsClick:D,onConnectionsClick:R,onCreate:N,onDelete:z,onChangeOwner:B,onQuickstartGuide:V}}var Z=function(e){var t=e.instancesHref,n=e.instanceDeletionHref,i=e.instanceSelectedHref,a=e.instanceCreationHref,o=e.instanceChangeOwnerHref,s=e.getUrlForInstance,c=J({instancesHref:t,instanceDeletionHref:n,instanceSelectedHref:i,instanceCreationHref:a,instanceChangeOwnerHref:o}),l=c.selectedInstance,u=c.page,f=c.perPage,m=c.setPagination,h=c.namesChips,g=c.ownersChips,b=c.statusesChips,y=c.isColumnSortable,x=c.sort,j=c.sortDirection,_=c.onClearAllFilters,k=c.onDetailsClick,C=c.onConnectionsClick,w=c.onCreate,S=c.onDelete,T=c.onChangeOwner,O=c.onQuickstartGuide,I=v().userData,P=(0,d.bC)({page:u,perPage:f,name:h.chips,owner:g.chips,status:b.chips,sort:x||"createdAt",direction:j,instanceType:"legacy"}).data;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.Gu,{}),(0,r.jsx)(p._K,{columns:"standard",instances:null==P?void 0:P.instances,itemCount:null==P?void 0:P.count,page:u,perPage:f,names:h.chips,owners:g.chips,statuses:b.chips,isColumnSortable:y,onPageChange:m,onSearchName:h.add,onRemoveNameChip:h.remove,onRemoveNameChips:h.clear,onSearchOwner:g.add,onRemoveOwnerChip:g.remove,onRemoveOwnerChips:g.clear,onSearchStatus:b.toggle,onRemoveStatusChip:b.remove,onRemoveStatusChips:b.clear,onClearAllFilters:_,onChangeOwner:T,onDelete:S,onCreate:w,isRowSelected:function(e){return e.row.id===l},getUrlForInstance:s,onDetails:k,onConnection:C,onClickConnectionTabLink:function(){},onClickSupportLink:function(){},onInstanceLinkClick:function(){},onQuickstartGuide:O,canHaveInstanceLink:function(e){var t=e.status;return q.A9.includes(t)},canOpenConnection:function(e){return I.canOpenConnection(e.status)},canChangeOwner:function(e){var t=e.owner,n=e.status;return I.canChangeOwner(t,n)},canDelete:function(e){var t=e.owner;return I.isUserOwnerOrAdmin(t)}})]})},Y=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},X=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function ee(){var e=(0,d.B)(!0).data;if(!1===e.areTermsAccepted)throw new Error("Terms and Conditions not accepted");return{selfTermsReview:e}}var te=function(){return te=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},te.apply(this,arguments)},ne=function(e){var t=e.instancesHref,n=f(),i=(0,s.Z)(),a=i.analytics,o=i.quickStarts,c=(0,u.k6)(),m=function(){var e=this,t=(0,s.Z)().auth,n=(0,l.useCallback)((function(){return Y(e,void 0,void 0,(function(){var e,n,r;return X(this,(function(i){switch(i.label){case 0:return[4,t.getUser()];case 1:return(e=null===(r=null===(n=i.sent())||void 0===n?void 0:n.identity.user)||void 0===r?void 0:r.username)?[2,e]:[2,Promise.reject("Invalid user")]}}))}))}),[t]),r=(0,d.wG)(),i=(0,d.B6)(!0),a=(0,d.Nj)(),o=(0,d.Nj)(),c=(0,d.ck)(),u=(0,l.useCallback)((function(t){var i=t.onAvailable,a=t.onUsed,o=t.onUnavailable;return Y(e,void 0,void 0,(function(){return X(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,r(n)];case 1:return e.sent()?i():a(),[3,3];case 2:return e.sent(),o(),[3,3];case 3:return[2]}}))}))}),[r,n]),p=(0,l.useCallback)((function(t){var n=t.onQuotaAvailable,r=t.onNoQuotaAvailable,a=t.onOutOfQuota;return Y(e,void 0,void 0,(function(){var e,t,o,s,c;return X(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,i()];case 1:return e=l.sent(),t=e.hasTrialQuota,o=e.remainingPrepaidQuota,s=e.remainingMarketplaceQuota,c=e.marketplaceSubscriptions,void 0!==s||void 0!==o?0===(s||0)&&0===(o||0)?a({quota:{marketplaceSubscriptions:c}}):n({quota:{remainingPrepaidQuota:o,remainingMarketplaceQuota:s,marketplaceSubscriptions:c}}):r({hasTrialQuota:t}),[3,3];case 2:return l.sent(),r({hasTrialQuota:!1}),[3,3];case 3:return[2]}}))}))}),[i]),f=(0,l.useCallback)((function(t,n){var r=n.onAvailable,i=n.onUnavailable;return Y(e,void 0,void 0,(function(){var e;return X(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,a(t)];case 1:return e=n.sent(),r(e),[3,3];case 2:return n.sent(),i(),[3,3];case 3:return[2]}}))}))}),[a]),m=(0,l.useCallback)((function(t,n){return Y(e,void 0,void 0,(function(){var e,r;return X(this,(function(i){switch(i.label){case 0:return[4,o("standard")];case 1:return e=i.sent(),(r=e.providers.find((function(e){return e.id===t})))?[2,c(r,n,"standard")]:[2,Promise.reject("Invalid cloud provider")]}}))}))}),[c,o]),h=(0,l.useCallback)((function(t,n){return Y(e,void 0,void 0,(function(){var e,r,i,a;return X(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,m(t,n)];case 1:if(0===(e=s.sent()).length)throw new Error("No standard sizes found");return[3,3];case 2:return s.sent(),e=[{id:"1",displayName:"1",quota:1},{id:"2",displayName:"2",quota:2}],[3,3];case 3:return[4,o("developer")];case 4:return r=s.sent(),(i=r.providers.find((function(e){return e.id===t})))?[4,c(i,n,"developer")]:[2,Promise.reject("Invalid cloud provider")];case 5:return a=s.sent(),[2,{standard:e,trial:a[0]}]}}))}))}),[c,o,m]);return{checkDeveloperAvailability:u,checkStandardQuota:p,fetchProvidersWithRegions:f,getStandardSizes:m,getTrialSizes:h}}(),h=(0,d.VK)();ee(),a.track("RHOSAK Create Instance",{status:"prompt"});var v=function(){c.push("/overview")},g=(0,l.useCallback)((function(){o.toggle("getting-started")}),[o]),b=(0,l.useCallback)((function(e,t,n){h.mutateAsync({instance:e,onSuccess:function(){t(),a.track("RHOSAK Create Instance",{status:"success"}),c.push(w)},onError:n})}),[a,h,c]),y=(0,l.useCallback)((function(){a.track("RHOSAK Create Instance",{status:"canceled"}),c.push(t)}),[a,c,t]);return(0,r.jsx)(p.bL,te({},m,{isModalOpen:!0,onCancel:y,onClickContactUs:v,onClickKafkaOverview:v,onClickQuickStart:g,onCreate:b,onLearnHowToAddStreamingUnits:v,onLearnMoreAboutSizes:v,subscriptionOptionsHref:n("/application-services/overview"),appendTo:function(){return document.getElementById("chrome-app-render-root")||document.body}}))},re=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},ie=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},ae=function(){return ae=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ae.apply(this,arguments)},oe=function(e){var t=e.instancesHref,n=f(),i=(0,u.k6)(),a=function(){var e=this,t=(0,d.HN)(!0),n=(0,d.lY)(),r=(0,d.lc)();return{checkDedicatedQuota:(0,l.useCallback)((function(n){var r=n.onQuotaAvailable,i=n.onNoQuotaAvailable,a=n.onOutOfQuota;return re(e,void 0,void 0,(function(){var e;return ie(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t()];case 1:return void 0!==(e=n.sent().remainingDedicatedQuota)?0===(e||0)?a({}):r({quota:{remainingDedicatedQuota:e}}):i({}),[3,3];case 2:return n.sent(),i({}),[3,3];case 3:return[2]}}))}))}),[t]),fetchClusters:(0,l.useCallback)((function(t,r){var i=r.onAvailable,a=r.onUnavailable;return re(e,void 0,void 0,(function(){var e;return ie(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,n()];case 1:return e=t.sent().clusters,i({clusters:e,defaultCluster:e.length>0?e[0]:void 0}),[3,3];case 2:return t.sent(),a(),[3,3];case 3:return[2]}}))}))}),[n]),getDedicatedSizes:(0,l.useCallback)((function(e){return r({clusterId:e.id})}),[r])}}(),o=(0,d.gU)(),c=(0,s.Z)().quickStarts;ee();var m=function(){i.push("overview")},h=(0,l.useCallback)((function(){c.toggle("getting-started")}),[c]),v=(0,l.useCallback)((function(e,t,n){o.mutateAsync({instance:e,onSuccess:function(){t(),i.push(S)},onError:n})}),[o,i]),g=(0,l.useCallback)((function(){i.push(t)}),[i,t]);return(0,r.jsx)(p.pI,ae({},a,{isModalOpen:!0,onCancel:g,onClickContactUs:m,onClickKafkaOverview:m,onClickQuickStart:h,onCreate:v,onLearnHowToAddStreamingUnits:m,onLearnMoreAboutSizes:m,subscriptionOptionsHref:n("/application-services/overview"),appendTo:function(){return document.getElementById("chrome-app-render-root")||document.body}}))};function se(){var e=(0,u.$B)(A);if(!e)throw Error("useControlPlaneGate used outside the expected route");return{instance:(0,d.NP)(e.params.id,!0).data,match:e}}var ce=function(e){var t=e.instancesHref,n=(0,u.k6)(),i=y().addAlert,a=se().instance,o=(0,d.Ci)(),s=o.mutateAsync,c=o.isLoading,f=(0,l.useCallback)((function(){n.push(t)}),[n,t]),m=(0,l.useCallback)((function(){s({id:a.id,onError:function(){i("danger","Something went wrong",!0,"delete-kafka-instance-error")},onSuccess:function(){n.replace(t)}})}),[s,a.id,i,n,t]);return(0,r.jsx)(p.hv,{isModalOpen:!0,isDeleting:c,onCancel:f,onDelete:m,instanceName:q.A9.includes(a.status)?a.name:void 0,appendTo:function(){return document.getElementById("chrome-app-render-root")||document.body}})},le=function(e){var t=e.createHref,n=e.cancelHref,i=(0,s.Z)().analytics,a=(0,u.k6)(),o=(0,d.B)().data,c=window.location.origin+a.createHref({pathname:t}),f=window.location.origin+a.createHref({pathname:n}),m=null==o?void 0:o.termsUrl(c,f),h=(0,l.useCallback)((function(){void 0!==m&&(window.location.href=m)}),[m]),v=(0,l.useCallback)((function(){i.track("RHOSAK Create Instance",{status:"failure-tos-refused"}),a.push(n)}),[i,a,n]);return(0,r.jsx)(p.U3,{isOpen:!0,onViewTerms:h,onCancel:v,appendTo:function(){return document.getElementById("chrome-app-render-root")||document.body}})},ue=function(){var e=(0,u.k6)(),t=se().instance,n=(0,d.gZ)({}).data,i=(0,d.We)(),a=y().addAlert,o=(0,l.useCallback)((function(){e.goBack()}),[e]),s=(0,l.useCallback)((function(n){i.mutate({id:t.id,updates:{owner:n}},{onSuccess:function(){e.goBack(),a("success","Kafka instance owner changed",!0,"change-owner-success","".concat(n," is now the owner of the ").concat(t.name," Kafka instance."))}})}),[a,e,t.id,t.name,i]),c=i.isLoading?"saving":i.isError?"invalid-user"===i.error.type?"invalid-user":"unknown-error":"idle";return(0,r.jsx)(p.E8,{currentOwner:t.owner,accounts:null==n?void 0:n.accounts.map((function(e){return{id:e.username,displayName:e.displayName}})),onConfirm:s,onCancel:o,savingState:c})},de=n(39430),pe=function(e){var t=e.activeSection,n=e.instancesHref,i=e.clustersHref;return(0,r.jsx)(p.HD,{activeSection:t,sectionsHref:{instances:n,clusters:i}})},fe=function(e){var t,n=e.activeSection,i=e.instancesHref,a=e.clustersHref,o=e.instanceDeletionHref,s=e.instanceSelectedHref,c=e.instanceCreationHref,l=e.instanceChangeOwnerHref,u=e.getUrlForInstance,f=J({instancesHref:i,instanceDeletionHref:o,instanceSelectedHref:s,instanceCreationHref:c,instanceChangeOwnerHref:l}),m=f.selectedInstance,h=f.page,v=f.perPage,g=f.setPagination,b=f.namesChips,y=f.ownersChips,x=f.statusesChips,j=f.isColumnSortable,_=f.sort,k=f.sortDirection,C=f.onClearAllFilters,w=f.onDetailsClick,S=f.onConnectionsClick,T=f.onCreate,O=f.onDelete,I=f.onChangeOwner,P=f.onQuickstartGuide,A=(0,d.O1)(),L=(0,d.bC)({page:h,perPage:v,name:b.chips,owner:y.chips,status:x.chips,sort:_||"createdAt",direction:k,instanceType:"dedicated"}).data,E=!A.isLoading&&((null===(t=A.data)||void 0===t?void 0:t.clusters)||[]).filter((function(e){return"ready"===e.status})).length>0;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(pe,{activeSection:n,instancesHref:i,clustersHref:a}),(0,r.jsx)(p._K,{columns:"dedicated",instances:null==L?void 0:L.instances,itemCount:null==L?void 0:L.count,page:h,perPage:v,names:b.chips,owners:y.chips,statuses:x.chips,isColumnSortable:j,onPageChange:g,onSearchName:b.add,onRemoveNameChip:b.remove,onRemoveNameChips:b.clear,onSearchOwner:y.add,onRemoveOwnerChip:y.remove,onRemoveOwnerChips:y.clear,onSearchStatus:x.toggle,onRemoveStatusChip:x.remove,onRemoveStatusChips:x.clear,onClearAllFilters:C,onChangeOwner:I,onDelete:O,onCreate:T,isRowSelected:function(e){return e.row.id===m},getUrlForInstance:u,onDetails:w,onConnection:S,onClickConnectionTabLink:function(){},onClickSupportLink:function(){},onInstanceLinkClick:function(){},onQuickstartGuide:P,canHaveInstanceLink:function(e){var t=e.status;return q.A9.includes(t)},canOpenConnection:function(e){var t=e.status;return q.A9.includes(t)},canChangeOwner:function(){return!0},canDelete:function(){return!0},emptyStateNoData:E?(0,r.jsx)(de.ry,{onCreate:T,onQuickstartGuide:P}):(0,r.jsx)(p.S7,{onQuickstartGuide:P})})]})},me=function(){return me=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},me.apply(this,arguments)},he=function(){return(0,r.jsxs)(u.AW,me({path:A,exact:!0},{children:[(0,r.jsx)(u.AW,me({path:L},{children:(0,r.jsx)(le,{createHref:T,cancelHref:S})})),(0,r.jsx)(u.AW,me({path:E},{children:(0,r.jsx)(M,me({redirectUrl:L},{children:(0,r.jsx)(l.Suspense,me({fallback:null},{children:(0,r.jsx)(oe,{instancesHref:S,clustersHref:N})}))}))})),(0,r.jsxs)(M,me({redirectUrl:S},{children:[(0,r.jsx)(u.AW,me({path:D},{children:(0,r.jsx)(ce,{instancesHref:S})})),(0,r.jsx)(u.AW,me({path:R},{children:(0,r.jsx)(ue,{instancesHref:S})}))]})),(0,r.jsx)(fe,{activeSection:"instances",instancesHref:S,clustersHref:N,instanceSelectedHref:O,instanceCreationHref:T,instanceDeletionHref:I,instanceChangeOwnerHref:P,getUrlForInstance:function(e){return"".concat(S,"/").concat(e.id,"/details")}})]}))},ve=function(){return ve=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ve.apply(this,arguments)},ge=function(){return(0,r.jsxs)(u.AW,ve({path:A,exact:!0},{children:[(0,r.jsx)(u.AW,ve({path:L},{children:(0,r.jsx)(le,{createHref:E,cancelHref:w})})),(0,r.jsx)(u.AW,ve({path:E},{children:(0,r.jsx)(M,ve({redirectUrl:L},{children:(0,r.jsx)(l.Suspense,ve({fallback:null},{children:(0,r.jsx)(ne,{instancesHref:w})}))}))})),(0,r.jsxs)(M,ve({redirectUrl:w},{children:[(0,r.jsx)(u.AW,ve({path:D},{children:(0,r.jsx)(ce,{instancesHref:w})})),(0,r.jsx)(u.AW,ve({path:R},{children:(0,r.jsx)(ue,{instancesHref:w})}))]})),(0,r.jsx)(Z,{instancesHref:S,instanceSelectedHref:O,instanceCreationHref:T,instanceDeletionHref:I,instanceChangeOwnerHref:P,getUrlForInstance:function(e){return"".concat(S,"/").concat(e.id,"/details")}})]}))},be=n(18534),ye=n(5340),xe=n(5731),je=n(60713),_e=n(77468),ke=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},Ce=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function we(){var e=function(){var e=this,t=(0,ye.JA)().refetchInterval,n=(0,(0,_e.h)().account)();return(0,be.a)({queryKey:je.w9.quota.standardAvailable(),queryFn:function(){return ke(e,void 0,void 0,(function(){var e;return Ce(this,(function(t){switch(t.label){case 0:return[4,(0,xe.Ak)((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.apiAccountsMgmtV1CurrentAccountGet.apply(n,e)}))];case 1:return(e=t.sent())?[2,(0,xe.uC)((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.apiAccountsMgmtV1OrganizationsOrgIdQuotaCostGet.apply(n,e)}),e)]:[2,Promise.reject("Missing organization id")]}}))}))},refetchInterval:t})}(),t=(0,d.O1)();return t.isSuccess&&!1!==t.data.isEntitled&&e.data&&!1===e.data.hasStandardQuota?"dedicated-only":t.isSuccess&&!1===t.data.isEntitled?"standard-only":e.isFetched||t.isFetched?"standard-and-dedicated":"loading"}var Se=function(){var e=we();return"loading"===e?(0,r.jsx)(H.g,{}):"standard-only"===e?(0,r.jsx)(ge,{}):(0,r.jsx)(he,{})},Te=function(e){var t=e.clustersHref,n=e.instancesHref,i="standard-only"===we();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(pe,{activeSection:"clusters",clustersHref:t,instancesHref:n}),i?(0,r.jsx)(p.S7,{onQuickstartGuide:function(){}}):(0,r.jsx)(Oe,{})]})},Oe=function(){var e=(0,d.O1)().data;return(0,r.jsx)(p.f7,{clusters:null==e?void 0:e.clusters,itemCount:null==e?void 0:e.count,page:1,onPageChange:function(){},onQuickstartGuide:function(){}})},Ie=n(7766),Pe=function(e){return"".concat(e,"/:id/details")},Ae=function(e){return"".concat(e,"/:id/details/topics/:topicName")},Le=function(e){return"".concat(e,"/:id/details/consumer-groups/:consumerGroupId")},Ee=function(e){return"".concat(e,"/:id/details/topics/:topicName/consumer-groups/:consumerGroupId")};function De(){var e=(0,u.$B)(Pe(w));if(!e)throw Error("useDataPlaneGate used outside the expected route");return{instance:(0,d.NP)(e.params.id,!0).data,match:e}}var Re=function(e){var t=e.instancesHref,n=e.activeSection,i=(0,u.k6)(),a=F(),o=a.setActiveTab,s=a.toggleExpanded,c=v().userData,d=De(),f=d.instance,m=d.match.url,h={dashboard:"".concat(m,"/dashboard"),topics:"".concat(m,"/topics"),consumer:"".concat(m,"/consumer-groups"),permissions:"".concat(m,"/acls"),settings:"".concat(m,"/settings")},g=(0,l.useCallback)((function(){i.push("".concat(t,"/").concat(f.id,"/delete"))}),[i,f,t]),b=(0,l.useCallback)((function(){i.push("".concat(t,"/").concat(f.id,"/change-owner"))}),[i,f,t]);return(0,r.jsx)(p.q,{instancesHref:t,instanceName:(null==f?void 0:f.name)||"",activeSection:n,sectionsHref:h,onDetails:function(){o("details"),s(!0)},onConnection:function(){o("connections"),s(!0)},canOpenConnection:c.canOpenConnection(f.status),canChangeOwner:c.canChangeOwner(f.owner,f.status),canDelete:c.isUserOwnerOrAdmin(f.owner),onChangeOwner:b,onDelete:g})},Ne=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},ze=function(e){var t=e.instancesHref,n=e.managePermissionsHref,i=e.editPermissionsHref,a=(0,K.J)(),o=a.page,s=a.perPage,c=a.setPagination,f=a.setPaginationQuery,m=De().instance,h=(0,d.bh)().mutateAsync,v=(0,b.useDispatch)(),y=(0,u.k6)(),x=(0,d.O7)({id:m.id,adminUrl:m.adminUrl,page:o,perPage:s}).data,j=(0,d.gZ)({id:m.id,adminUrl:m.adminUrl}).data,_=(0,d.t2)({id:m.id,adminUrl:m.adminUrl}).data,k=null==j?void 0:j.accounts.map((function(e){return{id:e.username,displayName:e.displayName,email:e.email,principalType:p.eZ.UserAccount}})),C=null==_?void 0:_.serviceAccounts.map((function(e){return{id:e.id,displayName:e.displayName,principalType:p.eZ.ServiceAccount}})),w=null!=C&&null!=k?Ne(Ne([],C,!0),k,!0):void 0,S=(0,l.useCallback)((function(e){e.map((function(e){var t=null==x?void 0:x.groups[e];h({instanceId:m.id,adminUrl:m.adminUrl||"",acl:{patternType:null==t?void 0:t.resource.patternType,permissionType:null==t?void 0:t.permission.permission,principal:null==t?void 0:t.account,resourceName:null==t?void 0:t.resource.resourceName,operation:null==t?void 0:t.permission.operation,resourceType:null==t?void 0:t.resource.resourceType},onError:function(e,t){v((0,g.addNotification)({variant:"danger",title:t,dismissable:!0,id:"delete-error"}))},onSuccess:function(){}})}))}),[null==x?void 0:x.groups,h,m.id,m.adminUrl,v]),T=(0,l.useCallback)((function(e){var t=null==x?void 0:x.groups[e];h({instanceId:m.id,adminUrl:m.adminUrl||"",acl:{patternType:null==t?void 0:t.resource.patternType,permissionType:null==t?void 0:t.permission.permission,principal:null==t?void 0:t.account,resourceName:null==t?void 0:t.resource.resourceName,operation:null==t?void 0:t.permission.operation,resourceType:null==t?void 0:t.resource.resourceType},onError:function(e,t){v((0,g.addNotification)({variant:"danger",title:t,dismissable:!0,id:"delete-error"}))},onSuccess:function(){}})}),[null==x?void 0:x.groups,h,m.id,m.adminUrl,v]),O=(0,l.useCallback)((function(e){y.push(i(m.id,e))}),[y,m.id,i]),I=(0,l.useCallback)((function(){y.push(n(m.id))}),[y,m.id,n]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Re,{instancesHref:t,activeSection:"permissions"}),(0,r.jsx)(p.Qq,{allAccounts:w,permissions:null==x?void 0:x.groups,onDelete:T,onDeleteSelected:S,onManagePermissions:I,onPerPageChange:f,itemCount:null==x?void 0:x.count,page:o,perPage:s,onPageChange:c,onManagePermissionsActionItem:O})]})},Be=function(e){var t=e.instancesHref,n=(0,p.G4)(),i=(0,u.k6)(),a=De().instance,o=(0,K.J)(),s=o.page,c=o.perPage,f=o.setPagination,m=o.setPaginationQuery,h=(0,l.useCallback)((function(){return m(1,c)}),[c,m]),v=(0,l.useCallback)((function(){i.push("".concat(w,"/").concat(a.id,"/details/topics/create-topic"))}),[i,a.id]),g=(0,$.R)("topic",h),b=(0,W.b)(d.CW,n.fields),y=b[0],x=b[1],j=b[2],_=(0,d.X2)({id:null==a?void 0:a.id,adminUrl:null==a?void 0:a.adminUrl,page:s,perPage:c,sort:x||void 0,direction:j,filter:g.chips[0],plan:a.plan}).data,k=(0,l.useCallback)((function(e){i.push("".concat(w,"/").concat(a.id,"/details/topics/").concat(e,"/delete"))}),[i,a.id]),C=(0,l.useCallback)((function(e){i.push("".concat(w,"/").concat(a.id,"/details/topics/").concat(e,"/edit"))}),[i,a.id]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Re,{instancesHref:t,activeSection:"topics"}),(0,r.jsx)(p.Hg,{topics:null==_?void 0:_.topics,itemCount:null==_?void 0:_.count,page:s,perPage:c,topicName:g.chips,getUrlFortopic:function(e){return"./topics/".concat(e.name)},isColumnSortable:y,onDelete:function(e){return k(e.name)},onEdit:function(e){return C(e.name)},onSearchTopic:function(e){g.clear(),g.toggle(e)},onClearAllFilters:g.clear,onCreateTopic:v,onPageChange:f,onRemoveTopicChip:g.clear,onRemoveTopicChips:g.clear})]})},Ve=function(e){var t=e.instancesHref,n=De().instance,i=(0,d.We)(),a=y().addAlert,o=(0,l.useCallback)((function(e){return t=void 0,r=void 0,s=function(){return function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,i.mutateAsync({id:n.id,updates:{reauthentication_enabled:e}})];case 1:return t.sent(),a("success","Connection re-authentication turned ".concat(e?"on":"off"," "),!0,"reauthentication-enable-success"),[2,e];case 2:return t.sent(),a("danger","Something went wrong",!0,"reauthentication-enable-error","We're unable to update connection re-authentication at this time. Try again later."),[2,n.request.reauthentication_enabled];case 3:return[2]}}))},new((o=void 0)||(o=Promise))((function(e,n){function i(e){try{c(s.next(e))}catch(e){n(e)}}function a(e){try{c(s.throw(e))}catch(e){n(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(i,a)}c((s=s.apply(t,r||[])).next())}));var t,r,o,s}),[a,n.id,n.request.reauthentication_enabled,i]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Re,{instancesHref:t,activeSection:"settings"}),(0,r.jsx)(p.Zr,{onSubmitReAuthentication:o,reauthenticationEnabled:n.request.reauthentication_enabled})]})},Fe=n(14597),He=function(){return He=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},He.apply(this,arguments)},Ge=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},Ue=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},Me=function(e){var t=e.instancesHref,n=De(),i=n.instance,a=n.match.params,o=(0,u.k6)(),s=(0,l.useState)((0,Fe.U9)()),c=s[0],f=s[1],m=(0,l.useCallback)((function(){f(!0),(0,Fe.ie)()}),[]),h=(0,d.vC)(),v=(0,d.yN)(),g=(0,d.IQ)(),b=(0,d.Q8)(),y=(0,d.nt)(),x=(0,l.useCallback)((function(){return Ge(void 0,void 0,void 0,(function(){var e;return Ue(this,(function(t){switch(t.label){case 0:return[4,v(a.id)];case 1:return e=t.sent(),[2,He(He({},e),{topicPartitionsLimit:i.maxPartitions||0})]}}))}))}),[i,a.id,v]),j=(0,l.useCallback)((function(e){var t=e.interval,n=e.duration,r=e.selectedBroker;return Ge(void 0,void 0,void 0,(function(){var e,i,o,s;return Ue(this,(function(c){switch(c.label){case 0:return[4,Promise.all([h(a.id),g({id:a.id,duration:n,interval:t,selectedBroker:r})])];case 1:return e=c.sent(),i=e[0],o=e[1],i?[2,He(He({},o),{diskSpaceLimit:((null===(s=i.request.max_data_retention_size)||void 0===s?void 0:s.bytes)||0)/1073741824,connectionsLimit:i.connections||0,connectionRateLimit:i.connectionRate||0})]:[2,Promise.reject("Can't retrieve instance")]}}))}))}),[a.id,h,g]),_=(0,l.useCallback)((function(e){var t=e.interval,n=e.duration,r=e.selectedTopic;return Ge(void 0,void 0,void 0,(function(){var e,i,o,s;return Ue(this,(function(c){switch(c.label){case 0:return[4,Promise.all([h(a.id),b({id:a.id,duration:n,interval:t,selectedTopic:r})])];case 1:return e=c.sent(),i=e[0],o=e[1],i&&i.adminUrl?[4,y({id:i.id,adminUrl:i.adminUrl,page:1,perPage:1e3,plan:i.plan})]:[2,Promise.reject("Can't retrieve instance")];case 2:return s=c.sent().topics.map((function(e){return e.name})),[2,He(He({},o),{kafkaTopics:s})]}}))}))}),[a.id,h,b,y]),k=(0,l.useCallback)((function(){o.push("".concat(w,"/").concat(i.id,"/details/topics/create-topic"))}),[o,i.id]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Re,{instancesHref:t,activeSection:"dashboard"}),(0,r.jsx)(p.C3,{onCreateTopic:k,onAlertClose:m,hasUserAlreadyClosedAlert:c,getKafkaInstanceMetrics:j,getTopicsMetrics:_,getMetricsKpi:x})]})},Qe=function(e){var t=e.instancesHref,n=e.instanceConsumerGroupsHref,i=De().instance,a=(0,u.k6)(),o=(0,p.HL)(),s=(0,K.J)(),c=s.page,f=s.perPage,m=s.setPagination,h=s.setPaginationQuery,v=(0,l.useCallback)((function(){return h(1,f)}),[f,h]),g=(0,$.R)("consumer",v),b=(0,W.b)(d.XQ,o.fields),y=b[0],x=b[1],j=b[2],_=(0,d.yT)({id:null==i?void 0:i.id,adminUrl:null==i?void 0:i.adminUrl,page:c,perPage:f,sort:x||void 0,direction:j,groupId:g.chips[0]}).data,k=(0,l.useCallback)((function(e){a.push("".concat(n(i.id),"/").concat(e,"/delete"))}),[a,i.id,n]),C=(0,l.useCallback)((function(e){a.push("".concat(n(i.id),"/").concat(e,"/view-partition"))}),[a,i.id,n]),w=(0,l.useCallback)((function(e){a.push("".concat(n(i.id),"/").concat(e,"/reset-offset"))}),[a,i.id,n]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Re,{instancesHref:t,activeSection:"consumer"}),(0,r.jsx)(p.Jh,{consumers:null==_?void 0:_.groups,itemCount:null==_?void 0:_.count,page:c,perPage:f,consumerName:g.chips,isRowSelected:function(){return!1},isColumnSortable:y,onDelete:function(e){return k(e.name)},onSearchConsumer:function(e){g.clear(),g.toggle(e)},onClearAllFilters:g.clear,onPageChange:m,onRemoveConsumerChip:g.clear,onRemoveConsumerChips:g.clear,onViewPartition:function(e){return C(e.name)},onViewResetOffset:function(e){return w(e.name)}})]})};function qe(){var e=De().instance,t=(0,u.$B)(Ae(w));if(!t)throw Error("useDataPlaneGate used outside the expected route");return{instance:e,topic:(0,d.BZ)({id:e.id,adminUrl:e.adminUrl,topicName:t.params.topicName,plan:e.plan},!0).data,match:t}}var Ke=function(e){var t=e.instanceDetailsHref,n=e.instanceTopicsHref,i=e.instancesHref,a=e.activeSection,o=(0,u.k6)(),s=F(),c=s.setActiveTab,d=s.toggleExpanded,f=v().userData,m=qe(),h=m.instance,g=m.topic,b=m.match.url,y={consumer:"".concat(b,"/consumer-groups"),messages:"".concat(b,"/messages"),properties:"".concat(b,"/properties"),schemas:"".concat(b,"/schemas")},x=(0,l.useCallback)((function(){o.push("".concat(i,"/").concat(h.id,"/delete"))}),[o,h,i]),j=(0,l.useCallback)((function(){o.push("".concat(i,"/").concat(h.id,"/change-owner"))}),[o,h,i]);return(0,r.jsx)(p.YJ,{instancesHref:i,instanceName:h.name,instanceDetailHref:t(h.id),instanceTopicsHref:n(h.id),activeSection:a,topicName:g.name,tabsHref:y,onDetails:function(){c("details"),d(!0)},onConnection:function(){c("connections"),d(!0)},canOpenConnection:f.canOpenConnection(h.status),canChangeOwner:f.canChangeOwner(h.owner,h.status),canDelete:f.isUserOwnerOrAdmin(h.owner),onChangeOwner:j,onDelete:x})},$e=function(e){var t=e.instanceDetailsHref,n=e.instanceTopicsHref,i=e.instancesHref,a=e.instanceConsumerGroupsHref,o=qe(),s=o.instance,c=o.topic,f=(0,u.k6)(),m=(0,p.HL)(),h=(0,K.J)(),v=h.page,g=h.perPage,b=h.setPagination,y=h.setPaginationQuery,x=(0,l.useCallback)((function(){return y(1,g)}),[g,y]),j=(0,$.R)("consumer",x),_=(0,W.b)(d.XQ,m.fields),k=_[0],C=_[1],S=_[2],T=(0,d.yT)({id:null==s?void 0:s.id,adminUrl:null==s?void 0:s.adminUrl,page:v,perPage:g,sort:C||void 0,direction:S,groupId:j.chips[0],topic:c.name}).data,O=(0,l.useCallback)((function(e){f.push("".concat(w,"/").concat(s.id,"/details/topics/").concat(c.name,"/consumer-groups/").concat(e,"/delete"))}),[f,s.id,c.name]),I=(0,l.useCallback)((function(e){f.push("".concat(w,"/").concat(s.id,"/details/topics/").concat(c.name,"/consumer-groups/").concat(e,"/view-partition"))}),[f,s.id,c.name]),P=(0,l.useCallback)((function(e){f.push("".concat(w,"/").concat(s.id,"/details/topics/").concat(c.name,"/consumer-groups/").concat(e,"/reset-offset"))}),[f,s.id,c.name]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Ke,{instancesHref:i,instanceDetailsHref:t,instanceTopicsHref:n,instanceConsumerGroupsHref:a,activeSection:"consumer"}),(0,r.jsx)(p.Jh,{consumers:null==T?void 0:T.groups,itemCount:null==T?void 0:T.count,page:v,perPage:g,consumerName:j.chips,isRowSelected:function(){return!1},isColumnSortable:k,onDelete:function(e){return O(e.name)},onSearchConsumer:function(e){j.clear(),j.toggle(e)},onClearAllFilters:j.clear,onPageChange:b,onRemoveConsumerChip:j.clear,onRemoveConsumerChips:j.clear,onViewPartition:function(e){return I(e.name)},onViewResetOffset:function(e){return P(e.name)}})]})},We=function(){return We=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},We.apply(this,arguments)},Je=function(e){var t=e.instanceDetailsHref,n=e.instanceTopicsHref,i=e.instancesHref,a=e.instanceConsumerGroupsHref,o=qe(),s=o.instance,c=o.topic,u=(0,d.yp)(),f=(0,l.useCallback)((function(e){return t=void 0,n=void 0,i=function(){return function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(t){switch(t.label){case 0:if(!s.adminUrl)throw Error("Invalid instance adminUrl");return[4,u(We(We({},e),{id:s.id,adminUrl:s.adminUrl,topicName:c.name}))];case 1:return[2,{messages:t.sent(),partitions:c.partitions.length}]}}))},new((r=void 0)||(r=Promise))((function(e,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,s)}c((i=i.apply(t,n||[])).next())}));var t,n,r,i}),[s.adminUrl,s.id,u,c.name,c.partitions.length]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Ke,{instancesHref:i,instanceDetailsHref:t,instanceTopicsHref:n,instanceConsumerGroupsHref:a,activeSection:"messages"}),(0,r.jsx)(p.Wd,{getMessages:f})]})},Ze=function(e){var t=e.instanceDetailsHref,n=e.instanceTopicsHref,i=e.instanceConsumerGroupsHref,a=e.instancesHref,o=e.deleteTopicHref,s=e.updateTopicHref,c=qe(),l=c.instance,u=c.topic;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Ke,{instancesHref:a,instanceDetailsHref:t,instanceTopicsHref:n,instanceConsumerGroupsHref:i,activeSection:"properties"}),(0,r.jsx)(p.yS,{topic:u,deleteTopicHref:o(l.id,u.name),updateTopicHref:s(l.id,u.name)})]})},Ye=n(9203),Xe=function(e){var t=e.instanceDetailsHref,n=e.instanceTopicsHref,i=e.instancesHref,a=e.instanceConsumerGroupsHref,o=(useChrome(),qe().topic);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Ke,{instancesHref:i,instanceDetailsHref:t,instanceTopicsHref:n,instanceConsumerGroupsHref:a,activeSection:"schemas"}),(0,r.jsx)(Ye.ScalprumComponent,{appName:"applicationServices",scope:"applicationServices",module:"./TopicSchema",topicName:o.name})]})};function et(){var e=De().instance,t=(0,u.$B)(Le(w));if(!t)throw Error("useConsumerGroupGate used outside the expected route");return{instance:e,consumerGroup:(0,d.PM)({id:e.id,adminUrl:e.adminUrl,consumerGroupId:t.params.consumerGroupId},!0).data,match:t}}var tt=function(e){var t=e.instanceConsumerGroupsHref,n=(0,u.k6)(),i=y().addAlert,a=et(),o=a.instance,s=a.consumerGroup,c=(0,d.aB)().mutateAsync,f=(0,l.useCallback)((function(){n.push(t(o.id))}),[n,o.id,t]),m=(0,l.useCallback)((function(){c({instanceId:o.id,adminUrl:o.adminUrl,consumerGroupId:s.name,onError:function(e,t){i("danger",t,!0,"delete-consumer-group-error")},onSuccess:function(){n.replace(t(o.id)),i("success","Successfully deleted consumer group ".concat(s.name),!0,"delete-consumer-group-success")}})}),[c,o.id,o.adminUrl,s.name,i,n,t]);return(0,r.jsx)(p.Ao,{isModalOpen:!0,onClose:f,onDeleteConsumer:m,state:s.state,consumerName:s.name,appendTo:function(){return document.getElementById("chrome-app-render-root")||document.body}})},nt=function(e){var t,n=e.instanceConsumerGroupsHref,i=et(),a=i.instance,o=i.consumerGroup,s=y().addAlert,c=(0,d.LA)().mutateAsync,f=(0,u.k6)(),m=(0,l.useCallback)((function(){f.push(n(a.id))}),[f,a.id,n]),h=(0,l.useCallback)((function(e,t,r,i){c({instanceId:a.id,adminUrl:a.adminUrl,consumerGroupId:o.name,topic:e,offset:t,partitions:r,value:i,onError:function(e,t){s("danger",t,!0,"reset-offset-error")},onSuccess:function(){f.replace(n(a.id)),s("success","offsets for the consumer group have been successfully reset",!0,"reset-offset-success")}})}),[c,a.id,a.adminUrl,o.name,s,f,n]);return(0,r.jsx)(p.hV,{isModalOpen:!0,state:o.state,groupId:o.name,topics:(t=(o.consumers||[]).map((function(e){return e.topic})),Array.from(new Set(t))),consumers:o.consumers,onClickClose:m,onClickResetOffset:h})},rt=function(){return rt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},rt.apply(this,arguments)},it=function(e){var t=e.instanceConsumerGroupsHref,n=e.viewPartitionConsumerGroupHref,i=e.instancesHref,a=e.instanceDetailsHref,o=e.instanceTopicsHref,s=et(),c=s.instance,d=s.consumerGroup,f=(0,u.k6)(),m=(0,l.useCallback)((function(){f.push(t(c.id))}),[f,c.id,t]),h=(0,l.useCallback)((function(){f.push("".concat(n(c.id,d.name),"/delete"))}),[f,c.id,d.name,n]),v=(0,l.useCallback)((function(){f.push("".concat(n(c.id,d.name),"/reset-offset"))}),[f,c.id,d.name,n]);return(0,r.jsx)(p.t8,rt({consumerGroupByTopic:!1,state:d.state,activeMembers:d.activeConsumers,partitionsWithLag:d.laggingPartitions,consumers:d.consumers,groupId:d.name,onSelectDeleteConsumerGroup:h,onSelectResetOffsetConsumerGroup:v,isExpanded:!0,onClickClose:m},{children:(0,r.jsx)(Qe,{instancesHref:i,instanceTopicsHref:o,instanceDetailsHref:a,instanceConsumerGroupsHref:t})}))};function at(){var e=qe(),t=e.instance,n=e.topic,r=(0,u.$B)(Ee(w));if(!r)throw Error("useTopicConsumerGroupGate used outside the expected route");return{instance:t,consumerGroup:(0,d.PM)({id:t.id,adminUrl:t.adminUrl,consumerGroupId:r.params.consumerGroupId},!0).data,match:r,topic:n}}var ot=function(e){var t=e.instanceTopicConsumerGroupsHref,n=(0,u.k6)(),i=y().addAlert,a=at(),o=a.instance,s=a.consumerGroup,c=a.topic,f=(0,d.aB)().mutateAsync,m=(0,l.useCallback)((function(){n.push(t(o.id,c.name))}),[n,o.id,c.name,t]),h=(0,l.useCallback)((function(){f({instanceId:o.id,adminUrl:o.adminUrl,consumerGroupId:s.name,onError:function(e,t){i("danger",t,!0,"delete-consumer-group-error")},onSuccess:function(){n.replace(t(o.id,c.name)),i("success","Successfully deleted consumer group ".concat(s.name),!0,"delete-consumer-group-success")}})}),[f,o.id,o.adminUrl,s.name,i,n,t,c.name]);return(0,r.jsx)(p.Ao,{isModalOpen:!0,onClose:m,onDeleteConsumer:h,state:s.state,consumerName:s.name,appendTo:function(){return document.getElementById("chrome-app-render-root")||document.body}})},st=function(e){var t,n=e.instanceTopicConsumerGroupsHref,i=at(),a=i.instance,o=i.topic,s=i.consumerGroup,c=y().addAlert,f=(0,d.LA)().mutateAsync,m=(0,u.k6)(),h=(0,l.useCallback)((function(){m.push(n(a.id,o.name))}),[m,a.id,o.name,n]),v=(0,l.useCallback)((function(e,t,r,i){f({instanceId:a.id,adminUrl:a.adminUrl,consumerGroupId:s.name,topic:e,offset:t,partitions:r,value:i,onError:function(e,t){c("danger",t,!0,"reset-offset-error")},onSuccess:function(){m.replace(n(a.id,o.name)),c("success","offsets for the consumer group have been successfully reset",!0,"reset-offset-success")}})}),[f,a.id,a.adminUrl,s.name,c,m,n,o.name]);return(0,r.jsx)(p.hV,{isModalOpen:!0,state:s.state,groupId:s.name,topics:(t=(s.consumers||[]).map((function(e){return e.topic})),Array.from(new Set(t))),consumers:s.consumers,onClickClose:h,onClickResetOffset:v})},ct=function(){return ct=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ct.apply(this,arguments)},lt=function(e){var t=e.instanceTopicConsumerGroupsHref,n=e.instancesHref,i=e.viewTopicPartitionConsumerGroupHref,a=e.instanceDetailsHref,o=e.instanceTopicsHref,s=e.instanceConsumerGroupsHref,c=at(),d=c.instance,f=c.topic,m=c.consumerGroup,h=(0,u.k6)(),v=(0,l.useCallback)((function(){h.push(t(d.id,f.name))}),[h,d.id,f.name,t]),g=(0,l.useCallback)((function(){h.push("".concat(i(d.id,f.name,m.name),"/delete"))}),[h,d.id,m.name,f.name,i]),b=(0,l.useCallback)((function(){h.push("".concat(i(d.id,f.name,m.name),"/reset-offset"))}),[h,d.id,f.name,m.name,i]);return(0,r.jsx)(p.t8,ct({consumerGroupByTopic:!1,state:m.state,activeMembers:m.activeConsumers,partitionsWithLag:m.laggingPartitions,consumers:m.consumers,groupId:m.name,onSelectDeleteConsumerGroup:g,onSelectResetOffsetConsumerGroup:b,isExpanded:!0,onClickClose:v},{children:(0,r.jsx)($e,{instancesHref:n,instanceDetailsHref:a,instanceTopicsHref:o,instanceConsumerGroupsHref:s})}))},ut=n(31562),dt=n(11279),pt=function(){return pt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},pt.apply(this,arguments)},ft=function(e){var t=e.topicName,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["topicName"]),i=(0,c.$)("kafka").t;return(0,r.jsx)(ut.pf,pt({},n,{variant:"destructive",title:i("delete_topic_title"),confirmationValue:t},{children:(0,r.jsx)(dt.c,{ns:"kafka",i18nKey:"delete_topic_message",components:[(0,r.jsx)("strong",{})],values:{topicName:t}})}))},mt=function(e){var t=e.instanceTopicsHref,n=(0,s.Z)().analytics,i=(0,u.k6)(),a=qe(),o=a.instance,c=a.topic,p=y().addAlert,f=(0,d.Wn)(),m=f.mutateAsync,h=f.isLoading;n.track("RHOSAK Delete Topic",{entityId:o.id,topic:c.name,status:"prompt"});var v=(0,l.useCallback)((function(){i.goBack()}),[i]),g=(0,l.useCallback)((function(){if(!o.adminUrl)throw Error("Invalid instance adminUrl");m({instanceId:o.id,adminUrl:o.adminUrl,name:c.name,onError:function(e,t){n.track("RHOSAK Delete Topic",{entityId:o.id,topic:c.name,status:"failure"}),p("danger",t,!0,"delete-topic-error")},onSuccess:function(){n.track("RHOSAK Delete Topic",{entityId:o.id,topic:c.name,status:"success"}),i.replace(t(o.id)),p("success","Successfully deleted topic ".concat(c.name),!0,"delete-topic-success")}})}),[o.adminUrl,o.id,m,c.name,n,p,i,t]);return(0,r.jsx)(ft,{topicName:c.name,isModalOpen:!0,isDeleting:h,appendTo:function(){return document.getElementById("chrome-app-render-root")||document.body},onDelete:g,onCancel:v})},ht=function(e){var t=e.instanceDetailsHref,n=e.instanceTopicsHref,i=e.instancesHref,a=e.instanceConsumerGroupsHref,o=(0,u.k6)(),s=qe(),c=s.instance,f=s.topic,m=y().addAlert;if(void 0===c.maxPartitions)throw new Error("CreateTopicRoute, unexpected maxPartition undefined for instance ".concat(c.name));var h=(0,d.cb)(),v=(0,l.useCallback)((function(e){if(void 0===c.adminUrl)throw new Error("EditTopicRoute, adminUrl undefined for instance ".concat(c.name));h.mutateAsync({instanceId:c.id,adminUrl:c.adminUrl,topic:e,onSuccess:function(){o.push(n(c.id)),m("success","The topic was successfully updated in the Kafka instance.",!0,"edit-topic-success")},onError:function(e,t){m("danger",t,!0,"edit-topic-fail")}})}),[c.adminUrl,c.id,c.name,h,o,n,m]),g=(0,l.useCallback)((function(){o.push(n(c.id))}),[o,c.id,n]),b=h.isLoading;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Ke,{instancesHref:i,instanceDetailsHref:t,instanceTopicsHref:n,instanceConsumerGroupsHref:a,activeSection:"properties"}),(0,r.jsx)(p.ci,{topic:f,onCancel:g,onSave:v,availablePartitionLimit:c.maxPartitions,isSaving:b})]})},vt=function(e){var t=e.managePermissionsHref,n=De().instance,i=y().addAlert,a=(0,u.$B)("".concat(w,"/:id/details/acls/select-account/:selectedAccount"));if(!a)throw Error("EditPermissions used outside the expected route");var o=(0,d.O7)({id:n.id,adminUrl:n.adminUrl}).data,s=(0,d.X2)({id:n.id,adminUrl:n.adminUrl,plan:n.plan}).data,c=(0,d.yT)({id:n.id,adminUrl:n.adminUrl}).data,f=null==c?void 0:c.groups.map((function(e){return e.name})),m=null==s?void 0:s.topics.map((function(e){return e.name})),h=(0,d.bh)().mutateAsync,v=(0,d.or)(),g=(0,u.k6)(),b=(0,l.useCallback)((function(e,r){null!=e&&e.length>0&&e.map((function(e){v.mutateAsync({instanceId:n.id,adminUrl:(null==n?void 0:n.adminUrl)||"",acl:{patternType:e.patternType,permission:e.permission,principal:e.principal,operation:e.operation,resourceName:e.resourceName,resourceType:e.resourceType},onSuccess:function(){g.push(t(n.id))},onError:function(e,t){i("danger",t,!0,"save-error")}})})),null!=r&&r.length>0&&r.map((function(e){h({instanceId:n.id,adminUrl:n.adminUrl||"",acl:{patternType:e.patternType,permissionType:e.permission,principal:e.principal,resourceName:e.resourceName,operation:e.operation,resourceType:e.resourceType},onError:function(e,t){i("danger",t,!0,"delete-error")},onSuccess:function(){g.push(t(n.id))}})}))}),[i,g,n.adminUrl,n.id,t,h,v]),x=null==o?void 0:o.groups.map((function(e){return{resourceName:e.resource.resourceName,patternType:e.resource.patternType,permission:e.permission.permission,operation:e.permission.operation,principal:e.account,resourceType:e.resource.resourceType}})),j=null==x?void 0:x.filter((function(e){return e.principal=="User:".concat(a.params.selectedAccount)||"User:*"==e.principal})),_=(0,l.useCallback)((function(){g.push(t(n.id))}),[g,n.id,t]);return(0,r.jsx)(p._O,{onCancel:_,kafkaName:n.name,onSave:b,topicsList:m||[],consumerGroupsList:f||[],selectedAccount:"all-accounts"==a.params.selectedAccount?"All accounts":a.params.selectedAccount,acls:j||[]})},gt=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},bt=function(e){var t=e.managePermissionsHref,n=e.editPermissionsHref,i=De().instance,a=(0,d.gZ)({id:i.id,adminUrl:i.adminUrl}).data,o=(0,d.t2)({id:i.id,adminUrl:i.adminUrl}).data,s=v().userData,c=null==a?void 0:a.accounts.map((function(e){return{displayName:e.displayName,id:e.username,principalType:p.eZ.UserAccount}})),f=null==o?void 0:o.serviceAccounts.map((function(e){return{displayName:e.displayName,id:e.id,principalType:p.eZ.ServiceAccount}})),m=null!=c&&null!=f?gt(gt([],f,!0),c,!0):void 0,h=null==m?void 0:m.filter((function(e){return e.id!==i.owner&&e.id!==s.username})),g=(0,u.k6)(),b=(0,l.useCallback)((function(e){g.push(n(i.id,"All accounts"===e?"all-accounts":e||""))}),[g,i.id,n]),y=(0,l.useCallback)((function(){g.push(t(i.id))}),[g,i.id,t]);return(0,r.jsx)(p.BG,{accounts:h,kafkaName:i.name,onNext:b,onClose:y})},yt=n(45892),xt=function(){return xt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},xt.apply(this,arguments)},jt=function(e){var t=e.instancesHref,n=e.instanceTopicsHref,i=(0,s.Z)().analytics,a=(0,u.k6)(),o=y().addAlert,c=De().instance,f=(0,d.N6)(),m=c.az,h=(0,d.X2)({id:c.id,adminUrl:c.adminUrl,plan:c.plan},!1).data;if(i.track("RHOSAK Create Topic",{entityId:c.id,status:"prompt"}),void 0===c.maxPartitions)throw new Error("CreateTopicRoute, unexpected maxPartition undefined for instance ".concat(c.name));var v=(0,l.useCallback)((function(e){var t=null==h?void 0:h.topics.filter((function(t){return t.name===e}));return!(t&&(null==t?void 0:t.length)>0)}),[null==h?void 0:h.topics]),g=(0,l.useCallback)((function(){a.push(n(c.id))}),[a,c.id,n]),b=(0,l.useCallback)((function(e){f.mutateAsync({instanceId:c.id,adminUrl:(null==c?void 0:c.adminUrl)||"",topic:e,onSuccess:function(){i.track("RHOSAK Create Topic",{entityId:c.id,topic:e.name,status:"success"}),a.push(n(c.id)),o("success","The topic was successfully created in the Kafka instance",!0,"create-topic-success")},onError:function(t,n){i.track("RHOSAK Create Topic",{entityId:c.id,topic:e.name,status:"failure"}),o("danger",n,!0,"create-topic-fail")}})}),[o,i,f,a,null==c?void 0:c.adminUrl,c.id,n]),x=(0,l.useMemo)((function(){return"developer"===c.plan?xt({name:"",partitions:[{partition:1,id:1}]},yt.jR):xt({name:"",partitions:[{partition:1,id:1}]},yt.tp)}),[c.plan]),j=f.isLoading;return(0,r.jsx)(p.EP,{kafkaName:c.name,kafkaPageLink:n(c.id),kafkaInstanceLink:t,onSave:b,initialTopicValues:x,onCloseCreateTopic:g,checkTopicName:v,availablePartitionLimit:c.maxPartitions,availabilityZone:m,isSaving:j})},_t=function(){return _t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},_t.apply(this,arguments)},kt=function(e){var t=e.root,n=e.instancesHref,i=e.instanceId,a=function(e){return"".concat(n,"/").concat(e,"/details")},o=function(e){return"".concat(n,"/").concat(e,"/details/topics")},s=function(e,t){return"".concat(a(e),"/topics/").concat(t)},c=function(e,t){return"".concat(s(e,t),"/edit")},l=function(e,t){return"".concat(s(e,t),"/delete")},d=function(e){return"".concat(a(e),"/consumer-groups")},p=function(e,t){return"".concat(a(e),"/consumer-groups/").concat(t,"/view-partition")},f=function(e,t){return"".concat(a(e),"/topics/").concat(t,"/consumer-groups")},m=function(e,t,n){return"".concat(a(e),"/topics/").concat(t,"/consumer-groups/").concat(n,"/view-partition")},h=function(e,t){return"".concat(a(e),"/acls/select-account/").concat(t,"/edit-permissions")},v=function(e){return"".concat(a(e),"/acls")};return(0,r.jsx)(u.AW,_t({path:t},{children:(0,r.jsx)(M,_t({redirectUrl:w},{children:(0,r.jsxs)(u.rs,{children:[(0,r.jsx)(u.AW,_t({path:"".concat(t,"/dashboard"),exact:!0},{children:(0,r.jsx)(Me,{instancesHref:n})})),(0,r.jsx)(u.AW,_t({path:"".concat(t,"/topics"),exact:!0},{children:(0,r.jsx)(Be,{instancesHref:n})})),(0,r.jsx)(u.AW,_t({path:"".concat(t,"/consumer-groups"),exact:!0},{children:(0,r.jsx)(Qe,{instancesHref:n,instanceDetailsHref:a,instanceTopicsHref:o,instanceConsumerGroupsHref:d})})),(0,r.jsxs)(u.AW,_t({path:"".concat(t,"/acls")},{children:[(0,r.jsx)(u.AW,_t({path:"".concat(t,"/acls/select-account")},{children:(0,r.jsx)(bt,{instancesHref:n,managePermissionsHref:v,editPermissionsHref:h})})),(0,r.jsx)(u.AW,_t({path:"".concat(t,"/acls/select-account/:selectedAccount/edit-permissions")},{children:(0,r.jsx)(vt,{instancesHref:n,managePermissionsHref:v,editPermissionsHref:h})})),(0,r.jsx)(ze,{instancesHref:n,managePermissionsHref:function(e){return"".concat(a(e),"/acls/select-account")},editPermissionsHref:h})]})),(0,r.jsx)(u.AW,_t({path:"".concat(t,"/settings"),exact:!0},{children:(0,r.jsx)(Ve,{instancesHref:n})})),(0,r.jsx)(u.AW,_t({path:"".concat(t,"/topics")},{children:(0,r.jsx)(M,_t({redirectUrl:o(i)},{children:(0,r.jsxs)(u.rs,{children:[(0,r.jsx)(u.AW,_t({path:"".concat(t,"/topics/create-topic"),exact:!0},{children:(0,r.jsx)(jt,{instancesHref:n,instanceDetailsHref:a,instanceTopicsHref:o,instanceConsumerGroupsHref:d})})),(0,r.jsxs)(u.AW,_t({path:"".concat(t,"/topics/:topicName/consumer-groups")},{children:[(0,r.jsx)(M,_t({redirectUrl:o(i)},{children:(0,r.jsxs)(u.rs,{children:[(0,r.jsxs)(u.AW,_t({path:"".concat(Ae(t),"/consumer-groups/:consumerGroupId/view-partition")},{children:[(0,r.jsx)(u.AW,_t({path:"".concat(Ae(t),"/consumer-groups/:consumerGroupId/view-partition/delete")},{children:(0,r.jsx)(ot,{instancesHref:n,instanceTopicConsumerGroupsHref:f,viewTopicPartitionConsumerGroupHref:m,instanceDetailsHref:a,instanceTopicsHref:o,instanceConsumerGroupsHref:d})})),(0,r.jsx)(u.AW,_t({path:"".concat(Ae(t),"/consumer-groups/:consumerGroupId/view-partition/reset-offset")},{children:(0,r.jsx)(st,{instancesHref:n,instanceTopicConsumerGroupsHref:f,viewTopicPartitionConsumerGroupHref:m,instanceDetailsHref:a,instanceTopicsHref:o,instanceConsumerGroupsHref:d})})),(0,r.jsx)(lt,{instancesHref:n,instanceTopicConsumerGroupsHref:f,viewTopicPartitionConsumerGroupHref:m,instanceDetailsHref:a,instanceTopicsHref:o,instanceConsumerGroupsHref:d})]})),(0,r.jsx)(u.AW,_t({path:"".concat(Ae(t),"/consumer-groups/:consumerGroupId/reset-offset")},{children:(0,r.jsx)(st,{instancesHref:n,instanceTopicConsumerGroupsHref:f,viewTopicPartitionConsumerGroupHref:m,instanceDetailsHref:a,instanceTopicsHref:o,instanceConsumerGroupsHref:d})})),(0,r.jsx)(u.AW,_t({path:"".concat(Ae(t),"/consumer-groups/:consumerGroupId/delete")},{children:(0,r.jsx)(ot,{instancesHref:n,instanceTopicConsumerGroupsHref:f,viewTopicPartitionConsumerGroupHref:m,instanceDetailsHref:a,instanceTopicsHref:o,instanceConsumerGroupsHref:d})}))]})})),(0,r.jsx)($e,{instancesHref:n,instanceDetailsHref:a,instanceTopicsHref:o,instanceConsumerGroupsHref:d})]})),(0,r.jsx)(u.AW,_t({path:"".concat(t,"/topics/:topicName/messages"),exact:!0},{children:(0,r.jsx)(Je,{instancesHref:n,instanceDetailsHref:a,instanceTopicsHref:o,instanceConsumerGroupsHref:d})})),(0,r.jsx)(u.AW,_t({path:"".concat(t,"/topics/:topicName/properties/edit"),exact:!0},{children:(0,r.jsx)(ht,{instancesHref:n,instanceDetailsHref:a,instanceTopicsHref:o,instanceConsumerGroupsHref:d})})),(0,r.jsxs)(u.AW,_t({path:"".concat(t,"/topics/:topicName/properties")},{children:[(0,r.jsx)(u.AW,_t({path:"".concat(t,"/topics/:topicName/properties/delete")},{children:(0,r.jsx)(mt,{instancesHref:n,instanceDetailsHref:a,instanceTopicsHref:o,instanceConsumerGroupsHref:d,topicHref:s,updateTopicHref:c,deleteTopicHref:l})})),(0,r.jsx)(Ze,{instancesHref:n,instanceDetailsHref:a,instanceTopicsHref:o,instanceConsumerGroupsHref:d,topicHref:function(e,t){return"".concat(a(e),"/topics/").concat(t,"/properties")},updateTopicHref:c,deleteTopicHref:l})]})),(0,r.jsx)(u.AW,_t({path:"".concat(t,"/topics/:topicName/schemas"),exact:!0},{children:(0,r.jsx)(Xe,{instancesHref:n,instanceDetailsHref:a,instanceTopicsHref:o,instanceConsumerGroupsHref:d})})),(0,r.jsx)(u.AW,_t({path:"".concat(t,"/topics/:topicName/delete"),exact:!0},{children:(0,r.jsx)(mt,{instancesHref:n,instanceDetailsHref:a,instanceTopicsHref:o,instanceConsumerGroupsHref:d,topicHref:s,updateTopicHref:c,deleteTopicHref:l})})),(0,r.jsx)(u.AW,_t({path:"".concat(t,"/topics/:topicName/edit"),exact:!0},{children:(0,r.jsx)(ht,{instancesHref:n,instanceDetailsHref:a,instanceTopicsHref:o,instanceConsumerGroupsHref:d})})),(0,r.jsx)(u.l_,{from:"".concat(t,"/topics/:topicName/"),to:"".concat(t,"/topics/:topicName/consumer-groups"),exact:!0})]})}))})),(0,r.jsx)(u.AW,_t({path:"".concat(t,"/consumer-groups")},{children:(0,r.jsx)(M,_t({redirectUrl:d(i)},{children:(0,r.jsxs)(u.rs,{children:[(0,r.jsxs)(u.AW,_t({path:"".concat(t,"/consumer-groups/:consumerGroupId/view-partition")},{children:[(0,r.jsx)(u.AW,_t({path:"".concat(t,"/consumer-groups/:consumerGroupId/view-partition/delete")},{children:(0,r.jsx)(tt,{instancesHref:n,instanceDetailsHref:a,instanceConsumerGroupsHref:d,instanceTopicsHref:o,viewPartitionConsumerGroupHref:p})})),(0,r.jsx)(u.AW,_t({path:"".concat(t,"/consumer-groups/:consumerGroupId/view-partition/reset-offset")},{children:(0,r.jsx)(nt,{instancesHref:n,instanceDetailsHref:a,instanceConsumerGroupsHref:d,instanceTopicsHref:o,viewPartitionConsumerGroupHref:p})})),(0,r.jsx)(it,{instancesHref:n,instanceDetailsHref:a,instanceConsumerGroupsHref:d,instanceTopicsHref:o,viewPartitionConsumerGroupHref:p})]})),(0,r.jsx)(u.AW,_t({path:"".concat(t,"/consumer-groups/:consumerGroupId/reset-offset")},{children:(0,r.jsx)(nt,{instancesHref:n,instanceDetailsHref:a,instanceConsumerGroupsHref:d,instanceTopicsHref:o,viewPartitionConsumerGroupHref:p})})),(0,r.jsx)(u.AW,_t({path:"".concat(t,"/consumer-groups/:consumerGroupId/delete")},{children:(0,r.jsx)(tt,{instancesHref:n,instanceDetailsHref:a,instanceConsumerGroupsHref:d,instanceTopicsHref:o,viewPartitionConsumerGroupHref:p})}))]})}))})),(0,r.jsx)(u.l_,{from:"".concat(t),to:"".concat(t,"/dashboard"),exact:!0}),(0,r.jsx)(u.AW,{children:(0,r.jsx)(Ie.InvalidObject,{})})]})}))}))},Ct=function(){return(0,r.jsx)(p.rD,{})},wt=function(){return wt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},wt.apply(this,arguments)},St=function(){return(0,r.jsxs)(u.rs,{children:[(0,r.jsx)(u.AW,wt({path:"/overview",exact:!0},{children:(0,r.jsx)(Ct,{})})),(0,r.jsx)(u.AW,wt({path:"/",exact:!0},{children:(0,r.jsx)(u.l_,{to:S})})),(0,r.jsx)(u.AW,wt({path:w},{children:(0,r.jsxs)(V,{children:[(0,r.jsx)(Se,{}),(0,r.jsx)(u.AW,{path:Pe(w),render:function(e){var t=e.match;return(0,r.jsx)(kt,{root:Pe(w),instancesHref:w,instanceId:t.params.id})}})]})})),(0,r.jsx)(u.AW,wt({path:N},{children:(0,r.jsx)(Te,{instancesHref:S,clustersHref:N})}))]})};const Tt=(0,l.memo)((function(){var e=(0,u.k6)(),t=(0,s.Z)(),n=t.updateDocumentTitle,d=t.on,p=(0,(0,c.$)().t)("kafka:rhosakTitle");return(0,l.useEffect)((function(){(0,o.JH)().register({notifications:a.ee}),n(p);var t=d("APP_NAVIGATION",(function(t){console.dir(t),t.navId&&e.push("/"+t.navId=="/"?"":t.navId)}));return function(){t&&t()}}),[e,d,p,n]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.ZP,{}),(0,r.jsx)(St,{})]})}))},32490:(e,t,n)=>{n.d(t,{t:()=>c});var r=n(52322),i=n(9203),a=n(82820),o=n(80589),s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)},c=function(){return(0,r.jsx)(a.Suspense,s({fallback:null},{children:(0,r.jsx)(o.ErrorBoundary,s({fallbackRender:function(){return null}},{children:(0,r.jsx)(i.ScalprumComponent,{appName:"applicationServices",scope:"applicationServices",module:"./Guides",ErrorComponent:null})}))}))}},70355:(e,t,n)=>{n.d(t,{S:()=>c});var r=n(84885),i=n(19961),a=n(8864),o=n.n(a),s=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function c(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,i.JH)({},s([o(),(0,r.default)({errorDescriptionKey:["detail","stack"]})],e,!0))}},5340:(e,t,n)=>{n.d(t,{JA:()=>m,_C:()=>c._,gs:()=>f});var r=n(52322),i=n(85145),a=n(10330),o=n(14597),s=n(82820),c=n(32729),l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},l.apply(this,arguments)},u=(0,s.lazy)((function(){return n.e(147).then(n.bind(n,38147)).then((function(e){return{default:e.ReactQueryDevtools}}))})),d=(0,s.createContext)(null),p=new i.S,f=function(e){var t=e.children,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["children"]),i=(0,o.Gd)();return(0,r.jsx)(a.aH,l({client:p},{children:(0,r.jsxs)(d.Provider,l({value:n},{children:[t,i&&(0,r.jsx)(s.Suspense,l({fallback:null},{children:(0,r.jsx)(u,{})}))]}))}))};function m(){return(0,s.useContext)(d)}},5731:(e,t,n)=>{n.d(t,{jA:()=>a,JG:()=>u,TR:()=>f,sn:()=>S,sY:()=>b,wY:()=>_,OG:()=>I,Ex:()=>L,Me:()=>B,W4:()=>H,Ak:()=>M,qg:()=>me,Aj:()=>K,W6:()=>J,Jo:()=>je,Xd:()=>be,uC:()=>Y,F:()=>ne,Qq:()=>ae,cW:()=>ce,ML:()=>de});var r=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},i=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function a(e,t,n){return r(this,void 0,Promise,(function(){var r,a,o;return i(this,(function(i){switch(i.label){case 0:return n.length<=0?[2,{}]:(r="".concat(e,"/api/clusters_mgmt/v1/clusters?size=").concat(n.length,"&search=(").concat(n.map((function(e){return"id='".concat(e,"'")})).join(" or "),")"),[4,fetch(r,{method:"GET",headers:{Authorization:"Bearer ".concat(t)}})]);case 1:return[4,i.sent().json()];case 2:return a=i.sent(),o=a.items,[2,Object.fromEntries(o.map((function(e){return[e.id,{name:e.display_name||e.name,cloudProvider:{id:e.cloud_provider.id,displayName:e.cloud_provider.display_name||e.cloud_provider.id},cloudRegion:{id:e.region.id,displayName:e.region.display_name||e.region.id}}]})))]}}))}))}function o(e){var t,n,r,i=s[e.state];return{name:e.groupId,state:i,consumers:e.consumers.map((function(e){return{groupId:e.groupId,topic:e.topic,lag:e.lag,memberId:e.memberId,partition:e.partition,offset:e.offset,logEndOffset:e.logEndOffset}})),activeConsumers:null===(t=e.metrics)||void 0===t?void 0:t.activeConsumers,laggingPartitions:null===(n=e.metrics)||void 0===n?void 0:n.laggingPartitions,unassignedPartitions:null===(r=e.metrics)||void 0===r?void 0:r.unassignedPartitions}}var s={DEAD:"Dead",EMPTY:"Empty",STABLE:"Stable",UNKNOWN:"Unknown",COMPLETING_REBALANCE:"CompletingRebalance",PREPARING_REBALANCE:"PreparingRebalance"},c=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},l=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function u(e){var t=e.getConsumerGroupById,n=e.consumerGroupId;return c(this,void 0,Promise,(function(){return l(this,(function(e){switch(e.label){case 0:return[4,t(n)];case 1:return[2,o(e.sent().data)]}}))}))}var d=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},p=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function f(e){var t=e.getConsumerGroups,n=e.page,r=e.perPage,i=e.topic,a=e.groupId,o=e.sort,c=e.direction;return d(this,void 0,Promise,(function(){var e,l;return p(this,(function(u){switch(u.label){case 0:return[4,t(void 0,void 0,r,n,i,a,c,o)];case 1:return e=u.sent(),l=(e.data.items||[]).map((function(e){var t,n,r;return{name:e.groupId||"",state:s[e.state],consumers:e.consumers,activeConsumers:null===(t=e.metrics)||void 0===t?void 0:t.activeConsumers,laggingPartitions:null===(n=e.metrics)||void 0===n?void 0:n.laggingPartitions,unassignedPartitions:null===(r=e.metrics)||void 0===r?void 0:r.unassignedPartitions}})),[2,{count:e.data.total,groups:l}]}}))}))}var m=n(89644),h=function(){return h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},h.apply(this,arguments)},v=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},g=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function b(e){var t,n=e.getEnterpriseOsdClusters,r=e.fetchClustersMeta;return v(this,void 0,Promise,(function(){var e,i,a,o;return g(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,n()];case 1:return e=s.sent(),i=e.data.items||[],[4,r(i.map((function(e){return e.id})))];case 2:return a=s.sent(),[2,{isEntitled:!0,clusters:i.map((function(e){return function(e,t){if(void 0===e.cluster_id||void 0===e.status)throw new Error("Invalid EnterpriseCluster data");return h(h({},t),{id:e.cluster_id,status:"ready"===e.status?"ready":"failed"===e.status?"failed":"provisioning"===e.status?"provisioning":e.status,requiresPrivateNetwork:e.access_kafkas_via_private_network,az:e.multi_az?"multi":"single"})}(e,a[e.id])})),count:e.data.total}];case 3:if((o=s.sent())instanceof m.AxiosError&&403===(null===(t=o.response)||void 0===t?void 0:t.status))return[2,{isEntitled:!1,clusters:[],count:0}];throw new Error("Unexpected error fetching dedicated clusters");case 4:return[2]}}))}))}var y="rhosak";function x(e){var t;return null===(t=e.related_resources)||void 0===t?void 0:t.find((function(e){return"standard"===e.billing_model}))}function j(e){var t;return null===(t=e.related_resources)||void 0===t?void 0:t.find((function(e){return"marketplace"===e.billing_model}))}var _=function(e,t){return n=void 0,r=void 0,a=function(){var n,r,i,a,o,s;return function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(c){switch(c.label){case 0:return[4,e(t,void 0,!0,void 0,!0)];case 1:if(200!==(n=c.sent()).status)throw new Error(n.statusText);return r=null===(s=n.data.items)||void 0===s?void 0:s.filter((function(e){var t;return null===(t=e.related_resources)||void 0===t?void 0:t.find((function(e){return e.resource_name===y&&"RHOSAKCC"===e.product}))})),i=null==r?void 0:r.find(x),a=void 0!==i,o=i?i.allowed-i.consumed:void 0,[2,{hasDedicatedQuota:a,remainingDedicatedQuota:o}]}}))},new((i=void 0)||(i=Promise))((function(e,t){function o(e){try{c(a.next(e))}catch(e){t(e)}}function s(e){try{c(a.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(o,s)}c((a=a.apply(n,r||[])).next())}));var n,r,i,a};function k(e,t){var n=t;return{id:n.id,displayName:n.display_name,quota:n.quota_consumed,ingress:(n.ingress_throughput_per_sec.bytes||0)/1048576,egress:(n.egress_throughput_per_sec.bytes||0)/1048576,storage:Math.round((n.max_data_retention_size.bytes||0)/1073741824),connections:n.total_max_connections,connectionRate:n.max_connection_attempts_per_sec,maxPartitions:n.max_partitions,messageSize:(n.max_message_size.bytes||0)/1048576,status:"stable"===n.maturity_status?"stable":"preview",trialDurationHours:n.lifespan_seconds?n.lifespan_seconds/60/60:0,isDisabled:e(n.id)}}var C=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},w=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function S(e){var t,n=e.getEnterpriseClusterById,r=e.clusterId;return C(this,void 0,Promise,(function(){var e,i,a,o,s;return w(this,(function(c){switch(c.label){case 0:return[4,n(r)];case 1:if(e=c.sent(),!(i=e.data))throw new Error("Invalid response for cluster ".concat(r));if(!(a=null===(t=i.supported_instance_types)||void 0===t?void 0:t.instance_types))throw new Error("Invalid response for cluster ".concat(r,", missing supported instance types"));return o=a.flatMap((function(e){return e.sizes})),s=o.map((function(e){return k((function(e){var t,n;return o.find((function(t){return t.id===e})).capacity_consumed>(void 0===(null===(t=i.capacity_information)||void 0===t?void 0:t.remaining_kafka_streaming_units)?1/0:null===(n=i.capacity_information)||void 0===n?void 0:n.remaining_kafka_streaming_units)}),e)})),[2,s]}}))}))}var T=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},O=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function I(e,t){return T(this,void 0,void 0,(function(){var n,r,i;return O(this,(function(a){switch(a.label){case 0:return n=0,r=0,i=0,[4,e(t,["kafka_topic:kafka_topic_partitions:sum","kafka_topic:kafka_topic_partitions:count","consumergroup:kafka_consumergroup_members:count"])];case 1:return(a.sent().data.items||[]).forEach((function(e){var t=e.metric,a=e.value;switch(t.__name__){case"kafka_topic:kafka_topic_partitions:sum":r=a;break;case"kafka_topic:kafka_topic_partitions:count":n=a;break;case"consumergroup:kafka_consumergroup_members:count":i=a}})),[2,{consumerGroups:i,topicPartitions:r,topics:n}]}}))}))}var P=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},A=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function L(e){var t=e.getMetricsByRangeQuery,n=e.id,r=e.duration,i=e.interval,a=e.selectedBroker;return P(this,void 0,Promise,(function(){var e,o,s,c,l,u,d;return A(this,(function(p){switch(p.label){case 0:return[4,t(n,r,i,["kubelet_volume_stats_used_bytes","kafka_broker_quota_totalstorageusedbytes","kas_broker_partition_log_size_bytes_top50","kafka_namespace:kafka_server_socket_server_metrics_connection_creation_rate:sum","kafka_namespace:kafka_server_socket_server_metrics_connection_count:sum"])];case 1:return e=p.sent(),o=(e.data.items||[]).filter((function(e){return!(e.values&&e.metric&&e.metric.topic&&e.metric.name&&e.metric.broker_id&&e.metric.partition_id&&e.metric.persistentvolumeclaim&&e.metric.persistentvolumeclaim.includes("zookeeper"))})),s=Array.from(new Set(o.map((function(e){return e.metric.broker_id})))),c={},l={},u={},d={},o.forEach((function(e){var t,n,r=e.metric,i=r.__name__,o=r.topic,s=r.partition_id,p=r.broker_id;function f(t){e.values.forEach((function(e){var n=e.value,r=e.timestamp;return t[r]=n+(t[r]||0)}))}switch(i){case"kubelet_volume_stats_used_bytes":case"kafka_broker_quota_totalstorageusedbytes":!function(){if("kubelet_volume_stats_used_bytes"===i){var t=c.total||{};e.values.forEach((function(e){var n=e.value,r=e.timestamp;t[r]=n+(t[r]||0)})),c.total=t}else{var n=c[p]||{};e.values.forEach((function(e){var t=e.timestamp,r=e.value;return n[t]=r+n[t]||0})),c[p]=n}}();break;case"kas_broker_partition_log_size_bytes_top50":t=a?o+" / "+s:p+" , "+o+" / "+s,n=d[p]||{},e.values.forEach((function(e){var t=e.value,r=e.timestamp;n[r]=t+(n[r]||0)})),d[t]=n;break;case"kafka_namespace:kafka_server_socket_server_metrics_connection_creation_rate:sum":f(l);break;case"kafka_namespace:kafka_server_socket_server_metrics_connection_count:sum":f(u)}})),[2,{brokers:s,usedDiskSpaceMetrics:c,bytesPerPartitionMetrics:d,clientConnectionsMetrics:u,connectionAttemptRateMetrics:l,diskSpaceLimit:0,connectionRateLimit:0,connectionsLimit:0}]}}))}))}var E=n(2529);function D(e,t,n,r){return t.map((function(t){return"%"===n?"".concat(e," like %").concat(t.trim(),"%"):"".concat(e," ").concat(n," ").concat(t.trim())})).join(" ".concat(r," "))}var R=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},N=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},z={name:"name",owner:"owner",provider:"cloud_provider",region:"region",createdAt:"created_at"};function B(e){return R(this,void 0,Promise,(function(){var t,n,r,i,a,o,s,c,l,u,d,p,f,m,h;return N(this,(function(v){switch(v.label){case 0:return t=e.name,n=e.status,r=e.owner,i=e.sort,a=e.direction,o=e.page,s=e.perPage,c=e.instanceType,l=e.clusterIds,u=e.dataMapper,d=e.getKafkas,"dedicated"!==c||void 0!==l&&0!==(null==l?void 0:l.length)?(p=function(e,t,n,r,i){return[D("name",e,"%","or"),D("owner",t,"%","or"),D("status",n.flatMap((function(e){return E.hd[e]})),"=","or"),"dedicated"===r&&i?D("cluster_id",i,"=","or"):null,"developer"===r?D("instance_type",["developer"],"=","or"):null].filter(Boolean).map((function(e){return"(".concat(e,")")})).join(" and ")}(t,r,n,c,l),[4,d(o.toString(10),s.toString(10),i?"".concat(z[i]," ").concat(a):void 0,p)]):[2,Promise.resolve({instances:[],count:0})];case 1:return f=v.sent(),m=f.data.items,h=f.data.total,[4,Promise.all(m.map(u))];case 2:return[2,{instances:v.sent(),count:h}]}}))}))}var V=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},F=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function H(e){var t=e.topicName,n=e.consumeRecords,r=e.partition,i=e.offset,a=e.timestamp,o=e.limit;return V(this,void 0,Promise,(function(){return F(this,(function(e){switch(e.label){case 0:return[4,n(t,void 0,o,void 0,i,r,a)];case 1:return[2,e.sent().data.items.map((function(e){return{partition:e.partition,offset:e.offset,timestamp:e.timestamp,key:e.key,value:e.value,headers:e.headers||{}}}))]}}))}))}var G=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},U=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function M(e){var t,n;return G(this,void 0,void 0,(function(){var r;return U(this,(function(i){switch(i.label){case 0:return[4,e()];case 1:return r=i.sent(),[2,null===(n=null===(t=null==r?void 0:r.data)||void 0===t?void 0:t.organization)||void 0===n?void 0:n.id]}}))}))}var Q=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},q=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function K(e,t,n,r){var i,a,o;return Q(this,void 0,void 0,(function(){var s,c,l,u;return q(this,(function(d){switch(d.label){case 0:return s=t.regions,c=s.find((function(e){return e.id===n})),l=(null==c?void 0:c.capacity.flatMap((function(e){return e.available_sizes.map((function(t){return"".concat(e.instance_type,".").concat(t)}))})))||[],[4,e(t.id,n)];case 1:if(u=d.sent(),!(null===(i=null==u?void 0:u.data)||void 0===i?void 0:i.instance_types))throw new Error("No instance_types from backend");return[2,((null===(o=null===(a=null==u?void 0:u.data)||void 0===a?void 0:a.instance_types.find((function(e){return e.id===r})))||void 0===o?void 0:o.sizes)||[]).map(k.bind(void 0,(function(e){return!l.includes("".concat(r,".").concat(e))})))]}}))}))}var $=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},W=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function J(e,t,n){var r;return $(this,void 0,void 0,(function(){var i,a,o,s,c=this;return W(this,(function(l){switch(l.label){case 0:return[4,e()];case 1:return i=l.sent(),a=(null===(r=null==i?void 0:i.data)||void 0===r?void 0:r.items)||[],[4,Promise.all(a.filter((function(e){return e.enabled})).map((function(e){return $(c,void 0,void 0,(function(){var r,i;return W(this,(function(a){switch(a.label){case 0:return[4,Z(t,e.id,n)];case 1:return r=a.sent(),i={id:e.id,displayName:e.display_name,regions:r},[2,r.length>0?i:null]}}))}))})))];case 2:if(0===(o=l.sent().filter((function(e){return Boolean(e)}))).length)throw new Error("No cloud providers with capacity found");return s=o[0],[2,{providers:o,defaultProvider:null==s?void 0:s.id}]}}))}))}function Z(e,t,n){var r;return $(this,void 0,void 0,(function(){var i;return W(this,(function(a){switch(a.label){case 0:return[4,e(t)];case 1:return i=a.sent(),(null===(r=null==i?void 0:i.data)||void 0===r?void 0:r.items)?[2,i.data.items.filter((function(e){return e.enabled&&e.capacity.some((function(e){return e.instance_type===n}))})).map((function(e){var t,r=null===(t=e.capacity)||void 0===t?void 0:t.some((function(e){var t;return e.instance_type===n&&0===(null===(t=e.available_sizes)||void 0===t?void 0:t.length)}));return{id:e.id,displayName:e.display_name,isDisabled:r,capacity:e.capacity}}))]:[2,Promise.reject("Invalid provider")]}}))}))}var Y=function(e,t){return n=void 0,r=void 0,a=function(){var n,r,i,a,o,s,c,l,u,d,p,f,m;return function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(h){switch(h.label){case 0:return[4,e(t,void 0,!0,void 0,!0)];case 1:if(200!==(n=h.sent()).status)throw new Error(n.statusText);return r=null===(f=n.data.items)||void 0===f?void 0:f.filter((function(e){var t;return null===(t=e.related_resources)||void 0===t?void 0:t.find((function(e){return e.resource_name===y&&"RHOSAK"===e.product}))})),i=null==r?void 0:r.find(x),a=void 0!==i,o=(null==r?void 0:r.some(j))?null==r?void 0:r.filter(j):void 0,s=void 0===i&&void 0===o&&(null===(m=n.data.items)||void 0===m?void 0:m.some((function(e){var t;return null===(t=e.related_resources)||void 0===t?void 0:t.find((function(e){return e.resource_name===y&&"RHOSAKTrial"===e.product}))})))||!1,c=i?i.allowed-i.consumed:void 0,l=o?o.reduce((function(e,t){return t.allowed-t.consumed+e}),0):void 0,u=null==o?void 0:o.filter((function(e){return void 0!==e.cloud_accounts})).flatMap((function(e){return e.cloud_accounts||[]})),d=Array.from(new Set(null==u?void 0:u.map((function(e){return e.cloud_provider_id})))),p=u?d.map((function(e){return{marketplace:e,subscriptions:u.filter((function(t){return t.cloud_provider_id===e})).map((function(e){return e.cloud_account_id}))}})):[],[2,{hasStandardQuota:a,hasTrialQuota:s,remainingPrepaidQuota:c,remainingMarketplaceQuota:l,marketplaceSubscriptions:p}]}}))},new((i=void 0)||(i=Promise))((function(e,t){function o(e){try{c(a.next(e))}catch(e){t(e)}}function s(e){try{c(a.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(o,s)}c((a=a.apply(n,r||[])).next())}));var n,r,i,a},X=n(45892),ee=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},te=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function ne(e){var t=e.getTopic,n=e.topicName,r=e.plan;return ee(this,void 0,Promise,(function(){var e;return te(this,(function(i){switch(i.label){case 0:return[4,t(n)];case 1:return e=i.sent(),[2,(0,X.jb)(r)(e.data)]}}))}))}var re=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},ie=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function ae(e){var t=e.getTopics,n=e.page,r=e.perPage,i=e.filter,a=e.sort,o=e.direction,s=e.plan;return re(this,void 0,Promise,(function(){var e,c;return ie(this,(function(l){switch(l.label){case 0:return[4,t(void 0,void 0,r,i,n,o,a)];case 1:return e=l.sent(),c=(e.data.items||[]).map((0,X.jb)(s)),[2,{count:e.data.total,topics:c}]}}))}))}var oe=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},se=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function ce(e){var t=e.getMetricsByRangeQuery,n=e.id,r=e.duration,i=e.interval,a=e.selectedTopic;return oe(this,void 0,Promise,(function(){var e,o,s,c,l,u,d,p;return se(this,(function(f){switch(f.label){case 0:return[4,t(n,r,i,["kafka_topic:kafka_server_brokertopicmetrics_bytes_in_total:rate5m","kafka_topic:kafka_server_brokertopicmetrics_bytes_out_total:rate5m","kas_topic_partition_log_size_bytes","kafka_topic:kafka_server_brokertopicmetrics_messages_in_total:rate5m"])];case 1:return e=f.sent(),o=(e.data.items||[]).filter((function(e){return!(e.values&&e.metric&&e.metric.topic&&e.metric.name)})),s=o.filter((function(e){var t;return void 0===a||(null===(t=e.metric)||void 0===t?void 0:t.topic)===a})),c=Array.from(new Set(o.map((function(e){return e.metric.topic})))),l={},u={},d={},p={},s.forEach((function(e){var t,n,r=e.metric,i=r.__name__,a=(r.topic,r.partition_id);function o(t){e.values.forEach((function(e){var n=e.value,r=e.timestamp;return t[r]=n+(t[r]||0)}))}switch(r.broker_id,i){case"kafka_topic:kafka_server_brokertopicmetrics_bytes_in_total:rate5m":o(l);break;case"kafka_topic:kafka_server_brokertopicmetrics_bytes_out_total:rate5m":o(u);break;case"kas_topic_partition_log_size_bytes":t="".concat(a),n=d[t]||{},e.values.forEach((function(e){var t=e.value,r=e.timestamp;return n[r]=t+(n[r]||0)})),d[t]=n;break;case"kafka_topic:kafka_server_brokertopicmetrics_messages_in_total:rate5m":o(p)}})),[2,{metricsTopics:c,bytesOutgoing:u,bytesIncoming:l,bytesPerPartition:d,incomingMessageRate:p}]}}))}))}var le=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},ue=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function de(e){var t=e.getUserAccounts;return le(this,void 0,Promise,(function(){var e,n;return ue(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,t(-1)];case 1:return e=r.sent(),[2,{count:(n=e.data.data.map((function(e){var t=e;return{username:t.username,displayName:"".concat(t.first_name||""," ").concat(t.last_name||"").trim(),email:t.email,isOrgAdmin:t.is_org_admin||!1}}))).length,accounts:n}];case 2:return r.sent(),[2,{accounts:[],count:0}];case 3:return[2]}}))}))}var pe=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},fe=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function me(e){var t=e.getAcls,n=e.page,r=e.perPage;return pe(this,void 0,Promise,(function(){var e,i;return fe(this,(function(a){switch(a.label){case 0:return[4,t(void 0,void 0,void 0,void 0,void 0,void 0,n,r)];case 1:return e=a.sent(),i=(e.data.items||[]).map((function(e){return{account:e.principal||"",permission:{permission:e.permission,operation:e.operation},resource:{resourceName:e.resourceName,patternType:e.patternType,resourceType:e.resourceType}}})),[2,{count:e.data.total,groups:i}]}}))}))}var he=n(13617),ve=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},ge=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function be(e){var t=e.getServiceAccounts;return ve(this,void 0,Promise,(function(){var e;return ge(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return e=n.sent(),[2,{serviceAccounts:e.data.items.map((function(e){return{principalType:he.eZ.ServiceAccount,id:e.id||"",displayName:e.name||""}}))}]}}))}))}var ye=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},xe=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function je(e){return ye(this,void 0,void 0,(function(){var t,n,r,i,a,o;return xe(this,(function(s){switch(s.label){case 0:return[4,e({event_code:"register",site_code:"ocm"})];case 1:if(t=s.sent(),n=t.data,r=n.terms_required,i=n.terms_available,a=n.redirect_url,!1==(o=!1===r&&!1===i)&&void 0===a)throw new Error("Invalid Terms and Conditions ");return[2,{areTermsAccepted:o,termsUrl:function(e,t){if(void 0===a)throw new Error("Invalid Terms and Conditions ");var n=new URL(a);return n.searchParams.set("redirect",e),n.searchParams.set("cancelRedirect",t),n.href}}]}}))}))}},93741:(e,t,n)=>{n.d(t,{gs:()=>u.gs,XQ:()=>jt,Q0:()=>yt,CW:()=>xt,O7:()=>W,PM:()=>_,yT:()=>C,gU:()=>Ne,VK:()=>Fe,N6:()=>ft,lc:()=>l,O1:()=>O,lY:()=>v,HN:()=>y,aB:()=>et,Ci:()=>Me,bh:()=>ot,Wn:()=>Ke,wG:()=>se,NP:()=>R,vC:()=>ue,yN:()=>fe,IQ:()=>ge,bC:()=>V,yp:()=>ye,ck:()=>xe,Nj:()=>je,_C:()=>u._C,LA:()=>rt,dQ:()=>re,B:()=>oe,t2:()=>Z,B6:()=>Ce,BZ:()=>H,X2:()=>U,nt:()=>Oe,Q8:()=>Le,We:()=>Ze,or:()=>lt,cb:()=>vt,aF:()=>ne,gZ:()=>K});var r=n(10330),i=n(5731),a=n(60713),o=n(77468),s=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},c=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function l(){var e=this,t=(0,r.NL)(),n=(0,o.h)().dedicatedClusters;return function(r){var o=r.clusterId;return s(e,void 0,void 0,(function(){var e,r=this;return c(this,(function(l){return e=n(),[2,t.fetchQuery({queryKey:a.jL.clusterSizes({clusterId:o}),queryFn:function(){return s(r,void 0,void 0,(function(){return c(this,(function(t){return[2,(0,i.sn)({clusterId:o,getEnterpriseClusterById:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.getEnterpriseClusterById.apply(e,t)}})]}))}))}})]}))}))}}var u=n(5340),d=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},p=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function f(){var e=this,t=(0,r.NL)(),n=(0,u.JA)(),o=n.basePath,s=n.accessToken;return function(n){return d(e,void 0,void 0,(function(){var e=this;return p(this,(function(r){return[2,t.fetchQuery({queryKey:a.jL.clusterNames(n),queryFn:function(){return d(e,void 0,void 0,(function(){var e;return p(this,(function(t){switch(t.label){case 0:return[4,s()];case 1:return e=t.sent(),[2,(0,i.jA)(o.includes("api.stage.openshift.com")?"https://api.openshift.com":o,e,n)]}}))}))}})]}))}))}}var m=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},h=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function v(){var e=this,t=(0,r.NL)(),n=(0,o.h)().dedicatedClusters,s=f();return function(){return m(e,void 0,void 0,(function(){var e,r=this;return h(this,(function(o){return e=n(),[2,t.fetchQuery({queryKey:a.jL.clusters(),queryFn:function(){return m(r,void 0,void 0,(function(){var n;return h(this,(function(r){switch(r.label){case 0:return[4,(0,i.sY)({getEnterpriseOsdClusters:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.getEnterpriseOsdClusters.apply(e,t)},fetchClustersMeta:s})];case 1:return(n=r.sent()).clusters.forEach((function(e){return t.setQueryData(a.jL.cluster({id:e.id}),e)})),[2,n]}}))}))}})]}))}))}}var g=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},b=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function y(e){var t=this;void 0===e&&(e=!1);var n=(0,r.NL)(),s=(0,(0,o.h)().account)();return function(){return g(t,void 0,void 0,(function(){var t;return b(this,(function(r){switch(r.label){case 0:return[4,n.fetchQuery({queryKey:a.w9.organization(),queryFn:function(){return(0,i.Ak)((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.apiAccountsMgmtV1CurrentAccountGet.apply(s,e)}))},staleTime:1/0})];case 1:return(t=r.sent())?[2,n.fetchQuery({queryKey:a.w9.quota.dedicatedAvailable(),queryFn:function(){return(0,i.wY)((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.apiAccountsMgmtV1OrganizationsOrgIdQuotaCostGet.apply(s,e)}),t)},staleTime:e?void 0:1/0})]:[2,Promise.reject("Missing organization id")]}}))}))}}var x=n(18534),j=function(){return j=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},j.apply(this,arguments)};function _(e,t){void 0===t&&(t=!1);var n=(0,u.JA)().refetchInterval,r=(0,o.h)().consumerGroups;return(0,x.a)({queryKey:a.mE.instance.consumerGroup(e),queryFn:function(){if(!e.id)return Promise.reject("Invalid id");if(!e.adminUrl)return Promise.reject("Invalid adminUrl");if(!e.consumerGroupId)return Promise.reject("Invalid consumerGroupId");var t=r(e.adminUrl);return(0,i.JG)(j({getConsumerGroupById:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.getConsumerGroupById.apply(t,e)}},e))},enabled:Boolean(e.adminUrl)&&Boolean(e.id)&&Boolean(e.consumerGroupId),refetchInterval:n,suspense:t})}var k=function(){return k=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},k.apply(this,arguments)};function C(e,t){void 0===t&&(t=!1);var n=(0,u.JA)().refetchInterval,r=(0,o.h)().consumerGroups;return(0,x.a)({queryKey:a.mE.instance.consumerGroups(e),queryFn:function(){if(!e.id)return Promise.reject("Invalid id");if(!e.adminUrl)return Promise.reject("Invalid adminUrl");var t=r(e.adminUrl);return(0,i.TR)(k({getConsumerGroups:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.getConsumerGroups.apply(t,e)}},e))},enabled:Boolean(e.adminUrl)&&Boolean(e.id),refetchInterval:n,suspense:t})}var w=n(3621),S=(w.APIErrorCodes.ERROR_4,w.APIErrorCodes.ERROR_36,w.APIErrorCodes.ERROR_24,w.APIErrorCodes.ERROR_120,w.APIErrorCodes.ERROR_5,w.APIErrorCodes.ERROR_121,w.APIErrorCodes.ERROR_21,function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))}),T=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function O(){var e=this,t=(0,r.NL)(),n=(0,u.JA)().refetchInterval,s=(0,o.h)().dedicatedClusters,c=f();return(0,x.a)({queryKey:a.jL.clusters(),queryFn:function(){return S(e,void 0,void 0,(function(){var e,n;return T(this,(function(r){switch(r.label){case 0:return e=s(),[4,(0,i.sY)({getEnterpriseOsdClusters:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.getEnterpriseOsdClusters.apply(e,t)},fetchClustersMeta:c})];case 1:return(n=r.sent()).clusters.forEach((function(e){return t.setQueryData(a.jL.cluster({id:e.id}),e)})),[2,n]}}))}))},refetchInterval:n})}function I(e,t,n,r,i){var a,o,s,c,l={billing:void 0,connectionRate:0,connections:0,createdAt:e.created_at||(new Date).toISOString(),egress:0,expiryDate:e.expires_at,id:e.id,ingress:0,maxPartitions:0,messageSize:{type:"bytes",value:BigInt(0)},name:e.name||"",owner:e.owner||"",plan:e.instance_type,provider:e.cloud_provider,region:e.region||"",size:"1",status:(c=e.status||"",{accepted:"accepted",preparing:"preparing",provisioning:"provisioning",ready:"ready",failed:"degraded",deprovision:"deprovision",deleting:"deleting"}[c]||"degraded"),storage:{type:"bytes",value:BigInt(0)},updatedAt:e.updated_at||(new Date).toISOString(),request:e,clusterId:e.cluster_id?e.cluster_id:void 0,clusterName:e.cluster_id?null===(a=i.find((function(t){return e.cluster_id===t.id})))||void 0===a?void 0:a.name:void 0,version:e.version||"",bootstrapUrl:e.bootstrap_server_host,adminUrl:e.admin_api_server_url,az:1==e.multi_az?"multi":"single"};try{var u=null===(o=t.find((function(t){return t.subscriptions.find((function(t){return t===e.billing_cloud_account_id}))})))||void 0===o?void 0:o.marketplace,d="enterprise"===e.billing_model?"dedicated":"standard"===e.billing_model?"prepaid":u&&e.billing_cloud_account_id?{marketplace:u,subscription:e.billing_cloud_account_id}:void 0;l.billing=d}catch(t){console.warn("kafkaRequestToKafkaInstance","couldn't retrieve the billing info for",e)}try{var p=("developer"===e.instance_type?n:r).find((function(t){return t.id===e.size_id}));p&&(l.size=p.displayName,l.ingress=p.ingress,l.egress=p.egress,l.storage={type:"bytes",value:BigInt((null===(s=e.max_data_retention_size)||void 0===s?void 0:s.bytes)||0)},l.connections=p.connections,l.connectionRate=p.connectionRate,l.maxPartitions=p.maxPartitions,l.messageSize={type:"bytes",value:BigInt(p.messageSize)})}catch(t){console.warn("kafkaRequestToKafkaInstance","couldn't retrieve the limits info for",e)}return l}var P=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},A=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function L(){var e=Ce(),t=je(),n=xe(),r=v();return function(i){return P(this,void 0,void 0,(function(){var a,o,s,c,l,u,d,p,f;return A(this,(function(m){switch(m.label){case 0:if(!i.region)throw new Error("Invalid KafkaRequest, empty region: ".concat(JSON.stringify(i)));return[4,e()];case 1:return a=m.sent(),[4,t("standard"!==i.instance_type?"developer":"standard")];case 2:return o=m.sent(),(s=o.providers.find((function(e){return e.id===i.cloud_provider})))?(c=n(s,i.region,"standard"),l=n(s,i.region,"developer"),[4,Promise.all([c,l])]):[2,Promise.reject("Invalid cloud provider")];case 3:return u=m.sent(),d=u[0],p=u[1],[4,r()];case 4:return f=m.sent().clusters,[2,I(i,a.marketplaceSubscriptions,p,d,f)]}}))}))}}var E=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},D=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function R(e,t){var n=this;void 0===t&&(t=!1);var r=(0,u.JA)().refetchInterval,i=L(),s=(0,(0,o.h)().kafkasFleet)();return(0,x.a)({enabled:Boolean(e),queryKey:a.mE.instance.details({id:e}),queryFn:function(){return E(n,void 0,void 0,(function(){var t;return D(this,(function(n){switch(n.label){case 0:return e?[4,s.getKafkaById(e)]:[2,Promise.reject("Invalid Kafka instance id")];case 1:return t=n.sent(),[2,i(t.data)]}}))}))},refetchInterval:r,suspense:t})}var N=function(){return N=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},N.apply(this,arguments)},z=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},B=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function V(e){var t=this,n=(0,u.JA)().refetchInterval,s=O(),c=s.data,l=s.isError,d=(0,r.NL)(),p=L(),f=(0,(0,o.h)().kafkasFleet)(),m=null==c?void 0:c.clusters.map((function(e){return e.id}));return(0,x.a)({queryKey:a.mE.list(N(N({},e),{clusterIds:m})),queryFn:function(){return z(t,void 0,void 0,(function(){var t;return B(this,(function(n){switch(n.label){case 0:return[4,(0,i.Me)(N(N({getKafkas:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return f.getKafkas.apply(f,e)},dataMapper:p},e),{clusterIds:m}))];case 1:return(t=n.sent()).instances.forEach((function(e){return d.setQueryData(a.mE.instance.details({id:e.id}),e)})),[2,t]}}))}))},enabled:Boolean(m)||l,refetchInterval:n})}var F=function(){return F=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},F.apply(this,arguments)};function H(e,t){void 0===t&&(t=!1);var n=(0,u.JA)().refetchInterval,r=(0,o.h)().topics;return(0,x.a)({queryKey:a.mE.instance.topic(e),queryFn:function(){if(!e.id)return Promise.reject("Invalid id");if(!e.adminUrl)return Promise.reject("Invalid adminUrl");var t=r(e.adminUrl);return(0,i.F)(F({getTopic:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.getTopic.apply(t,e)}},e))},enabled:Boolean(e.adminUrl)&&Boolean(e.id)&&Boolean(e.topicName),refetchInterval:n,suspense:t})}var G=function(){return G=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},G.apply(this,arguments)};function U(e,t){void 0===t&&(t=!1);var n=(0,u.JA)().refetchInterval,r=(0,o.h)().topics;return(0,x.a)({queryKey:a.mE.instance.topics(e),queryFn:function(){if(!e.id)return Promise.reject("Invalid id");if(!e.adminUrl)return Promise.reject("Invalid adminUrl");var t=r(e.adminUrl);return(0,i.Qq)(G({getTopics:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.getTopics.apply(t,e)}},e))},enabled:Boolean(e.adminUrl)&&Boolean(e.id),refetchInterval:n,suspense:t})}var M=function(){return M=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},M.apply(this,arguments)},Q=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},q=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function K(e,t){var n=this;void 0===t&&(t=!1);var r=(0,u.JA)().refetchInterval,s=(0,o.h)().userAccounts;return(0,x.a)({queryKey:a.w9.userAccounts(e),queryFn:function(){return Q(n,void 0,void 0,(function(){var t;return q(this,(function(n){switch(n.label){case 0:return[4,s()];case 1:return t=n.sent(),[2,(0,i.ML)(M({getUserAccounts:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.listPrincipals.apply(t,e)}},e))]}}))}))},refetchInterval:r,suspense:t})}var $=function(){return $=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},$.apply(this,arguments)};function W(e,t){void 0===t&&(t=!1);var n=(0,u.JA)().refetchInterval,r=(0,o.h)().acls;return(0,x.a)({queryKey:a.mE.instance.permissions(e),queryFn:function(){if(!e.adminUrl)return Promise.reject("Invalid adminUrl");if(!e.id)return Promise.reject("Invalid id");var t=r(e.adminUrl);return(0,i.qg)($({getAcls:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.getAcls.apply(t,e)}},e))},enabled:Boolean(e.adminUrl),refetchInterval:n,suspense:t})}var J=function(){return J=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},J.apply(this,arguments)};function Z(e,t){void 0===t&&(t=!1);var n=(0,u.JA)().refetchInterval,r=(0,o.h)().serviceAccount;return(0,x.a)({queryKey:a.mE.instance.serviceAccounts(e),queryFn:function(){var t=r();return(0,i.Xd)(J({getServiceAccounts:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.getServiceAccounts.apply(t,e)}},e))},refetchInterval:n,suspense:t})}var Y=n(2529),X=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},ee=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},te=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function ne(e){var t=this,n=e.getUser,r=e.suspense;return(0,x.a)({queryKey:a.w9.user(),queryFn:function(){return X(t,void 0,void 0,(function(){var e,t,r;return ee(this,(function(i){switch(i.label){case 0:return[4,n()];case 1:return e=i.sent(),t=e.username,r=e.isOrgAdmin,void 0===t||void 0===r?[2,Promise.reject("Invalid username")]:[2,{username:t,isOrgAdmin:r,canOpenConnection:function(e){return!te(te([],Y.KH,!0),Y.lO,!0).includes(e)},isUserOwnerOrAdmin:function(e){return e===t||r},canChangeOwner:function(e,n){return e===t||r&&!Y.KH.includes(n)}}]}}))}))},suspense:r})}var re=function(){var e=(0,u.JA)().basePath;return(0,x.a)({queryKey:a.w9.tokenEndPointUrl(),queryFn:function(){return t=void 0,n=void 0,i=function(){var t,n;return function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(r){switch(r.label){case 0:return[4,fetch("".concat(e,"/api/kafkas_mgmt/v1/sso_providers"))];case 1:return[4,r.sent().json()];case 2:return t=r.sent(),void 0===(n=t.token_url)||""===n?[2,Promise.reject("Invalid SSO token URL")]:[2,n]}}))},new((r=void 0)||(r=Promise))((function(e,a){function o(e){try{c(i.next(e))}catch(e){a(e)}}function s(e){try{c(i.throw(e))}catch(e){a(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,s)}c((i=i.apply(t,n||[])).next())}));var t,n,r,i}})},ie=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},ae=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function oe(e){var t=this;void 0===e&&(e=!1);var n=(0,o.h)().account;return(0,x.a)({queryKey:a.w9.selfTermsReview(),queryFn:function(){return ie(t,void 0,void 0,(function(){var e;return ae(this,(function(t){return e=n(),[2,(0,i.Jo)((function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.apiAuthorizationsV1SelfTermsReviewPost.apply(e,t)}))]}))}))},suspense:e})}var se=function(){var e=(0,r.NL)(),t=(0,o.h)().kafkasFleet,n=L();return function(r){var o=t();return e.fetchQuery({queryKey:a.w9.quota.developerAvailability(),queryFn:function(){return t=void 0,s=void 0,l=function(){var t;return function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(s){switch(s.label){case 0:return[4,r()];case 1:return(t=s.sent())?[4,e.fetchQuery({queryKey:a.mE.list({direction:"desc",sort:"createdAt",name:[],status:[],owner:[t],perPage:10,page:1,instanceType:"developer"}),queryFn:function(){return(0,i.Me)({getKafkas:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.getKafkas.apply(o,e)},dataMapper:n,direction:"desc",sort:"createdAt",name:[],status:[],owner:[t],perPage:10,page:1,instanceType:"developer"})},staleTime:1/0})]:[2,Promise.reject(new Error("Invalid username"))];case 2:return[2,0===s.sent().count]}}))},new((c=void 0)||(c=Promise))((function(e,n){function r(e){try{a(l.next(e))}catch(e){n(e)}}function i(e){try{a(l.throw(e))}catch(e){n(e)}}function a(t){var n;t.done?e(t.value):(n=t.value,n instanceof c?n:new c((function(e){e(n)}))).then(r,i)}a((l=l.apply(t,s||[])).next())}));var t,s,c,l}})}},ce=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},le=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function ue(){var e=this,t=(0,r.NL)(),n=L(),i=(0,o.h)().kafkasFleet;return function(r){return ce(e,void 0,void 0,(function(){var e,o=this;return le(this,(function(s){return e=i(),[2,t.fetchQuery({queryKey:a.mE.instance.details({id:r}),queryFn:function(){return ce(o,void 0,void 0,(function(){var t;return le(this,(function(i){switch(i.label){case 0:return[4,e.getKafkaById(r)];case 1:return t=i.sent(),[2,n(t.data)]}}))}))}})]}))}))}}var de=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},pe=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function fe(){var e=this,t=(0,o.h)().kafkasFleet,n=(0,r.NL)();return function(r){var o=t();return n.fetchQuery({queryKey:a.mE.instance.metrics.kpi({id:r}),queryFn:function(){return de(e,void 0,void 0,(function(){return pe(this,(function(e){return[2,(0,i.OG)((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.getMetricsByInstantQuery.apply(o,e)}),r)]}))}))}})}}var me=function(){return me=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},me.apply(this,arguments)},he=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},ve=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function ge(){var e=this,t=(0,o.h)().kafkasFleet,n=(0,r.NL)();return function(r){var o=t();return n.fetchQuery({queryKey:a.mE.instance.metrics.instance(r),queryFn:function(){return he(e,void 0,void 0,(function(){return ve(this,(function(e){return[2,(0,i.Ex)(me({getMetricsByRangeQuery:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.getMetricsByRangeQuery.apply(o,e)}},r))]}))}))}})}}var be=function(){return be=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},be.apply(this,arguments)};function ye(){var e=(0,o.h)().records,t=(0,r.NL)();return function(n){var r=e(n.adminUrl);return t.fetchQuery({queryKey:a.mE.instance.topicMessages(n),queryFn:function(){return n.id?n.adminUrl?(0,i.W4)(be({consumeRecords:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.consumeRecords.apply(r,e)}},n)):Promise.reject("Invalid adminUrl"):Promise.reject("Invalid id")}})}}function xe(){var e=(0,r.NL)(),t=(0,o.h)().kafkasFleet;return function(n,r,o){var s=t();return e.fetchQuery({queryKey:a.B_.limits["standard"===o?"standard":"developer"]({provider:n.id,region:r}),queryFn:function(){return(0,i.Aj)((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.getInstanceTypesByCloudProviderAndRegion.apply(s,e)}),n,r,o)},staleTime:1/0})}}function je(){var e=(0,r.NL)(),t=(0,o.h)().kafkasFleet;return function(n){var r=t();return e.fetchQuery({queryKey:a.B_.list({plan:n}),queryFn:function(){return(0,i.W6)((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.getCloudProviders.apply(r,e)}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.getCloudProviderRegions.apply(r,e)}),n)},staleTime:1/0})}}var _e=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},ke=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function Ce(e){var t=this;void 0===e&&(e=!1);var n=(0,r.NL)(),s=(0,(0,o.h)().account)();return function(){return _e(t,void 0,void 0,(function(){var t;return ke(this,(function(r){switch(r.label){case 0:return[4,n.fetchQuery({queryKey:a.w9.organization(),queryFn:function(){return(0,i.Ak)((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.apiAccountsMgmtV1CurrentAccountGet.apply(s,e)}))},staleTime:1/0})];case 1:return(t=r.sent())?[2,n.fetchQuery({queryKey:a.w9.quota.standardAvailable(),queryFn:function(){return(0,i.uC)((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.apiAccountsMgmtV1OrganizationsOrgIdQuotaCostGet.apply(s,e)}),t)},staleTime:e?void 0:1/0})]:[2,Promise.reject("Missing organization id")]}}))}))}}var we=function(){return we=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},we.apply(this,arguments)},Se=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},Te=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function Oe(){var e=this,t=(0,o.h)().topics,n=(0,r.NL)();return function(r){var o=t(r.adminUrl);return n.fetchQuery({queryKey:a.mE.instance.topics(r),queryFn:function(){return Se(e,void 0,void 0,(function(){return Te(this,(function(e){return[2,(0,i.Qq)(we({getTopics:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.getTopics.apply(o,e)}},r))]}))}))}})}}var Ie=function(){return Ie=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ie.apply(this,arguments)},Pe=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},Ae=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function Le(){var e=this,t=(0,o.h)().kafkasFleet,n=(0,r.NL)();return function(r){var o=t();return n.fetchQuery({queryKey:a.mE.instance.metrics.topic(r),queryFn:function(){return Pe(e,void 0,void 0,(function(){return Ae(this,(function(e){return[2,(0,i.cW)(Ie({getMetricsByRangeQuery:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.getMetricsByRangeQuery.apply(o,e)}},r))]}))}))}})}}var Ee=n(18371),De=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},Re=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function Ne(){var e=(0,o.h)().kafkasFleet,t=(0,r.NL)();return(0,Ee.D)((function(t){var n;return De(this,void 0,void 0,(function(){var r,i,a,o,s,c;return Re(this,(function(l){switch(l.label){case 0:r=t.instance,i=t.onSuccess,a=t.onError,o=e(),(s={name:r.name,cluster_id:r.cluster.id}).plan="standard."+r.sizeId,s.billing_model="enterprise",l.label=1;case 1:return l.trys.push([1,3,,4]),[4,o.createKafka(!0,s)];case 2:return l.sent(),i(),[3,4];case 3:if(c=l.sent(),(0,w.isServiceApiError)(c))switch(((null===(n=null==c?void 0:c.response)||void 0===n?void 0:n.data)||{}).code){case ze.DUPLICATE_INSTANCE_NAME:a("name-taken");break;case ze.INTERNAL_CAPACITY_ERROR:a("cluster-unavailable");break;case ze.INSUFFICIENT_QUOTA:a("insufficient-quota");break;default:console.error("useCreateDedicatedKafkaMutation","createKafka unknown error",c),a("unknown")}return[3,4];case 4:return[2]}}))}))}),{onSuccess:function(){t.invalidateQueries([a.mE._root()]),t.invalidateQueries([a.w9.quota._root()]),t.invalidateQueries([a.jL._root()])}})}var ze={UNAUTHORIZED_USER:w.APIErrorCodes.ERROR_4,DUPLICATE_INSTANCE_NAME:w.APIErrorCodes.ERROR_36,INTERNAL_CAPACITY_ERROR:w.APIErrorCodes.ERROR_24,INSUFFICIENT_QUOTA:w.APIErrorCodes.ERROR_120,TRIAL_USED:w.APIErrorCodes.ERROR_5,FAILED_TO_CHECK_QUOTA:w.APIErrorCodes.ERROR_121,OWNER_DOES_NOT_EXIST:w.APIErrorCodes.ERROR_21},Be=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},Ve=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function Fe(){var e=(0,o.h)().kafkasFleet,t=(0,r.NL)();return(0,Ee.D)((function(t){var n;return Be(this,void 0,void 0,(function(){var r,i,a,o,s,c,l;return Ve(this,(function(u){switch(u.label){case 0:r=t.instance,i=t.onSuccess,a=t.onError,o=e(),(s={name:r.name,cloud_provider:r.provider,region:r.region}).plan=r.plan+"."+r.sizeId,s.billing_model="prepaid"===r.billing?"standard":void 0!==r.billing?"marketplace":null,s.billing_cloud_account_id=r.billing&&"prepaid"!==r.billing?r.billing.subscription:null,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,o.createKafka(!0,s)];case 2:return u.sent(),i(),[3,4];case 3:if(c=u.sent(),(0,w.isServiceApiError)(c))switch(l=((null===(n=null==c?void 0:c.response)||void 0===n?void 0:n.data)||{}).code,r.plan){case"developer":l===He.DUPLICATE_INSTANCE_NAME?a("name-taken"):a("developer-unavailable");break;case"standard":switch(l){case He.DUPLICATE_INSTANCE_NAME:a("name-taken");break;case He.INTERNAL_CAPACITY_ERROR:a("region-unavailable");break;case He.INSUFFICIENT_QUOTA:a("insufficient-quota");break;default:console.error("useKafkaCreateInstanceMutation","createKafka unknown error",c),a("unknown")}}else console.error("useKafkaCreateInstanceMutation","createKafka unexpected error",c),a("unknown");return[3,4];case 4:return[2]}}))}))}),{onSuccess:function(){t.invalidateQueries([a.mE._root()]),t.invalidateQueries([a.w9.quota._root()])}})}var He={UNAUTHORIZED_USER:w.APIErrorCodes.ERROR_4,DUPLICATE_INSTANCE_NAME:w.APIErrorCodes.ERROR_36,INTERNAL_CAPACITY_ERROR:w.APIErrorCodes.ERROR_24,INSUFFICIENT_QUOTA:w.APIErrorCodes.ERROR_120,TRIAL_USED:w.APIErrorCodes.ERROR_5,FAILED_TO_CHECK_QUOTA:w.APIErrorCodes.ERROR_121,OWNER_DOES_NOT_EXIST:w.APIErrorCodes.ERROR_21},Ge=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},Ue=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function Me(){var e=(0,o.h)().kafkasFleet,t=(0,r.NL)();return(0,Ee.D)((function(t){var n;return Ge(this,void 0,void 0,(function(){var r,i,a,o,s,c,l;return Ue(this,(function(u){switch(u.label){case 0:r=t.id,i=t.onSuccess,a=t.onError,o=e(),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,o.deleteKafkaById(r,!0)];case 2:return u.sent(),i(),[3,4];case 3:return s=u.sent(),(0,w.isServiceApiError)(s)&&(c=null==s?void 0:s.message,l=((null===(n=null==s?void 0:s.response)||void 0===n?void 0:n.data)||{}).code,a(l||"?",c)),[3,4];case 4:return[2]}}))}))}),{onSuccess:function(){t.invalidateQueries([a.mE._root()]),t.invalidateQueries([a.w9.quota._root()])}})}var Qe=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},qe=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function Ke(){var e=(0,o.h)().topics,t=(0,r.NL)();return(0,Ee.D)((function(t){var n,r=t.adminUrl,i=t.name,a=t.onSuccess,o=t.onError;return Qe(this,void 0,void 0,(function(){var t,s,c,l;return qe(this,(function(u){switch(u.label){case 0:t=e(r),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,t.deleteTopic(i)];case 2:return u.sent(),a(),[3,4];case 3:return s=u.sent(),(0,w.isServiceApiError)(s)&&(c=null==s?void 0:s.message,l=((null===(n=null==s?void 0:s.response)||void 0===n?void 0:n.data)||{}).code,o(l||"?",c)),[3,4];case 4:return[2]}}))}))}),{onSuccess:function(e,n){var r=n.adminUrl,i=n.instanceId;t.removeQueries([a.mE.instance._root({id:i,adminUrl:r})])}})}var $e=n(89644),We=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},Je=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function Ze(){var e=(0,o.h)().kafkasFleet,t=(0,r.NL)();return(0,Ee.D)((function(t){var n,r,i=t.id,a=t.updates;return We(this,void 0,void 0,(function(){var t,o;return Je(this,(function(s){switch(s.label){case 0:t=e(),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,t.updateKafkaById(i,a)];case 2:return[2,s.sent()];case 3:return o=s.sent(),(0,w.isServiceApiError)(o)?"KAFKAS-MGMT-21"===(0,w.getErrorCode)(o)?[2,Promise.reject({type:"invalid-user",message:null===(n=o.response)||void 0===n?void 0:n.data.reason})]:[2,Promise.reject({type:"other",message:null===(r=o.response)||void 0===r?void 0:r.data.reason})]:o instanceof $e.AxiosError?[2,Promise.reject({type:"unknown",message:o.message})]:[2,Promise.reject({type:"unknown",message:"unknown"})];case 4:return[2]}}))}))}),{onSuccess:function(){t.invalidateQueries([a.mE._root()])}})}var Ye=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},Xe=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function et(){var e=(0,o.h)().consumerGroups,t=(0,r.NL)();return(0,Ee.D)((function(t){var n;return Ye(this,void 0,void 0,(function(){var r,i,a,o,s,c,l,u;return Xe(this,(function(d){switch(d.label){case 0:t.instanceId,r=t.adminUrl,i=t.consumerGroupId,a=t.onSuccess,o=t.onError,s=e(r),d.label=1;case 1:return d.trys.push([1,3,,4]),[4,s.deleteConsumerGroupById(i)];case 2:return d.sent(),a(),[3,4];case 3:return c=d.sent(),(0,w.isServiceApiError)(c)&&(l=null==c?void 0:c.message,u=((null===(n=null==c?void 0:c.response)||void 0===n?void 0:n.data)||{}).code,o(u||"?",l)),[3,4];case 4:return[2]}}))}))}),{onSuccess:function(e,n){var r=n.adminUrl,i=n.instanceId;t.invalidateQueries([a.mE.instance._root({id:i,adminUrl:r})])}})}var tt=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},nt=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function rt(){var e=(0,o.h)().consumerGroups,t=(0,r.NL)();return(0,Ee.D)((function(t){var n;return tt(this,void 0,void 0,(function(){var r,i,a,o,s,c,l,u,d,p,f,m;return nt(this,(function(h){switch(h.label){case 0:t.instanceId,r=t.adminUrl,i=t.consumerGroupId,a=t.offset,o=t.topic,s=t.partitions,c=t.value,l=t.onSuccess,u=t.onError,d=e(r),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,d.resetConsumerGroupOffset(i,{value:c,offset:a,topics:[{topic:o,partitions:s}]})];case 2:return h.sent(),l(),[3,4];case 3:return p=h.sent(),(0,w.isServiceApiError)(p)&&(f=null==p?void 0:p.message,m=((null===(n=null==p?void 0:p.response)||void 0===n?void 0:n.data)||{}).code,u(m||"?",f)),[3,4];case 4:return[2]}}))}))}),{onSuccess:function(e,n){var r=n.adminUrl,i=n.instanceId;t.invalidateQueries([a.mE.instance._root({id:i,adminUrl:r})])}})}var it=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},at=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function ot(){var e=(0,o.h)().acls,t=(0,r.NL)();return(0,Ee.D)((function(t){var n,r;return it(this,void 0,void 0,(function(){var i,a,o,s,c,l,u,d;return at(this,(function(p){switch(p.label){case 0:i=t.adminUrl,a=t.acl,o=t.onSuccess,s=t.onError,c=e(i),p.label=1;case 1:return p.trys.push([1,3,,4]),[4,c.deleteAcls(a.resourceType,a.resourceName,a.patternType,a.principal,a.operation,a.permissionType)];case 2:return p.sent(),o(),[3,4];case 3:return l=p.sent(),(0,w.isServiceApiError)(l)&&(u=(null===(n=null==l?void 0:l.response)||void 0===n?void 0:n.data.reason)||"",d=((null===(r=null==l?void 0:l.response)||void 0===r?void 0:r.data)||{}).code,s(d||"?",u)),[3,4];case 4:return[2]}}))}))}),{onSuccess:function(e,n){var r=n.adminUrl,i=n.instanceId;t.invalidateQueries([a.mE.instance.permissions({id:i,adminUrl:r})])}})}var st=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},ct=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function lt(){var e=(0,o.h)().acls,t=(0,r.NL)();return(0,Ee.D)((function(t){var n;return st(this,void 0,void 0,(function(){var r,i,a,o,s,c,l,u;return ct(this,(function(d){switch(d.label){case 0:r=t.adminUrl,i=t.acl,a=t.onSuccess,o=t.onError,s=e(r),d.label=1;case 1:return d.trys.push([1,3,,4]),[4,s.createAcl({resourceName:i.resourceName,resourceType:i.resourceType,patternType:i.patternType,permission:i.permission,principal:i.principal,operation:i.operation})];case 2:return d.sent(),a(),[3,4];case 3:return c=d.sent(),(0,w.isServiceApiError)(c)&&(l=null==c?void 0:c.message,u=((null===(n=null==c?void 0:c.response)||void 0===n?void 0:n.data)||{}).code,o(u||"?",l)),[3,4];case 4:return[2]}}))}))}),{onSuccess:function(e,n){var r=n.adminUrl,i=n.instanceId;t.invalidateQueries([a.mE.instance._root({id:i,adminUrl:r})])}})}var ut=n(45892),dt=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},pt=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function ft(){var e=(0,o.h)().topics,t=(0,r.NL)();return(0,Ee.D)((function(t){var n,r;return dt(this,void 0,void 0,(function(){var i,a,o,s,c,l,u,d,p;return pt(this,(function(f){switch(f.label){case 0:i=t.adminUrl,a=t.topic,o=t.onSuccess,s=t.onError,c=e(i),l=function(e){return{name:e.name,settings:(0,ut.VQ)(e)}},f.label=1;case 1:return f.trys.push([1,3,,4]),[4,c.createTopic(l(a))];case 2:return f.sent(),o(),[3,4];case 3:return u=f.sent(),(0,w.isServiceApiError)(u)&&(d=null===(n=null==u?void 0:u.response)||void 0===n?void 0:n.data.reason,p=((null===(r=null==u?void 0:u.response)||void 0===r?void 0:r.data)||{}).code,s(p||"?",d||"?")),[3,4];case 4:return[2]}}))}))}),{onSuccess:function(e,n){var r=n.adminUrl,i=n.instanceId;t.invalidateQueries([a.mE.instance._root({id:i,adminUrl:r})])}})}var mt=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},ht=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function vt(){var e=(0,o.h)().topics,t=(0,r.NL)();return(0,Ee.D)((function(t){var n,r,i=t.adminUrl,a=t.topic,o=t.onSuccess,s=t.onError;return mt(this,void 0,void 0,(function(){var t,c,l,u,d;return ht(this,(function(p){switch(p.label){case 0:t=e(i),c=function(e){return(0,ut.VQ)(e)},p.label=1;case 1:return p.trys.push([1,3,,4]),[4,t.updateTopic(a.name||"",c(a))];case 2:return p.sent(),o(),[3,4];case 3:return l=p.sent(),(0,w.isServiceApiError)(l)&&(u=null===(n=null==l?void 0:l.response)||void 0===n?void 0:n.data.reason,d=((null===(r=null==l?void 0:l.response)||void 0===r?void 0:r.data)||{}).code,s(d||"?",u||"?")),[3,4];case 4:return[2]}}))}))}),{onSuccess:function(e,n){var r=n.adminUrl,i=n.instanceId;t.removeQueries([a.mE.instance._root({id:i,adminUrl:r})])}})}var gt=n(47251),bt=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},yt=["name","owner","createdAt","provider","region"],xt=bt([],Object.values(gt.TopicOrderKey),!0),jt=bt([],Object.values(gt.ConsumerGroupOrderKey),!0)},60713:(e,t,n)=>{n.d(t,{B_:()=>c,jL:()=>o,mE:()=>s,w9:()=>a});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},a={_root:function(){return{scope:"mas"}},organization:function(){return[r(r({},a._root()),{entity:"organization"})]},selfTermsReview:function(){return[r(r({},a._root()),{entity:"selfTermsReview"})]},userAccounts:function(e){return[r(r({},a._root()),{entity:"userAccounts"}),e]},user:function(){return[r(r({},a._root()),{entity:"user"})]},tokenEndPointUrl:function(){return[r(r({},a._root()),{entity:"tokenEndPointUrl"})]},quota:{_root:function(){return r(r({},a._root()),{entity:"quota"})},standardAvailable:function(){return[r(r({},a.quota._root()),{subentity:"standardAvailable"})]},dedicatedAvailable:function(){return[r(r({},a.quota._root()),{subentity:"dedicatedAvailable"})]},developerAvailability:function(){return[r(r({},a.quota._root()),{subentity:"developerAvailability"})]},standardAvailability:function(){return[r(r({},a.quota._root()),{subentity:"standardAvailability"})]}}},o={_root:function(){return r(r({},a._root()),{entity:"dedicated"})},cluster:function(e){return[r(r({},o._root()),{subentity:"cluster"}),e]},clusters:function(){return[r(r({},o._root()),{subentity:"clusters"})]},clusterNames:function(e){return[r(r({},o._root()),{subentity:"clusterNames"}),{clusterIds:e}]},clusterSizes:function(e){return[r(r({},o._root()),{subentity:"clusterSize"}),e]}},s={_root:function(){return{scope:"kafka"}},list:function(e){return[r(r({},s._root()),{entity:"list"}),e]},instance:{_root:function(e){var t=e.id,n=e.adminUrl;return r(r({},s._root()),{entity:"instance",id:t,adminUrl:n})},details:function(e){return[r(r({},s.instance._root(e)),{subentity:"details"})]},topics:function(e){var t=e.id,n=e.adminUrl,a=i(e,["id","adminUrl"]);return[r(r({},s.instance._root({id:t,adminUrl:n})),{subentity:"topics"}),a]},topic:function(e){var t=e.id,n=e.adminUrl,i=e.topicName;return[r(r({},s.instance._root({id:t,adminUrl:n})),{subentity:"topic"}),{topicName:i}]},topicMessages:function(e){var t=e.id,n=e.adminUrl,a=e.topicName,o=i(e,["id","adminUrl","topicName"]);return[r(r({},s.instance._root({id:t,adminUrl:n})),{subentity:"topicMessages"}),r({topicName:a},o)]},consumerGroups:function(e){return[r(r({},s.instance._root(e)),{subentity:"consumer-groups"}),e]},consumerGroup:function(e){var t=e.id,n=e.adminUrl,i=e.consumerGroupId;return[r(r({},s.instance._root({id:t,adminUrl:n})),{subentity:"consumerGroup"}),{consumerGroupId:i}]},serviceAccounts:function(e){return[r(r({},a._root()),{entity:"serviceAccounts"}),e]},permissions:function(e){return[r(r({},s.instance._root(e)),{subentity:"acls"}),e]},metrics:{_root:function(e){var t=e.id;return r(r({},s.instance._root({id:t})),{subentity:"metrics",id:t})},kpi:function(e){return[r(r({},s.instance._root(e)),{type:"kpi"})]},instance:function(e){var t=e.id,n=i(e,["id"]);return[r(r({},s.instance._root({id:t})),{type:"instance"}),n]},topic:function(e){var t=e.id,n=i(e,["id"]);return[r(r({},s.instance._root({id:t})),{type:"topic"}),n]}}}},c={_root:function(){return{scope:"providers"}},list:function(e){return[r(r(r({},c._root()),{entity:"list"}),e)]},limits:{_root:function(e){var t=e.provider;return r(r({},c._root()),{entity:"limits",provider:t})},standard:function(e){var t=e.provider,n=e.region;return[r(r({},c.limits._root({provider:t})),{plan:"standard",region:n})]},developer:function(e){var t=e.provider,n=e.region;return[r(r({},c.limits._root({provider:t})),{plan:"developer",region:n})]}}}},45892:(e,t,n)=>{n.d(t,{VQ:()=>p,jR:()=>a,jb:()=>s,tp:()=>o});var r=n(56156),i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)},a={"cleanup.policy":"delete","delete.retention.ms":{type:"ms",value:BigInt("86400000")},"max.compaction.lag.ms":{type:"ms",value:BigInt("9223372036854775807")},"max.message.bytes":{type:"bytes",value:BigInt("1048588")},"message.downconversion.enable":!0,"message.timestamp.difference.max.ms":{type:"ms",value:BigInt("9223372036854775807")},"message.timestamp.type":"CreateTime","min.compaction.lag.ms":{type:"ms",value:BigInt("0")},"retention.bytes":{type:"bytes",value:BigInt("-1")},"retention.ms":{type:"ms",value:BigInt("604800000")},"segment.bytes":{type:"bytes",value:BigInt("1073741824")},"segment.ms":{type:"ms",value:BigInt("604800000")},"compression.type":"producer","file.delete.delay.ms":{type:"ms",value:BigInt("60000")},"flush.messages":{type:"ms",value:BigInt("9223372036854775807")},"flush.ms":{type:"ms",value:BigInt("9223372036854775807")},"index.interval.bytes":{type:"bytes",value:BigInt("4096")},"message.format.version":"3.0-IV1","min.cleanable.dirty.ratio":.5,"min.insync.replicas":1,"segment.index.bytes":{type:"bytes",value:BigInt("10485760")},"segment.jitter.ms":{type:"ms",value:BigInt("0")},"unclean.leader.election.enable":!1,preallocate:!1},o={"cleanup.policy":"delete","delete.retention.ms":{type:"ms",value:BigInt("86400000")},"max.compaction.lag.ms":{type:"ms",value:BigInt("9223372036854775807")},"max.message.bytes":{type:"bytes",value:BigInt("1048588")},"message.downconversion.enable":!0,"message.timestamp.difference.max.ms":{type:"ms",value:BigInt("9223372036854775807")},"message.timestamp.type":"CreateTime","min.compaction.lag.ms":{type:"ms",value:BigInt("0")},"retention.bytes":{type:"bytes",value:BigInt("-1")},"retention.ms":{type:"ms",value:BigInt("604800000")},"segment.bytes":{type:"bytes",value:BigInt("1073741824")},"segment.ms":{type:"ms",value:BigInt("604800000")},"compression.type":"producer","file.delete.delay.ms":{type:"ms",value:BigInt("60000")},"flush.messages":{type:"ms",value:BigInt("9223372036854775807")},"flush.ms":{type:"ms",value:BigInt("9223372036854775807")},"index.interval.bytes":{type:"bytes",value:BigInt("4096")},"message.format.version":"3.0-IV1","min.cleanable.dirty.ratio":.5,"min.insync.replicas":2,"segment.index.bytes":{type:"bytes",value:BigInt("10485760")},"segment.jitter.ms":{type:"ms",value:BigInt("0")},"unclean.leader.election.enable":!1,preallocate:!1};function s(e){var t="developer"===e?a:o;return function(e){var n;if(!e.name)throw new Error("Invalid topic, name is empty: ".concat(JSON.stringify(e)));var r=Object.fromEntries((null===(n=e.config)||void 0===n?void 0:n.map((function(e){return[e.key,e.value]})))||[]),a={"cleanup.policy":r["cleanup.policy"],"delete.retention.ms":c(r["delete.retention.ms"],t["delete.retention.ms"]),"max.compaction.lag.ms":c(r["max.compaction.lag.ms"],t["max.compaction.lag.ms"]),"max.message.bytes":l(r["max.message.bytes"],t["max.message.bytes"]),"message.downconversion.enable":d(r["message.downconversion.enable"],t["message.downconversion.enable"]),"message.timestamp.difference.max.ms":c(r["message.timestamp.difference.max.ms"],t["message.timestamp.difference.max.ms"]),"message.timestamp.type":r["message.timestamp.type"],"min.compaction.lag.ms":c(r["min.compaction.lag.ms"],t["min.compaction.lag.ms"]),"retention.bytes":l(r["retention.bytes"],t["retention.bytes"]),"retention.ms":c(r["retention.ms"],t["retention.ms"]),"segment.bytes":l(r["segment.bytes"],t["segment.bytes"]),"segment.ms":c(r["segment.ms"],t["segment.ms"]),"compression.type":r["compression.type"],"file.delete.delay.ms":c(r["file.delete.delay.ms"],t["file.delete.delay.ms"]),"flush.messages":c(r["flush.messages"],t["flush.messages"]),"flush.ms":c(r["flush.ms"],t["flush.ms"]),"follower.replication.throttled.replicas":r["follower.replication.throttled.replicas"],"index.interval.bytes":l(r["index.interval.bytes"],t["index.interval.bytes"]),"leader.replication.throttled.replicas":r["leader.replication.throttled.replicas"],"message.format.version":r["message.format.version"],"min.cleanable.dirty.ratio":u(r["min.cleanable.dirty.ratio"],t["min.cleanable.dirty.ratio"]),"min.insync.replicas":u(r["min.insync.replicas"],t["min.insync.replicas"]),"segment.index.bytes":l(r["segment.index.bytes"],t["segment.index.bytes"]),"segment.jitter.ms":c(r["segment.jitter.ms"],t["segment.jitter.ms"]),"unclean.leader.election.enable":d(r["unclean.leader.election.enable"],t["unclean.leader.election.enable"]),preallocate:d(r.preallocate,t.preallocate)};return i({name:e.name,partitions:e.partitions||[]},a)}}function c(e,t){return e&&e.trim().length>0?{type:"ms",value:BigInt(e.trim())}:t}function l(e,t){return e&&e.trim().length>0?{type:"bytes",value:BigInt(e.trim())}:t}function u(e,t){return parseInt(e,10)||t}function d(e,t){try{var n=JSON.parse(e);if("boolean"==typeof n)return n}catch(e){}return t}var p=function(e){var t,n,i=-1==e.retentionTime.value?BigInt(-1):function(e){if(null!=e.value)switch(e.unit){case"days":return(0,r.OQ)(BigInt(e.value),"days").to("ms");case"weeks":return(0,r.OQ)(BigInt(e.value),"weeks").to("ms");case"seconds":return(0,r.OQ)(BigInt(e.value),"seconds").to("ms");case"hours":return(0,r.OQ)(BigInt(e.value),"hours").to("ms");case"minutes":return(0,r.OQ)(BigInt(e.value),"minutes").to("ms");case"unlimited":case"milliseconds":return BigInt(e.value)}}(e.retentionTime),a=-1==e.retentionSize.value?BigInt(-1):function(e){switch(e.unit){case"bytes":case"unlimited":return BigInt(e.value);case"kibibytes":return(0,r.OQ)(BigInt(e.value),"kibibytes").to("bytes");case"mebibytes":return(0,r.OQ)(BigInt(e.value),"mebibytes").to("bytes");case"gibibytes":return(0,r.OQ)(BigInt(e.value),"gibibytes").to("bytes");case"tebibytes":return(0,r.OQ)(BigInt(e.value),"tebibytes").to("bytes")}}(e.retentionSize),o=(n=[],(t={"retention.ms":{value:i||BigInt(-1),type:"ms"},"retention.bytes":{value:a||BigInt(-1),type:"bytes"},"cleanup.policy":e.cleanupPolicy})["retention.ms"]&&n.push({key:"retention.ms",value:t["retention.ms"].value.toString()}),t["retention.bytes"]&&n.push({key:"retention.bytes",value:t["retention.bytes"].value.toString()}),t["cleanup.policy"]&&n.push({key:"cleanup.policy",value:t["cleanup.policy"]}),n);return{numPartitions:e.partitions,config:o}}},77468:(e,t,n)=>{n.d(t,{h:()=>l});var r=n(90511),i=n(33),a=n(3621),o=n(47251),s=n(82820),c=n(5340),l=function(){var e=(0,c.JA)(),t=e.basePath,n=e.accessToken,l=(0,s.useCallback)((function(){return new a.DefaultApi(new a.Configuration({accessToken:n,basePath:t}))}),[n,t]),u=(0,s.useCallback)((function(){return e=void 0,t=void 0,a=function(){var e;return function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(t){switch(t.label){case 0:return[4,n()];case 1:return e=t.sent(),[2,new r.PrincipalApi({accessToken:e,basePath:"/api/rbac/v1"})]}}))},new((i=void 0)||(i=Promise))((function(n,r){function o(e){try{c(a.next(e))}catch(e){r(e)}}function s(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,s)}c((a=a.apply(e,t||[])).next())}));var e,t,i,a}),[n]),d=(0,s.useCallback)((function(){return new a.SecurityApi(new a.Configuration({accessToken:n,basePath:t}))}),[n,t]),p=(0,s.useCallback)((function(){return new i.AppServicesApi(new a.Configuration({accessToken:n,basePath:t}))}),[n,t]),f=(0,s.useCallback)((function(e){return new o.TopicsApi(new a.Configuration({accessToken:n,basePath:e}))}),[n]),m=(0,s.useCallback)((function(e){return new o.GroupsApi(new a.Configuration({accessToken:n,basePath:e}))}),[n]),h=(0,s.useCallback)((function(e){return new o.AclsApi(new a.Configuration({accessToken:n,basePath:e}))}),[n]);return{kafkasFleet:l,account:p,topics:f,consumerGroups:m,records:(0,s.useCallback)((function(e){return new o.RecordsApi(new a.Configuration({accessToken:n,basePath:e}))}),[n]),userAccounts:u,acls:h,serviceAccount:d,dedicatedClusters:(0,s.useCallback)((function(){return new a.EnterpriseDataplaneClustersApi(new a.Configuration({accessToken:n,basePath:t}))}),[n,t])}}},14597:(e,t,n)=>{n.d(t,{Gd:()=>a,U9:()=>o,ie:()=>s});var r="mas.devtools",i="mas.rhosak.metrics.lag-alert-closed";function a(){return"true"===localStorage.getItem(r)}function o(){return"true"===localStorage.getItem(i)}function s(){return localStorage.setItem(i,"true")}},2529:(e,t,n)=>{n.d(t,{$x:()=>o,A9:()=>i,KH:()=>s,Qu:()=>l,az:()=>r,hd:()=>u,lO:()=>c,m8:()=>a});var r=["accepted","provisioning","preparing"],i=["ready"],a=["degraded"],o=["suspending"],s=["suspended"],c=["deleting","deprovision"],l=["resuming"],u={creating:r,ready:i,degraded:a,suspended:s,deleting:c,resuming:l,suspending:o}},12801:(e,t,n)=>{n(52322),n(87094),n(38233)},46635:(e,t,n)=>{n.d(t,{S:()=>l});var r=n(52322),i=n(87094),a=n(38233),o=n(99521),s=n(11279),c=function(){return c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},c.apply(this,arguments)},l=function(e){var t=e.onQuickstartGuide,n=(0,o.$)("kafka").t;return(0,r.jsxs)(i.EmptyState,c({variant:i.EmptyStateVariant.xs,isFullHeight:!0},{children:[(0,r.jsx)(i.EmptyStateIcon,{icon:a.PlusCircleIcon}),(0,r.jsx)(i.Title,c({headingLevel:"h2",size:"lg"},{children:n("empty_state_no_dedicated_entitlement_title")})),(0,r.jsx)(i.EmptyStateBody,{children:(0,r.jsx)(s.c,{ns:"kafka",i18nKey:"empty_state_no_dedicated_entitlement_body",components:[(0,r.jsx)("a",{onClick:t})]})})]}))}},39430:(e,t,n)=>{n.d(t,{ry:()=>l,mT:()=>d,BF:()=>f}),n(12801),n(46635);var r=n(52322),i=n(87094),a=n(38233),o=n(99521),s=n(11279),c=function(){return c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},c.apply(this,arguments)},l=function(e){var t=e.onCreate,n=e.onQuickstartGuide,l=(0,o.$)("kafka").t;return(0,r.jsxs)(i.EmptyState,c({variant:i.EmptyStateVariant.xs,isFullHeight:!0},{children:[(0,r.jsx)(i.EmptyStateIcon,{icon:a.PlusCircleIcon}),(0,r.jsx)(i.Title,c({headingLevel:"h2",size:"lg"},{children:l("empty_state_no_dedicated_instances_title")})),(0,r.jsx)(i.EmptyStateBody,{children:(0,r.jsx)(s.c,{ns:"kafka",i18nKey:"empty_state_no_dedicated_instances_body",components:[(0,r.jsx)("a",{onClick:n})]})}),(0,r.jsx)(i.Button,c({ouiaId:"button-create",variant:"primary",onClick:t},{children:l("empty_state_no_dedicated_instances_create_instance")}))]}))},u=function(){return u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},u.apply(this,arguments)},d=function(e){var t=e.onCreate,n=e.onQuickstartGuide,c=(0,o.$)("kafka").t;return(0,r.jsxs)(i.EmptyState,u({variant:i.EmptyStateVariant.xs,isFullHeight:!0},{children:[(0,r.jsx)(i.EmptyStateIcon,{icon:a.PlusCircleIcon}),(0,r.jsx)(i.Title,u({headingLevel:"h2",size:"lg"},{children:c("empty_state_no_instances_title")})),(0,r.jsx)(i.EmptyStateBody,{children:(0,r.jsx)(s.c,{ns:"kafka",i18nKey:"empty_state_no_instances_body",components:[(0,r.jsx)("a",{onClick:n})]})}),(0,r.jsx)(i.Button,u({ouiaId:"button-create",variant:"primary",onClick:t},{children:c("empty_state_no_instances_create_instance")}))]}))},p=function(){return p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},p.apply(this,arguments)},f=function(e){var t=e.onClearAllFilters,n=(0,o.$)("kafka").t;return(0,r.jsxs)(i.EmptyState,p({variant:i.EmptyStateVariant.xs,isFullHeight:!0},{children:[(0,r.jsx)(i.EmptyStateIcon,{icon:a.SearchIcon}),(0,r.jsx)(i.Title,p({headingLevel:"h2",size:"lg"},{children:n("empty_state_no_results_found_title")})),(0,r.jsx)(i.EmptyStateBody,{children:(0,r.jsx)(s.c,{ns:"kafka",i18nKey:"empty_state_no_results_found_body",components:[(0,r.jsx)("a",{onClick:t})]})})]}))}},13617:(e,t,n)=>{n.d(t,{E8:()=>Ec,t8:()=>A,hV:()=>w,Jh:()=>U,HD:()=>K,pI:()=>Zt,bL:()=>Bt,EP:()=>wc,q:()=>nn,YJ:()=>an,f7:()=>un,Ao:()=>I,hv:()=>pn,_O:()=>ja,ci:()=>Tc,S7:()=>sr.S,bd:()=>hn,dL:()=>zn,_K:()=>or,Wd:()=>Kr,rD:()=>ii,Hg:()=>vi,Gu:()=>zc,C3:()=>Os,Qq:()=>Ni,eZ:()=>si,BG:()=>Bi,Zr:()=>Es,U3:()=>Rc,yS:()=>Ic,HL:()=>N,RC:()=>D,G4:()=>R,Pb:()=>F});var r=n(52322),i=n(87094),a=n(39813),o=n(99521),s=n(38233),c=function(){return c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},c.apply(this,arguments)},l=function(e){var t=e.title,n=e.description;return(0,r.jsx)(i.Popover,c({"aria-label":"Consumer groups popover",headerContent:(0,r.jsx)("div",{children:t}),bodyContent:(0,r.jsx)("div",{children:n})},{children:(0,r.jsx)(s.OutlinedQuestionCircleIcon,{})}))},u=function(e){var t=e.state,n=(0,o.$)(["kafka"]).t;switch(t){case"Stable":return n("consumerGroup.state.stable");case"Empty":return n("consumerGroup.state.empty");case"Dead":return n("consumerGroup.state.dead");case"CompletingRebalance":return n("consumerGroup.state.completing_rebalance");case"PreparingRebalance":return n("consumerGroup.state.preparing_rebalance");case"Unknown":return n("consumerGroup.state.unknown");default:return null}},d=function(){return d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},d.apply(this,arguments)},p=function(e){var t=e.state,n=e.consumers,s=e.activeMembers,c=e.partitionsWithLag,p=(0,o.$)(["kafka"]).t,f={topic:p("topic.topic"),partition:p("consumerGroup.partition"),consumer_id:p("consumerGroup.consumer_id"),current_offset:p("consumerGroup.current_offset"),log_end_offset:p("consumerGroup.log_end_offset"),offset_lag:p("consumerGroup.offset_lag")};return(0,r.jsxs)(i.Stack,d({hasGutter:!0},{children:[(0,r.jsxs)(i.DescriptionList,d({columnModifier:{lg:"3Col"},className:"pf-m-display-2xl"},{children:[(0,r.jsxs)(i.DescriptionListGroup,{children:[(0,r.jsx)(i.DescriptionListTerm,{children:p("consumerGroup.active_members")}),(0,r.jsx)(i.DescriptionListDescription,{children:s})]}),(0,r.jsxs)(i.DescriptionListGroup,{children:[(0,r.jsxs)(i.DescriptionListTerm,{children:[p("consumerGroup.partitions_with_lag")," ",(0,r.jsx)(l,{title:p("consumerGroup.partitions_with_lag_name"),description:p("consumerGroup.partitions_with_lag_description")})]}),(0,r.jsx)(i.DescriptionListDescription,{children:c})]}),(0,r.jsxs)(i.DescriptionListGroup,{children:[(0,r.jsx)(i.DescriptionListTerm,{children:p("consumerGroup.state_header")}),(0,r.jsx)(i.DescriptionListDescription,{children:(0,r.jsx)(u,{state:t})})]})]})),(0,r.jsxs)(a.TableComposable,d({"aria-label":p("consumerGroup.consumer_group_info_table_aria"),variant:a.TableVariant.compact},{children:[(0,r.jsx)(a.Thead,d({noWrap:!0},{children:(0,r.jsxs)(a.Tr,{children:[(0,r.jsx)(a.Th,d({width:20},{children:f.topic})),(0,r.jsx)(a.Th,d({width:20},{children:f.partition})),(0,r.jsx)(a.Th,d({width:20},{children:f.consumer_id})),(0,r.jsx)(a.Th,d({width:20},{children:f.current_offset})),(0,r.jsx)(a.Th,d({width:20},{children:f.log_end_offset})),(0,r.jsx)(a.Th,d({width:20},{children:f.offset_lag}))]})})),(0,r.jsx)(a.Tbody,{children:n.map((function(e){var t=e.groupId,n=e.partition,i=e.topic,o=e.memberId,s=e.offset,c=e.logEndOffset,l=e.lag;return(0,r.jsxs)(a.Tr,{children:[(0,r.jsx)(a.Td,d({dataLabel:f.topic},{children:i})),(0,r.jsx)(a.Td,d({dataLabel:f.partition},{children:n})),(0,r.jsx)(a.Td,d({dataLabel:f.consumer_id},{children:o?"".concat(t,"\n").concat(o):(0,r.jsx)("i",{children:p("consumerGroup.unassigned")})})),(0,r.jsx)(a.Td,d({dataLabel:f.current_offset},{children:s})),(0,r.jsx)(a.Td,d({dataLabel:f.log_end_offset},{children:c})),(0,r.jsx)(a.Td,d({dataLabel:f.offset_lag},{children:l}))]},t)}))})]}))]}))},f=function(){return f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},f.apply(this,arguments)},m=function(e){var t=e.state,n=e.consumers,s=e.activeMembers,c=e.partitionsWithLag,d=(0,o.$)(["kafka"]).t,p={partition:d("consumerGroup.partition"),consumer_id:d("consumerGroup.consumer_id"),current_offset:d("consumerGroup.current_offset"),log_end_offset:d("consumerGroup.log_end_offset"),offset_lag:d("consumerGroup.offset_lag")};return(0,r.jsxs)(i.Stack,f({hasGutter:!0},{children:[(0,r.jsxs)(i.DescriptionList,f({columnModifier:{lg:"3Col"},className:"pf-m-display-2xl"},{children:[(0,r.jsxs)(i.DescriptionListGroup,{children:[(0,r.jsx)(i.DescriptionListTerm,{children:d("consumerGroup.active_members_for_topic")}),(0,r.jsx)(i.DescriptionListDescription,{children:s})]}),(0,r.jsxs)(i.DescriptionListGroup,{children:[(0,r.jsxs)(i.DescriptionListTerm,{children:[d("consumerGroup.partitions_with_lag_for_topic")," ",(0,r.jsx)(l,{title:d("consumerGroup.partitions_with_lag_name"),description:d("consumerGroup.partitions_with_lag_description")})]}),(0,r.jsx)(i.DescriptionListDescription,{children:c})]}),(0,r.jsxs)(i.DescriptionListGroup,{children:[(0,r.jsx)(i.DescriptionListTerm,{children:d("consumerGroup.state_header")}),(0,r.jsx)(i.DescriptionListDescription,{children:(0,r.jsx)(u,{state:t})})]})]})),(0,r.jsxs)(a.TableComposable,f({"aria-label":d("consumerGroup.consumer_group_info_table_aria"),variant:a.TableVariant.compact},{children:[(0,r.jsx)(a.Thead,f({noWrap:!0},{children:(0,r.jsxs)(a.Tr,{children:[(0,r.jsx)(a.Th,f({width:20},{children:p.partition}),p.partition),(0,r.jsx)(a.Th,f({width:20},{children:p.consumer_id}),p.consumer_id),(0,r.jsx)(a.Th,f({width:20},{children:p.current_offset}),p.current_offset),(0,r.jsx)(a.Th,f({width:20},{children:p.log_end_offset}),p.log_end_offset),(0,r.jsx)(a.Th,f({width:20},{children:p.offset_lag}),p.offset_lag)]})})),(0,r.jsx)(a.Tbody,{children:n.map((function(e){var t=e.groupId,n=e.partition,i=e.memberId,o=e.offset,s=e.logEndOffset,c=e.lag;return(0,r.jsxs)(a.Tr,{children:[(0,r.jsx)(a.Td,f({dataLabel:p.partition},{children:n})),(0,r.jsxs)(a.Td,f({dataLabel:p.consumer_id},{children:[i?"".concat(t,"\n").concat(i):(0,r.jsx)("i",{children:d("consumerGroup.unassigned")})," "]})),(0,r.jsx)(a.Td,f({dataLabel:p.current_offset},{children:o})),(0,r.jsx)(a.Td,f({dataLabel:p.log_end_offset},{children:s})),(0,r.jsx)(a.Td,f({dataLabel:p.offset_lag},{children:c}))]},t)}))})]}))]}))},h=function(e){var t=e.consumerGroupByTopic,n=e.state,i=e.consumers,a=e.activeMembers,o=e.partitionsWithLag;return(0,r.jsx)("div",{children:t?(0,r.jsx)(m,{state:n,consumers:i,activeMembers:a,partitionsWithLag:o}):(0,r.jsx)(p,{state:n,consumers:i,activeMembers:a,partitionsWithLag:o})})},v=n(82820),g=function(){return g=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},g.apply(this,arguments)},b=function(){var e=(0,o.$)(["kafka"]).t;return(0,r.jsxs)(i.EmptyState,g({variant:i.EmptyStateVariant.large},{children:[(0,r.jsx)(i.EmptyStateIcon,{icon:s.CubesIcon}),(0,r.jsx)(i.Title,g({headingLevel:"h1",size:i.TitleSizes.lg},{children:e("consumerGroup.empty_consumer_title")})),(0,r.jsx)(i.EmptyStateBody,{children:e("consumerGroup.empty_consumer_body")})]}))},y=function(){return y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},y.apply(this,arguments)},x=function(e){var t=e.onChange,n=e.value,a=(0,o.$)("kafka").t,s=(0,v.useState)(!1),c=s[0],l=s[1],u={absolute:a("consumerGroup.offset.absolute"),latest:a("consumerGroup.offset.latest"),earliest:a("consumerGroup.offset.earliest")};return(0,r.jsx)(i.Select,y({"aira-label":a("consumerGroup.reset_offset_new_offset_label"),toggleAriaLabel:a("consumerGroup.reset_offset_new_offset_label"),id:"offset-select",onToggle:function(e){l(e)},onSelect:function(e,n){t(n),l(!1)},variant:i.SelectVariant.single,isOpen:c,placeholderText:a("consumerGroup.select_offset"),selections:n,menuAppendTo:"parent"},{children:Object.entries(u).map((function(e){var t=e[0],n=e[1];return(0,r.jsx)(i.SelectOption,y({value:t},{children:n}),t)}))}))},j=function(){return j=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},j.apply(this,arguments)},_=function(e){var t=e.topics,n=e.onChange,a=e.value,s=(0,o.$)("kafka").t,c=(0,v.useState)(!1),l=c[0],u=c[1];return(0,r.jsx)(i.Select,j({"aira-label":s("consumerGroup.reset_offset_topic_label"),toggleAriaLabel:s("consumerGroup.reset_offset_topic_label"),id:"topic-select",variant:i.SelectVariant.single,onToggle:function(e){u(e)},onSelect:function(e,t){n(t),u(!1)},isOpen:l,selections:a,placeholderText:s("consumerGroup.select_topic"),menuAppendTo:"parent",isDisabled:t.length<=0},{children:t.map((function(e,t){return(0,r.jsx)(i.SelectOption,j({value:e},{children:e}),t)}))}))},k=function(){return k=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},k.apply(this,arguments)},C=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},w=function(e){var t=e.groupId,n=e.topics,s=e.onClickClose,c=e.isModalOpen,l=e.onClickResetOffset,u=e.disableFocusTrap,d=e.appendTo,p=e.consumers,f=e.state,m=(0,o.$)(["kafka"]).t,h=(0,v.useState)(""),g=h[0],b=h[1],y=(0,v.useState)("absolute"),j=y[0],w=y[1],S=(0,v.useState)(),T=S[0],O=S[1],I=(0,v.useState)(!1),P=I[0],A=I[1],L=(0,v.useState)([]),E=L[0],D=L[1],R="Stable"!==f,N=p.filter((function(e){return e.topic===g}))||[],z=!(g&&j&&P&&R&&0!==E.length),B={partition:m("consumerGroup.partition"),clientId:"".concat(m("consumerGroup.client_id")," + ").concat(m("consumerGroup.member_id")),current_offset:m("consumerGroup.current_offset"),log_end_offset:m("consumerGroup.log_end_offset"),offset_lag:m("consumerGroup.offset_lag"),new_offset:m("consumerGroup.new_offset")},V=E.length===N.length,F=function(e){return E.includes(e)},H=(0,v.useCallback)((function(){var e=E.map((function(e){return e.partition}));l(g,j,e,T||"0")}),[l,g,j,E,T]);return(0,r.jsx)(i.Modal,k({variant:i.ModalVariant.large,isOpen:c,"aria-label":m("consumerGroup.reset_offset_modal_label"),title:m("consumerGroup.reset_offset"),showClose:!0,onClose:s,"aria-describedby":"modal-message",disableFocusTrap:u,appendTo:d,position:"top",actions:[(0,r.jsx)(i.Button,k({variant:"danger",isDisabled:z,onClick:H},{children:m("consumerGroup.reset_offset")}),1),(0,r.jsx)(i.Button,k({variant:"link",onClick:s},{children:m("common:cancel")}),2)]},{children:(0,r.jsxs)(i.Stack,k({hasGutter:!0},{children:[(0,r.jsx)(i.StackItem,{children:(0,r.jsxs)(i.Form,k({isHorizontal:!0},{children:[(0,r.jsx)(i.FormGroup,k({className:"mas--ConsumerGroupResetOffset-form-group--readonly",label:m("consumerGroup.reset_offset_consumer_group_label"),fieldId:"consumer-group-input"},{children:(0,r.jsx)(i.TextInput,{readOnlyVariant:"default",type:"text",name:m("consumerGroup.reset_offset_consumer_group_label"),id:"consumer-group-input",value:t})})),R&&(0,r.jsx)(i.FormGroup,k({label:m("consumerGroup.reset_offset_topic_label"),fieldId:"topic-select"},{children:(0,r.jsx)(_,{value:g,topics:n,onChange:b})})),R&&g&&(0,r.jsx)(i.FormGroup,k({label:m("consumerGroup.reset_offset_new_offset_label"),fieldId:"offset-select"},{children:(0,r.jsx)(x,{value:j,onChange:w})})),R&&g&&"absolute"===j&&(0,r.jsx)(i.FormGroup,k({label:m("consumerGroup.reset_offset_custom_offset_label"),fieldId:"custom-offset-input"},{children:(0,r.jsx)(i.TextInput,{id:"custom-offset-input",name:m("consumerGroup.reset_offset_custom_offset_label"),value:T,onChange:O,type:"number"})}))]}))}),(0,r.jsx)(i.StackItem,{children:!R&&(0,r.jsx)(i.Alert,k({className:"modal-alert",variant:"danger",isInline:!0,title:m("consumerGroup.reset_offset_connected_alert_title")},{children:(0,r.jsx)("p",{children:m("consumerGroup.reset_offset_connected_alert_body")})}))}),(0,r.jsx)(i.StackItem,{children:R&&N.length>0&&g&&(0,r.jsxs)(i.Stack,k({hasGutter:!0},{children:[(0,r.jsx)(i.StackItem,{children:(0,r.jsxs)(a.TableComposable,k({"aria-label":m("consumerGroup.reset_offset_selectable table"),className:"consumer-table"},{children:[(0,r.jsx)(a.Thead,{children:(0,r.jsxs)(a.Tr,{children:[(0,r.jsx)(a.Th,{select:{onSelect:function(e,t){return function(e){void 0===e&&(e=!0),D(e?N:[])}(t)},isSelected:V}}),(0,r.jsx)(a.Th,{children:B.partition}),(0,r.jsx)(a.Th,{children:B.clientId}),(0,r.jsx)(a.Th,{children:B.current_offset}),(0,r.jsx)(a.Th,{children:B.log_end_offset}),(0,r.jsx)(a.Th,{children:B.offset_lag}),(0,r.jsx)(a.Th,{children:B.new_offset})]})}),(0,r.jsx)(a.Tbody,{children:N.map((function(e,t){return(0,r.jsxs)(a.Tr,{children:[(0,r.jsx)(a.Td,{select:{rowIndex:t,isSelected:F(e),onSelect:function(t,n){return function(e,t){void 0===t&&(t=!0),D(t?C(C([],E,!0),[e],!1):E.filter((function(t){return t!==e})))}(e,n)}}}),(0,r.jsx)(a.Td,k({dataLabel:B.partition},{children:e.partition})),(0,r.jsxs)(a.Td,k({dataLabel:B.clientId},{children:[String(e.groupId),String(e.memberId)]})),(0,r.jsx)(a.Td,k({dataLabel:B.current_offset},{children:e.offset})),(0,r.jsx)(a.Td,k({dataLabel:B.log_end_offset},{children:e.logEndOffset})),(0,r.jsx)(a.Td,k({dataLabel:B.offset_lag},{children:e.lag})),(0,r.jsx)(a.Td,k({dataLabel:B.offset_lag},{children:F(e)&&j?"absolute"===j?T||0:j:"-"}))]},t)}))})]}))}),(0,r.jsx)(i.StackItem,{children:(0,r.jsx)(i.Checkbox,{label:m("consumerGroup.reset_offset_accept"),id:"resetoffset-checkbox",isChecked:P,onChange:A})})]}))})]}))}))},S=n(31562),T=n(11279),O=function(){return O=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},O.apply(this,arguments)},I=function(e){var t=e.isModalOpen,n=e.onClose,a=e.onDeleteConsumer,s=e.state,c=e.consumerName,l=e.appendTo,u=e.disableFocusTrap,d=(0,o.$)("kafka").t,p="Stable"===s;return(0,r.jsx)("div",{children:(0,r.jsx)(S.pf,O({isDeleting:!1,isModalOpen:t,title:d("consumerGroup.delete"),onCancel:n,onDelete:a,variant:"non-destructive",appendTo:l,disableFocusTrap:u,isDisabled:p},{children:p?(0,r.jsx)(i.Alert,O({className:"modal-alert",variant:"danger",isInline:!0,title:d("consumerGroup.delete_consumer_connected_alert_title",{name:c})},{children:d("consumerGroup.delete_consumer_connected_alert_body")})):(0,r.jsx)(i.Text,O({id:"modal-message"},{children:(0,r.jsx)(T.c,{ns:"kafka",i18nKey:"consumerGroup.consumer_group_delete_message",values:{name:c}})}))}))})},P=function(){return P=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},P.apply(this,arguments)},A=function(e){var t=e.children,n=e.consumerGroupByTopic,a=e.state,s=e.activeMembers,c=e.partitionsWithLag,l=e.consumers,u=e.groupId,d=e.onSelectDeleteConsumerGroup,p=e.onSelectResetOffsetConsumerGroup,f=e.isExpanded,m=e.onClickClose,g=(0,o.$)(["kafka"]).t,b=(0,v.useState)(!1),y=b[0],x=b[1],j=[(0,r.jsx)(i.DropdownItem,P({onClick:p},{children:g("consumerGroup.reset_offset")}),"reset offset"),(0,r.jsx)(i.DropdownItem,P({onClick:d},{children:g("common:delete")}),"delete")],_=(0,r.jsxs)(i.DrawerPanelContent,P({widths:{default:"width_50"}},{children:[(0,r.jsxs)(i.DrawerHead,{children:[(0,r.jsxs)(i.TextContent,{children:[(0,r.jsx)(i.Text,P({component:i.TextVariants.small,className:"consumer-group-drawer__top-label"},{children:g("consumerGroup.consumer_group_id")})),(0,r.jsx)(i.Title,P({headingLevel:"h1",className:"consumer-group-drawer__title"},{children:u}))]}),(0,r.jsxs)(i.DrawerActions,{children:[(0,r.jsx)(i.Dropdown,{onSelect:function(){x(!y)},toggle:(0,r.jsx)(i.KebabToggle,{onToggle:function(e){x(e)},id:"toggle-data-plane"}),dropdownItems:j,isOpen:y,isPlain:!0,position:i.DropdownPosition.right}),(0,r.jsx)(i.DrawerCloseButton,{onClick:m})]})]}),(0,r.jsx)(i.DrawerPanelBody,{children:(0,r.jsx)(h,{consumerGroupByTopic:n,state:a,activeMembers:s,partitionsWithLag:c,consumers:l})})]}));return(0,r.jsx)(i.Drawer,P({isExpanded:f,"data-ouia-app-id":"dataPlane-consumerGroupDetails",isInline:!0},{children:(0,r.jsx)(i.DrawerContent,P({panelContent:_},{children:(0,r.jsx)(i.DrawerContentBody,P({className:"consumer-group-drawer__drawer-content-body"},{children:t}))}))}))},L=n(10744),E=n(60099);function D(){var e=(0,o.$)("kafka").t,t={ready:e("statuses.ready"),degraded:e("statuses.degraded"),accepted:e("statuses.accepted"),provisioning:e("statuses.provisioning"),preparing:e("statuses.preparing"),deprovision:e("statuses.deprovision"),deleting:e("statuses.deleting"),suspended:e("statuses.suspended"),suspending:e("statuses.suspending"),resuming:e("statuses.resuming")},n={creating:e("statusesSimplified.creating"),ready:e("statusesSimplified.ready"),degraded:e("statusesSimplified.degraded"),deleting:e("statusesSimplified.deleting"),suspended:e("statusesSimplified.suspended"),suspending:e("statusesSimplified.suspending"),resuming:e("statusesSimplified.resuming")},r={aws:e("common:cloudProviders.aws"),gcp:e("common:cloudProviders.gcp"),azure:e("common:cloudProviders.azure")};return{fields:{id:e("fields.id"),name:e("fields.name"),createdAt:e("fields.createdAt"),updatedAt:e("fields.updatedAt"),expiryDate:e("fields.expiryDate"),owner:e("fields.owner"),provider:e("fields.provider"),region:e("fields.region"),status:e("fields.status"),plan:e("fields.plan"),size:e("fields.size"),ingress:e("fields.ingress"),egress:e("fields.egress"),storage:e("fields.storage"),maxPartitions:e("fields.maxPartitions"),connections:e("fields.connections"),connectionRate:e("fields.connectionRate"),messageSize:e("fields.messageSize"),billing:e("fields.billing"),clusterId:e("fields.clusterId"),clusterName:e("fields.clusterName"),adminUrl:e("fields.adminUrl"),bootstrapUrl:e("fields.bootstrapUrl"),version:e("fields.version"),az:e("fields.availabilityZone")},statuses:t,statusesSimplified:n,providers:r,providerRegions:{aws:{},gcp:{},azure:{}}}}function R(){var e=(0,o.$)("topic").t;return{fields:{name:e("fields.name"),partitions:e("fields.partitions"),"cleanup.policy":e("fields.cleanup_policy"),"delete.retention.ms":e("fields.delete_retention_ms"),"max.compaction.lag.ms":e("fields.max_compaction_lag_ms"),"max.message.bytes":e("fields.max_message_bytes"),"message.downconversion.enable":e("fields.message_downconversion_enable"),"message.timestamp.difference.max.ms":e("fields.message_timestamp_difference_max_ms"),"message.timestamp.type":e("fields.message_timestamp_type"),"min.compaction.lag.ms":e("fields.min_compaction_lag_ms"),"retention.bytes":e("fields.retention_bytes"),"retention.ms":e("fields.retention_ms"),"segment.bytes":e("fields.segment_bytes"),"segment.ms":e("fields.segment_ms"),"compression.type":e("fields.compression_type"),"file.delete.delay.ms":e("fields.file_delete_delay_ms"),"flush.messages":e("fields.flush_messages"),"flush.ms":e("fields.flush_ms"),"follower.replication.throttled.replicas":e("fields.follower_replication_throttled_replicas"),"index.interval.bytes":e("fields.index_interval_bytes"),"leader.replication.throttled.replicas":e("fields.leader_replication_throttled_replicas"),"message.format.version":e("fields.message_format_version"),"min.cleanable.dirty.ratio":e("fields.min_cleanable_dirty_ratio"),"min.insync.replicas":e("fields.min_insync_replicas"),"segment.index.bytes":e("fields.segment_index_bytes"),"segment.jitter.ms":e("fields.segment_jitter_ms"),"unclean.leader.election.enable":e("fields.unclean_leader_election_enable"),preallocate:e("fields.preallocate")}}}function N(){var e=(0,o.$)("kafka").t;return{fields:{name:e("consumerGroup.consumer_group_id"),activeConsumers:e("consumerGroup.active_members"),laggingPartitions:e("consumerGroup.partitions_with_lag"),state:e("consumerGroup.state_header")}}}function z(){var e=(0,o.$)("cluster").t;return{fields:{id:e("fields.id"),name:e("fields.name"),status:e("fields.status"),cloudProvider:e("fields.cloudProvider"),az:e("fields.az"),cloudRegion:e("fields.cloudRegion"),requiresPrivateNetwork:e("fields.requiresPrivateNetwork")}}}var B=n(14597),V=(0,v.lazy)((function(){return n.e(695).then(n.bind(n,95695))}));function F(){return(0,B.Gd)()?V:function(){return null}}var H=function(){return H=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},H.apply(this,arguments)},G=["name","activeConsumers","laggingPartitions","state"],U=function(e){var t,n=e.consumers,s=e.onDelete,c=e.onViewPartition,l=e.isColumnSortable,d=e.itemCount,p=e.onViewResetOffset,f=e.onClearAllFilters,m=e.page,h=e.perPage,v=e.onPageChange,g=e.consumerName,y=e.onSearchConsumer,x=e.onRemoveConsumerChip,j=e.onRemoveConsumerChips,_=(0,o.$)("kafka").t,k=N(),C=g.length>0;return(0,r.jsx)(i.PageSection,H({isFilled:!0,hasOverflowScroll:!0,"aria-label":"TODO"},{children:(0,r.jsx)(L.H,{variant:a.TableVariant.compact,tableOuiaId:"card-table",ariaLabel:_("consumerGroup.consumer_group_list"),data:n,columns:G,renderHeader:function(e){var t=e.column,n=e.Th,i=e.key;return(0,r.jsx)(n,H({info:"laggingPartitions"===t?{popover:(0,r.jsx)("div",{children:_("consumerGroup.partitions_with_lag_description")}),ariaLabel:"partitions with lag",popoverProps:{headerContent:_("consumerGroup.partitions_with_lag_name")}}:void 0},{children:k.fields[t]}),i)},renderCell:function(e){var t=e.column,n=e.row,i=e.Td,a=e.key;return(0,r.jsx)(i,H({dataLabel:k.fields[t]},{children:function(){switch(t){case"name":return n.name;case"activeConsumers":return n.activeConsumers;case"laggingPartitions":return n.laggingPartitions;case"state":return(0,r.jsx)(u,{state:n.state})}}()}),a)},renderActions:function(e){var t=e.row,n=e.ActionsColumn;return(0,r.jsx)(n,{items:[{title:_("consumerGroup.view_partitions_offsets"),onClick:function(){return c(t)}},{title:_("consumerGroup.reset_offset"),onClick:function(){return p(t)}},{title:_("common:delete"),onClick:function(){return s(t)}}]})},isColumnSortable:l,filters:(t={},t[k.fields.name]={type:"search",chips:g,onSearch:y,onRemoveChip:x,onRemoveGroup:j,validate:function(e){return!/["$^<>|+%/;:,\s*=~#()]/.test(e)},errorMessage:_("input_field_invalid_message")},t),itemCount:d,page:m,onPageChange:v,perPage:h,isFiltered:C,onClearAllFilters:f,emptyStateNoData:(0,r.jsx)(b,{}),emptyStateNoResults:(0,r.jsx)(E.B,{})})}))},M=n(21717),Q=n(47933),q=function(){return q=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},q.apply(this,arguments)},K=function(e){var t=e.activeSection,n=e.sectionsHref,a=(0,o.$)("kafka").t;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(i.PageSection,q({variant:i.PageSectionVariants.light,padding:{default:"noPadding"},hasShadowBottom:!0,type:"tabs"},{children:[(0,r.jsx)(i.Level,{children:(0,r.jsx)(i.LevelItem,{children:(0,r.jsxs)(i.TextContent,q({className:"pf-u-p-md pf-u-p-lg-on-xl"},{children:[(0,r.jsx)(i.Text,q({component:"h1"},{children:a("kafka:title")})),(0,r.jsx)("p",{children:a("kafka:description")})]}))})}),("instances"===t||"clusters"===t)&&(0,r.jsx)(i.Nav,q({variant:"tertiary",className:"pf-u-px-sm-on-xl"},{children:(0,r.jsxs)(i.NavList,{children:[(0,r.jsx)(i.NavItem,q({style:{borderTop:0},"data-testid":"pageKafka-tabinstances",id:"dashboard-tab-section","aria-label":a("controlPlaneNavigation.dedicated-instances"),ouiaId:"tab-instances",isActive:"instances"===t},{children:(0,r.jsx)(Q.rU,q({to:n.instances},{children:a("controlPlaneNavigation.dedicated-instances")}))})),(0,r.jsx)(i.NavItem,q({style:{borderTop:0},"data-testid":"pageKafka-tabclusters",id:"dashboard-tab-section","aria-label":a("controlPlaneNavigation.clusters"),ouiaId:"tab-clusters",isActive:"clusters"===t},{children:(0,r.jsx)(Q.rU,q({to:n.clusters},{children:a("controlPlaneNavigation.clusters")}))}))]})})),(0,r.jsx)(i.Divider,{}),(0,r.jsx)("div",q({className:"pf-u-p-md pf-u-p-lg-on-xl"},{children:function(){switch(t){case"instances":return(0,r.jsx)(T.c,{ns:"kafka",i18nKey:"dedicated_description",components:[(0,r.jsx)(M.d,{href:"https://access.redhat.com/articles/TODO",testId:"instances-instances-support-link",className:"pf-u-ml-xs"})]});case"clusters":return(0,r.jsx)(T.c,{ns:"kafka",i18nKey:"clusters_description",components:[(0,r.jsx)(M.d,{href:"https://access.redhat.com/articles/TODO",testId:"clusters-support-link",className:"pf-u-ml-xs"})]})}}()}))]}))})},$=n(81397),W=n(9875),J=n(97386);function Z(e,t){var n,r=e.find((function(e){return e.id===t})),i=(null==r?void 0:r.defaultRegion)||(null===(n=null==r?void 0:r.regions.filter((function(e){return 0==!!e.isDisabled}))[0])||void 0===n?void 0:n.id);return{provider:t,region:i}}var Y=function(){return Y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Y.apply(this,arguments)},X=(0,W.C)({context:{capabilities:{},sizes:void 0,form:{},creationError:void 0},tsTypes:{},predictableActionArguments:!0,schema:{context:{},events:{},services:{}},initial:"verifyAvailability",id:"standardPlanMachine",states:{verifyAvailability:{entry:"setInitialContext",always:[{cond:"isOverQuota",target:"overQuota"},{cond:"isInstanceUnavailable",target:"instanceUnavailable"},{cond:"isRegionsUnavailable",target:"regionsUnavailable"},{target:"configuring"}]},overQuota:{tags:"blocked"},instanceUnavailable:{tags:"blocked"},regionsUnavailable:{tags:"blocked"},configuring:{type:"parallel",states:{status:{initial:"unsubmitted",states:{unsubmitted:{tags:"unsubmitted"},submitting:{entry:"triggerSubmit",always:["submitted"]},submitted:{tags:"submitted"}},on:{create:{description:"Save is enabled all the time, if it's clicked before the form is completely filled out we should show the validation for all errored fields",target:".submitting"}}},form:{initial:"invalid",states:{invalid:{tags:"formInvalid"},valid:{entry:"resetCreationErrorMessage",tags:"creatable",on:{fieldInvalid:{target:"invalid"},submit:{target:"saving"}}},saving:{entry:["resetCreationErrorMessage","triggerSave"],tags:"formSaving",on:{createSuccess:{target:"saved"},createError:{actions:"setCreationError",target:"invalid"}}},saved:{type:"final"}},on:{fieldInvalid:{description:"sent by the fields when their value change to an invalid value. This will transition the form to the invalid state, to then eventually transition to the valid state if the field state is marked as done (which means that all fields have a valid value selected)",target:".invalid"}}},fields:{tags:"configurable",type:"parallel",states:{name:{initial:"validate",states:{empty:{tags:"nameEmpty"},invalid:{entry:"fieldInvalid",tags:"nameInvalid"},valid:{tags:"nameValid",type:"final"},validate:{always:[{cond:"nameIsEmpty",target:"empty"},{cond:"nameIsValid",target:"valid"},{target:"invalid"}]}},on:{create:{target:".validate"},nameChange:{actions:"setName",target:".validate"}}},provider:{initial:"validate",states:{validate:{always:[{cond:"providerIsValid",target:"valid"},{target:"invalid"}]},invalid:{entry:"fieldInvalid",tags:"providerInvalid"},valid:{tags:"providerValid",type:"final"}},on:{create:{target:".validate"},providerChange:{actions:"setProvider",cond:"didProviderChange",target:".validate"}}},region:{initial:"validate",states:{validate:{always:[{cond:"regionIsValid",target:"valid"},{target:"invalid"}]},invalid:{entry:"fieldInvalid",tags:"regionInvalid"},valid:{tags:"regionValid",type:"final"}},on:{create:{target:".validate"},providerChange:{target:".validate"},regionChange:{actions:"setRegion",cond:"didRegionChange",target:".validate"}}},size:{initial:"validate",states:{validate:{always:[{cond:"noProviderOrRegion",target:"idle"},{cond:"noSizes",target:"loading"},{cond:"emptySizes",target:"error"},{cond:"sizeIsDisabled",target:"disabled"},{cond:"billingRequiredButNotSelected",target:"waitingForQuota"},{cond:"sizeIsOverQuota",target:"overQuota"},{target:"valid"}]},idle:{entry:"fieldInvalid",tags:"sizeIdle"},disabled:{entry:"fieldInvalid",tags:"sizeDisabled"},waitingForQuota:{entry:"fieldInvalid",tags:"sizeWaitingForQuota"},overQuota:{entry:"fieldInvalid",tags:"sizeOverQuota"},valid:{tags:"sizeValid",type:"final"},error:{entry:"fieldInvalid",tags:"sizeError"},loading:{description:"Fetch the data required to show the available sizes and limits",invoke:{src:"getSizes",onDone:[{actions:"setSizes",target:"validate"}],onError:[{target:"error"}]},tags:"sizeLoading"}},on:{create:{target:".validate"},providerChange:{target:".validate"},regionChange:{target:".validate"},sizeChange:{actions:"setSize",cond:"didSizeChange",target:".validate"},billingChange:{target:".validate"}}},billing:{initial:"validate",states:{validate:{always:[{cond:"onlyPrepaid",target:"prepaidOnly"},{cond:"singleSubscription",target:"singleSubscription"},{cond:"onlySubscriptions",target:"onlySubscriptions"},{description:"user has both prepaid and marketplace subscriptions",target:"prepaidAndSubscriptions"}]},prepaidOnly:{description:"The user doesn't need to specify any option about the billing. The API will automatically figure out the right thing to do without giving it any information.",tags:["noBilling","billingValid"],entry:"setBillingToPrepaid",type:"final"},singleSubscription:{description:"The user doesn't need to specify any option about the billing. The API will automatically figure out the right thing to do without giving it any information.",tags:["noBilling","billingValid","singleSubscription"],entry:"setBillingToSubscription",type:"final"},onlySubscriptions:{description:"More than one subscription exist. The user needs to select one to procede.",initial:"invalid",type:"final",states:{invalid:{},valid:{entry:"triggerBillingChange",tags:"billingValid",type:"final"}},on:{selectSubscription:[{actions:"setBillingToSubscription",cond:"matchesSelectedProviderOrRHMarketplaceAndHasQuota",target:".valid"},{cond:"noSelectedProvider",target:".valid"}]}},prepaidAndSubscriptions:{description:"The user has both prepaid quota and one or more subscription to a marketplace. The user needs to select one to procede.",initial:"empty",type:"final",states:{empty:{},subscription:{entry:"triggerBillingChange",tags:"billingValid",type:"final"},prepaid:{entry:"triggerBillingChange",tags:"billingValid",type:"final"}},on:{selectSubscription:[{actions:"setBillingToSubscription",cond:"matchesSelectedProviderOrRHMarketplaceAndHasQuota",target:".subscription"},{cond:"noSelectedProvider",target:".subscription"}],selectPrepaid:{actions:"setBillingToPrepaid",cond:"hasPrepaidQuota",target:".prepaid"}}}},on:{providerChange:{actions:"unsetSubscription",description:"If a new provider is selected, deselect any previously selected billing option.",target:".validate"}}}},onDone:{target:"#standardPlanMachine.configuring.form.valid"}}},onDone:{target:"saved"}},saved:{type:"final"}}},{actions:{setInitialContext:(0,J.f0)((function(e){return{form:Y({},e.capabilities.defaultProvider?Z(e.capabilities.availableProviders,e.capabilities.defaultProvider):{})}})),fieldInvalid:(0,J.lW)("fieldInvalid"),setName:(0,J.f0)((function(e,t){var n=t.name;return"name-taken"===e.creationError?{form:Y(Y({},e.form),{name:n}),creationError:void 0}:{form:Y(Y({},e.form),{name:n})}})),setProvider:(0,J.f0)((function(e,t){var n=t.provider;return{form:Y(Y({},e.form),Z(e.capabilities.availableProviders,n)),sizes:void 0}})),setRegion:(0,J.f0)((function(e,t){var n=t.region;return"region-unavailable"===e.creationError?{form:Y(Y({},e.form),{region:n}),sizes:void 0,creationError:void 0}:{form:Y(Y({},e.form),{region:n}),sizes:void 0}})),setSize:(0,J.f0)((function(e,t){var n=t.size;return{form:Y(Y({},e.form),{size:n})}})),setSizes:(0,J.f0)((function(e,t){var n=t.data,r=n.sort((function(e,t){return e.quota-t.quota}))[0];return{sizes:n,form:Y(Y({},e.form),{size:r})}})),resetCreationErrorMessage:(0,J.f0)((function(e){return{creationError:void 0}})),setCreationError:(0,J.f0)((function(e,t){return{creationError:t.error}})),triggerSave:(0,J.lj)((function(e){var t=e.form;return{type:"save",data:{plan:"standard",name:t.name,provider:t.provider,region:t.region,sizeId:t.size.id,billing:t.billing}}})),triggerSubmit:(0,J.lW)("submit"),triggerBillingChange:(0,J.lW)("billingChange"),setBillingToPrepaid:(0,J.f0)((function(e){var t=Y({},e.form);return t.billing="prepaid",{form:t}})),setBillingToSubscription:(0,J.f0)((function(e,t){var n=Y({},e.form);if("selectSubscription"===t.type)n.billing=t.subscription;else{var r=e.capabilities.marketplaceSubscriptions[0];n.billing={marketplace:r.marketplace,subscription:r.subscriptions[0]}}return{form:n}})),unsetSubscription:(0,J.f0)((function(e){var t=Y({},e.form);return t.billing=void 0,{form:t}}))},guards:{isOverQuota:function(e){var t=e.capabilities;return void 0===t||"out-of-quota"===t.instanceAvailability},isInstanceUnavailable:function(e){var t=e.capabilities;return void 0===t||"instance-unavailable"===t.instanceAvailability},isRegionsUnavailable:function(e){var t=e.capabilities;return void 0===t||"regions-unavailable"===t.instanceAvailability},nameIsEmpty:function(e){var t=e.form;return void 0===t.name||0===t.name.length},nameIsValid:function(e){var t=e.form;return/^[a-z]([-a-z0-9]*[a-z0-9])?$/.test(t.name||"")},providerIsValid:function(e){var t=e.form,n=e.capabilities,r=null==n?void 0:n.availableProviders.find((function(e){return e.id===t.provider}));return((null==n?void 0:n.availableProviders)||[]).length>0&&void 0!==r},regionIsValid:function(e){var t=e.form,n=e.capabilities,r=null==n?void 0:n.availableProviders.find((function(e){return e.id===t.provider}));return void 0!==t.region&&void 0!==(null==r?void 0:r.regions.find((function(e){return e.id===t.region})))},noProviderOrRegion:function(e){var t=e.form;return void 0===t.provider||void 0===t.region},noSizes:function(e){return void 0===e.sizes},emptySizes:function(e){var t=e.sizes;return void 0!==t&&0===t.length},sizeIsDisabled:function(e){var t,n=e.form;return void 0===e.capabilities||!0===(null===(t=n.size)||void 0===t?void 0:t.isDisabled)},billingRequiredButNotSelected:function(e,t,n){var r=e.form;return!n.state.hasTag("noBilling")&&void 0===r.billing},sizeIsOverQuota:function(e){var t=e.form,n=e.capabilities;if(void 0===n||!t.size)return!0;var r="prepaid"===t.billing||void 0===t.billing?n.remainingPrepaidQuota:n.remainingMarketplaceQuota;return!r||t.size.quota>r},didProviderChange:function(e,t){return e.form.provider!==t.provider},didRegionChange:function(e,t){return e.form.region!==t.region},didSizeChange:function(e,t){var n;return(null===(n=e.form.size)||void 0===n?void 0:n.id)!==t.size.id},onlyPrepaid:function(e){return 0===e.capabilities.marketplaceSubscriptions.length},singleSubscription:function(e){return void 0===e.capabilities.remainingPrepaidQuota&&1===e.capabilities.marketplaceSubscriptions.flatMap((function(e){return e.subscriptions})).length},onlySubscriptions:function(e){return void 0===e.capabilities.remainingPrepaidQuota&&e.capabilities.marketplaceSubscriptions.length>0},matchesSelectedProviderOrRHMarketplaceAndHasQuota:function(e,t){var n=e.form,r=e.capabilities,i=t.subscription;return void 0!==r.remainingMarketplaceQuota&&r.remainingMarketplaceQuota>0&&("rhm"===i.marketplace||n.provider===i.marketplace)},hasPrepaidQuota:function(e){return void 0!==e.capabilities.remainingPrepaidQuota&&e.capabilities.remainingPrepaidQuota>0},noSelectedProvider:function(e){return void 0===e.form.provider}}}),ee=function(){return ee=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ee.apply(this,arguments)},te=(0,W.C)({context:{capabilities:{},sizes:void 0,form:{},creationError:void 0},tsTypes:{},predictableActionArguments:!0,schema:{context:{},events:{},services:{}},initial:"verifyAvailability",id:"TrialPlanMachine",states:{verifyAvailability:{entry:"setInitialContext",always:[{cond:"isTrialUsed",target:"trialUsed"},{cond:"isTrialUnavailable",target:"trialUnavailable"},{target:"configuring"}]},trialUsed:{tags:"blocked"},trialUnavailable:{tags:"blocked"},regionsUnavailable:{tags:"blocked"},configuring:{type:"parallel",states:{status:{initial:"unsubmitted",states:{unsubmitted:{tags:"unsubmitted"},submitting:{entry:"triggerSubmit",always:["submitted"]},submitted:{tags:"submitted"}},on:{create:{description:"Save is enabled all the time, if it's clicked before the form is completely filled out we should show the validation for all errored fields",target:".submitting"}}},form:{initial:"invalid",states:{invalid:{tags:"formInvalid"},valid:{entry:"resetCreationErrorMessage",on:{fieldInvalid:{target:"invalid"},submit:{target:"saving"}}},saving:{entry:["resetCreationErrorMessage","triggerSave"],tags:"formSaving",on:{createSuccess:{target:"saved"},createError:{actions:"setCreationError",target:"invalid"}}},saved:{type:"final"}},on:{fieldInvalid:{description:"sent by the fields when their value change to an invalid value. This will transition the form to the invalid state, to then eventually transition to the valid state if the field state is marked as done (which means that all fields have a valid value selected)",target:".invalid"}}},fields:{tags:"configurable",type:"parallel",states:{name:{initial:"validate",states:{empty:{tags:"nameEmpty"},invalid:{entry:"fieldInvalid",tags:"nameInvalid"},valid:{tags:"nameValid",type:"final"},validate:{always:[{cond:"nameIsEmpty",target:"empty"},{cond:"nameIsValid",target:"valid"},{target:"invalid"}]}},on:{create:{target:".validate"},nameChange:{actions:"setName",target:".validate"}}},provider:{initial:"validate",states:{validate:{always:[{cond:"providerIsValid",target:"valid"},{target:"invalid"}]},invalid:{entry:"fieldInvalid",tags:"providerInvalid"},valid:{tags:"providerValid",type:"final"}},on:{create:{target:".validate"},providerChange:{actions:"setProvider",cond:"didProviderChange",target:".validate"}}},region:{initial:"validate",states:{validate:{always:[{cond:"regionIsValid",target:"valid"},{target:"invalid"}]},invalid:{entry:"fieldInvalid",tags:"regionInvalid"},valid:{tags:"regionValid",type:"final"}},on:{create:{target:".validate"},providerChange:{target:".validate"},regionChange:{actions:"setRegion",cond:"didRegionChange",target:".validate"}}},size:{initial:"validate",states:{validate:{always:[{cond:"noProviderAndRegion",target:"idle"},{cond:"noSizes",target:"loading"},{cond:"emptySizes",target:"error"},{target:"valid"}]},idle:{entry:"fieldInvalid",tags:"sizeIdle"},valid:{tags:"sizeValid",type:"final"},error:{entry:"fieldInvalid",tags:"sizeError"},loading:{description:"Fetch the data required to show the available sizes and limits",invoke:{src:"getSizes",onDone:[{actions:"setSizes",target:"validate"}],onError:[{target:"error"}]},tags:"sizeLoading"}},on:{create:{target:".validate"},providerChange:{target:".validate"},regionChange:{target:".validate"}}}},onDone:{target:"#TrialPlanMachine.configuring.form.valid"}}},onDone:{target:"saved"}},saved:{type:"final"}}},{actions:{setInitialContext:(0,J.f0)((function(e){return{form:ee({},e.capabilities.defaultProvider?Z(e.capabilities.availableProviders,e.capabilities.defaultProvider):{})}})),fieldInvalid:(0,J.lW)("fieldInvalid"),setName:(0,J.f0)((function(e,t){var n=t.name;return"name-taken"===e.creationError?{form:ee(ee({},e.form),{name:n}),creationError:void 0}:{form:ee(ee({},e.form),{name:n})}})),setProvider:(0,J.f0)((function(e,t){var n=t.provider;return{form:ee(ee({},e.form),Z(e.capabilities.availableProviders,n)),sizes:void 0}})),setRegion:(0,J.f0)((function(e,t){var n=t.region;return"region-unavailable"===e.creationError?{form:ee(ee({},e.form),{region:n}),sizes:void 0,creationError:void 0}:{form:ee(ee({},e.form),{region:n}),sizes:void 0}})),setSizes:(0,J.f0)((function(e,t){return{sizes:t.data}})),resetCreationErrorMessage:(0,J.f0)((function(e){return{creationError:void 0}})),setCreationError:(0,J.f0)((function(e,t){return{creationError:t.error}})),triggerSave:(0,J.lj)((function(e){var t=e.form;return{type:"save",data:{plan:"developer",name:t.name,provider:t.provider,region:t.region,sizeId:e.sizes.trial.id,billing:void 0}}})),triggerSubmit:(0,J.lW)("submit")},guards:{isTrialUsed:function(e){var t=e.capabilities;return void 0===t||"used"===t.instanceAvailability},isTrialUnavailable:function(e){var t=e.capabilities;return void 0===t||"unavailable"===t.instanceAvailability},nameIsEmpty:function(e){var t=e.form;return void 0===t.name||0===t.name.length},nameIsValid:function(e){var t=e.form;return/^[a-z]([-a-z0-9]*[a-z0-9])?$/.test(t.name||"")},providerIsValid:function(e){var t=e.form,n=e.capabilities,r=null==n?void 0:n.availableProviders.find((function(e){return e.id===t.provider}));return((null==n?void 0:n.availableProviders)||[]).length>0&&void 0!==r},regionIsValid:function(e){var t=e.form,n=e.capabilities,r=null==n?void 0:n.availableProviders.find((function(e){return e.id===t.provider}));return void 0!==t.region&&void 0!==(null==r?void 0:r.regions.find((function(e){return e.id===t.region})))},noProviderAndRegion:function(e){var t=e.form;return void 0===t.provider||void 0===t.region},noSizes:function(e){return void 0===e.sizes},emptySizes:function(e){var t=e.sizes;return void 0!==t&&0===t.standard.length},didProviderChange:function(e,t){return e.form.provider!==t.provider},didRegionChange:function(e,t){return e.form.region!==t.region}}}),ne=(0,W.C)({context:{providers:void 0,defaultProvider:void 0,quota:void 0,capabilities:void 0},predictableActionArguments:!0,tsTypes:{},schema:{context:{},events:{},services:{}},id:"createKafkaInstance",initial:"loading",states:{loading:{description:"Fetch the data required to drive the creation flow",tags:"loading",initial:"quota",states:{quota:{initial:"checking standard quota",states:{"checking standard quota":{invoke:{src:"checkStandardQuota",onError:[{actions:"setStandardUnavailable",target:"standard"}]},on:{"standard quota available":{actions:"setStandardAvailable",target:"standard"},"out of standard quota":{actions:"setStandardOutOfQuota",target:"standard"},"no standard quota available":{target:"checking developer availability"}}},standard:{type:"final",always:{target:"#createKafkaInstance.loading.fetching providers"}},developer:{type:"final",always:{target:"#createKafkaInstance.loading.fetching providers"}},"checking developer availability":{invoke:{src:"checkDeveloperAvailability",onError:[{actions:"setDeveloperUnavailable",target:"developer"}]},on:{"developer used":{actions:"setDeveloperUsed",target:"developer"},"developer available":{actions:"setDeveloperAvailable",target:"developer"},"developer unavailable":{actions:"setDeveloperUnavailable",target:"developer"}}}}},"fetching providers":{invoke:{src:"fetchProvidersWithRegions",onError:[{actions:"setProvidersOrRegionsUnavailable",target:"ready"}]},on:{"providers and regions available":{actions:"setProviders",target:"ready"},"providers or regions unavailable":{actions:"setProvidersOrRegionsUnavailable",target:"ready"}}},ready:{type:"final",entry:"setCapabilities"}},onDone:[{cond:"standard plan",target:"standard plan"},{cond:"developer plan",target:"developer plan"},{target:"system unavailable"}]},"system unavailable":{tags:"systemUnavailable",type:"final"},"standard plan":{invoke:{src:"standardPlan",id:"standardPlanService"},tags:"standardPlan",initial:"idle",states:{idle:{on:{save:{target:"saving"}}},saving:{invoke:{src:"createInstance"},tags:"saving",on:{createSuccess:{target:"#createKafkaInstance.complete"},createError:{actions:"notifyCreateErrorToStandardPlan",target:"idle"}}}}},"developer plan":{invoke:{src:"trialPlan",id:"trialPlanService"},tags:"trialPlan",initial:"idle",states:{idle:{on:{save:{target:"saving"}}},saving:{invoke:{src:"createInstance"},tags:"saving",on:{createSuccess:{target:"#createKafkaInstance.complete"},createError:{actions:"notifyCreateErrorToTrialPlan",target:"idle"}}}}},complete:{type:"final"}}},{actions:{setDeveloperAvailable:(0,J.f0)((function(e){return{quota:{plan:"developer",instanceAvailability:"available"}}})),setDeveloperUnavailable:(0,J.f0)((function(e){return{quota:{plan:"developer",instanceAvailability:"unavailable"}}})),setDeveloperUsed:(0,J.f0)((function(e){return{quota:{plan:"developer",instanceAvailability:"used"}}})),setStandardAvailable:(0,J.f0)((function(e,t){return{quota:{plan:"standard",instanceAvailability:"available",remainingPrepaidQuota:t.quota.remainingPrepaidQuota,marketplaceSubscriptions:t.quota.marketplaceSubscriptions,remainingMarketplaceQuota:t.quota.remainingMarketplaceQuota}}})),setStandardOutOfQuota:(0,J.f0)((function(e,t){return{quota:{plan:"standard",instanceAvailability:"out-of-quota",marketplaceSubscriptions:t.quota.marketplaceSubscriptions,remainingMarketplaceQuota:0,remainingPrepaidQuota:0}}})),setStandardUnavailable:(0,J.f0)((function(e){return{quota:{plan:"standard",instanceAvailability:"instance-unavailable",marketplaceSubscriptions:[],remainingMarketplaceQuota:0,remainingPrepaidQuota:0}}})),setProviders:(0,J.f0)((function(e,t){return{providers:t.providers,defaultProvider:t.defaultProvider}})),setProvidersOrRegionsUnavailable:(0,J.f0)((function(e){var t=e.quota;return"standard"===t.plan?t.instanceAvailability="regions-unavailable":t.instanceAvailability="unavailable",{providers:[],quota:t}})),setCapabilities:(0,J.f0)((function(e){var t=e.providers,n=e.defaultProvider,r=e.quota;if(!t||!r)throw new Error("unexpected condition, no providers or quota");return"standard"===r.plan?{capabilities:{plan:"standard",availableProviders:t,defaultProvider:n,instanceAvailability:r.instanceAvailability,marketplaceSubscriptions:r.marketplaceSubscriptions,remainingMarketplaceQuota:r.remainingMarketplaceQuota,remainingPrepaidQuota:r.remainingPrepaidQuota}}:{capabilities:{plan:"developer",availableProviders:t,defaultProvider:n,instanceAvailability:r.instanceAvailability}}})),notifyCreateErrorToStandardPlan:(0,J.Tn)("standardPlanService"),notifyCreateErrorToTrialPlan:(0,J.lW)((function(e,t){return{type:"createError",error:t.error}}),{to:"trialPlanService"})},guards:{"standard plan":function(e){var t;return"standard"===(null===(t=e.quota)||void 0===t?void 0:t.plan)},"developer plan":function(e){var t;return"developer"===(null===(t=e.quota)||void 0===t?void 0:t.plan)}}}),re=function(){return re=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},re.apply(this,arguments)},ie=(0,v.createContext)(null),ae=function(e){var t=e.onCreate,n=e.checkStandardQuota,i=e.checkDeveloperAvailability,a=e.fetchProvidersWithRegions,o=e.getStandardSizes,s=e.getTrialSizes,c=e.children,l=(0,$.k)((function(){return function(e){var t=e.checkStandardQuota,n=e.checkDeveloperAvailability,r=e.fetchProvidersWithRegions,i=e.getStandardSizes,a=e.getTrialSizes,o=e.onCreate;return ne.withConfig({services:{checkStandardQuota:function(){return function(e){return t({onNoQuotaAvailable:function(t){var n=t.hasTrialQuota;e({type:"no standard quota available",hasTrialQuota:n})},onOutOfQuota:function(t){var n=t.quota;e({type:"out of standard quota",quota:n})},onQuotaAvailable:function(t){var n=t.quota;e({type:"standard quota available",quota:n})}})}},checkDeveloperAvailability:function(){return function(e){n({onAvailable:function(){return e("developer available")},onUsed:function(){return e("developer used")},onUnavailable:function(){return e("developer unavailable")}})}},fetchProvidersWithRegions:function(e){var t=e.quota.plan;return function(e){r(t,{onAvailable:function(t){var n=t.providers,r=t.defaultProvider;return e({type:"providers and regions available",providers:n,defaultProvider:r})},onUnavailable:function(){return e("providers or regions unavailable")}})}},createInstance:function(e,t){var n=t.data;return function(e){o({plan:n.plan,name:n.name,provider:n.provider,region:n.region,sizeId:n.sizeId,billing:n.billing},(function(){e("createSuccess")}),(function(t){e({type:"createError",error:t})}))}},standardPlan:function(e){return X.withContext({capabilities:e.capabilities,sizes:void 0,form:{},creationError:void 0}).withConfig({services:{getSizes:function(e){var t=e.form;return i(t.provider,t.region)}}})},trialPlan:function(e){return te.withContext({capabilities:e.capabilities,sizes:void 0,form:{},creationError:void 0}).withConfig({services:{getSizes:function(e){var t=e.form;return a(t.provider,t.region)}}})}}})}({checkStandardQuota:n,checkDeveloperAvailability:i,fetchProvidersWithRegions:a,getStandardSizes:o,getTrialSizes:s,onCreate:t})}),{devTools:!0});return(0,r.jsx)(ie.Provider,re({value:{service:l}},{children:c}))},oe=function(){return oe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},oe.apply(this,arguments)},se=function(e){var t=e.type,n=e.subscriptionOptionsHref,a=(0,o.$)("create-kafka-instance").t;return(0,r.jsx)(i.Popover,oe({"aria-label":a("billing.field_label"),headerContent:a("billing.field_label"),bodyContent:(0,r.jsx)(T.c,{i18nKey:"rh-only"===t?"billing.field_popover_rh_only":"billing.field_popover_external_marketplace",ns:"create-kafka-instance",components:[(0,r.jsx)(Q.rU,{to:n})]})},{children:(0,r.jsx)(s.OutlinedQuestionCircleIcon,{})}))},ce=new URL(n(93987),n.b).href,le=new URL(n(40412),n.b).href,ue=new URL(n(84840),n.b).href,de=new URL(n(90504),n.b).href,pe=function(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("img",{src:ce,alt:"",style:{height:"60px"}})})},fe=function(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("img",{src:le,alt:"",style:{height:"60px"}})})},me=function(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("img",{src:ue,alt:"",style:{height:"60px"}})})},he=function(){return he=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},he.apply(this,arguments)},ve=function(e){var t=e.value,n=e.hasPrepaid,a=e.subscriptions,s=e.isPrepaidOverQuota,c=e.prepaidQuota,l=e.isMarketplaceOverQuota,u=e.marketplaceQuota,d=e.onPrepaid,p=e.onSubscription,f=e.validated,m=(0,o.$)("create-kafka-instance").t,h={aws:m("billing.marketplace_aws"),azure:m("billing.marketplace_azure"),gcp:m("billing.marketplace_gcp"),rhm:m("billing.marketplace_rh")};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.Flex,he({role:"listbox","aria-label":m("select_billing"),direction:{default:"column",md:"row"}},{children:[n&&(0,r.jsxs)(i.Flex,he({flex:{default:"flex_1"},direction:{default:"column"},spaceItems:{default:"spaceItemsSm"}},{children:[(0,r.jsx)("span",he({className:"pf-c-form__label"},{children:(0,r.jsx)("span",he({className:"pf-c-form__label-text"},{children:m("billing.prepaid")}))})),(0,r.jsx)(i.FlexItem,he({flex:{default:"flex_1"}},{children:(0,r.jsx)(i.Tile,he({className:"pf-u-w-100",title:m("billing.prepaid_option"),icon:ge.rhm,isDisabled:s,isStacked:!0,isSelected:"prepaid"===t,onClick:d},{children:""}))})),s&&c>0&&(0,r.jsx)(i.HelperText,he({className:"pf-c-form__helper-text"},{children:(0,r.jsx)(i.HelperTextItem,he({variant:"error"},{children:m("billing.prepaid_out_of_quota")}))})),s&&0===c&&(0,r.jsx)(i.HelperText,he({className:"pf-c-form__helper-text"},{children:(0,r.jsx)(i.HelperTextItem,he({variant:"error"},{children:m("billing.prepaid_out_of_quota")}))}))]})),a.length>0&&(0,r.jsxs)(i.Flex,he({flex:{default:"flex_1"},direction:{default:"column"},spaceItems:{default:"spaceItemsSm"}},{children:[n&&(0,r.jsx)("span",he({className:"pf-c-form__label"},{children:(0,r.jsx)("span",he({className:"pf-c-form__label-text"},{children:m("billing.marketplace")}))})),(0,r.jsx)(i.Gallery,he({hasGutter:!0},{children:a.map((function(e){var n=e.marketplace,a=e.subscription,o=e.isDisabled;return(0,r.jsx)(i.GalleryItem,{children:(0,r.jsx)(i.Tile,he({className:"pf-u-w-100",title:h[n],icon:ge[n],isStacked:!0,isSelected:t===a,isDisabled:o||l,onClick:function(){return p(n,a)}},{children:a}))},"tile-".concat(a))}))})),l&&u>0&&(0,r.jsx)(i.HelperText,he({className:"pf-c-form__helper-text"},{children:(0,r.jsx)(i.HelperTextItem,he({variant:"error"},{children:m("billing.marketplace_out_of_quota")}))})),l&&0===u&&(0,r.jsx)(i.HelperText,he({className:"pf-c-form__helper-text"},{children:(0,r.jsx)(i.HelperTextItem,he({variant:"error"},{children:m("billing.marketplace_out_of_quota")}))}))]}))]})),(0,r.jsx)(i.FormSelect,he({className:"pf-u-display-none",value:t,id:"form-billing-option",name:"billing",validated:f,onChange:function(e){if("prepaid"===e)d();else{var t=a.find((function(t){return t.marketplace===e}));t&&p(t.marketplace,t.subscription)}}},{children:[(0,r.jsx)(i.FormSelectOption,{value:"",label:m("select_billing")},"placeholder"),n?(0,r.jsx)(i.FormSelectOption,{value:"prepaid",label:"prepaid"},"prepaid"):null,a.map((function(e){var t=e.marketplace,n=e.subscription,a=e.isDisabled;return(0,r.jsx)(i.FormSelectOption,{value:n,label:"".concat(t," - ").concat(n),isDisabled:a},"select-option-".concat(n))}))]}))]})},ge={aws:(0,r.jsx)(pe,{}),gcp:(0,r.jsx)(me,{}),azure:(0,r.jsx)(fe,{}),rhm:(0,r.jsx)((function(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("img",{src:de,alt:"",style:{height:"60px"}})})}),{})},be=function(){return be=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},be.apply(this,arguments)},ye=function(e){var t=e.providers,n=e.value,a=e.onChange,s=e.isDisabled,c=e.validated,l=(0,o.$)("create-kafka-instance").t;return(0,r.jsxs)(r.Fragment,{children:[0===t.length&&(0,r.jsx)(i.Skeleton,{className:"pf-m-text-4xl",screenreaderText:"Loading contents"}),(0,r.jsx)("div",be({role:"listbox","aria-label":l("select_cloud_provider")},{children:(0,r.jsx)(i.Flex,be({justifyContent:{default:"justifyContentSpaceBetween"},spacer:{default:"spacerNone"},spaceItems:{default:"spaceItemsXs"}},{children:t.map((function(e){var t=e.id,o=e.displayName,c=e.isDisabled;return(0,r.jsx)(i.FlexItem,be({grow:{default:"grow"}},{children:(0,r.jsxs)(i.Tile,be({className:"pf-u-w-100",title:o,icon:xe[t],isStacked:!0,isSelected:n===t,isDisabled:c||s,onClick:function(){return a(t)}},{children:[c&&l("billing.provider_incompatible_with_current_billing"),""]}))}),t)}))}))})),(0,r.jsx)(i.FormSelect,be({className:"pf-u-display-none",value:n,id:"form-cloud-provider-option",name:"cloud-provider",isDisabled:s,validated:c,onChange:function(e){return a(e)}},{children:[(0,r.jsx)(i.FormSelectOption,{value:"",label:l("select_cloud_provider")},"placeholder"),t.map((function(e,t){var n=e.id,a=e.displayName;return(0,r.jsx)(i.FormSelectOption,{value:n,label:a},t)}))]}))]})},xe={aws:(0,r.jsx)(pe,{}),gcp:(0,r.jsx)(me,{}),azure:(0,r.jsx)(fe,{})},je=function(){return je=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},je.apply(this,arguments)},_e=function(e){var t=e.value,n=e.regions,a=e.isDisabled,s=e.isSizeUnavailable,c=e.validated,l=e.onChange,u=e.placeholderText,d=(0,o.$)().t,p=(0,v.useState)(!1),f=p[0],m=p[1],h=null==n?void 0:n.map((function(e,t){var n=e.id,a=e.displayName,o=e.isDisabled;return(0,r.jsx)(i.SelectOption,je({isDisabled:o,disabled:o,value:n,description:o?d("create-kafka-instance:temporarily_unavailable"):void 0},{children:a}),t)}));return(0,r.jsx)(i.Select,je({id:"form-cloud-region-option",toggleId:"form-cloud-region-option",name:"form-cloud-region-option",variant:i.SelectVariant.single,onToggle:function(e){m(e)},onSelect:function(e,t){m((function(e){return!e})),l(t)},validated:c,selections:t,isOpen:f,isDisabled:a,"aria-describedby":s?"instance-size-unavailable":"form-cloud-region-option",placeholderText:u},{children:h}))},ke=function(){return ke=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ke.apply(this,arguments)},Ce=function(e){var t=e.value,n=e.options,a=e.validity,s=e.isDisabled,c=e.onChange,l=(0,o.$)("create-kafka-instance").t,u="valid"!==a?"error":"default",d="multi"===n?"multi":"single",p="all"===n||s?"manual":void 0;return(0,r.jsx)(i.FormGroup,ke({label:l("availability_zones"),fieldId:"availability-zones",validated:u,helperTextInvalid:l("common:required"),"data-testid":"az"},{children:(0,r.jsxs)(i.ToggleGroup,ke({"aria-label":l("availability_zone_selection")},{children:[(0,r.jsx)(i.Tooltip,ke({content:l("availability_zones_tooltip_message",{enabledZone:d}),trigger:p},{children:(0,r.jsx)(i.ToggleGroupItem,{text:l("az.single"),value:"single",isDisabled:s||"multi"===n,buttonId:"single",isSelected:"single"===t,onChange:function(){return c("single")}})})),(0,r.jsx)(i.Tooltip,ke({trigger:p,content:l("availability_zones_tooltip_message",{enabledZone:d})},{children:(0,r.jsx)(i.ToggleGroupItem,{text:l("az.multi"),value:"multi",buttonId:"multi",isDisabled:s||"single"===n,isSelected:"multi"===t,onChange:function(){return c("multi")}})}))]}))}))},we=function(){return we=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},we.apply(this,arguments)},Se=function(e){var t=e.value,n=e.hasPrepaid,a=e.subscriptions,s=e.isPrepaidOverQuota,c=e.prepaidQuota,l=e.isMarketplaceOverQuota,u=e.marketplaceQuota,d=e.onPrepaid,p=e.onSubscription,f=e.isValid,m=e.billingType,h=e.subscriptionOptionsHref,v=(0,o.$)("create-kafka-instance").t,g=f?"default":"error";return(0,r.jsx)(i.FormGroup,we({label:(0,r.jsxs)(r.Fragment,{children:[v("billing.field_label")," ",(0,r.jsx)(se,{type:m,subscriptionOptionsHref:h})]}),fieldId:"form-billing-option",validated:g,helperTextInvalid:s||l?" ":v("common:required"),isRequired:!0},{children:(0,r.jsx)(ve,{value:t,hasPrepaid:n,subscriptions:a,isPrepaidOverQuota:s,prepaidQuota:c,isMarketplaceOverQuota:l,marketplaceQuota:u,onPrepaid:d,onSubscription:p,validated:g})}))},Te=function(){return Te=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Te.apply(this,arguments)},Oe=function(e){var t=e.value,n=e.providers,a=e.onChange,s=e.isDisabled,c=e.isValid,l=(0,o.$)("create-kafka-instance").t,u=c?"default":"error";return(0,r.jsx)(i.FormGroup,Te({label:l("cloud_provider"),fieldId:"form-cloud-provider-option",validated:u,helperTextInvalid:l("common:required"),isRequired:!0},{children:(0,r.jsx)(ye,{providers:n,value:t,onChange:a,isDisabled:s,validated:u})}))},Ie=function(){return Ie=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ie.apply(this,arguments)},Pe=function(e){var t=e.value,n=e.regions,a=e.onChange,s=e.isDisabled,c=e.isSizeUnavailable,l=e.validity,u=(0,o.$)("create-kafka-instance").t,d=!n||n.every((function(e){return!0===e.isDisabled}))||0===n.length,p=s||d||0===(null==n?void 0:n.length),f=!d&&(null==n?void 0:n.some((function(e){return!0===e.isDisabled}))),m="valid"!==l&&void 0!==t?"error":"default",h=u(d&&n?"regions_temporarily_unavailable":"select_region"),v=s?void 0:"region-unavailable"===l?(0,r.jsx)(i.HelperText,Ie({className:"pf-c-form__helper-text"},{children:(0,r.jsx)(i.HelperTextItem,Ie({variant:"error",hasIcon:!0},{children:u("form_errors.region_unavailable_message")}))})):u(d?"all_region_unavailable_helper_text":"common:required");return(0,r.jsx)(i.FormGroup,Ie({"data-testid":"cloudRegion",label:u("cloud_region"),fieldId:"form-cloud-region-option",isRequired:!0,validated:m,helperText:n&&(d||f)?(0,r.jsx)(i.HelperText,Ie({className:"pf-c-form__helper-text"},{children:(0,r.jsx)(i.HelperTextItem,Ie({variant:f?"warning":"error",hasIcon:!0},{children:u(f?"some_region_unavailable_helper_text":"all_region_unavailable_helper_text")}))})):void 0,helperTextInvalid:v},{children:(0,r.jsx)(_e,{value:t,regions:n,onChange:a,isDisabled:p,isSizeUnavailable:c,validated:m,placeholderText:h})}))},Ae=function(){return Ae=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ae.apply(this,arguments)},Le=function(e){var t=e.value,n=e.validity,a=e.isDisabled,s=e.onChange,c=(0,o.$)("create-kafka-instance").t,l="valid"!==n?"error":"default";return(0,r.jsx)(i.FormGroup,Ae({label:c("instance_name"),helperText:c("create_instance_name_helper_text"),helperTextInvalid:"taken"===n?c("create_instance_name_helper_text_name_taken",{name:t}):c("invalid"===n?"create_instance_name_helper_text":"common:required"),isRequired:!0,validated:l,fieldId:"form-instance-name"},{children:(0,r.jsx)(i.TextInput,{id:"form-instance-name",isRequired:!0,validated:l,type:"text",value:t,onChange:s,autoFocus:!0,isDisabled:a,maxLength:32})}))},Ee=n(42222),De=function(){return De=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},De.apply(this,arguments)},Re=function(e){var t=e.remainingQuota,n=e.isPreview,a=e.isUnavailable,s=e.isError,c=(0,o.$)("create-kafka-instance").t;return(0,r.jsxs)(i.HelperText,De({className:"pf-c-form__helper-text"},{children:[t&&(0,r.jsx)(i.HelperTextItem,{children:c("standard_kafka_streaming_unit",{count:t})}),a&&(0,r.jsx)(i.Alert,De({id:"instance-size-unavailable","aria-live":"polite",role:"alert",className:"pf-u-mb-md pf-u-mt-lg",variant:s?"danger":"warning",title:c("size_unavailable_title"),isInline:!0},{children:c("size_unavailable_message")})),n&&(0,r.jsx)(i.Alert,De({"aria-live":"polite",role:"alert",className:"pf-u-mb-md ".concat(a?"":"pf-u-mt-lg"),variant:i.AlertVariant.info,title:c("size_preview_title"),isInline:!0},{children:(0,r.jsx)(T.c,{ns:"create-kafka-instance",i18nKey:"size_preview_message",components:[(0,r.jsx)(M.d,{href:"https://access.redhat.com/articles/6473891",testId:"size-preview-support-link",className:"pf-u-ml-xs"})]})}))]}))},Ne=function(){return Ne=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ne.apply(this,arguments)},ze=function(e){var t=e.remainingQuota,n=e.onClick,a=(0,o.$)("create-kafka-instance").t;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.HelperText,Ne({className:"pf-c-form__helper-text"},{children:(0,r.jsx)(i.HelperTextItem,Ne({variant:"error",hasIcon:!0},{children:a("standard_kafka_streaming_unit",{count:t})}))})),(0,r.jsx)(i.HelperText,{children:(0,r.jsx)(i.HelperTextItem,{children:(0,r.jsx)(i.Button,Ne({className:"pf-c-form__helper-text",variant:i.ButtonVariant.link,isInline:!0,onClick:n},{children:a("standard_kafka_size_description")}))})})]})},Be=function(){return Be=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Be.apply(this,arguments)},Ve=function(e){var t=e.onClick,n=(0,o.$)("create-kafka-instance").t;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.HelperText,Be({className:"pf-c-form__helper-text"},{children:(0,r.jsx)(i.HelperTextItem,{children:n("trial_kafka_size_description")})})),(0,r.jsx)(i.HelperText,{children:(0,r.jsx)(i.HelperTextItem,{children:(0,r.jsx)(i.Button,Be({className:"pf-c-form__helper-text",variant:i.ButtonVariant.link,isInline:!0,onClick:t},{children:n("learn_about_sizes")}))})})]})},Fe=function(){return Fe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Fe.apply(this,arguments)},He=function(e){var t,n,a=e.value,s=e.sizes,c=e.remainingQuota,l=e.isDisabled,u=e.isLoading,d=e.isError,p=e.isLoadingError,f=e.validity,m=e.onChange,h=e.onLearnHowToAddStreamingUnits,v=e.onLearnMoreAboutSizes,g=(0,o.$)("create-kafka-instance").t,b="developer"!==f,y=(0,r.jsx)(Ve,{onClick:v});if(u||p)return(0,r.jsx)(Ee.Q,{labelHead:g("common:size"),fieldId:"streaming-size",fieldLabel:g("common:size"),labelBody:g("size_help_content"),buttonAriaLabel:g("size_field_aria"),isRequired:b,helperText:(0,r.jsxs)(i.Grid,Fe({sm:6,lg:12,hasGutter:!0,"data-testid":"size-loading"},{children:[(0,r.jsx)(i.GridItem,{children:(0,r.jsx)(i.Skeleton,{width:"50%",fontSize:"3xl"})}),(0,r.jsx)(i.GridItem,{children:(0,r.jsx)(i.Skeleton,{width:"40%",fontSize:"sm"})})]})),validated:p?"error":"default",helperTextInvalid:g("sizes_error")});if(void 0===s)return(0,r.jsx)(Ee.Q,Fe({labelHead:g("common:size"),fieldId:"streaming-size",fieldLabel:g("common:size"),labelBody:g("size_help_content"),buttonAriaLabel:g("size_field_aria"),isRequired:b,helperText:"developer"===f?y:g("sizes_missing")},{children:(0,r.jsx)("div",{"data-testid":"size-slider"})}));var x="developer"!==f?s.findIndex((function(e){return e.quota===a})):-1,j=s.map((function(e,t){return{value:t,label:"".concat(e.quota)}})),_=null===(t=s[x])||void 0===t?void 0:t.isDisabled,k=(0,r.jsx)(Re,{remainingQuota:c,isPreview:"preview"===(null===(n=s[x])||void 0===n?void 0:n.status),isUnavailable:_,isError:d}),C=c&&(0,r.jsx)(ze,{remainingQuota:c,onClick:h}),w=c&&a&&("valid"!==f||c<a)&&"developer"!==f&&d?"error":"default";return(0,r.jsx)(Ee.Q,Fe({labelHead:g("common:size"),fieldId:"streaming-size",fieldLabel:g("common:size"),labelBody:g("size_help_content"),buttonAriaLabel:g("size_field_aria"),isRequired:b,validated:w,helperText:"developer"!==f?k:y,helperTextInvalid:"out-of-quota"===f?C:k},{children:(0,r.jsxs)("div",Fe({className:"pf-c-input-group pf-u-w-50"},{children:[(0,r.jsx)(i.Slider,{id:"streaming-size","data-testid":"size-slider",max:j.length-1,value:x,showTicks:!0,customSteps:j,className:"pf-u-w-100",isDisabled:l||"developer"===f,onChange:function(e){m(s[e])},"aria-describedby":_?"instance-size-unavailable":"streaming-size"}),(0,r.jsx)("span",Fe({className:"pf-c-input-group__text pf-m-plain pf-u-text-nowrap"},{children:g("streaming_unit")}))]}))}))},Ge=function(){return Ge=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ge.apply(this,arguments)},Ue=function(e){var t=e.error,n=e.onClickContactUS,a=(0,o.$)("create-kafka-instance").t;return(0,r.jsx)(i.AlertGroup,Ge({"aria-live":"assertive"},{children:function(){switch(t){case"form-invalid":case"name-taken":return(0,r.jsx)(i.Alert,{role:"alert",className:"pf-u-mb-md",variant:i.AlertVariant.danger,title:a("form_errors.form_invalid"),isInline:!0});case"insufficient-quota":return(0,r.jsx)(i.Alert,Ge({role:"alert",className:"pf-u-mb-md",variant:i.AlertVariant.danger,title:a("form_errors.out_of_quota_title"),isInline:!0},{children:(0,r.jsx)(T.c,{ns:["create-kafka-instance"],i18nKey:a("form_errors.out_of_quota_message"),components:[(0,r.jsx)(i.Button,{variant:i.ButtonVariant.link,onClick:n,isInline:!0},"btn-contact-us")]})}));case"developer-unavailable":return(0,r.jsx)(i.Alert,Ge({role:"alert",className:"pf-u-mb-md",variant:i.AlertVariant.danger,title:a("form_errors.trial_unavailable_title"),isInline:!0},{children:a("form_errors.trial_unavailable_message")}));case"region-unavailable":return(0,r.jsx)(i.Alert,Ge({role:"alert",className:"pf-u-mb-md",variant:i.AlertVariant.danger,title:a("form_errors.region_unavailable_title"),isInline:!0},{children:a("form_errors.region_unavailable_message")}));case"unknown":return(0,r.jsx)(i.Alert,Ge({role:"alert",className:"pf-u-mb-md",variant:i.AlertVariant.danger,title:a("form_errors.unknown_error_title"),isInline:!0},{children:a("form_errors.unknown_error_message")}))}return null}()}))},Me=function(){return Me=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Me.apply(this,arguments)},Qe=function(e){var t=e.isTrial,n=e.trialDurationInHours,a=e.ingress,c=e.egress,l=e.storage,u=e.maxPartitions,d=e.connections,p=e.connectionRate,f=e.messageSize,m=e.onClickQuickStart,h=e.streamingUnits,v=e.billing,g=(0,o.$)("create-kafka-instance").t;return(0,r.jsxs)(i.Stack,Me({hasGutter:!0,"data-testid":"instance-info"},{children:[(0,r.jsx)(i.StackItem,{children:(0,r.jsxs)(i.Card,Me({isFlat:!0},{children:[(0,r.jsx)(i.CardTitle,Me({component:"h2"},{children:g("instance_information")})),(0,r.jsx)(i.CardBody,{children:(0,r.jsx)(i.DescriptionList,Me({isCompact:!0},{children:(0,r.jsx)(i.DescriptionListGroup,{children:(0,r.jsxs)(i.Grid,Me({sm:6,lg:12,hasGutter:!0},{children:[!t&&(0,r.jsxs)(i.GridItem,Me({"data-testid":"instance-size"},{children:[(0,r.jsx)(i.DescriptionListTerm,{children:g("common:size")}),(0,r.jsx)(i.DescriptionListDescription,{children:g("stream_unit_value",{size:h})})]})),t&&(0,r.jsxs)(i.GridItem,{children:[(0,r.jsx)(i.DescriptionListTerm,{children:g("kafka:duration")}),(0,r.jsxs)(i.DescriptionListDescription,{children:[(0,r.jsx)(s.ClockIcon,{color:"var(--pf-global--info-color--100)"})," ",g("duration_value",{value:n})]})]}),(0,r.jsxs)(i.GridItem,{children:[(0,r.jsx)(i.DescriptionListTerm,{children:g("kafka:ingress")}),(0,r.jsx)(i.DescriptionListDescription,{children:g("ingress_value",{value:a})})]}),(0,r.jsxs)(i.GridItem,{children:[(0,r.jsx)(i.DescriptionListTerm,{children:g("kafka:egress")}),(0,r.jsx)(i.DescriptionListDescription,{children:g("egress_value",{value:c})})]}),(0,r.jsxs)(i.GridItem,{children:[(0,r.jsx)(i.DescriptionListTerm,{children:g("kafka:storage")}),(0,r.jsx)(i.DescriptionListDescription,{children:g("storage_value",{value:l})})]}),(0,r.jsxs)(i.GridItem,{children:[(0,r.jsx)(i.DescriptionListTerm,{children:g("kafka:partitions")}),(0,r.jsx)(i.DescriptionListDescription,{children:g("partitions_value",{value:u})})]}),(0,r.jsxs)(i.GridItem,{children:[(0,r.jsx)(i.DescriptionListTerm,{children:g("kafka:client_connections")}),(0,r.jsx)(i.DescriptionListDescription,{children:g("client_connections_value",{value:d})})]}),(0,r.jsxs)(i.GridItem,{children:[(0,r.jsx)(i.DescriptionListTerm,{children:g("kafka:connection_rate")}),(0,r.jsx)(i.DescriptionListDescription,{children:g("connection_rate_value",{value:p})})]}),(0,r.jsxs)(i.GridItem,{children:[(0,r.jsx)(i.DescriptionListTerm,{children:g("kafka:message_size")}),(0,r.jsx)(i.DescriptionListDescription,{children:g("message_size_value",{value:f})})]}),v&&(0,r.jsxs)(i.GridItem,{children:[(0,r.jsxs)(i.DescriptionListTerm,{children:[g("billing.field_label"),"",(0,r.jsx)(se,{type:v.type,subscriptionOptionsHref:v.subscriptionOptionsHref})]}),(0,r.jsx)(i.DescriptionListDescription,{children:function(){if("prepaid"===v.value)return g("billing.prepaid_option");if("dedicated"===v.value)return g("billing.dedicated_option");switch(v.value.marketplace){case"aws":return(0,r.jsxs)(r.Fragment,{children:[g("billing.marketplace_aws"),(0,r.jsx)("br",{}),v.value.subscription]});case"gcp":return(0,r.jsxs)(r.Fragment,{children:[g("billing.marketplace_gcp"),(0,r.jsx)("br",{}),v.value.subscription]});case"azure":return(0,r.jsxs)(r.Fragment,{children:[g("billing.marketplace_azure"),(0,r.jsx)("br",{}),v.value.subscription]});case"rhm":return(0,r.jsxs)(r.Fragment,{children:[g("billing.marketplace_rh"),(0,r.jsx)("br",{}),v.value.subscription]})}}()})]})]}))})}))})]}))}),(0,r.jsx)(i.StackItem,{children:(0,r.jsxs)(i.Card,Me({isFlat:!0,isCompact:!0},{children:[(0,r.jsx)(i.CardTitle,Me({component:"h2"},{children:g("quick_start_guide_title")})),(0,r.jsx)(i.CardBody,{children:(0,r.jsx)(i.Button,Me({isSmall:!0,isInline:!0,variant:i.ButtonVariant.link,onClick:m},{children:g("quick_start_guide_message_exp")}))})]}))})]}))},qe=function(){return qe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},qe.apply(this,arguments)},Ke=function(e){var t=e.isTrial,n=e.onClickQuickStart,a=(0,o.$)("create-kafka-instance").t;return(0,r.jsxs)(i.Stack,qe({hasGutter:!0,"data-testid":"instance-info"},{children:[(0,r.jsx)(i.StackItem,{children:(0,r.jsxs)(i.Card,qe({isFlat:!0},{children:[(0,r.jsx)(i.CardTitle,qe({component:"h2"},{children:a("instance_information")})),(0,r.jsx)(i.CardBody,{children:(0,r.jsx)(i.DescriptionList,qe({isCompact:!0},{children:(0,r.jsx)(i.DescriptionListGroup,{children:(0,r.jsxs)(i.Grid,qe({sm:6,lg:12,hasGutter:!0},{children:[!t&&(0,r.jsxs)(i.GridItem,qe({"data-testid":"instance-size"},{children:[(0,r.jsx)(i.DescriptionListTerm,{children:a("common:size")}),(0,r.jsx)(i.DescriptionListDescription,{children:(0,r.jsx)(i.Skeleton,{width:"35%",screenreaderText:"Loading contents"})})]})),t&&(0,r.jsxs)(i.GridItem,{children:[(0,r.jsx)(i.DescriptionListTerm,{children:a("kafka:duration")}),(0,r.jsxs)(i.DescriptionListDescription,{children:[(0,r.jsx)(s.ClockIcon,{color:"var(--pf-global--info-color--100)"})," ",(0,r.jsx)(i.Skeleton,{width:"35%",screenreaderText:"Loading contents"})]})]}),(0,r.jsxs)(i.GridItem,{children:[(0,r.jsx)(i.DescriptionListTerm,{children:a("kafka:ingress")}),(0,r.jsx)(i.DescriptionListDescription,{children:(0,r.jsx)(i.Skeleton,{width:"75%"})})]}),(0,r.jsxs)(i.GridItem,{children:[(0,r.jsx)(i.DescriptionListTerm,{children:a("kafka:egress")}),(0,r.jsx)(i.DescriptionListDescription,{children:(0,r.jsx)(i.Skeleton,{width:"66%"})})]}),(0,r.jsxs)(i.GridItem,{children:[(0,r.jsx)(i.DescriptionListTerm,{children:a("kafka:storage")}),(0,r.jsx)(i.DescriptionListDescription,{children:(0,r.jsx)(i.Skeleton,{width:"66%"})})]}),(0,r.jsxs)(i.GridItem,{children:[(0,r.jsx)(i.DescriptionListTerm,{children:a("kafka:partitions")}),(0,r.jsx)(i.DescriptionListDescription,{children:(0,r.jsx)(i.Skeleton,{width:"50%"})})]}),(0,r.jsxs)(i.GridItem,{children:[(0,r.jsx)(i.DescriptionListTerm,{children:a("kafka:client_connections")}),(0,r.jsx)(i.DescriptionListDescription,{children:(0,r.jsx)(i.Skeleton,{width:"33%"})})]}),(0,r.jsxs)(i.GridItem,{children:[(0,r.jsx)(i.DescriptionListTerm,{children:a("kafka:connection_rate")}),(0,r.jsx)(i.DescriptionListDescription,{children:(0,r.jsx)(i.Skeleton,{width:"25%"})})]}),(0,r.jsxs)(i.GridItem,{children:[(0,r.jsx)(i.DescriptionListTerm,{children:a("kafka:message_size")}),(0,r.jsx)(i.DescriptionListDescription,{children:(0,r.jsx)(i.Skeleton,{width:"55%"})})]})]}))})}))})]}))}),(0,r.jsx)(i.StackItem,{children:(0,r.jsxs)(i.Card,qe({isFlat:!0,isCompact:!0},{children:[(0,r.jsx)(i.CardTitle,qe({component:"h2"},{children:a("quick_start_guide_title")})),(0,r.jsx)(i.CardBody,{children:(0,r.jsx)(i.Button,qe({isSmall:!0,isInline:!0,variant:i.ButtonVariant.link,onClick:n},{children:a("quick_start_guide_message_exp")}))})]}))})]}))},$e=function(){var e=(0,o.$)("create-kafka-instance").t;return(0,r.jsx)(i.Alert,{role:"alert",className:"pf-u-mb-md",variant:i.AlertVariant.info,title:e("checking_instance_title"),isInline:!0,customIcon:(0,r.jsx)(i.Spinner,{size:"md","aria-valuetext":e("checking_instance_message")})})},We=function(){return We=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},We.apply(this,arguments)},Je=function(e){var t=e.instanceAvailability,n=e.onClickContactUs,a=(0,o.$)("create-kafka-instance").t;return(0,r.jsx)(i.AlertGroup,{children:function(){switch(t){case"out-of-quota":return(0,r.jsx)(i.Alert,We({role:"alert",className:"pf-u-mb-md",variant:i.AlertVariant.warning,title:a("modal_alerts.out_of_quota_title"),isInline:!0},{children:(0,r.jsx)(T.c,{ns:["create-kafka-instance"],i18nKey:a("modal_alerts.out_of_quota_message"),components:[(0,r.jsx)(i.Button,{variant:i.ButtonVariant.link,onClick:n,isInline:!0},"btn-contact-us")]})}));case"regions-unavailable":return(0,r.jsx)(i.Alert,We({role:"alert",className:"pf-u-mb-md",variant:i.AlertVariant.warning,title:a("modal_alerts.instance_unavailable_title"),isInline:!0},{children:a("modal_alerts.regions_unavailable_message")}));case"instance-unavailable":return(0,r.jsx)(i.Alert,We({role:"alert",className:"pf-u-mb-md",variant:i.AlertVariant.warning,title:a("modal_alerts.instance_unavailable_title"),isInline:!0},{children:a("modal_alerts.instance_unavailable_message")}));case"available":return null}}()})},Ze=function(){return Ze=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ze.apply(this,arguments)},Ye=function(e){var t=e.instanceAvailability,n=e.onClickContactUs,a=(0,o.$)("create-kafka-instance").t;return(0,r.jsx)(i.AlertGroup,{children:function(){switch(t){case"out-of-quota":return(0,r.jsx)(i.Alert,Ze({role:"alert",className:"pf-u-mb-md",variant:i.AlertVariant.warning,title:a("modal_alerts.out_of_quota_title"),isInline:!0},{children:(0,r.jsx)(T.c,{ns:["create-kafka-instance"],i18nKey:a("modal_alerts.out_of_quota_message"),components:[(0,r.jsx)(i.Button,{variant:i.ButtonVariant.link,onClick:n,isInline:!0},"btn-contact-us")]})}));case"clusters-unavailable":return(0,r.jsx)(i.Alert,Ze({role:"alert",className:"pf-u-mb-md",variant:i.AlertVariant.warning,title:a("modal_alerts.cluster_unavailable_title"),isInline:!0},{children:a("modal_alerts.cluster_unavailable_message")}));case"available":return null}}()})},Xe=function(){return Xe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Xe.apply(this,arguments)},et=function(){var e=(0,o.$)("create-kafka-instance").t;return(0,r.jsx)(i.Alert,Xe({role:"alert",className:"pf-u-mb-md",variant:i.AlertVariant.warning,title:e("modal_alerts.system_unavailable_title"),isInline:!0},{children:e("modal_alerts.system_unavailable_message")}))},tt=function(){return tt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},tt.apply(this,arguments)},nt=function(e){var t=e.instanceAvailability,n=e.trialDurationInHours,a=e.onClickKafkaOverview,s=(0,o.$)("create-kafka-instance").t;return(0,r.jsx)(i.AlertGroup,{children:function(){switch(t){case"unavailable":return(0,r.jsx)(i.Alert,tt({role:"alert",className:"pf-u-mb-md",variant:i.AlertVariant.warning,title:s("modal_alerts.trial_unavailable_title"),isInline:!0},{children:s("modal_alerts.trial_unavailable_message")}));case"used":return(0,r.jsx)(i.Alert,tt({role:"alert",className:"pf-u-mb-md",variant:i.AlertVariant.warning,title:s("modal_alerts.trial_used_title"),isInline:!0},{children:(0,r.jsx)(T.c,{ns:["create-kafka-instance"],i18nKey:s("modal_alerts.trial_used_message"),components:[(0,r.jsx)(i.Button,{variant:i.ButtonVariant.link,onClick:a,isInline:!0},"btn-overview")]})}));case"available":return(0,r.jsx)(i.Alert,tt({role:"alert",className:"pf-u-mb-md",variant:i.AlertVariant.info,title:s("modal_alerts.trial_available_title"),isInline:!0},{children:(0,r.jsx)(T.c,{ns:["create-kafka-instance"],i18nKey:"modal_alerts.trial_available_message",components:[(0,r.jsx)(i.Button,{variant:i.ButtonVariant.link,onClick:a,isInline:!0},"btn-pricing-purchasing"),n?(0,r.jsx)(r.Fragment,{}):(0,r.jsx)(i.Spinner,{size:"sm"})],values:{time:n}})}))}}()})},rt=function(){return rt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},rt.apply(this,arguments)},it=function(e){var t=e.onLearnHowToAddStreamingUnits,n=e.onLearnMoreAboutSizes,a=e.onClickQuickStart;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(i.Flex,rt({direction:{default:"column",lg:"row"},alignItems:{lg:"alignItemsFlexStart"}},{children:[(0,r.jsx)(i.FlexItem,rt({flex:{default:"flex_2"}},{children:(0,r.jsxs)(i.Form,rt({onSubmit:function(){return!1}},{children:[(0,r.jsx)(at,{}),(0,r.jsx)(ot,{}),(0,r.jsx)(st,{}),(0,r.jsx)(ct,{}),(0,r.jsx)(lt,{onLearnHowToAddStreamingUnits:t,onLearnMoreAboutSizes:n})]}))})),(0,r.jsx)(i.FlexItem,rt({flex:{default:"flex_1"},className:"mas--CreateKafkaInstance__sidebar"},{children:(0,r.jsx)(Ke,{isTrial:!1,onClickQuickStart:a})}))]}))})},at=function(){return(0,r.jsx)(Le,{value:"",validity:"valid",isDisabled:!0,onChange:function(){return!1}})},ot=function(){return(0,r.jsx)(Oe,{isValid:!0,providers:[],value:void 0,isDisabled:!0,onChange:function(){return!1}})},st=function(){return(0,r.jsx)(Pe,{validity:"valid",regions:void 0,value:void 0,isDisabled:!0,isSizeUnavailable:!1,onChange:function(){return!1}})},ct=function(){return(0,r.jsx)(Ce,{validity:"valid",options:"multi",value:"multi",isDisabled:!0,onChange:function(){return!1}})},lt=function(e){var t=e.onLearnHowToAddStreamingUnits,n=e.onLearnMoreAboutSizes;return(0,r.jsx)(He,{value:1,sizes:void 0,remainingQuota:0,isDisabled:!0,isLoading:!0,isError:!1,isLoadingError:!1,validity:"disabled",onChange:function(){return!1},onLearnHowToAddStreamingUnits:t,onLearnMoreAboutSizes:n})},ut=function(){return ut=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ut.apply(this,arguments)},dt=(0,W.C)({context:{capabilities:{},sizes:void 0,form:{},creationError:void 0},tsTypes:{},predictableActionArguments:!0,schema:{context:{},events:{},services:{}},initial:"verifyAvailability",id:"dedicatedPlanMachine",states:{verifyAvailability:{entry:"setInitialContext",always:[{cond:"isOverQuota",target:"overQuota"},{cond:"isClusterUnavailable",target:"clusterUnavailable"},{target:"configuring"}]},overQuota:{tags:"blocked"},clusterUnavailable:{tags:"blocked"},configuring:{type:"parallel",states:{status:{initial:"unsubmitted",states:{unsubmitted:{tags:"unsubmitted"},submitting:{entry:"triggerSubmit",always:["submitted"]},submitted:{tags:"submitted"}},on:{create:{description:"Save is enabled all the time, if it's clicked before the form is completely filled out we should show the validation for all errored fields",target:".submitting"}}},form:{initial:"invalid",states:{invalid:{tags:"formInvalid"},valid:{entry:"resetCreationErrorMessage",tags:"creatable",on:{fieldInvalid:{target:"invalid"},submit:{target:"saving"}}},saving:{entry:["resetCreationErrorMessage","triggerSave"],tags:"formSaving",on:{createSuccess:{target:"saved"},createError:{actions:"setCreationError",target:"invalid"}}},saved:{type:"final"}},on:{fieldInvalid:{description:"sent by the fields when their value change to an invalid value. This will transition the form to the invalid state, to then eventually transition to the valid state if the field state is marked as done (which means that all fields have a valid value selected)",target:".invalid"}}},fields:{tags:"configurable",type:"parallel",states:{name:{initial:"validate",states:{empty:{tags:"nameEmpty"},invalid:{entry:"fieldInvalid",tags:"nameInvalid"},valid:{tags:"nameValid",type:"final"},validate:{always:[{cond:"nameIsEmpty",target:"empty"},{cond:"nameIsValid",target:"valid"},{target:"invalid"}]}},on:{create:{target:".validate"},nameChange:{actions:"setName",target:".validate"}}},cluster:{initial:"validate",states:{validate:{always:[{cond:"clusterIsValid",target:"valid"},{target:"invalid"}]},invalid:{entry:"fieldInvalid",tags:"clusterInvalid"},valid:{tags:"clusterValid",type:"final"}},on:{create:{target:".validate"},clusterChange:{actions:"setCluster",cond:"didClusterChange",target:".validate"}}},size:{initial:"validate",states:{validate:{always:[{cond:"noCluster",target:"idle"},{cond:"noSizes",target:"loading"},{cond:"emptySizes",target:"error"},{cond:"sizeIsDisabled",target:"disabled"},{cond:"billingRequiredButNotSelected",target:"waitingForQuota"},{cond:"sizeIsOverQuota",target:"overQuota"},{target:"valid"}]},idle:{entry:"fieldInvalid",tags:"sizeIdle"},disabled:{entry:"fieldInvalid",tags:"sizeDisabled"},waitingForQuota:{entry:"fieldInvalid",tags:"sizeWaitingForQuota"},overQuota:{entry:"fieldInvalid",tags:"sizeOverQuota"},valid:{tags:"sizeValid",type:"final"},error:{entry:"fieldInvalid",tags:"sizeError"},loading:{description:"Fetch the data required to show the available sizes and limits",invoke:{src:"getSizes",onDone:[{actions:"setSizes",target:"validate"}],onError:[{target:"error"}]},tags:"sizeLoading"}},on:{create:{target:".validate"},clusterChange:{target:".validate"},sizeChange:{actions:"setSize",cond:"didSizeChange",target:".validate"},billingChange:{target:".validate"}}},billing:{initial:"validate",states:{validate:{always:[{target:"prepaidOnly"}]},prepaidOnly:{description:"The user doesn't need to specify any option about the billing. The API will automatically figure out the right thing to do without giving it any information.",tags:["noBilling","billingValid"],entry:"setBillingToPrepaid",type:"final"}}}},onDone:{target:"#dedicatedPlanMachine.configuring.form.valid"}}},onDone:{target:"saved"}},saved:{type:"final"}}},{actions:{setInitialContext:(0,J.f0)((function(e){return{form:{cluster:e.capabilities.defaultCluster}}})),fieldInvalid:(0,J.lW)("fieldInvalid"),setName:(0,J.f0)((function(e,t){var n=t.name;return"name-taken"===e.creationError?{form:ut(ut({},e.form),{name:n}),creationError:void 0}:{form:ut(ut({},e.form),{name:n})}})),setCluster:(0,J.f0)((function(e,t){return{form:{cluster:t.cluster},sizes:void 0}})),setSize:(0,J.f0)((function(e,t){var n=t.size;return{form:ut(ut({},e.form),{size:n})}})),setSizes:(0,J.f0)((function(e,t){var n=t.data,r=n.sort((function(e,t){return e.quota-t.quota}))[0];return{sizes:n,form:ut(ut({},e.form),{size:r})}})),resetCreationErrorMessage:(0,J.f0)((function(e){return{creationError:void 0}})),setCreationError:(0,J.f0)((function(e,t){return{creationError:t.error}})),triggerSave:(0,J.lj)((function(e){var t=e.form;return{type:"save",data:{plan:"dedicated",name:t.name,cluster:t.cluster,sizeId:t.size.id,billing:"dedicated"}}})),triggerSubmit:(0,J.lW)("submit"),setBillingToPrepaid:(0,J.f0)((function(e){var t=ut({},e.form);return t.billing="prepaid",{form:t}}))},guards:{isOverQuota:function(e){var t=e.capabilities;return void 0===t||"out-of-quota"===t.instanceAvailability},isClusterUnavailable:function(e){var t=e.capabilities;return void 0===t||"clusters-unavailable"===t.instanceAvailability},nameIsEmpty:function(e){var t=e.form;return void 0===t.name||0===t.name.length},nameIsValid:function(e){var t=e.form;return/^[a-z]([-a-z0-9]*[a-z0-9])?$/.test(t.name||"")},clusterIsValid:function(e){var t=e.form,n=e.capabilities,r=null==n?void 0:n.availableClusters.find((function(e){var n;return e.id===(null===(n=t.cluster)||void 0===n?void 0:n.id)}));return((null==n?void 0:n.availableClusters)||[]).length>0&&void 0!==r},noCluster:function(e){return void 0===e.form.cluster},noSizes:function(e){return void 0===e.sizes},emptySizes:function(e){var t=e.sizes;return void 0!==t&&0===t.length},sizeIsDisabled:function(e){var t,n=e.form;return void 0===e.capabilities||!0===(null===(t=n.size)||void 0===t?void 0:t.isDisabled)},billingRequiredButNotSelected:function(e,t,n){var r=e.form;return!n.state.hasTag("noBilling")&&void 0===r.billing},sizeIsOverQuota:function(e){var t=e.form,n=e.capabilities;if(void 0===n||!t.size)return!0;var r=n.remainingDedicatedQuota;return!r||t.size.quota>r},didClusterChange:function(e,t){return e.form.cluster!==t.cluster},didSizeChange:function(e,t){var n;return(null===(n=e.form.size)||void 0===n?void 0:n.id)!==t.size.id}}}),pt=(0,W.C)({context:{clusters:void 0,defaultCluster:void 0,quota:void 0,capabilities:void 0},predictableActionArguments:!0,tsTypes:{},schema:{context:{},events:{},services:{}},id:"createDedicatedKafkaInstance",initial:"loading",states:{loading:{description:"Fetch the data required to drive the creation flow",tags:"loading",initial:"quota",states:{quota:{initial:"checking dedicated quota",states:{"checking dedicated quota":{invoke:{src:"checkDedicatedQuota",onError:[{actions:"setDedicatedUnavailable",target:"#createDedicatedKafkaInstance.system unavailable"}]},on:{"dedicated quota available":{actions:"setDedicatedAvailable",target:"dedicated"},"out of dedicated quota":{actions:"setDedicatedOutOfQuota",target:"dedicated"},"no dedicated quota available":{actions:"setDedicatedUnavailable",target:"#createDedicatedKafkaInstance.system unavailable"}}},dedicated:{type:"final",always:{target:"#createDedicatedKafkaInstance.loading.fetching clusters"}}}},"fetching clusters":{invoke:{src:"fetchClusters",onError:[{actions:"setClustersUnavailable",target:"ready"}]},on:{"clusters available":{actions:"setClusters",target:"ready"},"clusters unavailable":{actions:"setClustersUnavailable",target:"ready"}}},ready:{type:"final",entry:"setCapabilities"}},onDone:[{cond:"dedicated plan",target:"dedicated plan"},{target:"system unavailable"}]},"system unavailable":{tags:"systemUnavailable",type:"final"},"dedicated plan":{invoke:{src:"dedicatedPlan",id:"dedicatedPlanService"},tags:"dedicatedPlan",initial:"idle",states:{idle:{on:{save:{target:"saving"}}},saving:{invoke:{src:"createInstance"},tags:"saving",on:{createSuccess:{target:"#createDedicatedKafkaInstance.complete"},createError:{actions:"notifyCreateErrorToDedicatedPlan",target:"idle"}}}}},complete:{type:"final"}}},{actions:{setDedicatedAvailable:(0,J.f0)((function(e,t){return{quota:{plan:"dedicated",instanceAvailability:"available",remainingDedicatedQuota:t.quota.remainingDedicatedQuota}}})),setDedicatedOutOfQuota:(0,J.f0)((function(e,t){return{quota:{plan:"dedicated",instanceAvailability:"out-of-quota",remainingDedicatedQuota:0}}})),setDedicatedUnavailable:(0,J.f0)((function(e){return{quota:{plan:"dedicated",instanceAvailability:"clusters-unavailable",remainingDedicatedQuota:0}}})),setClusters:(0,J.f0)((function(e,t){return{clusters:t.clusters,defaultCluster:t.defaultCluster}})),setClustersUnavailable:(0,J.f0)((function(e){var t=e.quota;return t.instanceAvailability="clusters-unavailable",{providers:[],quota:t}})),setCapabilities:(0,J.f0)((function(e){var t=e.clusters,n=e.defaultCluster,r=e.quota;if(!t||!r||"dedicated"!==r.plan)throw new Error("unexpected condition, invalid quota");return{capabilities:{plan:"dedicated",availableClusters:t,defaultCluster:n,instanceAvailability:r.instanceAvailability,remainingDedicatedQuota:r.remainingDedicatedQuota}}})),notifyCreateErrorToDedicatedPlan:(0,J.Tn)("dedicatedPlanService")},guards:{"dedicated plan":function(e){var t;return"dedicated"===(null===(t=e.quota)||void 0===t?void 0:t.plan)}}}),ft=function(){return ft=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ft.apply(this,arguments)},mt=(0,v.createContext)(null),ht=function(e){var t=e.onCreate,n=e.checkDedicatedQuota,i=e.fetchClusters,a=e.getDedicatedSizes,o=e.children,s=(0,$.k)((function(){return function(e){var t=e.checkDedicatedQuota,n=e.fetchClusters,r=e.getDedicatedSizes,i=e.onCreate;return pt.withConfig({services:{checkDedicatedQuota:function(){return function(e){return t({onNoQuotaAvailable:function(){e({type:"no dedicated quota available"})},onOutOfQuota:function(){e({type:"out of dedicated quota"})},onQuotaAvailable:function(t){var n=t.quota;e({type:"dedicated quota available",quota:n})}})}},fetchClusters:function(e){var t=e.quota.plan;return function(e){n(t,{onAvailable:function(t){var n=t.clusters,r=t.defaultCluster;return e({type:"clusters available",clusters:n,defaultCluster:r})},onUnavailable:function(){return e("clusters unavailable")}})}},createInstance:function(e,t){var n=t.data;return function(e){i({plan:n.plan,name:n.name,cluster:n.cluster,sizeId:n.sizeId,billing:n.billing},(function(){e("createSuccess")}),(function(t){e({type:"createError",error:t})}))}},dedicatedPlan:function(e){return dt.withContext({capabilities:e.capabilities,sizes:void 0,form:{},creationError:void 0}).withConfig({services:{getSizes:function(e){var t=e.form;return r(t.cluster)}}})}}})}({checkDedicatedQuota:n,fetchClusters:i,getDedicatedSizes:a,onCreate:t})}),{devTools:!0});return(0,r.jsx)(mt.Provider,ft({value:{service:s}},{children:o}))},vt=n(95947);function gt(){var e=(0,v.useContext)(ie).service;return(0,vt.v)(e,(0,v.useCallback)((function(e){return{standardPlanMachine:e.children.standardPlanService,trialPlanMachine:e.children.trialPlanService,isLoading:e.hasTag("loading"),isSystemUnavailable:e.hasTag("systemUnavailable"),isStandardPlan:e.hasTag("standardPlan"),isTrialPlan:e.hasTag("trialPlan"),isSaving:e.hasTag("saving"),isSaved:!0===e.done}}),[]))}function bt(){var e=(0,v.useContext)(mt).service;return(0,vt.v)(e,(0,v.useCallback)((function(e){return{dedicatedPlanMachine:e.children.dedicatedPlanService,isLoading:e.hasTag("loading"),isSystemUnavailable:e.hasTag("systemUnavailable"),isAvailable:e.hasTag("dedicatedPlan"),isSaving:e.hasTag("saving"),isSaved:!0===e.done}}),[]))}function yt(){var e=gt(),t=e.standardPlanMachine,n=e.isLoading,r=e.isSaving;if(!t)throw new Error("useStandardPlanMachine should be called only when the parent CreateKafkaInstanceMachine is in the right state");var i=(0,v.useCallback)((function(e){return t.send({type:"nameChange",name:e})}),[t]),a=(0,v.useCallback)((function(e){return t.send({type:"providerChange",provider:e})}),[t]),o=(0,v.useCallback)((function(e){return t.send({type:"regionChange",region:e})}),[t]),s=(0,v.useCallback)((function(){return t.send("create")}),[t]),c=(0,v.useCallback)((function(e){return t.send({type:"sizeChange",size:e})}),[t]),l=(0,v.useCallback)((function(e,n){return t.send({type:"selectSubscription",subscription:{marketplace:e,subscription:n}})}),[t]),u=(0,v.useCallback)((function(){return t.send({type:"selectPrepaid"})}),[t]);return(0,vt.v)(t,(0,v.useCallback)((function(e){var t=e.context,d=t.creationError,p=t.capabilities,f=t.form,m=t.sizes,h=e.hasTag("blocked"),v=e.hasTag("formInvalid")&&e.hasTag("submitted"),g="name-taken"===d,b=e.hasTag("configurable"),y=e.hasTag("sizeLoading"),x=!e.hasTag("noBilling")&&!h,j=Array.from(new Set(p.marketplaceSubscriptions.flatMap((function(e){return e.subscriptions.map((function(t){return{marketplace:e.marketplace,subscription:t}}))})))),_=e.hasTag("singleSubscription"),k=!!(_||1===j.length&&void 0===p.remainingPrepaidQuota)&&j[0],C=void 0!==p.remainingPrepaidQuota,w=h?void 0:p.availableProviders.find((function(e){return e.id===f.provider})),S=h||null==m?void 0:m.find((function(e){var t;return(null===(t=f.size)||void 0===t?void 0:t.id)===e.id})),T=p.marketplaceSubscriptions.some((function(e){return"rhm"!==e.marketplace}))?"external-marketplaces":"rh-only",O="prepaid"===f.billing?"prepaid":f.billing,I=d||(v?"form-invalid":void 0),P="prepaid"===f.billing||void 0===f.billing?p.remainingPrepaidQuota:p.remainingMarketplaceQuota,A=void 0!==p.remainingPrepaidQuota&&0===p.remainingPrepaidQuota||!(!(null==S?void 0:S.quota)||!p.remainingPrepaidQuota)&&S.quota>p.remainingPrepaidQuota,L=void 0!==p.remainingMarketplaceQuota&&0===p.remainingMarketplaceQuota||!(!(null==S?void 0:S.quota)||!p.remainingMarketplaceQuota)&&S.quota>p.remainingMarketplaceQuota;return{form:f,capabilities:p,selectedProvider:w,selectedSize:S,sizes:m,billingType:T,selectedBilling:O,remainingQuota:P,isFormEnabled:!n&&!r&&!h,isNameInvalid:e.hasTag("nameInvalid"),isNameEmpty:e.hasTag("nameEmpty"),isNameError:e.hasTag("nameInvalid")||g||!e.hasTag("nameValid")&&v,isNameTaken:g,isSizeDisabled:e.hasTag("sizeDisabled"),isSizeOverQuota:e.hasTag("sizeOverQuota"),isSizeLoadingError:e.hasTag("sizeError"),isSizeAvailable:!e.hasTag("sizeIdle"),isSizeError:!e.hasTag("sizeValid")&&v,isProviderError:!e.hasTag("providerValid")&&v,isRegionError:!e.hasTag("regionValid")&&v,isBillingError:!e.hasTag("billingValid")&&v,isBillingSingleSubscription:_,isBillingSelectionRequired:x,isBillingPrepaidAvailable:C,isBillingPrepaidOverQuota:A,isBillingMarketplaceOverQuota:L,isBillingSingleMarketplace:k,isLoading:n,isLoadingSizes:y,isConfigurable:b,isSaving:r,error:I,setName:i,setProvider:a,setRegion:o,onCreate:s,setSize:c,setBillingSubscription:l,setBillingPrepaid:u}}),[n,r,s,u,l,i,a,o,c]))}function xt(){var e=gt(),t=e.trialPlanMachine,n=e.isLoading,r=e.isSaving;if(!t)throw new Error("useTrialPlanMachine should be called only when the parent CreateKafkaInstanceMachine is in the right state");var i=(0,v.useCallback)((function(e){return t.send({type:"nameChange",name:e})}),[t]),a=(0,v.useCallback)((function(e){return t.send({type:"providerChange",provider:e})}),[t]),o=(0,v.useCallback)((function(e){return t.send({type:"regionChange",region:e})}),[t]),s=(0,v.useCallback)((function(){return t.send("create")}),[t]);return(0,vt.v)(t,(0,v.useCallback)((function(e){var t=e.hasTag("blocked"),c=e.hasTag("formInvalid")&&e.hasTag("submitted"),l="name-taken"===e.context.creationError,u=e.hasTag("configurable"),d=e.hasTag("sizeLoading"),p=t?void 0:e.context.capabilities.availableProviders.find((function(t){return t.id===e.context.form.provider})),f=e.context.creationError?e.context.creationError:c?"form-invalid":void 0;return{form:e.context.form,capabilities:e.context.capabilities,selectedProvider:p,sizes:e.context.sizes,isFormEnabled:!n&&!r&&!t,isNameInvalid:e.hasTag("nameInvalid"),isNameEmpty:e.hasTag("nameEmpty"),isNameError:e.hasTag("nameInvalid")||l||!e.hasTag("nameValid")&&c,isNameTaken:l,isSizeLoadingError:e.hasTag("sizeError"),isSizeAvailable:!e.hasTag("sizeIdle"),isSizeError:!e.hasTag("sizeValid")&&c,isProviderError:!e.hasTag("providerValid")&&c,isRegionError:!e.hasTag("regionValid")&&c,isLoading:n,isLoadingSizes:d,isConfigurable:u,isSaving:r,error:f,setName:i,setProvider:a,setRegion:o,onCreate:s}}),[n,r,s,i,a,o]))}function jt(){var e=bt(),t=e.dedicatedPlanMachine,n=e.isLoading,r=e.isSaving;if(!t)throw new Error("useDedicatedPlanMachine should be called only when the parent CreateDedicatedKafkaInstanceMachine is in the right state");var i=(0,v.useCallback)((function(e){return t.send({type:"nameChange",name:e})}),[t]),a=(0,v.useCallback)((function(e){return t.send({type:"clusterChange",cluster:e})}),[t]),o=(0,v.useCallback)((function(){return t.send("create")}),[t]),s=(0,v.useCallback)((function(e){return t.send({type:"sizeChange",size:e})}),[t]),c=(0,v.useCallback)((function(){return t.send({type:"selectPrepaid"})}),[t]);return(0,vt.v)(t,(0,v.useCallback)((function(e){var t=e.context,l=t.creationError,u=t.capabilities,d=t.form,p=t.sizes,f=e.hasTag("blocked"),m=e.hasTag("formInvalid")&&e.hasTag("submitted"),h="name-taken"===l,v=e.hasTag("configurable"),g=e.hasTag("sizeLoading"),b=void 0!==u.remainingDedicatedQuota,y=f?void 0:u.availableClusters.find((function(e){var t;return e.id===(null===(t=d.cluster)||void 0===t?void 0:t.id)})),x=f||null==p?void 0:p.find((function(e){var t;return(null===(t=d.size)||void 0===t?void 0:t.id)===e.id})),j=l||(m?"form-invalid":void 0),_=u.remainingDedicatedQuota,k=void 0!==u.remainingDedicatedQuota&&0===u.remainingDedicatedQuota||!(!(null==x?void 0:x.quota)||!u.remainingDedicatedQuota)&&x.quota>u.remainingDedicatedQuota;return{form:d,capabilities:u,selectedCluster:y,selectedSize:x,sizes:p,remainingQuota:_,isFormEnabled:!n&&!r&&!f,isNameInvalid:e.hasTag("nameInvalid"),isNameEmpty:e.hasTag("nameEmpty"),isNameError:e.hasTag("nameInvalid")||h||!e.hasTag("nameValid")&&m,isNameTaken:h,isSizeDisabled:e.hasTag("sizeDisabled"),isSizeOverQuota:e.hasTag("sizeOverQuota"),isSizeLoadingError:e.hasTag("sizeError"),isSizeAvailable:!e.hasTag("sizeIdle"),isSizeError:!e.hasTag("sizeValid")&&m,isClusterError:!e.hasTag("clusterValid")&&m,isBillingError:!e.hasTag("billingValid")&&m,isBillingPrepaidAvailable:b,isBillingPrepaidOverQuota:k,isLoading:n,isLoadingSizes:g,isConfigurable:v,isSaving:r,error:j,setName:i,setCluster:a,onCreate:o,setSize:s,setBillingPrepaid:c}}),[n,r,o,c,i,a,s]))}var _t=function(){return _t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},_t.apply(this,arguments)},kt=function(e){var t=e.formId,n=e.onClickContactUs,a=e.onLearnHowToAddStreamingUnits,o=e.onLearnMoreAboutSizes,s=e.onClickQuickStart,c=e.subscriptionOptionsHref,l=yt(),u=l.isBillingSelectionRequired,d=l.isBillingSingleMarketplace,p=l.capabilities,f=l.selectedSize,m=l.billingType,h=l.error,g=l.onCreate,b=(0,v.useCallback)((function(e){e.preventDefault(),g()}),[g]),y=function(){if(!u)return!1===d?{value:"prepaid",subscriptionOptionsHref:c,type:m}:{value:d,subscriptionOptionsHref:c,type:m}}();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Je,{instanceAvailability:p.instanceAvailability,onClickContactUs:n}),(0,r.jsxs)(i.Flex,_t({direction:{default:"column",lg:"row"},alignItems:{lg:"alignItemsFlexStart"}},{children:[(0,r.jsxs)(i.FlexItem,_t({flex:{default:"flex_2"}},{children:[(0,r.jsx)(Ue,{error:h,onClickContactUS:n}),(0,r.jsxs)(i.Form,_t({onSubmit:b,id:t},{children:[(0,r.jsx)(Ct,{}),(0,r.jsx)(wt,{}),(0,r.jsx)(St,{}),(0,r.jsx)(Tt,{}),(0,r.jsx)(Ot,{onLearnHowToAddStreamingUnits:a,onLearnMoreAboutSizes:o}),u&&(0,r.jsx)(It,{subscriptionOptionsHref:c})]}))]})),(0,r.jsx)(i.FlexItem,_t({flex:{default:"flex_1"},className:"mas--CreateKafkaInstance__sidebar"},{children:void 0===f?(0,r.jsx)(Ke,{isTrial:!1,onClickQuickStart:s}):(0,r.jsx)(Qe,{isTrial:!1,trialDurationInHours:void 0,ingress:f.ingress,egress:f.egress,storage:f.storage,maxPartitions:f.maxPartitions,connections:f.connections,connectionRate:f.connectionRate,messageSize:f.messageSize,onClickQuickStart:s,streamingUnits:f.displayName,billing:y})}))]}))]})},Ct=function(){var e=yt(),t=e.form,n=e.isNameTaken,i=e.isNameInvalid,a=e.isNameEmpty,o=e.isNameError,s=e.isFormEnabled,c=e.setName,l=n?"taken":i?"invalid":a&&o?"required":"valid";return(0,r.jsx)(Le,{value:t.name||"",validity:l,isDisabled:!s,onChange:c})},wt=function(){var e=yt(),t=e.form,n=e.capabilities,i=e.isProviderError,a=e.isFormEnabled,o=e.isBillingSingleMarketplace,s=e.setProvider,c=o&&"rhm"!==o.marketplace?n.availableProviders.map((function(e){return _t(_t({},e),{isDisabled:e.id!==o.marketplace})})):n.availableProviders;return(0,r.jsx)(Oe,{isValid:!i,providers:c,value:t.provider,isDisabled:!a,onChange:s})},St=function(){var e=yt(),t=e.form,n=e.selectedProvider,i=e.selectedSize,a=e.isRegionError,o=e.isFormEnabled,s=e.capabilities,c=e.error,l=e.setRegion;return(0,r.jsx)(Pe,{validity:a?"required":"region-unavailable"===c||"regions-unavailable"===s.instanceAvailability?"region-unavailable":"valid",regions:null==n?void 0:n.regions,value:t.region,isDisabled:!o,isSizeUnavailable:(null==i?void 0:i.isDisabled)||!1,onChange:l})},Tt=function(){var e=yt().isFormEnabled;return(0,r.jsx)(Ce,{validity:"valid",options:"multi",value:"multi",isDisabled:!e,onChange:function(){return!1}})},Ot=function(e){var t,n=e.onLearnHowToAddStreamingUnits,i=e.onLearnMoreAboutSizes,a=yt(),o=a.form,s=a.sizes,c=a.isSizeOverQuota,l=a.isSizeDisabled,u=a.isSizeError,d=a.isSizeLoadingError,p=a.isBillingSelectionRequired,f=a.isFormEnabled,m=a.isLoadingSizes,h=a.isLoading,v=a.setSize,g=a.remainingQuota;return(0,r.jsx)(He,{value:null===(t=o.size)||void 0===t?void 0:t.quota,sizes:s,remainingQuota:p?void 0:g,isDisabled:!f||void 0===s,isLoading:h||m,isError:u,isLoadingError:d,validity:c?"out-of-quota":l?"required":"valid",onChange:v,onLearnHowToAddStreamingUnits:n,onLearnMoreAboutSizes:i})},It=function(e){var t=e.subscriptionOptionsHref,n=yt(),i=n.form,a=n.capabilities,o=n.selectedBilling,s=n.billingType,c=n.isBillingPrepaidAvailable,l=n.isSizeOverQuota,u=n.isBillingError,d=n.isBillingPrepaidOverQuota,p=n.isBillingMarketplaceOverQuota,f=n.setBillingPrepaid,m=n.setBillingSubscription;return(0,r.jsx)(Se,{value:"prepaid"===o?"prepaid":null==o?void 0:o.subscription,hasPrepaid:c,subscriptions:a.marketplaceSubscriptions.flatMap((function(e){return e.subscriptions.map((function(t){return{marketplace:e.marketplace,subscription:t,isDisabled:(n=e.marketplace,r=i.provider,"rhm"!==n&&!!r&&n!==r)};var n,r}))})),isPrepaidOverQuota:d,prepaidQuota:a.remainingPrepaidQuota||0,isMarketplaceOverQuota:p,marketplaceQuota:a.remainingMarketplaceQuota||0,onPrepaid:f,onSubscription:m,isValid:!l&&!u,billingType:s,subscriptionOptionsHref:t})},Pt=function(){return Pt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Pt.apply(this,arguments)},At=function(e){var t=e.formId,n=e.onClickContactUs,a=e.onLearnHowToAddStreamingUnits,o=e.onLearnMoreAboutSizes,s=e.onClickQuickStart,c=e.onClickKafkaOverview,l=xt(),u=l.capabilities,d=l.error,p=l.isLoadingSizes,f=l.sizes,m=l.onCreate,h=(0,v.useCallback)((function(e){e.preventDefault(),m()}),[m]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(nt,{instanceAvailability:u.instanceAvailability,trialDurationInHours:null==f?void 0:f.trial.trialDurationHours,onClickKafkaOverview:c}),(0,r.jsxs)(i.Flex,Pt({direction:{default:"column",lg:"row"},alignItems:{lg:"alignItemsFlexStart"}},{children:[(0,r.jsxs)(i.FlexItem,Pt({flex:{default:"flex_2"}},{children:[(0,r.jsx)(Ue,{error:d,onClickContactUS:n}),(0,r.jsxs)(i.Form,Pt({onSubmit:h,id:t},{children:[(0,r.jsx)(Lt,{}),(0,r.jsx)(Et,{}),(0,r.jsx)(Dt,{}),(0,r.jsx)(Rt,{}),(0,r.jsx)(Nt,{onLearnHowToAddStreamingUnits:a,onLearnMoreAboutSizes:o})]}))]})),(0,r.jsx)(i.FlexItem,Pt({flex:{default:"flex_1"},className:"mas--CreateKafkaInstance__sidebar"},{children:p||!f?(0,r.jsx)(Ke,{isTrial:!1,onClickQuickStart:s}):(0,r.jsx)(Qe,{isTrial:!0,trialDurationInHours:f.trial.trialDurationHours,ingress:f.trial.ingress,egress:f.trial.egress,storage:f.trial.storage,maxPartitions:f.trial.maxPartitions,connections:f.trial.connections,connectionRate:f.trial.connectionRate,messageSize:f.trial.messageSize,onClickQuickStart:s,streamingUnits:f.trial.displayName,billing:void 0})}))]}))]})},Lt=function(){var e=xt(),t=e.form,n=e.isNameTaken,i=e.isNameInvalid,a=e.isNameEmpty,o=e.isNameError,s=e.isFormEnabled,c=e.setName;return(0,r.jsx)(Le,{value:t.name||"",validity:n?"taken":i?"invalid":a&&o?"required":"valid",isDisabled:!s,onChange:c})},Et=function(){var e=xt(),t=e.form,n=e.capabilities,i=e.isProviderError,a=e.isFormEnabled,o=e.setProvider;return(0,r.jsx)(Oe,{isValid:!i,providers:n.availableProviders||[],value:t.provider,isDisabled:!a,onChange:o})},Dt=function(){var e=xt(),t=e.form,n=e.selectedProvider,i=e.isRegionError,a=e.isFormEnabled,o=e.error,s=e.setRegion;return(0,r.jsx)(Pe,{validity:i?"required":"region-unavailable"===o?"region-unavailable":"valid",regions:null==n?void 0:n.regions,value:t.region,isDisabled:!a,isSizeUnavailable:!1,onChange:s})},Rt=function(){var e=xt().isFormEnabled;return(0,r.jsx)(Ce,{validity:"valid",options:"single",value:"single",isDisabled:!e,onChange:function(){return!1}})},Nt=function(e){var t=e.onLearnHowToAddStreamingUnits,n=e.onLearnMoreAboutSizes,i=xt(),a=i.sizes,o=i.isSizeError,s=i.isSizeLoadingError,c=i.isLoadingSizes,l=i.isLoading;return(0,r.jsx)(He,{value:1,sizes:null==a?void 0:a.standard,remainingQuota:void 0,isDisabled:!0,isLoading:l||c,isError:o,isLoadingError:s,validity:"developer",onChange:function(){return!1},onLearnHowToAddStreamingUnits:t,onLearnMoreAboutSizes:n})},zt=function(){return zt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},zt.apply(this,arguments)},Bt=function(e){var t=e.checkStandardQuota,n=e.checkDeveloperAvailability,i=e.fetchProvidersWithRegions,a=e.getStandardSizes,o=e.getTrialSizes,s=e.onCreate,c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["checkStandardQuota","checkDeveloperAvailability","fetchProvidersWithRegions","getStandardSizes","getTrialSizes","onCreate"]);return c.isModalOpen?(0,r.jsx)(ae,zt({checkStandardQuota:t,checkDeveloperAvailability:n,fetchProvidersWithRegions:i,getStandardSizes:a,getTrialSizes:o,onCreate:s},{children:(0,r.jsx)(Vt,zt({},c))})):null},Vt=function(e){var t=e.isModalOpen,n=e.appendTo,a=e.onClickQuickStart,c=e.onCancel,l=e.disableFocusTrap,u=e.onClickContactUs,d=e.onLearnHowToAddStreamingUnits,p=e.onLearnMoreAboutSizes,f=e.onClickKafkaOverview,m=e.subscriptionOptionsHref,h=(0,o.$)("create-kafka-instance").t,v=gt(),g=v.isLoading,b=v.isStandardPlan,y=v.isTrialPlan,x=v.isSaving,j="create_kafka_instance_form";return(0,r.jsx)(i.Modal,zt({id:"modalCreateKafka",variant:i.ModalVariant.large,title:h("create_instance_title"),disableFocusTrap:l,isOpen:t,ouiaId:"modal-create-kafka",onClose:c,appendTo:n,position:"top",footer:(0,r.jsxs)(i.Stack,zt({hasGutter:!0},{children:[(0,r.jsx)(i.StackItem,{children:(0,r.jsx)(i.Alert,{className:"mas--CreateKafkaInstance__creationTimeAlert",customIcon:(0,r.jsx)(s.OutlinedClockIcon,{}),variant:"info",isInline:!0,isPlain:!0,title:h("instance_creation_time_alert")})}),(0,r.jsxs)(i.StackItem,{children:[(0,r.jsx)(i.Button,zt({variant:"primary",type:"submit",form:j,spinnerAriaValueText:h("common:submitting_request"),isDisabled:g||x,isLoading:x,"data-testid":"modalCreateKafka-buttonSubmit",ouiaId:"button-create"},{children:h("create_instance")}),"submit"),(0,r.jsx)(i.Button,zt({variant:"link",onClick:c,"data-testid":"modalCreateKafka-buttonCancel"},{children:h("common:cancel")}),"cancel")]})]}))},{children:function(){switch(!0){case g:return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)($e,{}),(0,r.jsx)(it,{onLearnHowToAddStreamingUnits:d,onLearnMoreAboutSizes:p,onClickQuickStart:a})]});case b:return(0,r.jsx)(kt,{formId:j,onClickContactUs:u,onLearnHowToAddStreamingUnits:d,onLearnMoreAboutSizes:p,onClickQuickStart:a,subscriptionOptionsHref:m});case y:return(0,r.jsx)(At,{formId:j,onClickContactUs:u,onLearnHowToAddStreamingUnits:d,onLearnMoreAboutSizes:p,onClickQuickStart:a,onClickKafkaOverview:f});default:return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(et,{}),(0,r.jsx)(it,{onLearnHowToAddStreamingUnits:d,onLearnMoreAboutSizes:p,onClickQuickStart:a})]})}}()}))},Ft=function(){return Ft=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ft.apply(this,arguments)},Ht=function(e){var t=e.clusters,n=e.value,a=e.onChange,c=e.isDisabled,l=e.validated,u=(0,o.$)(["create-kafka-instance"]).t,d=z().fields;return(0,r.jsxs)(r.Fragment,{children:[0===t.length&&(0,r.jsx)(i.Skeleton,{className:"pf-m-text-4xl",screenreaderText:"Loading contents"}),(0,r.jsx)("div",Ft({className:"pf-u-mt-sm",role:"listbox","aria-label":u("selected_dedicated_cluster")},{children:(0,r.jsx)(i.Flex,Ft({justifyContent:{default:"justifyContentSpaceBetween"},spacer:{default:"spacerNone"},spaceItems:{default:"spaceItemsXs"}},{children:t.map((function(e){return(0,r.jsx)(i.FlexItem,Ft({grow:{default:"grow"}},{children:(0,r.jsxs)(i.Card,Ft({className:"pf-u-w-100",hasSelectableInput:!0,isSelected:n===e,isSelectableRaised:!0,isDisabledRaised:c||"ready"!==e.status,onSelectableInputChange:function(){return a(e)},onClick:function(){return a(e)}},{children:[(0,r.jsx)(i.CardTitle,{children:e.name}),(0,r.jsx)(i.CardBody,{children:(0,r.jsx)(i.TextContent,{children:(0,r.jsxs)(i.TextList,Ft({component:i.TextListVariants.dl},{children:[(0,r.jsx)(i.TextListItem,Ft({component:i.TextListItemVariants.dt},{children:d.id})),(0,r.jsx)(i.TextListItem,Ft({component:i.TextListItemVariants.dd,className:"pf-u-max-width",style:{"--pf-u-max-width--MaxWidth":"10ch"}},{children:(0,r.jsx)(i.Truncate,{content:e.id,trailingNumChars:5,position:"middle"})})),(0,r.jsx)(i.TextListItem,Ft({component:i.TextListItemVariants.dt},{children:d.status})),(0,r.jsxs)(i.TextListItem,Ft({component:i.TextListItemVariants.dd},{children:[function(){switch(e.status){case"ready":return(0,r.jsx)(s.OkIcon,{});case"provisioning":return(0,r.jsx)(i.Spinner,{size:"sm"});case"failed":return(0,r.jsx)(s.ErrorCircleOIcon,{})}}(),"",e.status]})),(0,r.jsx)(i.TextListItem,Ft({component:i.TextListItemVariants.dt},{children:d.cloudProvider})),(0,r.jsx)(i.TextListItem,Ft({component:i.TextListItemVariants.dd},{children:e.cloudProvider.displayName})),(0,r.jsx)(i.TextListItem,Ft({component:i.TextListItemVariants.dt},{children:d.cloudRegion})),(0,r.jsx)(i.TextListItem,Ft({component:i.TextListItemVariants.dd},{children:e.cloudRegion.displayName}))]}))})})]}))}),e.id)}))}))})),(0,r.jsx)(i.FormSelect,Ft({className:"pf-u-display-none",value:n,id:"form-cluster-option",name:"cluster",isDisabled:c,validated:l,onChange:function(e){return a(e)}},{children:[(0,r.jsx)(i.FormSelectOption,{value:null==n?void 0:n.id,label:u("select_dedicated_cluster")},"placeholder"),t.map((function(e,t){return(0,r.jsx)(i.FormSelectOption,{value:e.id,label:e.id},t)}))]}))]})},Gt=function(){return Gt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Gt.apply(this,arguments)},Ut=function(e){var t=e.value,n=e.clusters,a=e.onChange,s=e.isDisabled,c=e.isValid,l=(0,o.$)("create-kafka-instance").t,u=c?"default":"error";return(0,r.jsx)(i.FormGroup,Gt({label:l("openshift_cluster"),fieldId:"form-cluster-option",validated:u,helperTextInvalid:l("common:required"),isRequired:!0},{children:(0,r.jsx)(Ht,{clusters:n,value:t,onChange:a,isDisabled:s,validated:u})}))},Mt=function(){return Mt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Mt.apply(this,arguments)},Qt=function(e){var t=e.formId,n=e.onClickContactUs,a=e.onLearnHowToAddStreamingUnits,o=e.onLearnMoreAboutSizes,s=e.onClickQuickStart,c=e.subscriptionOptionsHref,l=jt(),u=l.capabilities,d=l.selectedSize,p=l.error,f=l.onCreate,m=(0,v.useCallback)((function(e){e.preventDefault(),f()}),[f]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Ye,{instanceAvailability:u.instanceAvailability,onClickContactUs:n}),(0,r.jsxs)(i.Flex,Mt({direction:{default:"column",lg:"row"},alignItems:{lg:"alignItemsFlexStart"}},{children:[(0,r.jsxs)(i.FlexItem,Mt({flex:{default:"flex_2"}},{children:[(0,r.jsx)(Ue,{error:p,onClickContactUS:n}),(0,r.jsxs)(i.Form,Mt({onSubmit:m,id:t},{children:[(0,r.jsx)(qt,{}),(0,r.jsx)(Kt,{}),(0,r.jsx)($t,{}),(0,r.jsx)(Wt,{onLearnHowToAddStreamingUnits:a,onLearnMoreAboutSizes:o})]}))]})),(0,r.jsx)(i.FlexItem,Mt({flex:{default:"flex_1"},className:"mas--CreateKafkaInstance__sidebar"},{children:void 0===d?(0,r.jsx)(Ke,{isTrial:!1,onClickQuickStart:s}):(0,r.jsx)(Qe,{isTrial:!1,trialDurationInHours:void 0,ingress:d.ingress,egress:d.egress,storage:d.storage,maxPartitions:d.maxPartitions,connections:d.connections,connectionRate:d.connectionRate,messageSize:d.messageSize,onClickQuickStart:s,streamingUnits:d.displayName,billing:{value:"dedicated",subscriptionOptionsHref:c,type:"rh-only"}})}))]}))]})},qt=function(){var e=jt(),t=e.form,n=e.isNameTaken,i=e.isNameInvalid,a=e.isNameEmpty,o=e.isNameError,s=e.isFormEnabled,c=e.setName,l=n?"taken":i?"invalid":a&&o?"required":"valid";return(0,r.jsx)(Le,{value:t.name||"",validity:l,isDisabled:!s,onChange:c})},Kt=function(){var e=jt(),t=e.form,n=e.capabilities,i=e.isClusterError,a=e.isFormEnabled,o=e.setCluster,s=n.availableClusters;return(0,r.jsx)(Ut,{isValid:!i,clusters:s,value:t.cluster,isDisabled:!a,onChange:o})},$t=function(){var e=jt().isFormEnabled;return(0,r.jsx)(Ce,{validity:"valid",options:"multi",value:"multi",isDisabled:!e,onChange:function(){return!1}})},Wt=function(e){var t,n=e.onLearnHowToAddStreamingUnits,i=e.onLearnMoreAboutSizes,a=jt(),o=a.form,s=a.sizes,c=a.isSizeOverQuota,l=a.isSizeDisabled,u=a.isSizeError,d=a.isSizeLoadingError,p=a.isFormEnabled,f=a.isLoadingSizes,m=a.isLoading,h=a.setSize,v=a.remainingQuota;return(0,r.jsx)(He,{value:null===(t=o.size)||void 0===t?void 0:t.quota,sizes:s,remainingQuota:v,isDisabled:!p||void 0===s,isLoading:m||f,isError:u,isLoadingError:d,validity:c?"out-of-quota":l?"required":"valid",onChange:h,onLearnHowToAddStreamingUnits:n,onLearnMoreAboutSizes:i})},Jt=function(){return Jt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Jt.apply(this,arguments)},Zt=function(e){var t=e.checkDedicatedQuota,n=e.getDedicatedSizes,i=e.fetchClusters,a=e.onCreate,o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["checkDedicatedQuota","getDedicatedSizes","fetchClusters","onCreate"]);return o.isModalOpen?(0,r.jsx)(ht,Jt({checkDedicatedQuota:t,getDedicatedSizes:n,fetchClusters:i,onCreate:a},{children:(0,r.jsx)(Yt,Jt({},o))})):null},Yt=function(e){var t=e.isModalOpen,n=e.appendTo,a=e.onClickQuickStart,c=e.onCancel,l=e.disableFocusTrap,u=e.onClickContactUs,d=e.onLearnHowToAddStreamingUnits,p=e.onLearnMoreAboutSizes,f=(e.onClickKafkaOverview,e.subscriptionOptionsHref),m=(0,o.$)("create-kafka-instance").t,h=bt(),v=h.isLoading,g=h.isAvailable,b=h.isSaving,y="create_kafka_instance_form";return(0,r.jsx)(i.Modal,Jt({id:"modalCreateKafka",variant:i.ModalVariant.large,title:m("create_instance_title"),disableFocusTrap:l,isOpen:t,ouiaId:"modal-create-kafka",onClose:c,appendTo:n,position:"top",footer:(0,r.jsxs)(i.Stack,Jt({hasGutter:!0},{children:[(0,r.jsx)(i.StackItem,{children:(0,r.jsx)(i.Alert,{className:"mas--CreateDedicatedKafkaInstance__creationTimeAlert",customIcon:(0,r.jsx)(s.OutlinedClockIcon,{}),variant:"info",isInline:!0,isPlain:!0,title:m("instance_creation_time_alert")})}),(0,r.jsxs)(i.StackItem,{children:[(0,r.jsx)(i.Button,Jt({variant:"primary",type:"submit",form:y,spinnerAriaValueText:m("common:submitting_request"),isDisabled:v||b,isLoading:b,"data-testid":"modalCreateKafka-buttonSubmit",ouiaId:"button-create"},{children:m("create_instance")}),"submit"),(0,r.jsx)(i.Button,Jt({variant:"link",onClick:c,"data-testid":"modalCreateKafka-buttonCancel"},{children:m("common:cancel")}),"cancel")]})]}))},{children:function(){switch(!0){case v:return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)($e,{}),(0,r.jsx)(it,{onLearnHowToAddStreamingUnits:d,onLearnMoreAboutSizes:p,onClickQuickStart:a})]});case g:return(0,r.jsx)(Qt,{formId:y,onClickContactUs:u,onLearnHowToAddStreamingUnits:d,onLearnMoreAboutSizes:p,onClickQuickStart:a,subscriptionOptionsHref:f});default:return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(et,{}),(0,r.jsx)(it,{onLearnHowToAddStreamingUnits:d,onLearnMoreAboutSizes:p,onClickQuickStart:a})]})}}()}))},Xt=function(){return Xt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Xt.apply(this,arguments)},en=function(e){var t=e.onDetails,n=e.onConnection,s=e.canOpenConnection,c=e.canChangeOwner,l=e.onChangeOwner,u=e.canDelete,d=e.onDelete,p=(0,o.$)("kafka").t;return(0,r.jsx)(a.ActionsColumn,{items:[{customChild:(0,r.jsx)(i.DropdownGroup,{label:p("table.actions.view-instance-information")})},{title:p("table.actions.details"),onClick:t},Xt({title:p("table.actions.connection")},s?{onClick:n}:{isDisabled:!0,tooltipProps:{position:"left",content:p("kafka:no_permission_to_see_connections")},tooltip:!0,style:{pointerEvents:"auto",cursor:"default"}}),{isSeparator:!0},Xt({title:p("table.actions.change-owner")},c?{onClick:l}:{isDisabled:!0,tooltipProps:{position:"left",content:p("kafka:no_permission_to_change_owner")},tooltip:!0,style:{pointerEvents:"auto",cursor:"default"}}),Xt({title:p("table.actions.delete")},u?{onClick:d}:{isDisabled:!0,tooltipProps:{position:"left",content:p("kafka:no_permission_to_delete_kafka")},tooltip:!0,style:{pointerEvents:"auto",cursor:"default"}})]})},tn=function(){return tn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},tn.apply(this,arguments)},nn=function(e){var t=e.instancesHref,n=e.instanceName,a=e.activeSection,s=e.sectionsHref,c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["instancesHref","instanceName","activeSection","sectionsHref"]),l=(0,o.$)("kafka").t;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(i.PageSection,tn({variant:i.PageSectionVariants.light,padding:{default:"noPadding"},hasShadowBottom:!0},{children:[(0,r.jsxs)(i.Breadcrumb,tn({ouiaId:"breadcrumb",className:"pf-c-page__main-breadcrumb"},{children:[(0,r.jsx)(i.BreadcrumbItem,{render:function(){return(0,r.jsx)(Q.rU,tn({to:t},{children:l("common:kafka_instance")}))}}),(0,r.jsx)(i.BreadcrumbItem,tn({isActive:!0},{children:n}))]})),(0,r.jsxs)(i.Level,{children:[(0,r.jsx)(i.LevelItem,{children:(0,r.jsx)(i.TextContent,tn({className:"pf-u-p-md pf-u-p-lg-on-xl"},{children:(0,r.jsx)(i.Text,tn({component:"h1"},{children:n}))}))}),(0,r.jsx)(i.LevelItem,{children:(0,r.jsx)(en,tn({},c))})]}),(0,r.jsx)(i.Nav,tn({variant:"tertiary","data-testid":"pageKafka-tabProperties",className:"pf-u-px-sm-on-xl"},{children:(0,r.jsxs)(i.NavList,{children:[(0,r.jsx)(i.NavItem,tn({style:{borderTop:0},"data-testid":"pageKafka-tabDashboard",id:"dashboard-tab-section","aria-label":l("dataPlaneNavigation.dashboard"),ouiaId:"tab-Dashboard",isActive:"dashboard"===a},{children:(0,r.jsx)(Q.rU,tn({to:s.dashboard},{children:l("dataPlaneNavigation.dashboard")}))})),(0,r.jsx)(i.NavItem,tn({style:{borderTop:0},"data-testid":"pageKafka-tabTopics",id:"topics-tab-section","aria-label":l("dataPlaneNavigation.topics"),ouiaId:"tab-Topics",isActive:"topics"===a},{children:(0,r.jsx)(Q.rU,tn({to:s.topics},{children:l("dataPlaneNavigation.topics")}))})),(0,r.jsx)(i.NavItem,tn({style:{borderTop:0},"data-testid":"pageKafka-tabConsumers",id:"consumer-groups-tab-section","aria-label":l("dataPlaneNavigation.consumer_groups"),ouiaId:"tab-Consumers",isActive:"consumer"===a},{children:(0,r.jsx)(Q.rU,tn({to:s.consumer},{children:l("dataPlaneNavigation.consumer_groups")}))})),(0,r.jsx)(i.NavItem,tn({style:{borderTop:0},"data-testid":"pageKafka-tabPermissions",id:"permissions-tab-section","aria-label":l("dataPlaneNavigation.permissions"),ouiaId:"tab-Permissions",isActive:"permissions"===a},{children:(0,r.jsx)(Q.rU,tn({to:s.permissions},{children:l("dataPlaneNavigation.permissions")}))})),(0,r.jsx)(i.NavItem,tn({style:{borderTop:0},"data-testid":"pageKafka-tabSettings",id:"settings-tab-section","aria-label":l("dataPlaneNavigation.settings"),ouiaId:"tab-Settings",isActive:"settings"===a},{children:(0,r.jsx)(Q.rU,tn({to:s.settings},{children:l("dataPlaneNavigation.settings")}))}))]})}))]}))})},rn=function(){return rn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},rn.apply(this,arguments)},an=function(e){var t=e.instancesHref,n=e.instanceName,a=e.instanceDetailHref,s=e.instanceTopicsHref,c=e.topicName,l=e.activeSection,u=e.tabsHref,d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["instancesHref","instanceName","instanceDetailHref","instanceTopicsHref","topicName","activeSection","tabsHref"]),p=(0,o.$)("kafka").t;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("section",rn({className:"pf-c-page__main-breadcrumb"},{children:(0,r.jsxs)(i.Breadcrumb,rn({ouiaId:"breadcrumb"},{children:[(0,r.jsx)(i.BreadcrumbItem,{render:function(){return(0,r.jsx)(Q.rU,rn({to:t},{children:p("common:kafka_instance")}))}}),(0,r.jsx)(i.BreadcrumbItem,{render:function(){return(0,r.jsx)(Q.rU,rn({to:a},{children:n}))}}),(0,r.jsx)(i.BreadcrumbItem,{render:function(){return(0,r.jsx)(Q.rU,rn({to:s},{children:p("dataPlaneNavigation.topics")}))}}),(0,r.jsx)(i.BreadcrumbItem,rn({isActive:!0},{children:c}))]}))})),(0,r.jsx)(i.PageSection,rn({variant:i.PageSectionVariants.light},{children:(0,r.jsxs)(i.Level,{children:[(0,r.jsx)(i.LevelItem,{children:(0,r.jsx)(i.TextContent,{children:(0,r.jsx)(i.Text,rn({component:"h1"},{children:c}))})}),(0,r.jsx)(i.LevelItem,{children:(0,r.jsx)(en,rn({},d))})]})})),(0,r.jsx)(i.PageSection,rn({variant:i.PageSectionVariants.light,padding:{default:"noPadding"},className:"pf-c-page__main-tabs",hasShadowBottom:!0},{children:(0,r.jsx)(i.Nav,rn({variant:"tertiary",className:"pf-u-px-sm-on-xl"},{children:(0,r.jsxs)(i.NavList,{children:[(0,r.jsx)(i.NavItem,rn({style:{borderTop:0},"aria-label":p("dataPlaneTopicNavigation.consumer_groups"),ouiaId:"tab-Dashboard",isActive:"consumer"===l},{children:(0,r.jsx)(Q.rU,rn({to:u.consumer},{children:p("dataPlaneTopicNavigation.consumer_groups")}))})),(0,r.jsx)(i.NavItem,rn({style:{borderTop:0},"aria-label":p("dataPlaneTopicNavigation.messages"),ouiaId:"tab-Topics",isActive:"messages"===l},{children:(0,r.jsx)(Q.rU,rn({to:u.messages},{children:p("dataPlaneTopicNavigation.messages")}))})),(0,r.jsx)(i.NavItem,rn({style:{borderTop:0},"aria-label":p("dataPlaneTopicNavigation.properties"),ouiaId:"tab-Permissions",isActive:"properties"===l},{children:(0,r.jsx)(Q.rU,rn({to:u.properties},{children:p("dataPlaneTopicNavigation.properties")}))})),(0,r.jsx)(i.NavItem,rn({style:{borderTop:0},"aria-label":p("dataPlaneTopicNavigation.schemas"),ouiaId:"tab-Settings",isActive:"schemas"===l},{children:(0,r.jsx)(Q.rU,rn({to:u.schemas},{children:p("dataPlaneTopicNavigation.schemas")}))}))]})}))}))]})},on=function(){return on=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},on.apply(this,arguments)},sn=function(e){var t=e.onQuickstartGuide,n=(0,o.$)("kafka").t;return(0,r.jsxs)(i.EmptyState,on({variant:i.EmptyStateVariant.xs},{children:[(0,r.jsx)(i.EmptyStateIcon,{icon:s.PlusCircleIcon}),(0,r.jsx)(i.Title,on({headingLevel:"h2",size:"lg"},{children:n("empty_state_no_dedicated_clusters_title")})),(0,r.jsx)(i.EmptyStateBody,{children:(0,r.jsx)(T.c,{ns:"kafka",i18nKey:"empty_state_no_dedicated_clusters_body",components:[(0,r.jsx)("a",{onClick:t})]})}),(0,r.jsx)(i.Button,on({ouiaId:"button-create",variant:"primary",onClick:t},{children:n("empty_state_no_dedicated_clusters_prerequisite_button")}))]}))},cn=function(){return cn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},cn.apply(this,arguments)},ln=["name","id","status"],un=function(e){var t=e.clusters,n=e.itemCount,a=e.page,o=e.onPageChange,s=e.onQuickstartGuide,c=z();return(0,r.jsx)(i.PageSection,cn({isFilled:!0},{children:(0,r.jsx)(L.H,{ariaLabel:"TODO",data:t,columns:ln,renderHeader:function(e){var t=e.column,n=e.Th,i=e.key;return(0,r.jsx)(n,{children:c.fields[t]},i)},renderCell:function(e){var t=e.column,n=e.row,i=e.Td,a=e.key;return(0,r.jsx)(i,cn({dataLabel:c.fields[t]},{children:function(){switch(t){case"name":return n.name;case"id":return n.id;case"status":return n.status}}()}),a)},toolbarBreakpoint:"lg",itemCount:n,page:a,onPageChange:o,emptyStateNoData:(0,r.jsx)(sn,{onQuickstartGuide:s}),emptyStateNoResults:(0,r.jsx)("div",{children:"&bsp; "})})}))},dn=function(){return dn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},dn.apply(this,arguments)},pn=function(e){var t=e.instanceName,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["instanceName"]),i=(0,o.$)("kafka").t;return(0,r.jsx)(S.pf,dn({},n,{variant:"destructive",title:i("delete_instance_title"),confirmationValue:t},{children:(0,r.jsx)(T.c,{ns:"kafka",i18nKey:"delete_instance_message",components:[(0,r.jsx)("strong",{})],values:{instanceName:t}})}))},fn=n(29272),mn=function(){return mn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},mn.apply(this,arguments)},hn=function(e){var t=e.lng,i=e.debug,a=e.children;return(0,r.jsx)(fn.bd,mn({lng:t,resources:{en:{common:function(){return n.e(890).then(n.t.bind(n,16890,19))},"create-kafka-instance":function(){return n.e(661).then(n.t.bind(n,3661,19))},kafka:function(){return n.e(191).then(n.t.bind(n,7191,19))},"kafkaoverview-v3":function(){return n.e(832).then(n.t.bind(n,30832,19))},metrics:function(){return n.e(793).then(n.t.bind(n,17793,19))},topic:function(){return n.e(286).then(n.t.bind(n,37286,19))},"manage-kafka-permissions":function(){return n.e(945).then(n.t.bind(n,98945,19))},"create-topic":function(){return n.e(971).then(n.t.bind(n,85971,19))},"message-browser":function(){return n.e(486).then(n.t.bind(n,31486,19))},"connection-tab":function(){return n.e(867).then(n.t.bind(n,67867,19))},"connection-tab-p1":function(){return n.e(371).then(n.t.bind(n,92371,19))},"terms-and-conditions":function(){return n.e(429).then(n.t.bind(n,15429,19))},cluster:function(){return n.e(539).then(n.t.bind(n,27539,19))}},it:{common:function(){return Promise.resolve({delete:"Elimina"})}}},debug:i},{children:a}))},vn=n(31807),gn=n(2529),bn=n(72883),yn=n(80659),xn=function(e){var t=e.expiryDate,n=t?(0,yn.Z)(t,Date.now()):0;return(0,r.jsx)(i.Alert,{variant:n>24?"info":n<24&&n>5?"warning":"danger",title:(0,r.jsx)(T.c,{i18nKey:"kafka:will_expire",components:{time:(0,r.jsx)(bn.r,{date:t,format:"expiration"})}}),"aria-live":"polite",isInline:!0,className:"pf-u-mb-lg"})},jn=function(){return jn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},jn.apply(this,arguments)},_n=function(e){var t=e.id,n=e.createdAt,a=e.updatedAt,s=e.owner,c=e.deployment,l=e.expiryDate,u=e.instanceType,d=e.size,p=e.ingress,f=e.egress,m=e.storage,h=e.maxPartitions,v=e.connections,g=e.connectionRate,b=e.messageSize,y=e.billing,x=e.kafkaVersion,j=(0,o.$)("kafka").t,_=function(e,t){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.TextListItem,jn({component:i.TextListItemVariants.dt},{children:e})),t?(0,r.jsx)(i.TextListItem,jn({component:i.TextListItemVariants.dd},{children:t})):(0,r.jsx)(i.Skeleton,{width:"50%",screenreaderText:j("common:skeleton_loader_screenreader_text",{contentName:e})})]})};return(0,r.jsxs)("div",jn({className:"mas--details__drawer--tab-content"},{children:["standard"!==u&&l&&(0,r.jsx)(xn,{expiryDate:l}),(0,r.jsx)(i.TextContent,{children:(0,r.jsxs)(i.TextList,jn({component:i.TextListVariants.dl},{children:["standard"===u&&_(j("common:size"),d?j("create-kafka-instance:streaming_size_value",{value:d}):void 0),_(j("ingress"),p?j("create-kafka-instance:ingress_value",{value:p}):void 0),_(j("egress"),f?j("create-kafka-instance:egress_value",{value:f}):void 0),_(j("storage"),(null==m?void 0:m.value)?j("create-kafka-instance:storage_value",{value:m.value}):void 0),_(j("partitions"),h?j("create-kafka-instance:partitions_value",{value:h}):void 0),_(j("client_connections"),v?j("create-kafka-instance:client_connections_value",{value:v}):void 0),_(j("connection_rate"),g?j("create-kafka-instance:connection_rate_value",{value:g}):void 0),_(j("message_size"),(null==b?void 0:b.value)?j("create-kafka-instance:message_size_value",{value:b.value}):void 0),_(j("common:id"),t),_(j("common:kafka_version"),x),_(j("common:owner"),s),_(j("common:time_created"),(0,r.jsx)(bn.r,{date:n,format:"long"})),_(j("common:time_updated"),(0,r.jsx)(bn.r,{date:a,format:"long"})),"cluster"===c.type?_(j("create-kafka-instance:openshift_cluster"),(0,r.jsxs)(r.Fragment,{children:[c.name,(0,r.jsx)("br",{}),(0,r.jsx)(i.Truncate,{content:c.id,position:"middle"})]})):(0,r.jsxs)(r.Fragment,{children:[_(j("common:cloud_provider"),c.provider),_(j("common:region"),c.region)]}),_(j("create-kafka-instance:billing.field_label"),function(){if(void 0!==y){if("prepaid"===y)return j("create-kafka-instance:billing.prepaid_option");if("dedicated"===y)return j("create-kafka-instance:billing.dedicated_option");switch(y.marketplace){case"aws":return(0,r.jsxs)(r.Fragment,{children:[j("create-kafka-instance:billing.marketplace_aws"),(0,r.jsx)("br",{}),y.subscription]});case"azure":return(0,r.jsxs)(r.Fragment,{children:[j("create-kafka-instance:billing.marketplace_azure"),(0,r.jsx)("br",{}),y.subscription]});case"gcp":return(0,r.jsxs)(r.Fragment,{children:[j("create-kafka-instance:billing.marketplace_gcp"),(0,r.jsx)("br",{}),y.subscription]});case"rhm":return(0,r.jsxs)(r.Fragment,{children:[j("create-kafka-instance:billing.marketplace_rh"),(0,r.jsx)("br",{}),y.subscription]})}}}())]}))})]}))},kn=function(){return kn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},kn.apply(this,arguments)},Cn=function(){var e=(0,o.$)("kafka").t;return(0,r.jsxs)(i.EmptyState,kn({variant:i.EmptyStateVariant.small},{children:[(0,r.jsx)(i.EmptyStateIcon,{icon:s.ExclamationTriangleIcon,color:"#f0ab00"}),(0,r.jsx)(i.Title,kn({headingLevel:"h1",size:i.TitleSizes.lg},{children:e("suspend_empty_state_title")})),(0,r.jsx)(i.EmptyStateBody,{children:e("suspend_empty_state_body")})]}))},wn=function(){return wn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},wn.apply(this,arguments)},Sn=function(e){var t=e.isKafkaSuspended,n=e.isKafkaPending,a=e.externalServer,c=e.tokenEndPointUrl,l=e.linkToServiceAccount,u=e.linkToAccessTab,d=e.adminAPIUrl,p=e.kafkaFleetManagerUrl,f=(e.showCreateServiceAccountModal,(0,o.$)().t),m=(0,v.useState)(!1),h=m[0],g=m[1];return t?(0,r.jsx)(Cn,{}):(0,r.jsxs)("div",wn({className:"mas--details__drawer--tab-content"},{children:[(0,r.jsxs)(i.TextContent,wn({className:"pf-u-pb-sm"},{children:[(0,r.jsx)(i.Text,wn({component:i.TextVariants.small},{children:f("connection-tab:drawer_resource_tab_body_description_1")})),(0,r.jsx)(i.Text,wn({component:i.TextVariants.h3,className:"pf-u-mt-xl"},{children:f("connection-tab:bootstrap_server")})),(0,r.jsx)(i.Text,wn({component:i.TextVariants.small},{children:f("connection-tab:bootstrap_server_description")})),n?(0,r.jsx)(i.Skeleton,{fontSize:"2xl"}):(0,r.jsx)(i.ClipboardCopy,wn({"data-testid":"drawerStreams-copyBootstrapURL",textAriaLabel:f("connection-tab:bootstrap_server"),isReadOnly:!0},{children:a}))]})),(0,r.jsxs)(i.TextContent,wn({className:"pf-u-pb-sm"},{children:[(0,r.jsx)(i.Text,wn({component:i.TextVariants.h3,className:"pf-u-mt-xl"},{children:f("connection-tab:service_accounts_small")})),(0,r.jsx)(i.Text,wn({component:i.TextVariants.small},{children:(0,r.jsx)(T.c,{i18nKey:"connection-tab:create_service_account_to_generate_credentials",components:{value:(0,r.jsx)("a",{href:l,"data-testid":"tableStreams-linkKafka"})}})}))]})),(0,r.jsx)(i.Button,wn({variant:i.ButtonVariant.secondary,isInline:!0,"data-testid":"drawerStreams-buttonCreateServiceAccount",href:l,component:"a"},{children:f("connection-tab:create_service_account")})),(0,r.jsx)(i.TextContent,wn({className:"pf-u-pt-sm"},{children:(0,r.jsx)(i.Text,wn({component:i.TextVariants.small},{children:(0,r.jsx)(T.c,{i18nKey:"connection-tab:current_instance",components:{value:n?(0,r.jsx)("span",{children:"Link is not available yet"}):(0,r.jsx)(Q.rU,{to:u})}})}))})),(0,r.jsx)(i.TextContent,wn({className:"pf-u-pb-sm"},{children:(0,r.jsxs)(i.ExpandableSection,wn({toggleContent:(0,r.jsx)("div",wn({className:"pf-c-content"},{children:(0,r.jsx)(i.Text,wn({component:i.TextVariants.h3,className:"pf-c-content"},{children:f("connection-tab:rest_api_header")}))})),isExpanded:h,onToggle:function(){g(!h)},className:"pf-u-mt-lg"},{children:[(0,r.jsx)(i.TextContent,wn({className:"pf-u-pb-sm"},{children:(0,r.jsx)(i.Text,wn({component:i.TextVariants.small},{children:f("connection-tab:rest_api_description")}))})),(0,r.jsxs)(i.TextContent,{children:[(0,r.jsxs)("strong",{children:[f("connection-tab:kafka_instance_url_label"),(0,r.jsx)(i.Popover,wn({headerContent:(0,r.jsx)("div",{children:f("connection-tab:kafka_instance_url_popover_label")}),bodyContent:(0,r.jsxs)(i.TextContent,{children:[(0,r.jsx)("p",{children:f("connection-tab:kafka_instance_url_popover_body")}),(0,r.jsx)("p",{children:(0,r.jsx)(T.c,{ns:"connection-tab",i18nKey:"popover_helper_text",components:[(0,r.jsx)(i.Button,{isInline:!0,variant:i.ButtonVariant.link,component:"a",href:"https://console.redhat.com/docs/api/kafkainstance?github-owner=redhat-developer&github-repo=app-services-sdk-core&github-content=kafka-admin-rest.yaml%3Fref%3Ddoc-portal&readonly=true"}),(0,r.jsx)(M.d,{testId:"customerPortal-link",href:"https://access.redhat.com/documentation/en-us/red_hat_openshift_application_services/1/guide/2409253a-45ee-470e-bdc9-5db4bfcf9d0f",className:"pf-u-ml-xs"})]})})]})},{children:(0,r.jsx)(i.Button,wn({variant:i.ButtonVariant.plain,"aria-label":f("connection-tab:kafka_instance_url_button_aria_label")},{children:(0,r.jsx)(s.HelpIcon,{})}))}))]}),d?(0,r.jsx)(i.ClipboardCopy,wn({textAriaLabel:f("connection-tab:kafka_instance_url_label"),isReadOnly:!0},{children:d})):(0,r.jsx)(i.Skeleton,{fontSize:"2xl"}),(0,r.jsx)(i.TextContent,wn({className:"pf-u-pt-sm"},{children:(0,r.jsx)(i.Text,wn({component:i.TextVariants.small},{children:f("connection-tab:kafka_instance_url_description")}))}))]}),(0,r.jsxs)(i.TextContent,wn({className:"pf-u-mt-md"},{children:[(0,r.jsxs)("strong",{children:[f("connection-tab:kafka_management_url"),(0,r.jsx)(i.Popover,wn({headerContent:(0,r.jsx)("div",{children:f("connection-tab:kafka_management_popover_header")}),bodyContent:(0,r.jsxs)(i.TextContent,{children:[(0,r.jsx)("p",{children:f("connection-tab:kafka_management_popover_body")}),(0,r.jsx)("p",{children:(0,r.jsx)(T.c,{ns:"connection-tab",i18nKey:"popover_helper_text",components:[(0,r.jsx)(i.Button,{isInline:!0,variant:i.ButtonVariant.link,component:"a",href:"https://console.redhat.com/docs/api/kafkamgmt?github-owner=redhat-developer&github-repo=app-services-sdk-core&github-content=kas-fleet-manager.yaml%3Fref%3Ddoc-portal"}),(0,r.jsx)(M.d,{testId:"customerPortal-link",href:"https://access.redhat.com/documentation/en-us/red_hat_openshift_application_services/1/guide/2409253a-45ee-470e-bdc9-5db4bfcf9d0f",className:"pf-u-ml-xs"})]})})]})},{children:(0,r.jsx)(i.Button,wn({variant:i.ButtonVariant.plain,"aria-label":f("connection-tab:kafka_management_button_aria_label")},{children:(0,r.jsx)(s.HelpIcon,{})}))}))]}),n?(0,r.jsx)(i.Skeleton,{fontSize:"2xl"}):(0,r.jsx)(i.ClipboardCopy,wn({textAriaLabel:f("connection-tab:kafka_management_url"),isReadOnly:!0},{children:p})),(0,r.jsx)(i.TextContent,wn({className:"pf-u-pt-sm"},{children:(0,r.jsx)(i.Text,wn({component:i.TextVariants.small},{children:f("connection-tab:kafka_management_description")}))}))]}))]}))})),(0,r.jsxs)(i.TextContent,wn({className:"pf-u-pb-sm"},{children:[(0,r.jsx)(i.Text,wn({component:i.TextVariants.h3,className:"pf-u-mt-xl"},{children:f("connection-tab:authentication_method")})),(0,r.jsxs)(i.Text,wn({component:i.TextVariants.h4,className:"pf-u-mt-md"},{children:[f("connection-tab:sasl_oauthbearer")," ",(0,r.jsx)(i.Label,wn({color:"green"},{children:f("connection-tab:recommended")})),(0,r.jsx)(i.Popover,wn({"aria-label":f("connection-tab:sasl_oauthbearer"),bodyContent:(0,r.jsx)("div",{children:f("connection-tab:sasl_oauthbearer_popover_content")})},{children:(0,r.jsx)(i.Button,wn({variant:i.ButtonVariant.plain,"aria-label":f("connection-tab:more_info_about_sasl_oauthbearer")},{children:(0,r.jsx)(s.HelpIcon,{})}))}))]})),(0,r.jsx)(i.Text,wn({component:i.TextVariants.small},{children:f("connection-tab:sasl_oauthbearer_description")})),(0,r.jsx)("strong",{children:f("connection-tab:token_endpoint_url")}),void 0===c?(0,r.jsx)(i.Skeleton,{fontSize:"2xl"}):(0,r.jsx)(i.ClipboardCopy,wn({textAriaLabel:f("connection-tab:token_endpoint_url"),isReadOnly:!0},{children:c}))]})),(0,r.jsxs)(i.TextContent,wn({className:"pf-u-pb-sm"},{children:[(0,r.jsx)(i.Text,wn({component:i.TextVariants.h4,className:"pf-u-mt-md"},{children:f("connection-tab:sasl_plain")})),(0,r.jsx)(i.Text,wn({component:i.TextVariants.small},{children:f("connection-tab:sasl_plain_description")}))]}))]}))},Tn=function(){return Tn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Tn.apply(this,arguments)},On=function(e){var t=e.expandableCode,n=e.codeBlockCode,a=e.codeSnippet,o=(0,v.useState)(!1),s=o[0],c=o[1],l=(0,v.useState)(!1),u=l[0],d=l[1];(0,v.useEffect)((function(){c(!1)}),[a]);var p=t?n+"\n"+t:n,f=(0,r.jsx)(i.CodeBlockAction,{children:(0,r.jsx)(i.ClipboardCopyButton,Tn({id:"basic-copy-button",textId:"code-content","aria-label":"Copy to clipboard",exitDelay:600,maxWidth:"110px",variant:"plain",onClick:function(e){return t=p,void navigator.clipboard.writeText(t.toString()).then((function(){d(!0)})).catch((function(){d(!1)}));var t}},{children:u?"Successfully copied to clipboard!":"Copy to clipboard"}))});return(0,r.jsxs)(i.CodeBlock,Tn({actions:f},{children:[(0,r.jsxs)(i.CodeBlockCode,Tn({id:"code-content"},{children:[n,(0,r.jsx)(i.ExpandableSection,Tn({isExpanded:s,isDetached:!0,contentId:"code-block-expand"},{children:t}))]})),t?(0,r.jsx)(i.ExpandableSectionToggle,Tn({isExpanded:s,onToggle:function(e){c(e)},contentId:"code-block-expand",direction:"up"},{children:s?"Show Less":"Show More"})):null]}))},In=function(e,t){return'package org.example;\nimport org.apache.kafka.clients.producer.ProducerConfig;  \nimport java.util.Properties;\n    \npublic class KafkaConfig {\n    \n    static Properties properties() {\n    \n        String kafkaHost = "'.concat(e,'";\n        String rhoasClientID = "<client_id>";\n        String rhoasClientSecret = "<client_secret>";\n        String rhoasOauthTokenUrl = "').concat(t,'";')},Pn=function(e){return'import time\nimport requests\n    \ndef _get_token(config):\n    payload = {"grant_type": "client_credentials", "scope": "api.iam.service_accounts"}\n    resp = requests.post(\n        "'.concat(e,'",\n        auth=(\n            <client_id>,\n            <client_secret>,\n        ),\n        data=payload,\n    )')},An=function(e){return'\n    token = resp.json()\n    return token["access_token"], time.time() + float(token["expires_in"])\n    \n    common_config = {\n    \'bootstrap.servers\': "'.concat(e,"\",\n    'security.protocol': 'SASL_SSL',\n    'sasl.mechanisms': 'OAUTHBEARER',\n    'oauth_cb': _get_token,\n    }\n    \n    topic=<topic>")},Ln=function(e,t){return'\n# Configure docker config\nquarkus.container-image.builder=jib\nquarkus.kubernetes.deployment-target=kubernetes\nquarkus.container-image.build=false\nquarkus.container-image.push=false\n    \n## dev profile using user defined environment variables that uses SASL/OAUTHBEARER\n## ./mvnw quarkus:dev\n## ./mvnw package -Dquarkus.profile=dev\n    \n%dev.kafka.bootstrap.servers=${"'.concat(e,'"}\n%dev.kafka.security.protocol=SASL_SSL\n    \n%dev.kafka.sasl.mechanism=OAUTHBEARER\n%dev.kafka.sasl.jaas.config=org.apache.kafka.common.security.oauthbearer.OAuthBearerLoginModule required \\\n    oauth.client.id="${<client_id>}" \\\n    oauth.client.secret="${<client_secret>}" \\\n    oauth.token.endpoint.uri="${"').concat(t,'"}" ;\n%dev.kafka.sasl.login.callback.handler.class=io.strimzi.kafka.oauth.client.JaasClientOauthLoginCallbackHandler')},En=function(e,t){return'package com.example.kafkaconfig;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class KafkaConfig {\n\n   public static Map<String, Object> Config() {\n\n       Map<String, Object> config = new HashMap<>();\n\n       String kafkaHost = "'.concat(e,'";\n       String rhoasClientID = "<client_id>";\n       String rhoasClientSecret = "<client_secret>";\n       String rhoasOauthTokenUrl = "').concat(t,'";')},Dn=function(){return Dn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Dn.apply(this,arguments)},Rn=function(e){var t=e.kafkaBootstrapUrl,n=e.tokenEndpointUrl,a=(0,o.$)("kafka").t,s=(0,v.useState)("java"),c=s[0],l=s[1],u={java:a("sample_code.clients.java"),python:a("sample_code.clients.python"),quarkus:a("sample_code.clients.quarkus"),springboot:a("sample_code.clients.spring_boot")};return(0,r.jsx)("div",Dn({className:"mas--details__drawer--tab-content"},{children:(0,r.jsxs)(i.TextContent,Dn({className:"pf-u-pb-sm"},{children:[(0,r.jsx)(i.Text,Dn({component:i.TextVariants.small},{children:a("sample_code.code_snippet_description_1")})),(0,r.jsx)(i.Text,Dn({component:i.TextVariants.small},{children:a("sample_code.code_snippet_description_2")})),(0,r.jsxs)(i.ToggleGroup,{children:[(0,r.jsx)(i.ToggleGroupItem,{text:u.java,value:"java",buttonId:"java",isSelected:"java"===c,onChange:function(){return l("java")}}),(0,r.jsx)(i.ToggleGroupItem,{text:u.python,value:"python",buttonId:"python",isSelected:"python"===c,onChange:function(){return l("python")}}),(0,r.jsx)(i.ToggleGroupItem,{text:u.quarkus,value:"quarkus",buttonId:"quarkus",isSelected:"quarkus"===c,onChange:function(){return l("quarkus")}}),(0,r.jsx)(i.ToggleGroupItem,{text:u.springboot,value:"springboot",buttonId:"springboot",isSelected:"springboot"===c,onChange:function(){return l("springboot")}})]}),(0,r.jsx)(i.Text,Dn({component:i.TextVariants.h3,className:"pf-u-mt-xl"},{children:a("sample_code.sample_configuration_code")})),(0,r.jsx)(i.Text,Dn({component:i.TextVariants.small},{children:a("sample_code.sample_configuration_code_description")})),(0,r.jsx)(i.Text,Dn({component:i.TextVariants.small},{children:a("sample_code.bracket_text")})),function(){switch(c){case"java":return n?(0,r.jsx)(On,{codeBlockCode:In(t,n),expandableCode:'\n        var properties= new Properties();\n\n        properties.setProperty(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, kafkaHost);\n        properties.setProperty("security.protocol", "SASL_SSL");\n        properties.setProperty("sasl.mechanism", "OAUTHBEARER");\n\n        properties.setProperty("sasl.jaas.config", "org.apache.kafka.common.security.oauthbearer.OAuthBearerLoginModule required clientId=\\"" + rhoasClientID + "\\" clientSecret=\\"" + rhoasClientSecret + "\\" oauth.token.endpoint.uri=\\"" + rhoasOauthTokenUrl + "\\";");\n\n        properties.setProperty("sasl.login.callback.handler.class", "org.apache.kafka.common.security.oauthbearer.secured.OAuthBearerLoginCallbackHandler");\n        properties.setProperty("sasl.oauthbearer.token.endpoint.url", rhoasOauthTokenUrl);\n        properties.setProperty("sasl.oauthbearer.scope.claim.name", "api.iam.service_accounts");\n\n        return properties;\n    }\n}',codeSnippet:c}):(0,r.jsx)(i.Skeleton,{fontSize:"4xl"});case"python":return n?(0,r.jsx)(On,{codeBlockCode:Pn(n),expandableCode:An(t),codeSnippet:c}):(0,r.jsx)(i.Skeleton,{fontSize:"4xl"});case"quarkus":return n?(0,r.jsx)(On,{codeBlockCode:"# Quarkus config\nquarkus.ssl.native=true\n\n# Configure the Kafka sink (we write to it)\nmp.messaging.outgoing.generated-price.connector=smallrye-kafka\nmp.messaging.outgoing.generated-price.topic=<topic>\nmp.messaging.outgoing.generated-price.value.serializer=org.apache.kafka.common.serialization.IntegerSerializer\n\n# Configure the Kafka source (we read from it)\nmp.messaging.incoming.prices.connector=smallrye-kafka\nmp.messaging.incoming.prices.topic=<topic>\nmp.messaging.incoming.prices.value.deserializer=org.apache.kafka.common.serialization.IntegerDeserializer",expandableCode:Ln(t,n),codeSnippet:c}):(0,r.jsx)(i.Skeleton,{fontSize:"4xl"});case"springboot":return n?(0,r.jsx)(On,{codeBlockCode:En(t,n),expandableCode:'\n    config.put("bootstrap.servers", kafkaHost);\n\n    config.put("security.protocol", "SASL_SSL");\n    config.put("sasl.mechanism", "OAUTHBEARER");\n\n    config.put("sasl.jaas.config", "org.apache.kafka.common.security.oauthbearer.OAuthBearerLoginModule required clientId=\\"" + rhoasClientID + "\\" clientSecret=\\"" + rhoasClientSecret + "\\" oauth.token.endpoint.uri=\\"" + rhoasOauthTokenUrl + "\\";");\n    config.put("sasl.login.callback.handler.class", "org.apache.kafka.common.security.oauthbearer.secured.OAuthBearerLoginCallbackHandler");\n    config.put("sasl.oauthbearer.token.endpoint.url", rhoasOauthTokenUrl);\n    config.put("sasl.oauthbearer.scope.claim.name", "api.iam.service_accounts");\n\n    return config;\n   }\n}',codeSnippet:c}):(0,r.jsx)(i.Skeleton,{fontSize:"4xl"});default:return null}}(),(0,r.jsx)(i.Text,Dn({component:i.TextVariants.h3,className:"pf-u-mt-xl"},{children:a("sample_code.sample_producer_code")})),"quarkus"===c?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Text,Dn({component:i.TextVariants.small},{children:a("sample_code.sample_producer_code_quarkus_description")})),(0,r.jsx)(On,{codeBlockCode:"package org.acme.kafka;\nimport java.time.Duration;\nimport java.util.Random;\n\nimport javax.enterprise.context.ApplicationScoped;\n\nimport io.smallrye.mutiny.Multi;\nimport org.eclipse.microprofile.reactive.messaging.Outgoing;",expandableCode:'\n/**\n* A bean producing random prices every 5 seconds.\n* The prices are written to a Kafka topic (prices). The Kafka configuration is specified in the application configuration.\n*/\n@ApplicationScoped\npublic class PriceGenerator {\n\n   private Random random = new Random();\n\n   @Outgoing("generated-price")\n   public Multi<Integer> generate() {\n       return Multi.createFrom().ticks().every(Duration.ofSeconds(5))\n               .onOverflow().drop()\n               .map(tick -> random.nextInt(100));\n   }\n\n}',codeSnippet:c})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Text,Dn({component:i.TextVariants.small},{children:(0,r.jsx)(T.c,{ns:"kafka",i18nKey:"sample_code.sample_producer_code_description",values:{client_type:u[c]}})})),(0,r.jsx)(i.Text,Dn({component:i.TextVariants.small},{children:a("sample_code.bracket_text")})),function(){switch(c){case"java":return(0,r.jsx)(On,{codeBlockCode:"package org.example;\n \nimport org.apache.kafka.clients.producer.ProducerConfig;\nimport org.apache.kafka.clients.producer.ProducerRecord;\nimport org.apache.kafka.clients.producer.KafkaProducer;\nimport org.apache.kafka.common.serialization.StringSerializer;\n \npublic class ProducerExample {\n \n   public static void main(String[] args) {",expandableCode:'\n   //Creating producer properties\n   var properties= KafkaConfig.properties();\n   properties.setProperty(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\n   properties.setProperty(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\n\n   KafkaProducer<String,String> producer= new KafkaProducer<String,String>(properties);\n\n   producer.send(new ProducerRecord<>(<"topic">, "Test Message"));\n   producer.flush();\n   producer.close();\n  }\n}',codeSnippet:c});case"python":return(0,r.jsx)(On,{codeBlockCode:'from confluent_kafka import Producer\n \nproducer = Producer(common_config)\n \nproducer.produce(topic=<topic>, value=b"Sample Message")\nproducer.flush()'});case"springboot":return(0,r.jsx)(On,{codeBlockCode:"package com.example.kafkademo;\nimport org.apache.kafka.clients.producer.ProducerConfig;\nimport org.apache.kafka.common.serialization.StringSerializer;\nimport org.springframework.boot.ApplicationRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.kafka.core.DefaultKafkaProducerFactory;\nimport org.springframework.kafka.core.KafkaTemplate;\nimport org.springframework.kafka.core.ProducerFactory;\nimport com.example.kafkaconfig.KafkaConfig;\n\nimport java.util.Map;",expandableCode:'\n@SpringBootApplication\npublic class KafkaProducerExample {\n\n  public static void main(String[] args) throws Exception {\n    SpringApplication.run(KafkaProducerExample.class, args);\n  }\n\n  @Bean\n  public ProducerFactory<String, String> producerFactory() {\n    Map<String, Object> config = KafkaConfig.Config();\n\n    config.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n    config.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n\n    return new DefaultKafkaProducerFactory<String, String>(config);\n  }\n\n  @Bean\n  public KafkaTemplate<String, String> kafkaTemplate() {\n    return new KafkaTemplate<>(producerFactory());\n  }\n\n  @Bean\n  public ApplicationRunner runner(KafkaTemplate<String, String> template) {\n    return args -> {\n      template.send(<"topic">, "Test Message");\n    };\n  }\n\n}',codeSnippet:c});default:return null}}()]}),(0,r.jsx)(i.Text,Dn({component:i.TextVariants.h3,className:"pf-u-mt-xl"},{children:a("sample_code.sample_consumer_code")})),"springboot"===c?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Text,Dn({component:i.TextVariants.small},{children:a("sample_code.spring_boot_sample_consumer_code_description")})),(0,r.jsx)(i.Text,Dn({component:i.TextVariants.h4,className:"pf-u-mt-xl"},{children:a("sample_code.spring_boot_consumer_configuration")})),(0,r.jsx)(i.Text,Dn({component:i.TextVariants.small},{children:a("sample_code.spring_boot_consumer_configuration_description")})),(0,r.jsx)(On,{codeBlockCode:"package com.example.kafkaconsumer.config;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport com.example.kafkaconfig.KafkaConfig;\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\nimport org.apache.kafka.common.serialization.StringDeserializer;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.kafka.annotation.EnableKafka;\nimport org.springframework.kafka.core.ConsumerFactory;\nimport org.springframework.kafka.core.DefaultKafkaConsumerFactory;\nimport org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;",expandableCode:"// Annotations\n@EnableKafka\n@Configuration\n\npublic class KafkaConsumerConfig {\n\n    @Bean\n    public ConsumerFactory<String, String> consumerFactory() {\n        Map<String, Object> config = KafkaConfig.Config();\n\n        config.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        config.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n\n        return new DefaultKafkaConsumerFactory<>(config);\n    }\n\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory concurrentKafkaListenerContainerFactory() {\n        ConcurrentKafkaListenerContainerFactory<\n                String, String> factory\n                = new ConcurrentKafkaListenerContainerFactory<>();\n        factory.setConsumerFactory(consumerFactory());\n        return factory;\n    }\n}",codeSnippet:c}),(0,r.jsx)(i.Text,Dn({component:i.TextVariants.h4,className:"pf-u-mt-xl"},{children:a("sample_code.spring_boot_listener")})),(0,r.jsx)(i.Text,Dn({component:i.TextVariants.small},{children:a("sample_code.spring_boot_listener_description")})),(0,r.jsx)(i.Text,Dn({component:i.TextVariants.small},{children:a("sample_code.bracket_text")})),(0,r.jsx)(On,{codeBlockCode:"package com.example.kafkaconsumer.listener;\n\nimport com.example.kafkaconfig.KafkaConfig;\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\nimport org.apache.kafka.common.serialization.StringDeserializer;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.kafka.annotation.KafkaListener;\nimport org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;\nimport org.springframework.kafka.core.ConsumerFactory;\nimport org.springframework.kafka.core.DefaultKafkaConsumerFactory;\nimport org.springframework.stereotype.Component;\n\nimport java.util.Map;",expandableCode:'@Component\npublic class Listener {\n\n    @KafkaListener(topics = <"topic">,\n            containerFactory = "concurrentKafkaListenerContainerFactory",\n            groupId = "test_group")\n\n    // Method\n    public void consume(String message)\n    {\n        // Print statement\n        System.out.println(message);\n    }\n}',codeSnippet:c}),(0,r.jsx)(i.Text,Dn({component:i.TextVariants.h4,className:"pf-u-mt-xl"},{children:a("sample_code.spring_boot_consumer")})),(0,r.jsx)(i.Text,Dn({component:i.TextVariants.small},{children:a("sample_code.spring_boot_consumer_description")})),(0,r.jsx)(On,{codeBlockCode:"\npackage com.example.kafkaconsumer;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;",expandableCode:"\n@SpringBootApplication\npublic class KafkaConsumerExample {\n\n    public static void main(String[] args) {\n        SpringApplication.run(KafkaConsumerExample.class, args);\n    }\n\n}",codeSnippet:c})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Text,Dn({component:i.TextVariants.small},{children:(0,r.jsx)(T.c,{ns:"kafka",i18nKey:"sample_code.sample_consumer_code_description",values:{client_type:u[c]}})})),"quarkus"===c?null:(0,r.jsx)(i.Text,Dn({component:i.TextVariants.small},{children:a("sample_code.bracket_text")})),function(){switch(c){case"java":return(0,r.jsx)(On,{codeBlockCode:"package org.example;\n \nimport java.util.Arrays;\n\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\nimport org.apache.kafka.clients.consumer.KafkaConsumer;\nimport org.apache.kafka.common.serialization.StringDeserializer;\nimport org.apache.kafka.clients.consumer.ConsumerRecord;\nimport org.apache.kafka.clients.consumer.ConsumerRecords;\nimport java.time.Duration;",expandableCode:'\npublic class ConsumerExample {\n\n    public static void main(String[] args) {\n\n        var properties= KafkaConfig.properties();\n\n        properties.setProperty(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\n        properties.setProperty(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\n        properties.setProperty(ConsumerConfig.GROUP_ID_CONFIG,"test_group_2");\n        properties.setProperty(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, "earliest");\n\n        KafkaConsumer<String,String> consumer = new KafkaConsumer<String,String>(properties);\n\n        //Subscribing\n        consumer.subscribe(Arrays.asList("<topic>"));\n\n        //polling\n        while(true){\n            ConsumerRecords<String,String> records=consumer.poll(Duration.ofMillis(100));\n            for(ConsumerRecord<String,String> record: records) {\n                System.out.println("Key: "+ record.key() + ", Value:" +record.value());\n                System.out.println("Partition:" + record.partition()+",Offset:"+record.offset());\n            }\n        }\n    }\n}',codeSnippet:c});case"python":return(0,r.jsx)(On,{codeBlockCode:"from confluent_kafka import Consumer\n \nconsumer_config = {\n    \"group.id\": \"test-group\",\n    'session.timeout.ms': 6000,\n    'auto.offset.reset': 'earliest',\n}\n\nconsumer = Consumer({ **consumer_config, **common_config })\n\nconsumer.subscribe([<topic>])",expandableCode:"while True:\ntry:\n    msg = consumer.poll(1.0)\n    if msg is None:\n        continue\n\n    print(msg.value())\nexcept KeyboardInterrupt:\n    break\n\nconsumer.close()",codeSnippet:c});case"quarkus":return(0,r.jsx)(On,{codeBlockCode:'package org.acme.kafka;\nimport javax.enterprise.context.ApplicationScoped;\n\nimport org.eclipse.microprofile.reactive.messaging.Acknowledgment;\nimport org.eclipse.microprofile.reactive.messaging.Incoming;\nimport org.eclipse.microprofile.reactive.messaging.Outgoing;\n\nimport io.smallrye.reactive.messaging.annotations.Broadcast;\n\n/**\n * A bean consuming data from the "prices" Kafka topic and applying some conversion.\n * The result is pushed to the "my-data-stream" stream which is an in-memory stream.\n */\n@ApplicationScoped',expandableCode:'public class PriceConverter {\n\n    private static final double CONVERSION_RATE = 0.88;\n\n    // Consume from the `prices` channel and produce to the `my-data-stream` channel\n    @Incoming("prices")\n    @Outgoing("my-data-stream")\n    // Send to all subscribers\n    @Broadcast\n    // Acknowledge the messages before calling this method.\n    @Acknowledgment(Acknowledgment.Strategy.PRE_PROCESSING)\n    public double process(int priceInUsd) {\n        return priceInUsd * CONVERSION_RATE;\n    }\n\n}',codeSnippet:c});default:return null}}()]})]}))}))},Nn=function(){return Nn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Nn.apply(this,arguments)},zn=function(e){var t=e.instance,n=e.activeTab,a=e.isExpanded,o=e.onTabChange,s=e.onClose,c=e.children,l=e.tokenEndpointUrl,u=e.serviceAccountsHref,d=(0,v.useMemo)((function(){return(0,r.jsx)(i.DrawerPanelContent,{children:t?(0,r.jsx)(Bn,{instance:t,activeTab:n,onTabChange:o,onClose:s,tokenEndpointUrl:l,serviceAccountsHref:u}):null})}),[n,t,s,o,u,l]);return(0,r.jsx)(i.Drawer,Nn({isExpanded:a,isInline:!0},{children:(0,r.jsx)(i.DrawerContent,Nn({panelContent:d},{children:(0,r.jsx)(i.DrawerContentBody,Nn({className:"pf-u-display-flex pf-u-flex-direction-column"},{children:c}))}))}))},Bn=function(e){var t=e.instance,n=e.activeTab,a=e.onTabChange,s=e.onClose,c=e.tokenEndpointUrl,l=e.serviceAccountsHref,u=(0,o.$)(["kafka"]).t,d=D(),p=(0,v.useCallback)((function(e,t){a(t)}),[a]),f=gn.az.includes(t.status);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.DrawerHead,{children:[(0,r.jsxs)(i.TextContent,{children:[(0,r.jsx)(i.Text,Nn({component:i.TextVariants.small,className:"pf-u-mb-0"},{children:u("common:name")})),(0,r.jsx)(i.Title,Nn({headingLevel:"h1",size:i.TitleSizes.xl,className:"pf-u-mt-0"},{children:t.name}))]}),(0,r.jsx)(i.DrawerActions,{children:(0,r.jsx)(i.DrawerCloseButton,{onClick:s})})]}),(0,r.jsx)(i.DrawerPanelBody,{children:(0,r.jsxs)(i.Tabs,Nn({activeKey:n,onSelect:p},{children:[(0,r.jsx)(i.Tab,Nn({eventKey:"details",title:(0,r.jsx)(i.TabTitleText,{children:u("drawer-tabs.details")})},{children:(0,r.jsx)("div",Nn({className:"pf-u-pt-md pf-u-pb-md"},{children:(0,r.jsx)(_n,{id:t.id,owner:t.owner,createdAt:(0,vn.Z)(t.createdAt),updatedAt:(0,vn.Z)(t.updatedAt),expiryDate:t.expiryDate?(0,vn.Z)(t.expiryDate):void 0,size:t.size,ingress:t.ingress,egress:t.egress,storage:t.storage,maxPartitions:t.maxPartitions,connections:t.connections,connectionRate:t.connectionRate,messageSize:t.messageSize,deployment:void 0!==t.clusterName&&void 0!==t.clusterId?{type:"cluster",name:t.clusterName,id:t.clusterId}:{type:"cloud",provider:d.providers[t.provider]||t.provider,region:d.providerRegions[t.provider][t.region]||t.region},instanceType:t.plan,billing:t.billing,kafkaVersion:t.version})}))})),(0,r.jsx)(i.Tab,Nn({eventKey:"connections",title:(0,r.jsx)(i.TabTitleText,{children:u("drawer-tabs.connections")}),"data-testid":"drawerStreams-tabConnect"},{children:(0,r.jsx)("div",Nn({className:"pf-u-pt-md pf-u-pb-md"},{children:(0,r.jsx)(Sn,{isKafkaPending:f,externalServer:Vn(t.bootstrapUrl),tokenEndPointUrl:c,linkToServiceAccount:l,linkToAccessTab:"".concat(t.id,"/details/acls"),adminAPIUrl:Fn(t.adminUrl),showCreateServiceAccountModal:function(){},kafkaFleetManagerUrl:"https://api.openshift.com/api/kafkas_mgmt/v1/openapi"})}))})),(0,r.jsx)(i.Tab,Nn({eventKey:"samplecode",title:(0,r.jsx)(i.TabTitleText,{children:u("drawer-tabs.sample-code")})},{children:(0,r.jsx)("div",Nn({className:"pf-u-pt-md pf-u-pb-md"},{children:(0,r.jsx)(Rn,{kafkaBootstrapUrl:Vn(t.bootstrapUrl),tokenEndpointUrl:c})}))}))]}))})]})},Vn=function(e){if(e)return(null==e?void 0:e.endsWith(":443"))?e:"".concat(e,":443")},Fn=function(e){return e?"".concat(e,"/openapi"):void 0},Hn=n(16808),Gn=n(12647),Un=function(){return Un=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Un.apply(this,arguments)},Mn=(0,v.forwardRef)((function(e,t){var n=e.value,a=e.showWarning,c=void 0!==a&&a,l=e.showError,u=void 0!==l&&l,d=e.withPopover,p=void 0!==d&&d,f=(0,o.$)("kafka").t,m=p?"link":"plain";switch(!0){case gn.A9.includes(n):return(0,r.jsx)("div",{children:(0,r.jsxs)(i.Split,Un({hasGutter:!0,className:"mas-c-status"},{children:[(0,r.jsx)(i.SplitItem,{children:(0,r.jsx)(s.CheckCircleIcon,{className:"mas-m-ready"})}),(0,r.jsx)(i.SplitItem,{children:f("statuses.ready")})]}))});case gn.az.includes(n):switch(!0){case c:return(0,r.jsxs)("div",{children:[(0,r.jsxs)(i.Split,Un({hasGutter:!0,className:"mas-c-status"},{children:[(0,r.jsx)(i.SplitItem,{children:(0,r.jsx)(i.Spinner,{size:"md"})}),(0,r.jsx)(i.SplitItem,{children:(0,r.jsx)(i.Button,Un({ref:t,variant:m,isInline:!0},{children:f("statuses.creating")}))})]})),(0,r.jsx)(i.Alert,{variant:"warning",isInline:!0,isPlain:!0,title:"This is taking longer than expected."})]});case u:return(0,r.jsxs)("div",{children:[(0,r.jsxs)(i.Split,Un({hasGutter:!0,className:"mas-c-status"},{children:[(0,r.jsx)(i.SplitItem,{children:(0,r.jsx)(i.Spinner,{size:"md"})}),(0,r.jsx)(i.SplitItem,{children:(0,r.jsx)(i.Button,Un({ref:t,variant:m,isInline:!0},{children:f("statuses.creating")}))})]})),(0,r.jsx)(i.Alert,{variant:"danger",isInline:!0,isPlain:!0,title:f("status_warning_or_error_title")})]});default:return(0,r.jsx)("div",{children:(0,r.jsxs)(i.Split,Un({hasGutter:!0,className:"mas-c-status"},{children:[(0,r.jsx)(i.SplitItem,{children:(0,r.jsx)(i.Spinner,{size:"md"})}),(0,r.jsxs)(i.SplitItem,{children:[(0,r.jsx)(i.Button,Un({ref:t,variant:m,isInline:!0},{children:f("statuses.creating")})),(0,r.jsx)(i.Flex,{children:(0,r.jsx)(i.FlexItem,{children:(0,r.jsx)(i.HelperText,{children:(0,r.jsx)(i.HelperTextItem,Un({variant:"indeterminate"},{children:f("status_created_shortly_help")}))})})})]})]}))})}case gn.m8.includes(n):return(0,r.jsx)("div",{children:(0,r.jsxs)(i.Split,Un({hasGutter:!0,className:"mas-c-status"},{children:[(0,r.jsx)(i.SplitItem,{children:(0,r.jsx)(s.ExclamationTriangleIcon,{className:"mas-m-degraded"})}),(0,r.jsx)(i.SplitItem,{children:f("statuses.degraded")})]}))});case gn.$x.includes(n):return(0,r.jsx)("div",{children:(0,r.jsxs)("p",Un({className:"mas-m-deleting"},{children:[" ",f("statuses.suspending")]}))});case gn.KH.includes(n):return(0,r.jsx)("div",{children:(0,r.jsxs)(i.Split,Un({hasGutter:!0,className:"mas-c-status"},{children:[(0,r.jsx)(i.SplitItem,{children:(0,r.jsx)(s.ExclamationTriangleIcon,{className:"mas-m-degraded"})}),(0,r.jsx)(i.SplitItem,{children:(0,r.jsx)(i.Button,Un({ref:t,variant:m,isInline:!0},{children:f("statuses.suspended")}))})]}))});case gn.Qu.includes(n):return(0,r.jsx)("div",{children:(0,r.jsxs)(i.Split,Un({hasGutter:!0,className:"mas-c-status"},{children:[(0,r.jsx)(i.SplitItem,{children:(0,r.jsx)(i.Spinner,{size:"md"})}),(0,r.jsx)(i.SplitItem,{children:f("statuses.resuming")})]}))});case gn.lO.includes(n):return(0,r.jsx)("div",{children:(0,r.jsxs)("p",Un({className:"mas-m-deleting"},{children:[" ",f("statuses.deleting")]}))});default:return null}})),Qn=["pending","preparing","provisioning"],qn={ready:null,degraded:null,accepted:"pending",provisioning:"provisioning",preparing:"preparing",deprovision:null,deleting:null,suspended:"suspended",suspending:null,resuming:null},Kn=function(){return Kn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Kn.apply(this,arguments)},$n=function(e){var t=e.currentStatus,n=(0,o.$)("create-kafka-instance").t,a=Qn.findIndex((function(e){return e===t})),s=function(e){return(a===e?"info":a>e&&"success")||"default"};return(0,r.jsxs)(i.ProgressStepper,Kn({isVertical:!0},{children:[(0,r.jsx)(i.ProgressStep,Kn({id:"pending",titleId:"pending",isCurrent:"pending"===t,description:n("kafka_status_popover.pending.description"),"aria-label":n("kafka_status_popover.pending.description"),variant:s(0)},{children:n("kafka_status_popover.pending.title")})),(0,r.jsx)(i.ProgressStep,Kn({id:"provisioning",titleId:"provisioning",isCurrent:"provisioning"===t,description:n("kafka_status_popover.provisioning.description"),"aria-label":n("kafka_status_popover.provisioning.description"),variant:s(1)},{children:n("kafka_status_popover.provisioning.title")})),(0,r.jsx)(i.ProgressStep,Kn({id:"preparing",titleId:"preparing",isCurrent:"preparing"===t,description:n("kafka_status_popover.preparing.description"),"aria-label":n("kafka_status_popover.preparing.description"),variant:s(2)},{children:n("kafka_status_popover.preparing.title")}))]}))},Wn=function(){return Wn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Wn.apply(this,arguments)},Jn=function(e){var t=e.currentStatus,n=e.showWarning,a=void 0!==n&&n,s=e.showError,c=void 0!==s&&s,l=e.onClickConnectionTabLink,u=e.onClickSupportLink,d=(0,o.$)("create-kafka-instance").t,p=Qn.findIndex((function(e){return e===t}));return(0,r.jsx)("div",{children:(0,r.jsxs)(i.Stack,Wn({hasGutter:!0},{children:[(0,r.jsxs)(i.StackItem,{children:[a&&(0,r.jsx)(i.Alert,Wn({variant:"warning",isInline:!0,isPlain:!0,title:d("kafka_status_popover.warning_or_error_title")},{children:(0,r.jsx)(i.TextContent,{children:(0,r.jsx)(i.Text,Wn({component:i.TextVariants.small},{children:(0,r.jsx)(T.c,{ns:["create-kafka-instance"],i18nKey:"kafka_status_popover.header_content_with_warning",components:[(0,r.jsx)(i.Button,{variant:i.ButtonVariant.link,onClick:l,isInline:!0},"btn-connetcion-tab")]})}))})})),c&&(0,r.jsx)(i.Alert,Wn({variant:"danger",isInline:!0,isPlain:!0,title:d("kafka_status_popover.warning_or_error_title")},{children:(0,r.jsx)(i.TextContent,{children:(0,r.jsx)(i.Text,Wn({component:i.TextVariants.small},{children:(0,r.jsx)(T.c,{ns:["create-kafka-instance"],i18nKey:"kafka_status_popover.header_content_with_error",components:[(0,r.jsx)(i.Button,{variant:i.ButtonVariant.link,onClick:l,isInline:!0},"btn-connetcion-tab"),(0,r.jsx)(i.Button,{variant:i.ButtonVariant.link,onClick:u,isInline:!0},"btn-support-case")]})}))})})),!c&&!a&&(0,r.jsx)(i.TextContent,{children:(0,r.jsx)(i.Text,Wn({component:i.TextVariants.small},{children:(0,r.jsx)(T.c,{ns:["create-kafka-instance"],i18nKey:"kafka_status_popover.header_content",components:[(0,r.jsx)(i.Button,{variant:i.ButtonVariant.link,onClick:l,isInline:!0},"btn-connetcion-tab")]})}))})]}),(0,r.jsx)(i.StackItem,{children:d("common:progress_stepper_current_step",{currentStep:p,total:Qn.length})}),(0,r.jsx)(i.StackItem,{children:(0,r.jsx)($n,{currentStatus:t})})]}))})},Zn=function(){return Zn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Zn.apply(this,arguments)},Yn=function(e){var t=e.initialOpen,n=void 0!==t&&t,a=e.status,s=e.showWarning,c=void 0!==s&&s,l=e.showError,u=void 0!==l&&l,d=e.onClickConnectionTabLink,p=e.onClickSupportLink,f=e.reference,m=e.children,h=(0,o.$)("create-kafka-instance").t,g=(0,v.useState)(n),b=g[0],y=g[1],x=function(){return y(!1)},j=(0,v.useCallback)((function(){x(),d()}),[d]),_=(0,v.useCallback)((function(){x(),p()}),[p]);return(0,r.jsx)(i.Popover,Zn({headerContent:h("kafka_status_popover.title"),bodyContent:(0,r.jsx)(Jn,{currentStatus:a,showWarning:c,showError:u,onClickConnectionTabLink:j,onClickSupportLink:_}),isVisible:b,shouldOpen:function(){return y(!0)},shouldClose:function(){return y(!1)},position:"right",enableFlip:!0,reference:f},{children:m}))},Xn=function(){return Xn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Xn.apply(this,arguments)},er=function(e){var t=e.children,n=e.reference,a=(0,o.$)("kafka").t;return(0,r.jsx)(i.Popover,Xn({alertSeverityVariant:"warning",headerIcon:(0,r.jsx)(s.ExclamationTriangleIcon,{}),headerContent:a("suspend_popover_title"),bodyContent:(0,r.jsx)(i.TextContent,{children:(0,r.jsx)("p",{children:a("suspend_popover_body_1")})}),position:"right",reference:n},{children:t}))},tr=function(e){var t=e.status,n=e.createdAt,i=e.warningAfterMinutes,a=void 0===i?15:i,o=e.errorAfterMinutes,s=void 0===o?30:o,c=e.onClickConnectionTabLink,l=e.onClickSupportLink,u=qn[t],d=(0,v.useState)(!1),p=d[0],f=d[1],m=(0,v.useRef)(null),h=(0,v.useCallback)((function(){var e=(0,Gn.Z)(new Date,n);f(e>s?"error":e>a&&"warning")}),[n,s,a]);(0,Hn.Y)(h,5e3);var g="warning"===p,b="error"===p;return(0,r.jsxs)(r.Fragment,{children:["suspended"===u?(0,r.jsx)(er,{reference:m}):u&&(0,r.jsx)(Yn,{status:u,showWarning:g,showError:b,onClickConnectionTabLink:c,onClickSupportLink:l,reference:m}),(0,r.jsx)(Mn,{value:t,showWarning:g,showError:b,withPopover:void 0!==u,ref:m})]})},nr=n(39430),rr=function(){return rr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},rr.apply(this,arguments)},ir=["name","owner","createdAt","provider","region","status"],ar=["name","owner","createdAt","clusterName","status"],or=function(e){var t,n=e.columns,a=e.instances,s=e.itemCount,c=e.page,l=e.perPage,u=e.names,d=e.owners,p=e.statuses,f=e.getUrlForInstance,m=e.isRowSelected,h=e.isColumnSortable,v=e.onPageChange,g=e.onDetails,b=e.onConnection,y=e.canChangeOwner,x=e.onChangeOwner,j=e.canDelete,_=e.onDelete,k=e.onCreate,C=e.onQuickstartGuide,w=e.onClickConnectionTabLink,S=e.onClickSupportLink,O=e.onInstanceLinkClick,I=e.onSearchName,P=e.onRemoveNameChip,A=e.onRemoveNameChips,E=e.onSearchOwner,R=e.onRemoveOwnerChip,N=e.onRemoveOwnerChips,z=e.onSearchStatus,B=e.onRemoveStatusChip,V=e.onRemoveStatusChips,F=e.onClearAllFilters,H=e.emptyStateNoData,G=e.canHaveInstanceLink,U=e.canOpenConnection,M=(0,o.$)("kafka").t,q=D(),K=u.length>0||d.length>0||p.length>0;return(0,r.jsx)(i.PageSection,rr({isFilled:!0},{children:(0,r.jsx)(L.H,{data:a,columns:"standard"===n?ir:ar,renderHeader:function(e){var t=e.column,n=e.Th,i=e.key;return(0,r.jsx)(n,{children:q.fields[t]},i)},renderCell:function(e){var t=e.column,n=e.row,a=e.Td,o=e.key,s=(0,vn.Z)(n.createdAt),c=G(n);return(0,r.jsx)(a,rr({dataLabel:q.fields[t]},{children:function(){switch(t){case"name":return(0,r.jsx)(i.Button,{variant:"link",component:function(e){return(0,r.jsx)(Q.rU,rr({to:f(n)},e,{children:n.name}))},isInline:!0,isAriaDisabled:!c,isDisabled:!c,onClick:function(){return O(n)}});case"provider":return q.providers[n.provider];case"createdAt":return(0,r.jsxs)(i.Stack,{children:[(0,r.jsx)(i.StackItem,{children:(0,r.jsx)(bn.r,{date:s,format:"distanceToNowWithAgo"})}),n.expiryDate&&(0,r.jsx)(i.StackItem,{children:(0,r.jsx)(T.c,{i18nKey:"will_expire_short",ns:["kafka"],components:{time:(0,r.jsx)(bn.r,{date:(0,vn.Z)(n.expiryDate),format:"expiration"})}})})]});case"status":return(0,r.jsx)(tr,{status:n.status,createdAt:s,onClickConnectionTabLink:function(){return w(n)},onClickSupportLink:S});case"clusterName":return n.clusterName;default:return n[t]}}()}),o)},renderActions:function(e){var t=e.row,n=y(t),i=j(t),a=U(t);return(0,r.jsx)(en,{onDetails:function(){return g(t)},onConnection:function(){return b(t)},canOpenConnection:a,canChangeOwner:n,onChangeOwner:function(){return x(t)},canDelete:i,onDelete:function(){return _(t)}})},onRowClick:function(e){var t=e.row;return g(t)},isColumnSortable:h,isRowSelected:m,isRowDeleted:function(e){var t=e.row;return gn.lO.includes(t.status)},toolbarBreakpoint:"lg",filters:(t={},t[q.fields.name]={type:"search",chips:u,onSearch:I,onRemoveChip:P,onRemoveGroup:A,validate:function(e){return/^[a-z]([-a-z0-9]*[a-z0-9])?$/.test(e)},errorMessage:M("kafka:input_field_invalid_message")},t[q.fields.owner]={type:"search",chips:d,onSearch:E,onRemoveChip:R,onRemoveGroup:N,validate:function(e){return!/["$^<>|+%/;:,\s*=~#()]/.test(e)},errorMessage:M("kafka:input_field_invalid_message")},t[q.fields.status]={type:"checkbox",chips:p,options:q.statusesSimplified,onToggle:z,onRemoveChip:B,onRemoveGroup:V},t),actions:[{label:M("create_instance"),onClick:k,isPrimary:!0}],itemCount:s,page:c,perPage:l,onPageChange:v,onClearAllFilters:F,ariaLabel:M("table.title"),isFiltered:K,emptyStateNoData:H||(0,r.jsx)(nr.mT,{onCreate:k,onQuickstartGuide:C}),emptyStateNoResults:(0,r.jsx)(nr.BF,{onClearAllFilters:F})})}))},sr=(n(12801),n(46635)),cr=n(13585),lr=n(28926),ur=n(89707),dr=n(98079),pr=n(6663),fr=n(63673),mr=n(99791),hr=n(22601),vr=function(e){var t=e.isDisabled,n=e.value,a=e.onChange,o=n?(0,vn.Z)(n):void 0,s=(0,v.useState)(null),c=s[0],l=s[1];return(0,r.jsxs)(i.InputGroup,{children:[(0,r.jsx)(i.DatePicker,{isDisabled:t,value:o?(0,hr.format)(o,"yyyy-MM-dd"):void 0,onChange:function(e,t){t&&a((0,pr.Z)(t))}}),(0,r.jsx)(i.TimePicker,{isDisabled:!o||t,time:c||"",onChange:function(e,t,n,r,i){if(i&&o&&null!=t&&t>0&&(e.includes("AM")||e.includes("PM"))){var s=o;void 0!==t&&(s=(0,fr.Z)(s,t)),void 0!==n&&(s=(0,mr.Z)(s,n)),l(e),a((0,pr.Z)(s))}}})]})},gr=function(){return gr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},gr.apply(this,arguments)},br=function(e){var t=e.isDisabled,n=e.offset,a=e.epoch,s=e.timestamp,c=e.onOffsetChange,l=e.onTimestampChange,u=e.onEpochChange,d=e.onLatest,p=(0,o.$)("message-browser").t,f=(0,v.useState)("latest"),m=f[0],h=f[1],g=(0,v.useState)(!1),b=g[0],y=g[1],x={offset:p("filter.offset"),timestamp:p("filter.timestamp"),epoch:p("filter.epoch"),latest:p("filter.latest")};return(0,r.jsx)(i.ToolbarItem,{children:(0,r.jsxs)(i.InputGroup,{children:[(0,r.jsx)(i.Dropdown,{"data-testid":"filter-group-dropdown",toggle:(0,r.jsx)(i.DropdownToggle,gr({onToggle:y,isDisabled:t,"data-testid":"filter-group"},{children:x[m]})),position:i.DropdownPosition.left,isOpen:b,onSelect:function(){return y(!1)},dropdownItems:[(0,r.jsx)(i.DropdownItem,gr({value:"offset",autoFocus:"offset"===m,onClick:function(){return h("offset")}},{children:x.offset}),"offset"),(0,r.jsx)(i.DropdownItem,gr({value:"timestamp",autoFocus:"timestamp"===m,onClick:function(){return h("timestamp")}},{children:x.timestamp}),"timestamp"),(0,r.jsx)(i.DropdownItem,gr({value:"epoch",autoFocus:"epoch"===m,onClick:function(){return h("epoch")}},{children:x.epoch}),"epoch"),(0,r.jsx)(i.DropdownSeparator,{},"divider"),(0,r.jsx)(i.DropdownItem,gr({value:"latest",autoFocus:"latest"===m,onClick:function(){h("latest"),d()}},{children:x.latest}),"latest")]}),"offset"===m&&(0,r.jsx)(i.TextInput,{isDisabled:t,type:"number","aria-label":p("filter.offset_aria_label"),placeholder:p("filter.offset_placeholder"),onChange:function(e){if(""!==e){var t=parseInt(e,10);Number.isInteger(t)&&c(t)}else c(void 0)},value:void 0===n?"":n}),"timestamp"===m&&(0,r.jsx)(vr,{isDisabled:t,value:s,onChange:l}),"epoch"===m&&(0,r.jsx)(i.TextInput,{isDisabled:t,type:"number","aria-label":p("filter.epoch_aria_label"),placeholder:p("filter.epoch_placeholder"),className:"pf-u-flex-basis-auto pf-u-flex-grow-0 pf-u-w-initial",size:p("filter.epoch_placeholder").length,onChange:function(e){""!==e&&Number(e)>=0?u(Number(e)):u(void 0)},value:null==a?"":a})]})})},yr=function(){return yr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},yr.apply(this,arguments)},xr=function(e){var t=e.value,n=e.isDisabled,a=e.onChange,s=(0,o.$)("message-browser").t,c=(0,v.useState)(!1),l=c[0],u=c[1];return(0,r.jsxs)(i.InputGroup,{children:[(0,r.jsx)(i.InputGroupText,yr({className:"pf-c-content"},{children:s("limit_label")})),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",yr({id:"limit-selector",hidden:!0},{children:"Select a state"})),(0,r.jsx)(i.Select,yr({"aria-label":s("per_page_aria_label"),onToggle:function(e){return u(e)},selections:void 0!==t?[s("limit",{value:t})]:void 0,isOpen:l,isDisabled:n,onSelect:function(){return u(!1)},"data-testid":"limit-selector"},{children:[10,20,50].map((function(e,t){return(0,r.jsx)(i.SelectOption,{value:s("limit",{value:e}),onClick:function(){return a(e)}},t)}))}))]})]})};function jr(e,t){return JSON.stringify(e)===JSON.stringify(t)}function _r(e){try{return JSON.stringify(JSON.parse(e),null,2)}catch(e){}return e}var kr,Cr,wr,Sr,Tr=function(){return Tr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Tr.apply(this,arguments)},Or=function(e){var t=e.columnLabel,n=(0,o.$)("common").t;return(0,r.jsx)("span",Tr({className:"pf-u-color-400"},{children:n("table_cell_no_data",{column:t})}))},Ir=function(){return Ir=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ir.apply(this,arguments)},Pr=function(e){var t=e.onClose,n=e.defaultTab,a=e.message,s=(0,o.$)("message-browser").t;return(0,r.jsxs)(i.DrawerPanelContent,Ir({isResizable:!0,minSize:"400px"},{children:[(0,r.jsxs)(i.DrawerHead,{children:[(0,r.jsx)(i.TextContent,{children:(0,r.jsx)(i.Text,Ir({component:i.TextVariants.h2},{children:s("message")}))}),(0,r.jsx)(i.DrawerActions,{children:(0,r.jsx)(i.DrawerCloseButton,{onClick:t})})]}),(0,r.jsx)(i.DrawerContentBody,{children:a&&(0,r.jsx)(Ar,Ir({defaultTab:n,messageKey:a.key},a))})]}))},Ar=function(e){var t=e.defaultTab,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["defaultTab"]),a=(0,o.$)("message-browser").t;return(0,r.jsxs)(i.Flex,Ir({direction:{default:"column"},"data-testid":"message-details"},{children:[(0,r.jsx)(i.FlexItem,{children:(0,r.jsxs)(i.DescriptionList,Ir({isHorizontal:!0,isCompact:!0},{children:[(0,r.jsxs)(i.DescriptionListGroup,{children:[(0,r.jsx)(i.DescriptionListTerm,{children:a("field.partition")}),(0,r.jsx)(i.DescriptionListDescription,{children:n.partition})]}),(0,r.jsxs)(i.DescriptionListGroup,{children:[(0,r.jsx)(i.DescriptionListTerm,{children:a("field.offset")}),(0,r.jsx)(i.DescriptionListDescription,{children:n.offset})]}),(0,r.jsxs)(i.DescriptionListGroup,{children:[(0,r.jsx)(i.DescriptionListTerm,{children:a("field.timestamp")}),(0,r.jsx)(i.DescriptionListDescription,{children:n.timestamp?(0,r.jsx)(bn.r,{date:(0,vn.Z)(n.timestamp),format:"longWithMilliseconds"}):(0,r.jsx)(Or,{columnLabel:a("field.timestamp")})})]}),(0,r.jsxs)(i.DescriptionListGroup,{children:[(0,r.jsx)(i.DescriptionListTerm,{children:a("field.epoch")}),(0,r.jsx)(i.DescriptionListDescription,{children:n.timestamp?(0,r.jsx)(bn.r,{date:(0,vn.Z)(n.timestamp),format:"epoch"}):(0,r.jsx)(Or,{columnLabel:a("field.epoch")})})]}),(0,r.jsxs)(i.DescriptionListGroup,{children:[(0,r.jsx)(i.DescriptionListTerm,{children:a("field.key")}),(0,r.jsx)(i.DescriptionListDescription,{children:n.messageKey?n.messageKey:(0,r.jsx)(Or,{columnLabel:a("field.key")})})]})]}))}),(0,r.jsx)(i.FlexItem,{children:(0,r.jsxs)(i.Tabs,Ir({defaultActiveKey:t},{children:[(0,r.jsx)(i.Tab,Ir({eventKey:"value",title:(0,r.jsx)(i.TabTitleText,{children:a("field.value")})},{children:(0,r.jsx)(i.ClipboardCopy,Ir({isCode:!0,isExpanded:!0,isReadOnly:!0},{children:_r(n.value||"")}))})),(0,r.jsx)(i.Tab,Ir({eventKey:"headers",title:(0,r.jsx)(i.TabTitleText,{children:a("field.headers")})},{children:(0,r.jsx)(i.ClipboardCopy,Ir({isCode:!0,isExpanded:!0,isReadOnly:!0},{children:_r(JSON.stringify(n.headers)||"")}))}))]}),Math.random())})]}))},Lr=function(){return Lr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Lr.apply(this,arguments)},Er=function(e){var t=e.onRefresh,n=(0,o.$)("message-browser").t;return(0,r.jsxs)(i.EmptyState,Lr({variant:i.EmptyStateVariant.large},{children:[(0,r.jsx)(i.EmptyStateIcon,{icon:s.CubesIcon}),(0,r.jsx)(i.Title,Lr({headingLevel:"h4",size:"lg"},{children:n("no_data_title")})),(0,r.jsx)(i.EmptyStateBody,{children:n("no_data_body")}),(0,r.jsx)(i.Button,Lr({onClick:t},{children:n("no_data_refresh")}))]}))},Dr=function(){return Dr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Dr.apply(this,arguments)},Rr=function(e){var t=e.onReset,n=(0,o.$)("message-browser").t;return(0,r.jsxs)(i.EmptyState,Dr({variant:i.EmptyStateVariant.large},{children:[(0,r.jsx)(i.EmptyStateIcon,{icon:s.SearchIcon}),(0,r.jsx)(i.Title,Dr({headingLevel:"h4",size:"lg"},{children:n("no_results_title")})),(0,r.jsx)(i.EmptyStateBody,{children:n("no_results_body")}),(0,r.jsx)(i.Button,Dr({variant:"link",onClick:t},{children:n("no_results_reset")}))]}))},Nr=function(){return Nr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Nr.apply(this,arguments)},zr=function(e){var t=e.min,n=e.max,a=(0,o.$)("message-browser").t;return(0,r.jsx)(i.TextContent,Nr({className:"pf-u-font-size"},{children:(0,r.jsxs)(i.Text,{children:[a("offset")," ",(0,r.jsx)("span",Nr({className:"custom-text"},{children:t}))," -"," ",(0,r.jsx)("span",Nr({className:"custom-text"},{children:n}))]})}))},Br=function(){return Br=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Br.apply(this,arguments)},Vr=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Fr=function(e){var t=e.value,n=e.partitions,a=e.isDisabled,s=e.onChange,c=(0,o.$)("message-browser").t,l=(0,v.useState)(!1),u=l[0],d=l[1],p="partition-selector",f=(0,v.useCallback)((function(e){if(""!==e){var t=parseInt(e,10);Number.isInteger(t)&&s(t)}d(!1)}),[s]),m=(0,v.useMemo)((function(){return new Array(n).fill(0).map((function(e,t){return t.toString()}))}),[n]),h=(0,v.useCallback)((function(e){var t=e.slice(0,20).map((function(e){return(0,r.jsx)(i.SelectOption,{value:e},e)})),n=e.length-t.length;return n?Vr(Vr([],t,!0),[(0,r.jsx)(i.SelectOption,{isDisabled:!0,description:c("partitions_hidden",{count:n})},"more-info")],!1):t}),[c]),g=(0,v.useMemo)((function(){return h(m)}),[m,h]),b=(0,v.useCallback)((function(e,t){return""!==t?h(m.filter((function(e){return e.includes(t)}))):g}),[m,h,g]);return(0,r.jsxs)(i.InputGroup,{children:[(0,r.jsx)(i.InputGroupText,Br({className:"pf-c-content"},{children:c("field.partition")})),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",Br({id:p,hidden:!0},{children:c("select_partition_aria_label")})),(0,r.jsx)(i.Select,Br({variant:i.SelectVariant.typeahead,typeAheadAriaLabel:c("select_partition_typeahead"),onToggle:function(e){return d(e)},onSelect:function(e,t){return f(t)},selections:void 0!==t?["".concat(t)]:void 0,isOpen:u,"aria-labelledby":p,maxHeight:200,width:150,onFilter:b,isInputValuePersisted:!1,isDisabled:a,placeholderText:c("partition_placeholder"),onClear:function(){return s(void 0)},"data-testid":"partition-selector"},{children:g}))]}),(0,r.jsx)(i.InputGroupText,Br({id:"".concat(p,"-input"),variant:i.InputGroupTextVariant.plain,className:"pf-c-content"},{children:c("select_partition_of_count",{partitions:n})}))]})},Hr=function(){return Hr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Hr.apply(this,arguments)},Gr=function(e){var t=e.value,n=e.truncateAt,a=void 0===n?170:n,s=e.onClick,c=(0,o.$)("message-browser").t,l=function(e,t){var n=e.length>t;return[n?"".concat(e.substring(0,t),"..."):e,n]}(t,a),u=l[0],d=l[1];return(0,r.jsxs)(i.Flex,Hr({direction:{default:"column"},spaceItems:{default:"spaceItemsXs"}},{children:[(0,r.jsx)(i.FlexItem,{children:u}),d&&(0,r.jsx)(i.FlexItem,{children:(0,r.jsx)("a",Hr({onClick:s?function(e){e.stopPropagation(),s()}:void 0},{children:c("show_more")}))})]}))},Ur=(0,W.C)({id:"message-browser",predictableActionArguments:!0,tsTypes:{},schema:{context:{},events:{}},initial:"initialLoading",context:{response:void 0,limit:10,partition:void 0,offset:void 0,timestamp:void 0,selectedMessage:void 0,epoch:void 0},states:{initialLoading:{invoke:{src:"api"},on:{fetchSuccess:{actions:"setMessages",target:"verifyMessages"},fetchFail:"error"}},verifyMessages:{always:[{cond:"noMessages",target:"noData"},{target:"ready"}]},noData:{on:{refresh:"initialLoading"}},error:{on:{refresh:"initialLoading"}},ready:{initial:"pristine",states:{pristine:{},dirty:{tags:"dirty"},shouldSearch:{always:[{cond:"areFiltersChanged",target:"dirty"},{target:"pristine"}]}},always:[{cond:"selectedMessageNotAvailable",actions:"deselectMessage"}],on:{refresh:"refreshing",setPartition:{target:".shouldSearch",actions:"setPartition"},setEpoch:{actions:"setEpoch",target:".shouldSearch"},setTimestamp:{target:".shouldSearch",actions:"setTimestamp"},setOffset:{target:".shouldSearch",actions:"setOffset"},setLatest:{target:".shouldSearch",actions:"setLatest"},setLimit:{target:".shouldSearch",actions:"setLimit"},selectMessage:{actions:"selectMessage"},deselectMessage:{actions:"deselectMessage"}}},refreshing:{invoke:{src:"api"},on:{fetchSuccess:{actions:"setMessages",target:"ready"},fetchFail:{target:"ready"}}}}},{actions:{setMessages:(0,J.f0)((function(e,t){var n=t.messages,r=t.partitions,i=t.offsetMin,a=t.offsetMax;return{response:{lastUpdated:new Date,messages:n,partitions:r,offsetMin:i,offsetMax:a,filter:{partition:e.partition,timestamp:e.timestamp,offset:e.offset,limit:e.limit,epoch:e.epoch}}}})),setPartition:(0,J.f0)((function(e,t){return{partition:t.value}})),setEpoch:(0,J.f0)((function(e,t){return{epoch:t.value}})),setTimestamp:(0,J.f0)((function(e,t){return{timestamp:t.value}})),setOffset:(0,J.f0)((function(e,t){return{offset:t.value}})),setLimit:(0,J.f0)((function(e,t){return{limit:t.value}})),setLatest:(0,J.f0)((function(e){return{timestamp:void 0,offset:void 0}})),selectMessage:(0,J.f0)((function(e,t){return{selectedMessage:t.message}})),deselectMessage:(0,J.f0)((function(e){return{selectedMessage:void 0}}))},guards:{noMessages:function(e){var t=e.response;return void 0===t||0===t.messages.length},selectedMessageNotAvailable:function(e){var t=e.response,n=e.selectedMessage;return void 0!==n&&void 0===(null==t?void 0:t.messages.find((function(e){return jr(e,n)})))},areFiltersChanged:function(e){var t,n,r,i,a;return(null===(t=e.response)||void 0===t?void 0:t.filter.limit)!==e.limit||(null===(n=e.response)||void 0===n?void 0:n.filter.offset)!==e.offset||(null===(r=e.response)||void 0===r?void 0:r.filter.partition)!==e.partition||(null===(i=e.response)||void 0===i?void 0:i.filter.timestamp)!==e.timestamp||(null===(a=e.response)||void 0===a?void 0:a.filter.epoch)!==e.epoch}}}),Mr=function(){return Mr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Mr.apply(this,arguments)},Qr=["partition","offset","timestamp","key","headers","value"],qr=[10,10,15,10,void 0,30],Kr=function(e){var t,n=e.getMessages,i=(0,dr.e)((function(){return Ur}),{devTools:!0,services:{api:function(e){return function(t){n({partition:e.partition,offset:e.offset,timestamp:e.timestamp,limit:e.limit}).then((function(n){var r=n.messages,i=n.partitions;return t({type:"fetchSuccess",messages:r,partitions:i,offsetMin:e.offset||0,offsetMax:r.reduce((function(e,t){return Math.max(e,t.offset||0)}),0)})})).catch((function(){return t({type:"fetchFail"})}))}}}}),a=i[0],o=i[1];return(0,r.jsx)($r,{isFirstLoad:a.matches("initialLoading"),isNoData:a.matches("noData")||a.matches("error"),isRefreshing:a.matches("refreshing"),requiresSearch:a.hasTag("dirty"),selectedMessage:a.context.selectedMessage,response:a.context.response,lastUpdated:null===(t=a.context.response)||void 0===t?void 0:t.lastUpdated,partition:a.context.partition,limit:a.context.limit,filterOffset:a.context.offset,filterEpoch:a.context.epoch,filterTimestamp:a.context.timestamp,setPartition:function(e){return o({type:"setPartition",value:e})},setOffset:function(e){return o({type:"setOffset",value:e})},setTimestamp:function(e){return o({type:"setTimestamp",value:e})},setEpoch:function(e){return o({type:"setEpoch",value:e})},setLatest:function(){return o({type:"setLatest"})},setLimit:function(e){return o({type:"setLimit",value:e})},refresh:function(){return o({type:"refresh"})},selectMessage:function(e){return o({type:"selectMessage",message:e})},deselectMessage:function(){return o({type:"deselectMessage"})}})},$r=function(e){var t,n=e.isFirstLoad,c=e.isNoData,l=e.isRefreshing,u=e.requiresSearch,d=e.selectedMessage,p=e.response,f=e.partition,m=e.limit,h=e.filterOffset,g=e.filterEpoch,b=e.filterTimestamp,y=e.setPartition,x=e.setOffset,j=e.setTimestamp,_=e.setEpoch,k=e.setLatest,C=e.setLimit,w=e.refresh,S=e.selectMessage,T=e.deselectMessage,O=(0,o.$)("message-browser").t,I=(0,v.useState)("value"),P=I[0],A=I[1],L=(0,v.useMemo)((function(){return{partition:O("field.partition"),offset:O("field.offset"),timestamp:O("field.timestamp"),key:O("field.key"),value:O("field.value"),headers:O("field.headers")}}),[O]);switch(!0){case n:return(0,r.jsx)(cr.g,{});case c:return(0,r.jsx)(Er,{onRefresh:w});default:return(0,r.jsx)(i.PageSection,Mr({isFilled:!0,hasOverflowScroll:!0,"aria-label":"TODO"},{children:(0,r.jsx)(i.Drawer,Mr({isInline:!0,isExpanded:void 0!==d},{children:(0,r.jsx)(i.DrawerContent,Mr({panelContent:(0,r.jsx)(Pr,{message:d,defaultTab:P,onClose:T})},{children:(0,r.jsxs)(a.OuterScrollContainer,{children:[(0,r.jsx)(i.Toolbar,Mr({className:"mas-KafkaMessageBrowser-Toolbar","data-testid":"message-browser-toolbar"},{children:(0,r.jsxs)(i.ToolbarContent,{children:[(0,r.jsxs)(i.ToolbarToggleGroup,Mr({toggleIcon:(0,r.jsx)(s.FilterIcon,{}),breakpoint:"2xl"},{children:[(0,r.jsx)(i.ToolbarGroup,Mr({variant:"filter-group"},{children:(0,r.jsx)(i.ToolbarItem,{children:(0,r.jsx)(Fr,{value:f,partitions:(null==p?void 0:p.partitions)||0,onChange:y,isDisabled:l})})})),(0,r.jsx)(i.ToolbarGroup,Mr({variant:"filter-group"},{children:(0,r.jsx)(br,{isDisabled:l,offset:h,epoch:g,timestamp:b,onOffsetChange:x,onTimestampChange:j,onEpochChange:_,onLatest:k})})),(0,r.jsx)(i.ToolbarGroup,{children:(0,r.jsx)(xr,{value:m,onChange:C,isDisabled:l})})]})),(0,r.jsxs)(i.ToolbarGroup,{children:[(0,r.jsx)(i.ToolbarItem,{children:(0,r.jsx)(i.Button,Mr({variant:"plain",isDisabled:!u||l,"aria-label":O("common:search_button_label"),onClick:w},{children:(0,r.jsx)(s.SearchIcon,{})}))}),(0,r.jsx)(i.ToolbarItem,{children:(0,r.jsx)(lr.t,{onClick:w,isRefreshing:l,isDisabled:u})})]}),(0,r.jsx)(i.ToolbarGroup,Mr({alignment:{default:"alignRight"}},{children:void 0!==(null==p?void 0:p.filter.partition)&&(null==p?void 0:p.messages.length)>0&&(0,r.jsx)(zr,{min:(null==p?void 0:p.offsetMin)||0,max:(null==p?void 0:p.offsetMax)||0})}))]})})),(0,r.jsx)(a.InnerScrollContainer,{children:(0,r.jsx)(ur.Uh,Mr({ariaLabel:O("table_aria_label"),columns:Qr,data:null==p?void 0:p.messages,expectedLength:null===(t=null==p?void 0:p.messages)||void 0===t?void 0:t.length,renderHeader:function(e){var t=e.column,n=e.Th,i=e.key;return(0,r.jsx)(n,{children:L[t]},i)},renderCell:function(e){var t=e.column,n=e.row,i=e.colIndex,a=e.Td,o=e.key;return(0,r.jsx)(a,Mr({dataLabel:L[t],width:qr[i]},{children:function(){var e=(0,r.jsx)(Or,{columnLabel:L[t]});switch(t){case"partition":return n.partition;case"offset":return n.offset;case"timestamp":return n.timestamp?(0,r.jsx)(bn.r,{date:(0,vn.Z)(n.timestamp),format:"longWithMilliseconds"}):e;case"key":return n.key?(0,r.jsx)(Gr,{value:n.key,truncateAt:40}):e;case"headers":return Object.keys(n.headers).length>0?(0,r.jsx)(Gr,{value:_r(JSON.stringify(n.headers)),onClick:function(){A("headers"),S(n)}}):e;case"value":return n.value?(0,r.jsx)(Gr,{value:_r(n.value||""),onClick:function(){A("value"),S(n)}}):e}}()}),o)},isRowSelected:function(e){var t=e.row;return void 0!==d&&jr(t,d)},onRowClick:function(e){var t=e.row;A("value"),S(t)}},{children:(0,r.jsx)(Rr,{onReset:function(){k(),y(void 0),w()}})}))})]})}))}))}))}},Wr=n(82008),Jr=function(){return Jr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Jr.apply(this,arguments)},Zr=function(){var e=(0,o.$)("kafkaoverview-v2").t,t={name:"",firstStreamingUnit:e("firstStreamingUnit"),secondStreamingUnit:e("secondStreamingUnit")};return(0,r.jsxs)(a.TableComposable,{children:[(0,r.jsx)(a.Thead,{children:(0,r.jsxs)(a.Tr,{children:[(0,r.jsx)(a.Th,{children:t.name}),(0,r.jsx)(a.Th,{children:t.firstStreamingUnit}),(0,r.jsx)(a.Th,{children:t.secondStreamingUnit})]})}),(0,r.jsx)(a.Tbody,{children:[{name:"Ingress (MB/second)",firstStreamingUnit:"up to 50",secondStreamingUnit:"up to 100"},{name:"Egress (MB/second)",firstStreamingUnit:"up to 100",secondStreamingUnit:"up to 200"},{name:"Storage* (GB)",firstStreamingUnit:"up to 1000",secondStreamingUnit:"up to 2000"},{name:"Topic partitions",firstStreamingUnit:"up to 1500",secondStreamingUnit:"up to 3000"},{name:"Client connections",firstStreamingUnit:"up to 3000",secondStreamingUnit:"up to 6000"},{name:"Connection rate (connections/second)",firstStreamingUnit:"up to 100",secondStreamingUnit:"up to 200"},{name:"Message size (MB)",firstStreamingUnit:"up to 1",secondStreamingUnit:"up to 1"}].map((function(e){return(0,r.jsxs)(a.Tr,{children:[(0,r.jsx)(a.Td,Jr({dataLabel:t.name},{children:e.name})),(0,r.jsx)(a.Td,Jr({dataLabel:t.firstStreamingUnit},{children:e.firstStreamingUnit})),(0,r.jsx)(a.Td,Jr({dataLabel:t.secondStreamingUnit},{children:e.secondStreamingUnit}))]},e.name)}))})]})},Yr=n(72779),Xr=n.n(Yr),ei=function(){return ei=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ei.apply(this,arguments)},ti=function(e){var t=e.title,n=e.tagLine,a=e.description,o=e.description2,s=e.heroImage,c=e.heroImageSize,l=e.heroImageCanRepeat,u=void 0===l||l,d=e.heroImagePositionY,p=void 0===d?0:d,f=e.cta,m=e.variant,h=void 0===m?"light":m,v={"--appsrv-marketing--banner--before--BackgroundImage":"url(".concat(s,")"),"--appsrv-marketing--banner--before--BackgroundSize":"".concat(c,"px"),"--appsrv-marketing--banner--before--BackgroundRepeat":u?"repeat":"no-repeat","--appsrv-marketing--banner--before--BackgroundPositionY":"".concat(p,"px")};return(0,r.jsx)(i.PageSection,ei({className:Xr()("appsrv-marketing--banner",{"pf-u-background-color-dark-100":"dark"===h,"pf-u-background-color-100":"light"===h}),variant:"dark"===h?i.PageSectionVariants.dark:i.PageSectionVariants.light,style:v},{children:(0,r.jsxs)(i.Stack,ei({hasGutter:!0},{children:[(0,r.jsx)(i.Title,ei({headingLevel:"h1",size:"2xl"},{children:t})),(0,r.jsx)(i.Text,ei({className:"appsrv-marketing--banner__tagline ".concat("dark"===h?"":"pf-u-color-200")},{children:n})),(0,r.jsx)(i.Text,ei({component:i.TextVariants.p},{children:a})),o&&(0,r.jsx)(i.Text,ei({component:i.TextVariants.p,className:"pf-u-mt-md"},{children:o})),f&&(0,r.jsx)(i.StackItem,{children:f})]}))}))},ni=function(e){var t=e.className,n=void 0===t?"appsrv-marketing--page-section--marketing":t,a=e.variant,o=void 0===a?"default":a,s=e.children;return(0,r.jsx)(i.PageSection,ei({isWidthLimited:!0,className:Xr()(n,{"pf-u-background-color-dark-100":"dark"===o,"pf-u-background-color-100":"light"===o}),variant:"dark"===o?i.PageSectionVariants.dark:"light"===o?i.PageSectionVariants.light:i.PageSectionVariants.default},{children:s}))},ri=function(){return ri=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ri.apply(this,arguments)},ii=function(){var e=(0,o.$)(["kafkaoverview-v3"]).t;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ti,{title:e("heroTitle"),tagLine:e("heroTagline"),description:e("heroDescription"),heroImage:Wr.VB,heroImageSize:478,heroImageCanRepeat:!1,heroImagePositionY:-99}),(0,r.jsx)(ni,{children:(0,r.jsxs)(i.Grid,ri({hasGutter:!0,lg:6},{children:[(0,r.jsxs)(i.Card,ri({ouiaId:"card-overview-purchase-now","aria-label":e("kafkaoverview:purchaseCardTitle")},{children:[(0,r.jsx)(i.CardHeader,{children:(0,r.jsx)(i.CardHeaderMain,{children:(0,r.jsx)(i.CardTitle,{children:(0,r.jsx)(i.Title,ri({headingLevel:"h2"},{children:(0,r.jsx)(T.c,ri({ns:"kafkaoverview-v3",i18nKey:"purchaseCardTitle"},{children:(0,r.jsx)("span",{className:"pf-u-color-200 pf-u-font-size-sm"})}))}))})})}),(0,r.jsx)(i.CardBody,{children:e("purchaseCardMainText")}),(0,r.jsx)(i.CardFooter,{children:(0,r.jsxs)(i.Flex,ri({spaceItems:{default:"spaceItems2xl"}},{children:[(0,r.jsx)(i.FlexItem,{children:(0,r.jsx)(M.d,ri({href:"https://marketplace.redhat.com/en-us/products/red-hat-openshift-streams-for-apache-kafka",testId:"cardPurchase-buttonRH",className:"pf-u-ml-md "},{children:(0,r.jsx)(T.c,{ns:"kafkaoverview-v3",i18nKey:"purchaseCardCallToActionButtonRedHat",components:{bold:(0,r.jsx)("strong",{}),size:(0,r.jsx)("span",{className:"pf-u-font-size-lg"})}})}))}),(0,r.jsx)(i.FlexItem,{children:(0,r.jsx)(M.d,ri({href:"https://aws.amazon.com/marketplace/pp/prodview-3xohcoyuwkumc",testId:"cardPurchase-buttonAWS",className:"pf-u-ml-md"},{children:(0,r.jsx)(T.c,{ns:"kafkaoverview-v3",i18nKey:"purchaseCardCallToActionButtonAWS",components:{bold:(0,r.jsx)("strong",{}),size:(0,r.jsx)("span",{className:"pf-u-font-size-lg"})}})}))})]}))})]})),(0,r.jsxs)(i.Card,ri({ouiaId:"card-overview-contact-sales","aria-label":e("kafkaoverview:contactSalesCardTitle")},{children:[(0,r.jsx)(i.CardHeader,{children:(0,r.jsx)(i.CardTitle,{children:(0,r.jsx)(i.Title,ri({headingLevel:"h2"},{children:(0,r.jsx)(T.c,ri({ns:"kafkaoverview-v3",i18nKey:"contactSalesCardTitle"},{children:(0,r.jsx)("span",{className:"pf-u-color-200 pf-u-font-size-sm"})}))}))})}),(0,r.jsx)(i.CardBody,{children:e("contactSalesCardMainText")}),(0,r.jsx)(i.CardFooter,{children:(0,r.jsx)(M.d,ri({href:"https://www.redhat.com/en/technologies/cloud-computing/openshift/openshift-streams-for-apache-kafka#contact-us",testId:"cardContactSales-buttonCTA",className:"pf-u-ml-md"},{children:(0,r.jsx)(T.c,{ns:"kafkaoverview-v3",i18nKey:"contactSalesCardCallToActionButton",components:{bold:(0,r.jsx)("strong",{}),size:(0,r.jsx)("span",{className:"pf-u-font-size-lg"})}})}))})]}))]}))}),(0,r.jsx)(ni,ri({className:"kafka-overview--page-section--marketing"},{children:(0,r.jsxs)(i.Card,{children:[(0,r.jsx)(i.CardTitle,{children:(0,r.jsx)(i.Title,ri({headingLevel:"h2"},{children:e("pricingModalTitle")}))}),(0,r.jsx)(i.CardBody,{children:(0,r.jsxs)(i.Flex,ri({spaceItems:{default:"spaceItemsXl"}},{children:[(0,r.jsx)(i.Flex,ri({alignSelf:{default:"alignSelfCenter"},justifyContent:{default:"justifyContentCenter"},flex:{default:"flex_1"}},{children:(0,r.jsx)(i.FlexItem,{children:(0,r.jsxs)(i.DescriptionList,ri({isHorizontal:!0},{children:[(0,r.jsxs)(i.DescriptionListGroup,{children:[(0,r.jsx)(i.DescriptionListTerm,{children:e("steamingUnit")}),(0,r.jsx)(i.DescriptionListDescription,{children:e("streamingUnit_price")})]}),(0,r.jsxs)(i.DescriptionListGroup,{children:[(0,r.jsx)(i.DescriptionListTerm,{children:e("dataTransfer")}),(0,r.jsx)(i.DescriptionListDescription,{children:e("dataTransfer_price")})]}),(0,r.jsxs)(i.DescriptionListGroup,{children:[(0,r.jsx)(i.DescriptionListTerm,{children:e("storage")}),(0,r.jsx)(i.DescriptionListDescription,{children:e("storage_price")})]})]}))})})),(0,r.jsx)(i.Divider,{isVertical:!0}),(0,r.jsx)(i.FlexItem,ri({flex:{default:"flex_1"}},{children:(0,r.jsx)(i.TextContent,{children:(0,r.jsx)(i.Text,ri({component:i.TextVariants.p},{children:(0,r.jsx)(T.c,{ns:"kafkaoverview-v3",i18nKey:"streamingUnitText",components:{bold:(0,r.jsx)("strong",{})}})}))})}))]}))})]})})),(0,r.jsx)(ni,ri({className:"kafka-overview--page-section--marketing"},{children:(0,r.jsxs)(i.Card,{children:[(0,r.jsx)(i.CardTitle,{children:(0,r.jsx)(i.Title,ri({headingLevel:"h2"},{children:e("kafkaInstanceCapacityTitle")}))}),(0,r.jsx)(i.CardBody,{children:(0,r.jsxs)(i.Stack,ri({hasGutter:!0},{children:[(0,r.jsx)(i.Text,ri({component:i.TextVariants.p},{children:e("kafkaInstanceCapacityDescription")})),(0,r.jsx)(Zr,{})]}))}),(0,r.jsx)(i.CardFooter,{children:(0,r.jsx)(i.TextContent,ri({className:"pf-u-font-size-sm"},{children:(0,r.jsx)(T.c,{ns:"kafkaoverview-v3",i18nKey:"kafkaInstanceCapacityfooter",components:[(0,r.jsx)(M.d,{href:"https://access.redhat.com/support",testId:"SupportLink",className:"pf-u-ml-xs"}),(0,r.jsx)(M.d,{href:"https://access.redhat.com/documentation/en-us/red_hat_openshift_streams_for_apache_kafka/1/guide/aced8e5e-8229-4cb2-82f9-87a8caa24bb3",testId:"MonitoringDiskSpaceLink",className:"pf-u-ml-xs"})]})}))})]})})),(0,r.jsx)(ni,ri({className:"kafka-overview--page-section--marketing"},{children:(0,r.jsxs)(i.Card,{children:[(0,r.jsx)(i.CardTitle,{children:(0,r.jsx)(i.Title,ri({headingLevel:"h2"},{children:e("cloudProvidersTitle")}))}),(0,r.jsx)(i.CardBody,{children:(0,r.jsxs)(i.Flex,ri({spaceItems:{default:"spaceItemsXl"},direction:{default:"column",xl:"row"}},{children:[(0,r.jsx)(i.Flex,ri({justifyContent:{default:"justifyContentCenter"},flex:{default:"flex_1"}},{children:(0,r.jsx)(i.FlexItem,{children:(0,r.jsxs)(i.Split,ri({hasGutter:!0},{children:[(0,r.jsx)(i.SplitItem,{children:(0,r.jsx)("img",{src:ce,alt:"",style:{height:"60px"}})}),(0,r.jsx)(i.SplitItem,{children:(0,r.jsx)(i.Title,ri({headingLevel:"h2",className:"pf-u-pt-sm"},{children:e("awsWebServiceTitle")}))})]}))})})),(0,r.jsx)(i.Divider,{orientation:{default:"horizontal",xl:"vertical"}}),(0,r.jsx)(i.Flex,ri({justifyContent:{default:"justifyContentCenter"},flex:{default:"flex_1"}},{children:(0,r.jsx)(i.FlexItem,{children:(0,r.jsxs)(i.Split,ri({hasGutter:!0},{children:[(0,r.jsx)(i.SplitItem,{children:(0,r.jsx)("img",{src:ue,alt:"",style:{height:"60px"}})}),(0,r.jsxs)(i.SplitItem,{children:[(0,r.jsx)(i.Title,ri({headingLevel:"h2",className:"pf-u-pt-sm"},{children:e("googleCloudProviderTitle")})),(0,r.jsx)(i.Text,ri({component:i.TextVariants.p,className:"pf-u-color-200"},{children:e("googleCloudProviderDescription")}))]})]}))})})),(0,r.jsx)(i.Divider,{orientation:{default:"horizontal",xl:"vertical"}}),(0,r.jsx)(i.Flex,ri({justifyContent:{default:"justifyContentCenter"},flex:{default:"flex_1"}},{children:(0,r.jsx)(i.FlexItem,{children:(0,r.jsxs)(i.Split,ri({hasGutter:!0},{children:[(0,r.jsx)(i.SplitItem,{children:(0,r.jsx)("img",{src:le,alt:"",style:{height:"60px"}})}),(0,r.jsxs)(i.SplitItem,{children:[(0,r.jsx)(i.Title,ri({headingLevel:"h2",className:"pf-u-pt-sm"},{children:e("microsoftAzureTitle")})),(0,r.jsx)(i.Text,ri({component:i.TextVariants.p,className:"pf-u-color-200"},{children:e("microsoftAzureDescription")}))]})]}))})}))]}))})]})}))]})},ai=function(){return ai=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ai.apply(this,arguments)},oi=function(e){var t=e.onCreateTopic,n=(0,o.$)("topic").t;return(0,r.jsxs)(i.EmptyState,ai({"data-ouia-page-id":"emptyStateTopics",variant:i.EmptyStateVariant.large},{children:[(0,r.jsx)(i.EmptyStateIcon,{icon:s.PlusCircleIcon}),(0,r.jsx)(i.Title,ai({headingLevel:"h2",size:"lg"},{children:n("empty_topics_title")})),(0,r.jsx)(i.EmptyStateBody,{children:n("empty_topics_body")}),(0,r.jsx)(i.Button,ai({"data-testid":"actionCreateTopic",ouiaId:"button-create",variant:"primary",onClick:t},{children:n("create_topic")}))]}))};!function(e){e.MILLISECOND="milliseconds",e.SECOND="seconds",e.MINUTE="minutes",e.HOUR="hours",e.DAY="days",e.WEEK="weeks",e.CUSTOM="custom",e.UNLIMITED="unlimited"}(wr||(wr={})),function(e){e.BYTE="bytes",e.KIBIBYTE="kibibytes",e.MEBIBYTE="mebibytes",e.GIBIBYTE="gibibytes",e.TEBIBYTE="tebibytes",e.CUSTOM="custom",e.UNLIMITED="unlimited"}(Sr||(Sr={}));var si,ci=((kr={})[Sr.BYTE]=BigInt("1"),kr[Sr.KIBIBYTE]=BigInt("1024"),kr[Sr.MEBIBYTE]=BigInt("1048576"),kr[Sr.GIBIBYTE]=BigInt("1073741824"),kr[Sr.TEBIBYTE]=BigInt("1099511627776"),kr),li=((Cr={})[wr.MILLISECOND]=BigInt("1"),Cr[wr.SECOND]=BigInt("1000"),Cr[wr.MINUTE]=BigInt("60000"),Cr[wr.HOUR]=BigInt("3600000"),Cr[wr.DAY]=BigInt("86400000"),Cr),ui=function(e){if(e){if(e%li.days==BigInt(0))return{value:e/li.days,unit:"days"};if(e%li.hours==BigInt(0))return{value:e/li.hours,unit:"hours"};if(e%li.minutes==BigInt(0))return{value:e/li.minutes,unit:"minutes"};if(e%li.seconds==BigInt(0))return{value:e/li.seconds,unit:"seconds"}}return{value:e,unit:"milliseconds"}},di=function(e){var t=ui(e),n=t.unit,r=t.value;return-1===Number(r)?"Unlimited":"".concat(e," ms (").concat(r," ").concat(n,")")},pi=function(e){var t=fi(e),n=t.unit,r=t.value;return-1===Number(r)?"Unlimited":"".concat(e," bytes (").concat(r," ").concat(n,")")},fi=function(e){if(e){if(e%ci.tebibytes==BigInt(0))return{value:e/ci.tebibytes,unit:"tebibytes"};if(e%ci.gibibytes==BigInt(0))return{value:e/ci.gibibytes,unit:"gibibytes"};if(e%ci.mebibytes==BigInt(0))return{value:e/ci.mebibytes,unit:"mebibytes"};if(e%ci.kibibytes==BigInt(0))return{value:e/ci.kibibytes,unit:"kibibytes"}}return{value:e,unit:"bytes"}},mi=function(){return mi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},mi.apply(this,arguments)},hi=["name","partitions","retention.ms","retention.bytes"],vi=function(e){var t,n=e.topics,s=e.onDelete,c=e.onEdit,l=e.isColumnSortable,u=e.itemCount,d=e.onSearchTopic,p=e.topicName,f=e.onClearAllFilters,m=e.onCreateTopic,h=e.page,v=e.perPage,g=e.onPageChange,b=e.onRemoveTopicChip,y=e.onRemoveTopicChips,x=e.getUrlFortopic,j=(0,o.$)("topic").t,_=R(),k=p.length>0;return(0,r.jsx)(i.PageSection,mi({isFilled:!0,hasOverflowScroll:!0,"aria-label":"TODO"},{children:(0,r.jsx)(L.H,{variant:a.TableVariant.compact,tableOuiaId:"card-table",ariaLabel:j("topic_list_table"),data:n,columns:hi,renderHeader:function(e){var t=e.column,n=e.Th,i=e.key;return(0,r.jsx)(n,{children:_.fields[t]},i)},renderCell:function(e){var t=e.column,n=e.row,i=e.Td,a=e.key;return(0,r.jsx)(i,mi({dataLabel:_.fields[t]},{children:function(){switch(t){case"name":return(0,r.jsx)(Q.rU,mi({to:x(n),"data-testid":"tableTopics-linkTopic","data-ouia-component-id":"table-link"},{children:n.name}));case"partitions":return n.partitions.length;case"retention.ms":return di(n["retention.ms"].value);case"retention.bytes":return pi(n["retention.bytes"].value)}}()}),a)},renderActions:function(e){var t=e.row,n=e.ActionsColumn;return(0,r.jsx)(n,{items:[{title:j("table.actions.edit"),onClick:function(){return c(t)}},{title:j("table.actions.delete"),onClick:function(){return s(t)}}]})},isColumnSortable:l,filters:(t={},t[_.fields.name]={type:"search",chips:p,onSearch:d,onRemoveChip:b,onRemoveGroup:y,validate:function(e){return!/["$^<>|+%/;:,\s*=~#()]/.test(e)},errorMessage:j("input_field_invalid_message")},t),actions:[{label:j("create_topic"),onClick:m,isPrimary:!0}],itemCount:u,page:h,onPageChange:g,perPage:v,isFiltered:k,onClearAllFilters:f,emptyStateNoData:(0,r.jsx)(oi,{onCreateTopic:m}),emptyStateNoResults:(0,r.jsx)(E.B,{})})}))};!function(e){e.UserAccount="USER_ACCOUNT",e.ServiceAccount="SERVICE_ACCOUNT"}(si||(si={}));var gi,bi,yi=function(e){return{type:"manage-access",instanceName:e}},xi=function(){return xi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},xi.apply(this,arguments)},ji=function(e){var t=e.onAddPermission,n=e.onShortcutConsumeTopic,a=e.onShortcutProduceTopic,s=e.onShortcutManageAccess,c=(0,o.$)(["manage-kafka-permissions"]).t,l=(0,v.useState)(!1),u=l[0],d=l[1];(0,v.useState)(0);var p=(0,v.useRef)(null),f=(0,v.useCallback)((function(e){u&&p.current&&e.target&&p.current.contains(e.target)&&("Escape"!==e.key&&"Tab"!==e.key||d(!u))}),[u]),m=(0,v.useCallback)((function(e){u&&p.current&&!p.current.contains(e.target)&&d(!1)}),[u]);(0,v.useEffect)((function(){return window.addEventListener("keydown",f),window.addEventListener("click",m),function(){window.removeEventListener("keydown",f),window.removeEventListener("click",m)}}),[m,f,u,p]);var h=(0,v.useCallback)((function(e,t){t.stopPropagation(),setTimeout((function(){if(p.current){var e=p.current.querySelector("li > button,input:not(:disabled)");e&&e.focus()}}),0),d(e)}),[]),g=(0,r.jsx)(i.Menu,xi({onSelect:function(e,r){switch(d(!1),r){case"add_permission":t();break;case"shortcut_consume_topic":n();break;case"shortcut_produce_topic":a();break;case"shortcut_manage_access":s()}},ref:p},{children:(0,r.jsx)(i.MenuContent,{children:(0,r.jsxs)(i.MenuList,{children:[(0,r.jsx)(i.MenuGroup,{children:(0,r.jsx)(i.MenuList,{children:(0,r.jsx)(i.MenuItem,xi({itemId:"add_permission"},{children:c("permissions_dropdown.add_permission")}))})}),(0,r.jsx)(i.Divider,{}),(0,r.jsx)(i.MenuGroup,xi({label:c("permissions_dropdown.task_based_permission")},{children:(0,r.jsxs)(i.MenuList,{children:[(0,r.jsx)(i.MenuItem,xi({itemId:"shortcut_consume_topic",description:c("permissions_dropdown.shortcut_consume_topic_description")},{children:c("permissions_dropdown.shortcut_consume_topic")})),(0,r.jsx)(i.MenuItem,xi({itemId:"shortcut_produce_topic",description:c("permissions_dropdown.shortcut_produce_topic_description")},{children:c("permissions_dropdown.shortcut_produce_topic")})),(0,r.jsx)(i.MenuItem,xi({itemId:"shortcut_manage_access",description:c("permissions_dropdown.shortcut_manage_access_description")},{children:c("permissions_dropdown.shortcut_manage_access")}))]})}))]})})}),"acls-menu"),b=(0,r.jsx)(i.Dropdown,{toggle:(0,r.jsx)(i.DropdownToggle,{"data-testid":"permissions-dropdown-toggle",splitButtonItems:[(0,r.jsx)(i.DropdownToggleAction,xi({"aria-label":c("permissions_dropdown.add_permission"),onClick:function(e){e.preventDefault(),t()}},{children:c("permissions_dropdown.add_permission")}),"cog-action")],splitButtonVariant:"action",onToggle:h})});return(0,r.jsx)(i.Popper,{trigger:b,popper:g,isVisible:u,popperMatchesTriggerWidth:!1})},_i=function(){return _i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},_i.apply(this,arguments)},ki=function(e){var t=e.variant,n=function(){switch(t){case"GROUP":return{labelColor:"green",content:"G"};case"CLUSTER":return{labelColor:"grey",content:"KI"};case"TOPIC":return{labelColor:"blue",content:"T"};case"TRANSACTIONAL_ID":return{labelColor:"orange",content:"TI"}}}()||{},a=n.labelColor,o=n.content;return(0,r.jsx)(i.Label,_i({isCompact:!0,color:a,className:"mas-m-solid"},{children:o}))},Ci=n(69943),wi=function(){return wi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},wi.apply(this,arguments)},Si=function(e){var t=e.resourceType,n=(0,o.$)(["manage-kafka-permissions"]).t;switch(t){case"GROUP":return n("resourceTypes.consumer_group");case"TOPIC":return n("resourceTypes.topic");case"CLUSTER":return n("resourceTypes.kafka_instance");case"TRANSACTIONAL_ID":return n("resourceTypes.transactional_id")}},Ti=function(e){var t=e.patternType;return(0,(0,o.$)(["manage-kafka-permissions"]).t)("PREFIXED"===t?"pattern_type_prefixed":"pattern_type_literal")},Oi=function(e){var t=e.resourceType,n=e.patternType,i=e.resourceName;return"CLUSTER"===t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ki,{variant:t})," ",(0,r.jsx)(Si,{resourceType:t})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ki,{variant:t})," ",(0,r.jsx)(Si,{resourceType:t})," ",(0,r.jsx)(Ti,{patternType:n}),' "',i,'"']})},Ii=function(e){var t=e.permission,n=e.operation,a=(0,o.$)("manage-kafka-permissions").t,s={ALLOW:a("permissions.allow"),DENY:a("permissions.deny")},c={ALL:a("operations.all"),READ:a("operations.read"),WRITE:a("operations.write"),CREATE:a("operations.create"),DELETE:a("operations.delete"),ALTER:a("operations.alter"),DESCRIBE:a("operations.describe"),DESCRIBE_CONFIGS:a("operations.describe_configs"),ALTER_CONFIGS:a("operations.alter_configs")};return(0,r.jsxs)(i.LabelGroup,wi({numLabels:4},{children:[t&&(0,r.jsx)(i.Label,wi({variant:"outline",color:"DENY"===t?"red":void 0},{children:s[t]})),Array.isArray(n)?n.map((function(e,t){return(0,r.jsx)(i.Label,wi({variant:"outline"},{children:c[e]}),t)})):(0,r.jsx)(i.Label,wi({variant:"outline"},{children:c[n]}))]}))},Pi=function(e){var t=e.isDeleteEnabled,n=e.isAllAccounts,a=e.onRemoveAcl,c=e.isReviewTable,l=void 0===c||c,u=e.principal,d=e.allAccounts,p=(0,o.$)(["manage-kafka-permissions"]).t;return(0,r.jsxs)("div",wi({className:l?"pf-u-display-flex pf-u-justify-content-space-between pf-u-justify-content-flex-end-on-lg pf-u-align-items-center":""},{children:[n&&l?(0,r.jsx)(i.Label,wi({variant:"outline"},{children:p("table.all_accounts")})):l||"User:*"!=u?(null==d?void 0:d.principalType)!=si.ServiceAccount||l?!l&&(0,r.jsx)(i.Tooltip,wi({content:(0,r.jsxs)("div",{children:["Type: ",null==d?void 0:d.principalType," ",(0,r.jsx)("br",{}),"Name: ",null==d?void 0:d.displayName," ",(0,r.jsx)("br",{}),"Email: ",null==d?void 0:d.email]})},{children:(0,r.jsxs)("span",wi({tabIndex:0},{children:[null==u?void 0:u.split(":")[1]," ",(0,r.jsx)(s.InfoCircleIcon,{color:"grey"})]}))})):(0,r.jsx)(i.Tooltip,wi({content:(0,r.jsxs)("div",{children:["Type: ",d&&d.principalType," ",(0,r.jsx)("br",{})]})},{children:(0,r.jsxs)("span",wi({tabIndex:0},{children:[" ",null==u?void 0:u.split(":")[1]," ",(0,r.jsx)(s.InfoCircleIcon,{color:"grey"})]}))})):(0,r.jsx)(i.Label,wi({variant:"outline"},{children:p("table.all_accounts")})),t&&null!=a&&(0,r.jsx)(Ci.x,{variant:"link",tooltip:p("remove_permission_tooltip"),onClick:a,ariaLabel:p("operations.delete")})]}))},Ai=function(){return Ai=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ai.apply(this,arguments)},Li=function(e){var t=e.openManagePermissions,n=(0,o.$)("manage-kafka-permissions").t;return(0,r.jsxs)(i.EmptyState,Ai({"data-ouia-page-id":"emptyStateTopics",variant:i.EmptyStateVariant.large},{children:[(0,r.jsx)(i.EmptyStateIcon,{icon:s.SearchIcon}),(0,r.jsx)(i.Title,Ai({headingLevel:"h2",size:"lg"},{children:n("no_results_title")})),(0,r.jsx)(i.EmptyStateBody,{children:n("no_results_body")}),(0,r.jsx)(i.Button,Ai({"data-testid":"actionManagePermissions",ouiaId:"button-manage-permissions",variant:"primary",onClick:t},{children:n("dialog_title")}))]}))},Ei=function(){return Ei=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ei.apply(this,arguments)},Di=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Ri=["account","permission","resource"],Ni=function(e){var t=e.allAccounts,n=e.permissions,s=e.onDelete,c=e.itemCount,l=e.page,u=e.perPage,d=e.onDeleteSelected,p=e.onPageChange,f=e.onManagePermissions,m=e.onManagePermissionsActionItem,h=(0,o.$)("manage-kafka-permissions").t,g=(0,v.useState)([]),b=g[0],y=g[1];(0,v.useEffect)((function(){y([])}),[n]);var x={account:h("account_id_title"),permission:h("table.permissions_column_title"),resource:h("table.resource_column_title")},j=(0,v.useCallback)((function(e,t){var n=e.rowIndex;null!=n&&y(t?Di(Di([],b,!0),[n],!1):b.filter((function(e){return e!==n})))}),[b]);return(0,r.jsx)(i.PageSection,Ei({hasOverflowScroll:!0},{children:(0,r.jsx)(L.H,{variant:a.TableVariant.compact,tableOuiaId:"permissions-table",ariaLabel:h("consumerGroup.consumer_group_list"),actions:[{onClick:f,label:h("dialog_title"),isPrimary:!0}],kebabActions:[{onClick:function(){d(b)},label:h("delete_selected"),isDisabled:!(b.length>0)}],data:n,columns:Ri,onCheck:j,isRowChecked:function(e){return t=e.rowIndex,b.includes(t);var t},renderHeader:function(e){var t=e.column,n=e.Th,i=e.key;return(0,r.jsx)(n,{children:x[t]},i)},renderCell:function(e){var n=e.column,i=e.row,a=e.Td,o=e.key;return(0,r.jsx)(a,Ei({dataLabel:x[n]},{children:function(){switch(n){case"account":return(0,r.jsx)(Pi,{isReviewTable:!1,principal:i.account,isDeleteEnabled:!1,allAccounts:null==t?void 0:t.filter((function(e){return"User:".concat(e.id)==i.account}))[0]});case"permission":return(0,r.jsx)(Ii,{permission:i.permission.permission,operation:i.permission.operation});case"resource":return(0,r.jsx)(Oi,{patternType:i.resource.patternType,resourceType:i.resource.resourceType,resourceName:i.resource.resourceName})}}()}),o)},renderActions:function(e){var t=e.ActionsColumn,n=e.rowIndex,i=e.row;return(0,r.jsx)(t,{items:[{title:h("manage"),onClick:function(){var e;return m("User:*"==i.account?"all-accounts":null===(e=i.account)||void 0===e?void 0:e.split(":")[1])}},{title:h("common:delete"),onClick:function(){return s(n)}}]})},itemCount:c,page:l,onPageChange:p,perPage:u,emptyStateNoData:(0,r.jsx)(Li,{openManagePermissions:f}),emptyStateNoResults:(0,r.jsx)(Li,{openManagePermissions:f})})}))},zi=function(){return zi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},zi.apply(this,arguments)},Bi=function(e){var t=e.accounts,n=e.initialOpen,a=void 0!==n&&n,c=e.kafkaName,l=e.id,u=e.onNext,d=e.onClose,p=(0,o.$)(["manage-kafka-permissions"]).t,f=(0,v.useState)(!1),m=f[0],h=f[1],g=(0,v.useState)(!1),b=g[0],y=g[1],x=(0,v.useState)(),j=x[0],_=x[1];(0,v.useLayoutEffect)((function(){return h(a)}),[a]);var k=[(0,r.jsx)(i.SelectOption,zi({isNoResultsOption:!0,isDisabled:!0},{children:p("no_results_found")}),p("no_results_found"))],C=[(0,r.jsx)(i.SelectOption,zi({isNoResultsOption:!0,isDisabled:!0},{children:p("no_results_found")}),"no_user_accounts")];function w(e){void 0===e&&(e="");var n=e.toLowerCase(),a=""!==n?null==t?void 0:t.filter((function(e){return e.displayName.toLowerCase().includes(n)||e.id.includes(n)})):t,o=null==a?void 0:a.filter((function(e){return e.principalType===si.ServiceAccount})).sort((function(e,t){return e.displayName&&t.displayName?e.displayName.localeCompare(t.displayName):-1})).map((function(e,t){return(0,r.jsx)(i.SelectOption,zi({value:e.id,description:e.displayName},{children:e.id}),t)})),s=null==a?void 0:a.filter((function(e){return e.principalType===si.UserAccount})).map((function(e,t){return(0,r.jsx)(i.SelectOption,zi({value:e.id,description:e.displayName},{children:e.id}),t)}));return[(0,r.jsx)(i.SelectGroup,{children:(0,r.jsx)(i.SelectOption,zi({value:p("all_accounts_title"),description:p("all_accounts_description")},{children:p("all_accounts_title")}),p("all_accounts_title"))},"all_accounts_group"),(0,r.jsx)(i.Divider,{},"all_accounts_divider"),(0,r.jsx)(i.SelectGroup,zi({label:p("all_accounts_service_account_group")},{children:(null==o?void 0:o.length)?o:k}),"service_accounts_group"),(0,r.jsx)(i.Divider,{},"user_account_divider2"),(0,r.jsx)(i.SelectGroup,zi({label:p("all_accounts_user_account_group")},{children:(null==s?void 0:s.length)?s:C}),"user_accounts_group")]}var S=b?i.ValidatedOptions.error:i.ValidatedOptions.default;return(0,r.jsx)(i.Modal,zi({id:"manage-permissions-modal",variant:"large",isOpen:!0,"aria-label":p("dialog_aria_label"),position:"top",title:p("dialog_title"),showClose:!0,"aria-describedby":"modal-message",onClose:d,onEscapePress:d,appendTo:function(){return l&&document.getElementById(l)||document.body},actions:[(0,r.jsx)(i.Button,zi({variant:"primary",isDisabled:""==j||null==j,onClick:function(){return u(j)},"aria-label":p("step_1_submit_button")},{children:p("step_1_submit_button")}),1),(0,r.jsx)(i.Button,zi({onClick:d,variant:"secondary","aria-label":p("common:cancel")},{children:p("common:cancel")}),2)]},{children:(0,r.jsxs)(i.Form,zi({onSubmit:function(e){return e.preventDefault()}},{children:[(0,r.jsx)(i.FormGroup,zi({fieldId:"kafka-instance-name",label:p("kafka_instance"),id:"modal-message"},{children:c})),(0,r.jsx)(i.FormGroup,zi({fieldId:"account-name",validated:S,helperTextInvalid:p("common:required"),isRequired:!0,label:p("account_id_title"),labelIcon:(0,r.jsx)(i.Popover,zi({bodyContent:p("account_id_help")},{children:(0,r.jsx)("button",zi({type:"button",onClick:function(e){return e.preventDefault()},className:"pf-c-form__group-label-help","aria-label":p("account_help")},{children:(0,r.jsx)(s.HelpIcon,{noVerticalAlign:!0})}))}))},{children:t?(0,r.jsx)(i.Select,zi({id:"account-id","data-testid":"acls-select-account",className:"kafka-ui--select--limit-height",variant:i.SelectVariant.typeahead,typeAheadAriaLabel:p("account_id_title"),maxHeight:400,onToggle:function(e){h(e)},onSelect:function(e,t){_(t),y(!1),h(!1)},onClear:function(){_(void 0),y(!0),h(!1)},selections:j,onFilter:function(e,t){return w(t)},isOpen:m,placeholderText:p("account_id_typeahead_placeholder"),isCreatable:!0,menuAppendTo:"parent",validated:S,createText:p("resourcePrefix.create_text"),isGrouped:!0,onCreateOption:function(){h(!1),y(!1)}},{children:w()})):(0,r.jsx)(i.Skeleton,{width:"100%"})}))]}))}))},Vi=n(24197),Fi=function(e){var t=e.value,n=e.onChangeValue,i=e.submitted,a=e.resourceType,s=e.resourcePrefixRule,c=e.onFetchOptions,l=e.setIsNameValid,u=(0,o.$)(["manage-kafka-permissions"]).t;return(0,r.jsx)(Vi.g,{id:"resource-name",ariaLabel:u("Is"===s?"resourcePrefix.aria_label_name_is":"resourcePrefix.aria_label_name_starts_with",{value:a}),value:t,placeholderText:u("Is"===s?"resourcePrefix.placeholder_name_is":"resourcePrefix.placeholder_name_starts_with"),onChange:n,required:!0,submitted:i,onFetchOptions:c,onValidationCheck:function(e){var t=function(e,t,n){var r=new RegExp("^[0-9A-Za-z_.-]+$");return void 0===n||""===n||"*"==n?{isValid:!0,message:void 0}:"Is"!=t||"topic"!=e||"."!=n&&".."!=n?"topic"!=e||r.test(n)?"consumer-group"!=e||r.test(n)?n.length>32?{isValid:!1,message:u("resourcePrefix.invalid_length")}:{isValid:!0,message:void 0}:{isValid:!1,message:u("resourcePrefix.invalid_consumer_group")}:{isValid:!1,message:u("resourcePrefix.invalid_topic")}:{isValid:!1,message:u("resourcePrefix.invalid_topic_name")}}(a,s,e);return l(t.isValid),t},isInputFilterPersisted:!0,isInputValuePersisted:!0,width:220})},Hi=function(){return Hi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Hi.apply(this,arguments)},Gi=function(e){var t=e.value,n=e.onChangeValue,a=e.initialOpen,s=void 0!==a&&a,c=e.invalid,l=e.resourceTypeOptions,u=(0,o.$)(["manage-kafka-permissions"]).t,d=(0,v.useState)(!1),p=d[0],f=d[1];return(0,v.useLayoutEffect)((function(){return f(s)}),[s]),(0,r.jsx)(i.FormGroup,Hi({validated:c?i.ValidatedOptions.error:i.ValidatedOptions.default,helperTextInvalid:u("common:required"),fieldId:"resource-operation-select"},{children:(0,r.jsx)(i.Select,Hi({id:"resource-operation-select","aria-label":u("operations.aria_label",t),"data-testid":"acls-resource-operation-select",variant:i.SelectVariant.single,onToggle:function(e){f(e)},onSelect:function(e,t){n(t),f(!1)},isOpen:p,width:200,placeholderText:u("operations.placeholder_text"),validated:c?i.ValidatedOptions.error:i.ValidatedOptions.default,selections:t,menuAppendTo:document.body},{children:l.map((function(e,t){return(0,r.jsx)(i.SelectOption,Hi({value:e},{children:e}),t)}))}))}))},Ui=function(){return Ui=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ui.apply(this,arguments)},Mi=function(e){var t=e.value,n=e.onChangeValue,a=e.initialOpen,s=void 0!==a&&a,c=(0,o.$)(["manage-kafka-permissions"]).t,l=(0,v.useState)(!1),u=l[0],d=l[1];(0,v.useLayoutEffect)((function(){return d(s)}),[s]);var p={allow:c("permissions.allow"),deny:c("permissions.deny")};return(0,r.jsx)(i.Select,Ui({id:"resource-permission-select","aria-label":c("permissions.aria_label",{value:t}),"data-testid":"acls-resource-permission-select",variant:i.SelectVariant.single,onToggle:function(e){d(e)},onSelect:function(e,t){n(t),d(!1)},isOpen:u,width:150,selections:t,menuAppendTo:document.body},{children:Object.entries(p).map((function(e){var t=e[0],n=e[1];return(0,r.jsx)(i.SelectOption,Ui({value:t},{children:n}),t)}))}))},Qi=function(){return Qi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Qi.apply(this,arguments)},qi=function(e){var t=e.value,n=e.onChangeValue,a=e.initialOpen,s=void 0!==a&&a,c=(0,o.$)(["manage-kafka-permissions"]).t,l=(0,v.useState)(!1),u=l[0],d=l[1];(0,v.useLayoutEffect)((function(){return d(s)}),[s]);var p={"Starts with":{label:c("resource_prefix_rule.starts_with"),description:c("resource_prefix_rule.starts_with_description")},Is:{label:c("resource_prefix_rule.is"),description:c("resource_prefix_rule.is_description")}};return(0,r.jsx)(i.Select,Qi({id:"resource-prefix-rule-select","aria-label":c("resource_prefix_rule.aria_label",{value:t}),"data-testid":"acls-resource-prefix-rule-select",variant:i.SelectVariant.single,onToggle:function(e){d(e)},onSelect:function(e,t){n(t),d(!1)},isOpen:u,width:150,selections:t,menuAppendTo:document.body},{children:Object.entries(p).map((function(e){var t=e[0],n=e[1],a=n.label,o=n.description;return(0,r.jsx)(i.SelectOption,Qi({value:t,description:o},{children:a}),t)}))}))},Ki=function(){return Ki=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ki.apply(this,arguments)},$i=function(e){var t=e.value,n=e.onChangeValue,a=e.initialOpen,s=void 0!==a&&a,c=e.invalid,l=(0,o.$)(["manage-kafka-permissions"]).t,u=(0,v.useState)(!1),d=u[0],p=u[1];(0,v.useLayoutEffect)((function(){return p(s)}),[s]);var f={"consumer-group":l("resourceTypes.consumer_group"),topic:l("resourceTypes.topic"),"kafka-instance":l("resourceTypes.kafka_instance"),"transactional-id":l("resourceTypes.transactional_id")};return(0,r.jsx)(i.FormGroup,Ki({validated:c?i.ValidatedOptions.error:i.ValidatedOptions.default,helperTextInvalid:l("common:required"),fieldId:"resource-type-select"},{children:(0,r.jsx)(i.Select,Ki({id:"resource-type-select","aria-label":null!=t?l("resourceTypes.resource_type_selected",{value:t}):l("resourceTypes.resource_type"),"data-testid":"acls-resource-type-select",variant:i.SelectVariant.single,onToggle:function(e){p(e)},onSelect:function(e,t){n(t),p(!1)},isOpen:d,width:180,placeholderText:l("resourceTypes.placeholder_text"),validated:c?i.ValidatedOptions.error:i.ValidatedOptions.default,selections:t,menuAppendTo:document.body},{children:Object.entries(f).map((function(e){var t=e[0],n=e[1];return(0,r.jsx)(i.SelectOption,Ki({value:t},{children:n}),t)}))}))}))},Wi=function(){var e=(0,o.$)(["manage-kafka-permissions"]).t;return(0,r.jsx)(a.Thead,{children:(0,r.jsxs)(a.Tr,{children:[(0,r.jsx)(a.Th,{children:e("table.resource_column_title")}),(0,r.jsx)(a.Th,{}),(0,r.jsx)(a.Th,{}),(0,r.jsx)(a.Th,{children:e("table.permissions_column_title")}),(0,r.jsx)(a.Th,{}),(0,r.jsx)(a.Th,{})]})})},Ji=function(){return Ji=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ji.apply(this,arguments)},Zi=function(e){var t=e.resourceType,n=e.resourceOperation,i=e.resourcePermission,s=e.submitted,c=e.onChangeResourceOperation,l=e.onChangeResourcePermission,u=e.onChangeResourceType,d=e.row,p=e.onDelete,f=(0,o.$)(["manage-kafka-permissions"]).t;return(0,r.jsx)(a.Tbody,{children:(0,r.jsxs)(a.Tr,{children:[(0,r.jsx)(a.Td,Ji({width:60},{children:(0,r.jsx)($i,{value:t,onChangeValue:u,invalid:s&&void 0===t})})),(0,r.jsx)(a.Td,{}),(0,r.jsx)(a.Td,{}),(0,r.jsx)(a.Td,{children:(0,r.jsx)(Mi,{value:i,onChangeValue:l})}),(0,r.jsx)(a.Td,{children:(0,r.jsx)(Gi,{value:n,onChangeValue:c,resourceTypeOptions:[f("operations.alter"),f("operations.describe")],invalid:s&&void 0===n})}),(0,r.jsx)(a.Td,{children:(0,r.jsx)(Ci.x,{variant:"link",onClick:function(){return p(d)},tooltip:f("operations.delete")})})]})})},Yi=function(e){var t=e.resourceType,n=e.onChangeResourceType,i=e.submitted,s=e.resourcePrefix,c=e.onChangeResourcePrefix,l=e.resourceName,u=e.onChangeResource,d=e.onFetchResourceNameOptions,p=e.resourcePermission,f=e.resourceOperation,m=e.onChangeResourceOperation,h=e.onChangeResourcePermission,v=e.multipleShorctutPermissions,g=void 0===v||v,b=e.row,y=e.onDelete,x=e.setIsNameValid,j=(0,o.$)("manage-kafka-permissions").t;return(0,r.jsxs)(r.Fragment,{children:[g?null:(0,r.jsx)(Wi,{}),"kafka-instance"===t?(0,r.jsx)(Zi,{resourceOperation:f,resourcePermission:p,resourceType:t,submitted:i,onChangeResourceOperation:m,onChangeResourcePermission:h,onChangeResourceType:n,onDelete:y,row:b}):(0,r.jsx)(a.Tbody,{children:(0,r.jsxs)(a.Tr,{children:[(0,r.jsx)(a.Td,{children:(0,r.jsx)($i,{value:t,onChangeValue:n,invalid:i&&void 0===t})}),(0,r.jsx)(a.Td,{children:(0,r.jsx)(qi,{value:s,onChangeValue:c})}),(0,r.jsx)(a.Td,{children:(0,r.jsx)(Fi,{value:l,onChangeValue:u,onFetchOptions:d,submitted:i,resourceType:t,resourcePrefixRule:s,setIsNameValid:x})}),(0,r.jsx)(a.Td,{children:(0,r.jsx)(Mi,{value:p,onChangeValue:h})}),(0,r.jsx)(a.Td,{children:(0,r.jsx)(Gi,{resourceTypeOptions:function(){switch(t){case"consumer-group":return[j("operations.all"),j("operations.read"),j("operations.delete"),j("operations.describe")];case"kafka-instance":return[j("operations.alter"),j("operations.describe")];case"transactional-id":return[j("operations.all"),j("operations.write"),j("operations.describe")];default:return[j("operations.all"),j("operations.read"),j("operations.write"),j("operations.create"),j("operations.delete"),j("operations.alter"),j("operations.describe"),j("operations.describe_configs"),j("operations.alter_configs")]}}(),value:f,onChangeValue:m,invalid:!(!i||void 0!==f)})}),(0,r.jsx)(a.Td,{children:(0,r.jsx)(Ci.x,{variant:"link",onClick:function(){return y(b)},tooltip:j("remove_permission_tooltip"),ariaLabel:j("manual_delete")})})]})})]})},Xi=function(){return Xi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Xi.apply(this,arguments)},ea=function(e){var t=e.onChange,n=e.prefixRuleValue,i=e.resourceNameValue,o=e.onChangeResourceName,s=e.onFetchResourceNameOptions,c=e.submitted,l=e.isConsumeTopicShortcut,u=e.setIsNameValid;return(0,r.jsxs)(a.Tr,Xi({style:{borderBottom:l?"none":""}},{children:[(0,r.jsxs)(a.Td,{children:[" ",(0,r.jsx)(ki,{variant:"TOPIC"})," ",(0,r.jsx)(Si,{resourceType:"TOPIC"})," "]}),(0,r.jsx)(a.Td,{children:(0,r.jsx)(qi,{value:n,onChangeValue:t})}),(0,r.jsx)(a.Td,{children:(0,r.jsx)(Fi,{value:i,onChangeValue:o,onFetchOptions:s,submitted:c,resourceType:"topic",resourcePrefixRule:n,setIsNameValid:u})}),(0,r.jsx)(a.Td,Xi({colSpan:2},{children:(0,r.jsx)(Ii,{permission:"ALLOW",operation:l?["READ","DESCRIBE"]:["WRITE","CREATE","DESCRIBE"]})}))]}))},ta=function(){return ta=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ta.apply(this,arguments)},na=function(e){var t=e.onChangeConsumerResourceName,n=e.topicPrefixRuleValue,c=e.topicResourceNameValue,l=e.consumerPrefixRuleValue,u=e.consumerResourceNameValue,d=e.submitted,p=e.onChangeConsumerResourcePrefixRule,f=e.onChangeTopicResourceName,m=e.onChangeTopicResourcePrefixRule,h=e.onFetchConsumerResourceNameOptions,v=e.onFetchTopicResourceNameOptions,g=e.onDelete,b=e.multipleShorctutPermissions,y=void 0===b||b,x=e.row,j=e.setIsNameValid,_=(0,o.$)(["manage-kafka-permissions"]).t;return(0,r.jsxs)(r.Fragment,{children:[y?null:(0,r.jsx)(Wi,{}),(0,r.jsxs)(a.Tbody,{children:[(0,r.jsxs)(a.Tr,ta({style:{borderBottom:"none"}},{children:[(0,r.jsx)(a.Td,ta({colSpan:5},{children:(0,r.jsxs)(i.Title,ta({headingLevel:"h6"},{children:[_("permissions_dropdown.shortcut_consume_topic")," ",(0,r.jsx)(i.Popover,ta({headerContent:_("permissions_dropdown.shortcut_consume_topic"),bodyContent:_("permissions_dropdown.shortcut_consume_topic_description")},{children:(0,r.jsx)("button",ta({type:"button",onClick:function(e){return e.preventDefault()},className:"pf-c-form__group-label-help"},{children:(0,r.jsx)(s.HelpIcon,{noVerticalAlign:!0})}))}))]}))})),(0,r.jsx)(a.Td,{children:(0,r.jsx)(Ci.x,{variant:"link",onClick:function(){return g(x)},tooltip:_("remove_permission_tooltip"),ariaLabel:_("delete_consumer")})})]})),(0,r.jsx)(ea,{setIsNameValid:j,isConsumeTopicShortcut:!0,onChange:m,prefixRuleValue:n,resourceNameValue:c,onChangeResourceName:f,onFetchResourceNameOptions:v,submitted:d}),(0,r.jsxs)(a.Tr,{children:[(0,r.jsxs)(a.Td,{children:[" ",(0,r.jsx)(ki,{variant:"GROUP"})," ",(0,r.jsx)(Si,{resourceType:"GROUP"})," "]}),(0,r.jsx)(a.Td,{children:(0,r.jsx)(qi,{value:l,onChangeValue:p})}),(0,r.jsx)(a.Td,{children:(0,r.jsx)(Fi,{value:u,onChangeValue:t,onFetchOptions:h,submitted:d,resourceType:"topic",resourcePrefixRule:l,setIsNameValid:j})}),(0,r.jsx)(a.Td,{children:(0,r.jsx)(Ii,{permission:"ALLOW",operation:["READ"]})})]})]})]})},ra=function(){return ra=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ra.apply(this,arguments)},ia=function(e){var t=e.onDelete,n=e.multipleShorctutPermissions,c=void 0===n||n,l=e.instanceName,u=e.row,d=(0,o.$)(["manage-kafka-permissions"]).t;return(0,r.jsxs)(r.Fragment,{children:[c?null:(0,r.jsx)(Wi,{}),(0,r.jsxs)(a.Tbody,{children:[(0,r.jsxs)(a.Tr,ra({style:{borderBottom:"none"}},{children:[(0,r.jsx)(a.Td,ra({colSpan:5},{children:(0,r.jsxs)(i.Title,ra({headingLevel:"h6"},{children:[d("permissions_dropdown.shortcut_manage_access")," ",(0,r.jsx)(i.Popover,ra({headerContent:d("permissions_dropdown.shortcut_manage_access"),bodyContent:d("permissions_dropdown.shortcut_manage_access_description")},{children:(0,r.jsx)("button",ra({type:"button",onClick:function(e){return e.preventDefault()},className:"pf-c-form__group-label-help"},{children:(0,r.jsx)(s.HelpIcon,{noVerticalAlign:!0})}))}))]}))})),(0,r.jsx)(a.Td,{children:(0,r.jsx)(Ci.x,{variant:"link",onClick:function(){return t(u)},tooltip:d("remove_permission_tooltip"),ariaLabel:d("delete_access")})})]})),(0,r.jsxs)(a.Tr,{children:[(0,r.jsxs)(a.Td,ra({colSpan:2},{children:[(0,r.jsx)(ki,{variant:"CLUSTER"})," ",(0,r.jsx)(Si,{resourceType:"CLUSTER"})," ",d("is_kafka_instance",{value:l})]})),(0,r.jsx)(a.Td,{}),(0,r.jsx)(a.Td,{children:(0,r.jsx)(Ii,{permission:"ALLOW",operation:["ALTER"]})})]})]})]})},aa=function(){return aa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},aa.apply(this,arguments)},oa=function(e){var t=e.onChange,n=e.onDelete,c=e.prefixRuleValue,l=e.onChangeResourceName,u=e.resourceNameValue,d=e.submitted,p=e.onFetchResourceNameOptions,f=e.multipleShorctutPermissions,m=void 0===f||f,h=e.row,v=e.setIsNameValid,g=(0,o.$)(["manage-kafka-permissions"]).t;return(0,r.jsxs)(r.Fragment,{children:[m?null:(0,r.jsx)(Wi,{}),(0,r.jsxs)(a.Tbody,{children:[(0,r.jsxs)(a.Tr,aa({style:{borderBottom:"none"}},{children:[(0,r.jsx)(a.Td,aa({colSpan:5},{children:(0,r.jsxs)(i.Title,aa({headingLevel:"h6"},{children:[g("permissions_dropdown.shortcut_produce_topic")," ",(0,r.jsx)(i.Popover,aa({headerContent:g("permissions_dropdown.shortcut_produce_topic"),bodyContent:g("permissions_dropdown.shortcut_produce_topic_description")},{children:(0,r.jsx)("button",aa({type:"button",onClick:function(e){return e.preventDefault()},className:"pf-c-form__group-label-help"},{children:(0,r.jsx)(s.HelpIcon,{noVerticalAlign:!0})}))}))]}))})),(0,r.jsx)(a.Td,{children:(0,r.jsx)(Ci.x,{variant:"link",onClick:function(){return n(h)},tooltip:g("remove_permission_tooltip"),ariaLabel:g("delete_producer")})})]})),(0,r.jsx)(ea,{onChange:t,prefixRuleValue:c,resourceNameValue:u,onChangeResourceName:l,onFetchResourceNameOptions:p,submitted:d,setIsNameValid:v})]})]})},sa=function(){return sa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},sa.apply(this,arguments)},ca=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},la=function(e){var t=e.submitted,n=e.onDelete,o=e.topicNameOptions,s=e.consumerGroupNameOptions,c=e.onAddManualPermissions,l=e.onAddProduceTopicShortcut,u=e.onConsumeTopicShortcut,d=e.onManageAccessShortcut,p=e.addedAcls,f=e.kafkaName,m=e.setAddedAcls,h=e.setIsNameValid;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a.TableComposable,sa({variant:"compact",gridBreakPoint:"grid-lg"},{children:[p&&p.length>0&&(0,r.jsx)(Wi,{}),p&&p.map((function(e,i){switch(e.type){case"manual":return(0,r.jsx)(Yi,{setIsNameValid:h,resourceType:e.resourceType,onChangeResourceType:function(e){return m(ca([],p,!0).map((function(t,n){return n===i?sa(sa({},t),{resourceType:e}):sa({},t)})))},submitted:t,resourcePrefix:e.resourcePrefix,onChangeResourcePrefix:function(e){return m(ca([],p,!0).map((function(t,n){return n===i?sa(sa({},t),{resourcePrefix:e}):sa({},t)})))},resourceName:e.resourceName,onChangeResource:function(e){return m(ca([],p,!0).map((function(t,n){return n===i?sa(sa({},t),{resourceName:e}):sa({},t)})))},onFetchResourceNameOptions:o,resourcePermission:e.resourcePermission,onChangeResourcePermission:function(e){return m(ca([],p,!0).map((function(t,n){return n===i?sa(sa({},t),{resourcePermission:e}):sa({},t)})))},resourceOperation:e.resourceOperation,onChangeResourceOperation:function(e){return m(ca([],p,!0).map((function(t,n){return n===i?sa(sa({},t),{resourceOperation:e}):sa({},t)})))},row:i,onDelete:n},i);case"consume-topic":return(0,r.jsx)(na,{setIsNameValid:h,onChangeConsumerResourcePrefixRule:function(e){return m(ca([],p,!0).map((function(t,n){return n===i?sa(sa({},t),{consumerResourcePrefixRule:e}):sa({},t)})))},onChangeTopicResourcePrefixRule:function(e){return m(ca([],p,!0).map((function(t,n){return n===i?sa(sa({},t),{topicResourcePrefixRule:e}):sa({},t)})))},consumerPrefixRuleValue:e.consumerResourcePrefixRule,topicPrefixRuleValue:e.topicResourcePrefixRule,consumerResourceNameValue:e.consumerResourceName,topicResourceNameValue:e.topicResourceName,onChangeConsumerResourceName:function(e){return m(ca([],p,!0).map((function(t,n){return n===i?sa(sa({},t),{consumerResourceName:e}):sa({},t)})))},onChangeTopicResourceName:function(e){return m(ca([],p,!0).map((function(t,n){return n===i?sa(sa({},t),{topicResourceName:e}):sa({},t)})))},onFetchConsumerResourceNameOptions:s,onFetchTopicResourceNameOptions:o,submitted:t,onDelete:n,row:i},i);case"produce-topic":return(0,r.jsx)(oa,{setIsNameValid:h,onChange:function(e){return m(ca([],p,!0).map((function(t,n){return n===i?sa(sa({},t),{prefixRuleValue:e}):sa({},t)})))},prefixRuleValue:e.prefixRuleValue,resourceNameValue:e.resourceNameValue,onChangeResourceName:function(e){return m(ca([],p,!0).map((function(t,n){return n===i?sa(sa({},t),{resourceNameValue:e}):sa({},t)})))},onFetchResourceNameOptions:o,submitted:t,onDelete:n,row:i},i);case"manage-access":return(0,r.jsx)(ia,{row:i,instanceName:f,onDelete:n},i)}}))]})),(0,r.jsx)(i.ActionList,{children:(0,r.jsx)(i.ActionListItem,sa({style:{paddingTop:"20px"}},{children:(0,r.jsx)(ji,{onAddPermission:c,onShortcutConsumeTopic:u,onShortcutProduceTopic:l,onShortcutManageAccess:d})}))})]})},ua=function(){return ua=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ua.apply(this,arguments)},da=function(e){var t=e.isOpen,n=e.closeModal,a=e.resumeEditing,s=(0,o.$)(["manage-kafka-permissions"]).t;return(0,r.jsx)(i.Modal,ua({id:"manage-permissions-precancel-modal",variant:i.ModalVariant.small,isOpen:t,"aria-label":s("pre_cancel_label"),title:s("pre_cancel_title"),titleIconVariant:"warning",showClose:!0,"aria-describedby":"modal-message",onClose:a,onEscapePress:n,actions:[(0,r.jsx)(i.Button,ua({onClick:n,variant:i.ButtonVariant.primary},{children:s("discard_changes")}),1),(0,r.jsx)(i.Button,ua({onClick:a,variant:i.ButtonVariant.secondary},{children:s("resume_editing")}),2)]},{children:s("cancel_description")}))},pa=function(){return pa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},pa.apply(this,arguments)},fa=function(e){var t=e.selectedAccountId,n=e.acls,i=void 0===n?[]:n,s=e.onRemoveAcl,c=(0,o.$)(["manage-kafka-permissions"]).t;return(0,r.jsxs)(a.TableComposable,pa({variant:a.TableVariant.compact,"aria-label":c("review_permissions_table")},{children:[(0,r.jsx)(a.Thead,pa({noWrap:!0},{children:(0,r.jsxs)(a.Tr,{children:[(0,r.jsx)(a.Th,pa({width:60},{children:c("table.resource_column_title")})),(0,r.jsx)(a.Th,pa({width:20},{children:c("table.permissions_column_title")})),(0,r.jsx)(a.Th,{width:20})]})})),(0,r.jsx)(a.Tbody,{children:i.map((function(e,n){var i=e.patternType,o=e.resourceType,c=e.resourceName,l=e.operation,u=e.permission,d=e.principal,p="All accounts"===t||d==="User:".concat(t)||"User:*"!=d,f="User:*"===d;return(0,r.jsxs)(a.Tr,{children:[(0,r.jsx)(a.Td,{children:(0,r.jsx)(Oi,{patternType:i,resourceType:o,resourceName:c})}),(0,r.jsx)(a.Td,{children:(0,r.jsx)(Ii,{permission:u,operation:l})}),(0,r.jsx)(a.Td,{children:(0,r.jsx)(Pi,{isDeleteEnabled:p,isAllAccounts:f,onRemoveAcl:function(){return s(n)}})})]},n)}))})]}))},ma=function(){return ma=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ma.apply(this,arguments)},ha=function(e){var t=e.accountId,n=e.existingAcls,a=e.onRemoveAcl,s=(0,o.$)(["manage-kafka-permissions"]).t;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.TextContent,{children:(0,r.jsx)(i.Text,ma({component:i.TextVariants.small},{children:(0,r.jsx)((function(){return"All accounts"===t?s("all_accounts_help"):(0,r.jsxs)(T.c,ma({ns:["manage-kafka-permissions"],i18nKey:"selected_account_help"},{children:["Review the list of existing permissions for the selected account. The list includes account-specific permissions and permissions applied to all accounts within this Kafka instance. Permissions labeled",(0,r.jsx)("strong",{children:"All accounts"})," cannot be removed when an individual account ID is selected."]}))}),{})}))}),(0,r.jsx)(fa,{acls:n,selectedAccountId:t||"",onRemoveAcl:a})]})},va=n(47251),ga=function(e){switch(e){case"consumer-group":return va.AclResourceType.Group;case"kafka-instance":return va.AclResourceType.Cluster;case"topic":return va.AclResourceType.Topic;default:return va.AclResourceType.TransactionalId}},ba=function(e){switch(e){case"All":return"ALL";case"Alter":return"ALTER";case"Alter configs":return"ALTER_CONFIGS";case"Create":return"CREATE";case"Delete":return"DELETE";case"Describe":return"DESCRIBE";case"Describe configs":return"DESCRIBE_CONFIGS";case"Read":return"READ";default:return"WRITE"}},ya=function(){return ya=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ya.apply(this,arguments)},xa=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},ja=function(e){var t=e.onCancel,n=e.kafkaName,a=e.acls,c=e.onSave,l=e.topicsList,u=e.consumerGroupsList,d=e.selectedAccount,p=e.id,f=(0,o.$)(["manage-kafka-permissions","create-kafka-instance"]).t,m=(0,v.useRef)(!0),h=(0,v.useState)(!1),g=h[0],b=h[1],y=(0,v.useState)(!1),x=y[0],j=y[1],_=(0,v.useState)(!0),k=_[0],C=_[1],w=(0,v.useState)(!0),S=w[0],T=w[1],O=(0,v.useState)(!1),I=O[0],P=O[1],A=(0,v.useState)(!1),L=A[0],E=A[1],D=(0,v.useState)(!1),R=D[0],N=D[1],z=(0,v.useState)(a),B=z[0],V=z[1],F=(0,v.useState)(),H=F[0],G=F[1],U=(0,v.useState)(void 0),M=U[0],Q=U[1],q=(0,v.useCallback)((function(){return H?((null==H?void 0:H.map((function(e){return("manual"!=e.type||"kafka-instance"!=e.resourceType||null==e.resourceOperation)&&Object.values(e).includes(void 0)}))).includes(!0)?P(!1):P(!0),!(1!=I||!S)):!!(M&&M.length>0)&&(P(!0),!0)}),[I,M,S,H]);(0,v.useEffect)((function(){q()}),[q,H]),(0,v.useEffect)((function(){null==M&&V(a)}),[a,M]);var K=[],$=!(!(L&&!I||(null==H||H.length<1)&&!x)&&S),W=function(){!$||H&&(null==H?void 0:H.length)>0?N(!0):t()},J="All accounts"===d?f("all_accounts_title"):(null==d?void 0:d.includes("User:"))?null==d?void 0:d.split(":")[1]:d;return(0,r.jsxs)(i.Modal,ya({id:"manage-permissions-modal",variant:"large",isOpen:!0,"aria-label":f("dialog_aria_label"),position:"top",title:f("dialog_title"),showClose:!0,"aria-describedby":"modal-message",onClose:W,onEscapePress:function(){m.current&&t()},appendTo:function(){return p&&document.getElementById(p)||document.body},actions:[(0,r.jsx)(i.Button,ya({variant:"primary",isDisabled:$,onClick:function(){if(H&&H.length>0||M&&M.length>0){E(!0);var e=q();!function(e,t,n){var r="User:".concat(n);null==t||t.map((function(t){switch(t.type){case"manual":e.push({resourceName:"kafka-instance"==t.resourceType?"kafka-cluster":t.resourceName?t.resourceName:"",resourceType:ga(t.resourceType),patternType:"Is"==t.resourcePrefix?"LITERAL":"PREFIXED",operation:ba(t.resourceOperation),permission:"allow"==t.resourcePermission?"ALLOW":"DENY",principal:"All accounts"==n?"User:*":r});break;case"manage-access":e.push({resourceName:"kafka-cluster",resourceType:"CLUSTER",patternType:"LITERAL",operation:"ALTER",permission:"ALLOW",principal:"All accounts"==n?"User:*":r});break;case"consume-topic":e.push({resourceName:t.topicResourceName||"",resourceType:"TOPIC",patternType:"Is"==t.topicResourcePrefixRule?"LITERAL":"PREFIXED",operation:"READ",permission:"ALLOW",principal:"All accounts"==n?"User:*":r},{resourceName:t.topicResourceName||"",resourceType:"TOPIC",patternType:"Is"==t.topicResourcePrefixRule?"LITERAL":"PREFIXED",operation:"DESCRIBE",permission:"ALLOW",principal:"All accounts"==n?"User:*":r},{resourceName:t.consumerResourceName||"",resourceType:"GROUP",patternType:"Is"==t.consumerResourcePrefixRule?"LITERAL":"PREFIXED",operation:"READ",permission:"ALLOW",principal:"All accounts"==n?"User:*":r});break;case"produce-topic":e.push({resourceName:t.resourceNameValue||"",resourceType:"TOPIC",patternType:"Is"==t.prefixRuleValue?"LITERAL":"PREFIXED",operation:"WRITE",permission:"ALLOW",principal:"All accounts"==n?"User:*":r},{resourceName:t.resourceNameValue||"",resourceType:"TOPIC",patternType:"Is"==t.prefixRuleValue?"LITERAL":"PREFIXED",operation:"CREATE",permission:"ALLOW",principal:"All accounts"==n?"User:*":r},{resourceName:t.resourceNameValue||"",resourceType:"TOPIC",patternType:"Is"==t.prefixRuleValue?"LITERAL":"PREFIXED",operation:"DESCRIBE",permission:"ALLOW",principal:"All accounts"==n?"User:*":r})}}))}(K,H,d),e&&c(K,M)}},"aria-label":f("step_2_submit_button")},{children:f("step_2_submit_button")}),1),(0,r.jsx)(i.Button,ya({onClick:W,variant:"secondary","aria-label":f("common:cancel")},{children:f("common:cancel")}),2)]},{children:[(0,r.jsx)(da,{isOpen:R,closeModal:function(){N(!1),t()},resumeEditing:function(){N(!1)}}),(0,r.jsxs)(i.Form,ya({onSubmit:function(e){return e.preventDefault()}},{children:[(0,r.jsx)(i.FormGroup,ya({fieldId:"kafka-instance-name",label:f("kafka_instance"),id:"modal-message"},{children:n})),(0,r.jsx)(i.FormGroup,ya({fieldId:"account-name",label:f("account_id_title"),labelIcon:(0,r.jsx)(i.Popover,ya({bodyContent:f("account_id_help")},{children:(0,r.jsx)("button",ya({type:"button",onClick:function(e){return e.preventDefault()},className:"pf-c-form__group-label-help","aria-label":f("account_help")},{children:(0,r.jsx)(s.HelpIcon,{noVerticalAlign:!0})}))}))},{children:J})),(!I||!S)&&L&&(0,r.jsx)(i.Alert,{isInline:!0,title:f("create-kafka-instance:form_errors.form_invalid"),variant:"danger"}),(0,r.jsx)(i.ExpandableSection,ya({isIndented:!0,isExpanded:g,onToggle:function(e){b(e)},toggleContent:(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{children:f("review_existing_title")})," ",(0,r.jsx)(i.Badge,ya({isRead:0==B.length},{children:B.length}))]})},{children:(0,r.jsx)(ha,{accountId:d,existingAcls:B,onRemoveAcl:function(e){Q((function(t){return B&&null!=t?xa(xa([],t,!0),[B[e]],!1):B&&[B[e]]})),j(!0),function(e){V((B||[]).filter((function(t,n){return n!=e})))}(e)}})})),(0,r.jsx)(i.FormGroup,{children:(0,r.jsxs)(i.ExpandableSection,ya({toggleText:f("assign_permissions_title"),isIndented:!0,isExpanded:k,onToggle:function(e){C(e)}},{children:[(0,r.jsx)(i.FormGroup,{children:(0,r.jsxs)(i.TextContent,{children:[(0,r.jsx)(i.Text,ya({component:i.TextVariants.small},{children:"All accounts"===d?f("assign_permissions_all_description"):f("assign_permissions_description",{value:J})})),H&&(null==H?void 0:H.length)>0&&(0,r.jsx)(i.Text,ya({component:i.TextVariants.small},{children:f("all_fields_required")}))]})}),(0,r.jsx)(la,{setIsNameValid:T,submitted:L,onAddManualPermissions:function(){E(!1),G((function(e){return e?xa(xa([],e,!0),[{type:"manual",resourceName:void 0,resourceType:void 0,resourceOperation:void 0,resourcePrefix:"Is",resourcePermission:"allow"}],!1):[{type:"manual",resourceName:void 0,resourceType:void 0,resourceOperation:void 0,resourcePrefix:"Is",resourcePermission:"allow"}]}))},onAddProduceTopicShortcut:function(){E(!1),G((function(e){return e?xa(xa([],e,!0),[{type:"produce-topic",prefixRuleValue:"Is",resourceNameValue:void 0}],!1):[{type:"produce-topic",prefixRuleValue:"Is",resourceNameValue:void 0}]}))},onConsumeTopicShortcut:function(){E(!1),G((function(e){return e?xa(xa([],e,!0),[{type:"consume-topic",consumerResourceName:void 0,consumerResourcePrefixRule:"Is",topicResourceName:void 0,topicResourcePrefixRule:"Is"}],!1):[{type:"consume-topic",consumerResourceName:void 0,consumerResourcePrefixRule:"Is",topicResourceName:void 0,topicResourcePrefixRule:"Is"}]}))},onManageAccessShortcut:function(){E(!1),G((function(e){return e?xa(xa([],e,!0),[yi(n)],!1):[yi(n)]}))},onDelete:function(e){G((function(t){return t&&t.filter((function(t,n){return n!==e}))}))},topicNameOptions:function(e){return""==e||null==e?l:l.filter((function(t){return t.includes(e)}))},consumerGroupNameOptions:function(e){return""==e||null==e?u:u.filter((function(t){return t.includes(e)}))},addedAcls:H,kafkaName:n,setAddedAcls:G})]}))})]}))]}))},_a=function(){return _a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},_a.apply(this,arguments)},ka=function(){return(0,r.jsx)(i.PageSection,_a({isFilled:!0},{children:(0,r.jsx)(i.EmptyState,_a({variant:i.EmptyStateVariant.xs},{children:(0,r.jsx)(i.EmptyStateBody,_a({"data-chromatic":"ignore"},{children:(0,r.jsx)(cr.g,{})}))}))}))},Ca=function(){return Ca=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ca.apply(this,arguments)},wa=function(){var e=(0,o.$)().t;return(0,r.jsx)(i.PageSection,Ca({isFilled:!0},{children:(0,r.jsxs)(i.EmptyState,Ca({variant:i.EmptyStateVariant.xs},{children:[(0,r.jsx)(i.EmptyStateIcon,{icon:s.TachometerAltIcon}),(0,r.jsx)(i.Title,Ca({headingLevel:"h3",size:"lg"},{children:e("metrics:empty_state_no_data_title")})),(0,r.jsx)(i.EmptyStateBody,{children:e("metrics:empty_state_no_data_body")})]}))}))},Sa=function(){return Sa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Sa.apply(this,arguments)},Ta=function(e){var t=e.metricsLagAlert,n=e.topicsKpi,a=e.topicPartitionsKpi,o=e.consumerGroupKpi,s=e.diskSpaceMetrics,c=e.topicMetrics;return(0,r.jsx)(i.PageSection,Sa({hasOverflowScroll:!0,"aria-label":"TODO",padding:{default:"noPadding"},className:"pf-u-px-lg-on-xl pf-u-pt-sm-on-xl pf-u-pb-lg-on-xl pf-u-px-md pf-u-pb-md"},{children:(0,r.jsxs)(i.Grid,Sa({hasGutter:!0},{children:[(0,r.jsx)(i.GridItem,{children:t}),(0,r.jsx)(i.GridItem,Sa({sm:4},{children:n})),(0,r.jsx)(i.GridItem,Sa({sm:4},{children:a})),(0,r.jsx)(i.GridItem,Sa({sm:4},{children:o})),(0,r.jsx)(i.GridItem,Sa({lg:6},{children:s})),(0,r.jsx)(i.GridItem,Sa({lg:6},{children:c}))]}))}))},Oa=function(){return(0,r.jsx)(i.CardBody,{children:(0,r.jsx)(i.Bullseye,{children:(0,r.jsx)(i.Spinner,{isSVG:!0,"data-chromatic":"ignore"})})})},Ia=n(777),Pa=n(35427),Aa=n(49846),La=n(64950),Ea=n(66972),Da=n(28454),Ra=n(84894),Na=n(37870),za=n(96649);!function(e){e[e.Last5minutes=5]="Last5minutes",e[e.Last15minutes=15]="Last15minutes",e[e.Last30minutes=30]="Last30minutes",e[e.Last1hour=60]="Last1hour",e[e.Last3hours=180]="Last3hours",e[e.Last6hours=360]="Last6hours",e[e.Last12hours=720]="Last12hours",e[e.Last24hours=1440]="Last24hours",e[e.Last2days=2880]="Last2days",e[e.Last7days=10080]="Last7days"}(gi||(gi={}));var Ba=((bi={})[gi.Last5minutes]={interval:60,ticks:6,showDate:!1},bi[gi.Last15minutes]={interval:180,ticks:6,showDate:!1},bi[gi.Last30minutes]={interval:300,ticks:7,showDate:!1},bi[gi.Last1hour]={interval:600,ticks:6,showDate:!1},bi[gi.Last3hours]={interval:1800,ticks:7,showDate:!1},bi[gi.Last6hours]={interval:3600,ticks:7,showDate:!1},bi[gi.Last12hours]={interval:7200,ticks:7,showDate:!1},bi[gi.Last24hours]={interval:14400,ticks:7,showDate:!0},bi[gi.Last2days]={interval:28800,ticks:7,showDate:!0},bi[gi.Last7days]={interval:86400,ticks:8,showDate:!0},bi),Va=350,Fa={bottom:110,left:120,right:40,top:10},Ha=function(){return Ha=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ha.apply(this,arguments)},Ga=function(){var e=(0,o.$)().t;return(0,r.jsxs)(i.Flex,Ha({direction:{default:"column"},"data-chromatic":"ignore"},{children:[(0,r.jsx)(i.FlexItem,{children:(0,r.jsx)(i.Skeleton,{height:"".concat(Va-Fa.bottom,"px"),screenreaderText:e("common:skeleton_loader_screenreader_text")})}),(0,r.jsx)(i.FlexItem,{children:(0,r.jsx)(i.Skeleton,{height:"".concat(Fa.bottom/2-12.5,"px"),width:"20%"})}),(0,r.jsx)(i.FlexItem,{children:(0,r.jsx)(i.Skeleton,{height:"".concat(Fa.bottom/2-12.5,"px"),width:"40%"})})]}))};function Ua(){var e=(0,v.useRef)(null),t=(0,v.useState)(0),n=t[0],r=t[1],i=function(){return e.current&&r(e.current.clientWidth)};return(0,v.useLayoutEffect)((function(){i()}),[]),(0,v.useEffect)((function(){return window.addEventListener("resize",i),function(){return window.removeEventListener("resize",i)}}),[]),[e,n]}var Ma=n(30557),Qa=n(41410),qa=n(53080),Ka=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function $a(e){return(0,Ma.Z)(e,{units:"iec"}).toString()}var Wa=function(e){return Ba[e].showDate},Ja=function(e,t){var n=(void 0===t?{showDate:!1}:t).showDate,r=(0,Qa.Z)(e/1e3);return(0,hr.formatInTimeZone)(r,"utc",n?"HH:mm'\n'MMM dd":"HH:mm")};function Za(e,t){var n=Ka([],e,!0);n.sort();var r=parseInt(n[n.length-1])||Date.now();return new Array(Math.max(Ba[t].ticks,n.length)).fill(r).map((function(e,n){return(0,qa.Z)(new Date(e),{seconds:Ba[t].interval*n}).getTime()}))}var Ya=function(){return Ya=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ya.apply(this,arguments)},Xa=function(e){var t=e.metrics,n=e.duration,i=e.chartName,a=e.xLabel,s=e.yLabel,c=e.usageLimit,l=e.formatValue,u=void 0===l?function(e){return"".concat(e)}:l,d=e.isLoading,p=e.emptyState,f=(0,o.$)().t,m=Ua(),h=m[0],v=m[1],g=v&&v>650?6:3,b=function(e,t,n,r,i){var a=[i?{name:r,symbol:{fill:za.chart_color_black_500.value,type:"threshold"}}:void 0,{name:n,symbol:{fill:za.chart_color_blue_300.value}}].filter((function(e){return!!e})),o=za.chart_color_blue_300.value,s=za.chart_color_black_500.value,c=[],l=[],u=[];Object.entries(e).map((function(e){var t=e[0],r=e[1];l.push({name:n,x:parseInt(t,10),y:r})})),c.push({areaColor:o,softLimitColor:s,area:l,softLimit:u});var d=Za(Object.keys(e),t);return i&&d.forEach((function(e){return u.push({name:r,x:e,y:i})})),{legendData:a,chartData:c,tickValues:d}}(t,n,i,f("metrics:limit"),c),y=b.chartData,x=b.legendData,j=b.tickValues,_=Object.keys(t).length>0,k=Wa(n);switch(!0){case d:return(0,r.jsx)(Ga,{});case!_:return p;default:return(0,r.jsx)("div",Ya({ref:h},{children:(0,r.jsxs)(Ia.k,Ya({ariaTitle:i,containerComponent:(0,r.jsx)(Pa.H,{labels:function(e){var t=e.datum;return"".concat(t.name,": ").concat(u(t.y))},constrainToVisibleArea:!0}),legendPosition:"bottom-left",legendComponent:(0,r.jsx)(Aa.Qk,{orientation:"horizontal",data:x,itemsPerRow:g}),height:Va,padding:Fa,themeColor:La.nz.multiUnordered,width:v,legendAllowWrap:!0},{children:[(0,r.jsx)(Ea.C,{label:"\n"+(a||f("metrics:axis-label-time")||""),tickValues:j,tickFormat:function(e){return Ja(e,{showDate:k})}}),(0,r.jsx)(Ea.C,{label:"\n\n\n\n\n"+(s||i),dependentAxis:!0,tickFormat:u}),(0,r.jsx)(Da.G,{children:y.map((function(e,t){return(0,r.jsx)(Ra.A,{data:e.area,style:{data:{}}},"chart-area-".concat(t))}))}),(0,r.jsx)(Na.l,{data:y[0].softLimit,style:{data:{stroke:y[0].softLimitColor}}},"chart-softlimit")]}))}))}},eo=n(47134),to=function(){return to=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},to.apply(this,arguments)},no=[za.chart_color_cyan_300.value,za.chart_color_blue_300.value],ro=function(e){var t=e.partitions,n=e.topic,i=e.duration,a=e.isLoading,s=e.emptyState,c=e.selectedPartition,l=(0,o.$)().t,u=Ua(),d=u[0],p=u[1],f=function(e,t,n,r){var i=[],a=[],o=Object.entries(e).sort((function(e,t){var n=Object.values(e[1]).reduce((function(e,t){return e+t}),0);return Object.values(t[1]).reduce((function(e,t){return e+t}),0)-n}));"Top10"===r?o.slice(0,10).map((function(e,n){var r=e[0],o=e[1],s=t?"".concat(t," / ").concat(r):r,c=no[n];i.push({name:s});var l=[];Object.entries(o).map((function(e){var t=e[0],n=e[1];l.push({name:s,x:parseInt(t,10),y:n})})),a.push({color:c,area:l})})):o.slice(0,20).sort((function(e,t){var n=Object.values(e[1]),r=Object.values(t[1]),i=n.reduce((function(e,t){return e+t}),0);return r.reduce((function(e,t){return e+t}),0)-i})).sort((function(e,t){return t[1][1]-e[1][1]})).slice(0,20).map((function(e,n){var r=e[0],o=e[1],s=t?"".concat(t," / ").concat(r):r,c=no[n];i.push({name:s});var l=[];Object.entries(o).map((function(e){var t=e[0],n=e[1];l.push({name:s,x:parseInt(t,10),y:n})})),a.push({color:c,area:l})}));var s=Za(Array.from(new Set(Object.values(e).flatMap((function(e){return Object.keys(e)})))),n);return{legendData:i,chartData:a,tickValues:s}}(t,n,i,c),m=f.chartData,h=f.legendData,v=f.tickValues,g=Object.keys(t).length>0,b=Wa(i);return(0,r.jsx)("div",to({ref:d,style:{marginTop:"-30px",height:"700px",width:"650px"}},{children:function(){switch(!0){case a:return(0,r.jsx)(Ga,{});case!g:return s;default:return(0,r.jsxs)(Ia.k,to({ariaTitle:l("metrics:log_size_per_partition"),containerComponent:(0,r.jsx)(Pa.H,{labels:function(e){var t=e.datum;return"".concat(t.name,": ").concat($a(t.y))},constrainToVisibleArea:!0}),legendPosition:"bottom-left",legendComponent:(0,r.jsx)(Aa.Qk,{data:h}),height:Va,padding:Fa,themeColor:La.nz.multiOrdered,width:p,legendAllowWrap:!0},{children:[(0,r.jsx)(Ea.C,{label:"\n"+l("metrics:axis-label-time"),tickValues:v,tickFormat:function(e){return Ja(e,{showDate:b})}}),(0,r.jsx)(Ea.C,{label:"\n\n\n\n\n"+l("metrics:axis-label-bytes"),dependentAxis:!0,tickFormat:$a}),(0,r.jsx)(Da.G,{children:m.map((function(e,t){return(0,r.jsx)(eo.m,{data:e.area},"chart-area-".concat(t))}))})]}))}}()}))},io=function(){return io=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},io.apply(this,arguments)},ao=function(e){var t=e.title,n=e.description,a=(0,o.$)().t;return(0,r.jsx)(i.Popover,io({"aria-label":t,headerContent:(0,r.jsx)("div",{children:t}),bodyContent:(0,r.jsx)("div",{children:n})},{children:(0,r.jsx)(s.OutlinedQuestionCircleIcon,{"aria-label":a("metrics:chart-popover-icon-screenreader-text",{title:t})})}))},oo=function(){return oo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},oo.apply(this,arguments)},so=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},co=function(e){var t=e.incomingTopicsData,n=e.outgoingTopicsData,i=e.selectedTopic,a=e.duration,s=e.isLoading,c=e.emptyState,l=(0,o.$)().t,u=Ua(),d=u[0],p=u[1],f=p&&p>650?6:3,m=function(e,t,n,r,i){var a=[],o=[],s=lo(e,r);if(s.length>0){var c=za.chart_color_blue_300.value;o.push({color:c,line:s}),a.push({name:r,symbol:{fill:c}})}var l=lo(t,i);return l.length>0&&(c=za.chart_color_green_300.value,o.push({color:c,line:l}),a.push({name:i,symbol:{fill:c}})),{legendData:a,chartData:o,tickValues:Za(Array.from(new Set(so(so([],Object.keys(e),!0),Object.keys(t),!0))),n)}}(t,n,a,i?l("metrics:incoming_bytes",{topic:i}):l("metrics:incoming_bytes_all_topics"),i?l("metrics:outgoing_bytes",{topic:i}):l("metrics:outgoing_bytes_all_topics")),h=m.chartData,v=m.legendData,g=m.tickValues,b=Object.keys(t).length>0||Object.keys(n).length>0,y=Wa(a);switch(!0){case s:return(0,r.jsx)(Ga,{});case!b:return c;default:return(0,r.jsx)("div",oo({ref:d},{children:(0,r.jsxs)(Ia.k,oo({ariaTitle:l("metrics:total_bytes"),containerComponent:(0,r.jsx)(Pa.H,{labels:function(e){var t=e.datum;return"".concat(t.name,": ").concat($a(t.y))},constrainToVisibleArea:!0}),legendAllowWrap:!0,legendPosition:"bottom-left",legendComponent:(0,r.jsx)(Aa.Qk,{data:v,itemsPerRow:f}),height:Va,padding:Fa,themeColor:La.nz.multiUnordered,width:p},{children:[(0,r.jsx)(Ea.C,{label:"\n"+l("metrics:axis-label-time"),tickValues:g,tickCount:Ba[a].ticks,tickFormat:function(e){return Ja(e,{showDate:y})}}),(0,r.jsx)(Ea.C,{label:"\n\n\n\n\n"+l("metrics:axis-label-bytes"),dependentAxis:!0,tickFormat:$a}),(0,r.jsx)(Da.G,{children:h.map((function(e,t){return(0,r.jsx)(eo.m,{data:e.line,style:{data:{stroke:e.color}}},"chart-line-".concat(t))}))})]}))}))}};function lo(e,t){var n=[];return Object.entries(e).map((function(e){var r=e[0],i=e[1];n.push({name:t,x:parseInt(r,10),y:i})})),n}var uo,po=function(){return po=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},po.apply(this,arguments)},fo=function(){var e=(0,o.$)(["metrics"]).t;return(0,r.jsxs)(i.EmptyState,po({variant:i.EmptyStateVariant.xs},{children:[(0,r.jsx)(i.EmptyStateIcon,{icon:s.ExclamationTriangleIcon,color:"var(--pf-global--warning-color--100)"}),(0,r.jsx)(i.Title,po({headingLevel:"h3",size:"md"},{children:e("metric_not_available")}))]}))},mo=function(){return mo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},mo.apply(this,arguments)},ho=function(){var e=(0,o.$)().t;return(0,r.jsxs)(i.EmptyState,mo({variant:i.EmptyStateVariant.xs},{children:[(0,r.jsx)(i.EmptyStateIcon,{icon:s.SearchIcon}),(0,r.jsx)(i.Title,mo({headingLevel:"h3",size:"lg"},{children:e("metrics:empty_state_no_metrics_data_title")})),(0,r.jsx)(i.EmptyStateBody,{children:e("metrics:empty_state_no_metrics_data_body")})]}))},vo=function(){return vo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},vo.apply(this,arguments)},go=function(e){var t=e.onCreateTopic,n=(0,o.$)().t;return(0,r.jsxs)(i.EmptyState,vo({variant:i.EmptyStateVariant.xs},{children:[(0,r.jsx)(i.EmptyStateIcon,{icon:s.WrenchIcon}),(0,r.jsx)(i.Title,vo({headingLevel:"h3",size:"lg"},{children:n("metrics:empty_state_no_topics_title")})),(0,r.jsx)(i.EmptyStateBody,{children:n("metrics:empty_state_no_topics_body")}),t&&(0,r.jsx)(i.Button,vo({ouiaId:"button-create",variant:"primary",onClick:t},{children:n("metrics:empty_state_no_topics_create_topic")}))]}))},bo=function(){return bo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},bo.apply(this,arguments)},yo=function(){var e=(0,o.$)().t;return(0,r.jsxs)(i.EmptyState,bo({variant:i.EmptyStateVariant.xs},{children:[(0,r.jsx)(i.EmptyStateIcon,{icon:s.FilterIcon}),(0,r.jsx)(i.Title,bo({headingLevel:"h3",size:"lg"},{children:e("metrics:empty_state_no_filter_title")})),(0,r.jsx)(i.EmptyStateBody,{children:(0,r.jsx)(T.c,{ns:"metrics",i18nKey:"empty_state_no_filter_body",components:{bold:(0,r.jsx)("strong",{})}})})]}))},xo=function(){return xo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},xo.apply(this,arguments)},jo=function(e){var t=e.partitionValue,n=e.onSetSelectedPartition,a=(0,o.$)("metrics").t,s=(0,v.useState)(!1),c=s[0],l=s[1],u={Top10:a("top10_partitions"),Top20:a("top20_partitions")};return(0,r.jsx)(i.ToolbarItem,{children:(0,r.jsx)(i.Select,xo({variant:i.SelectVariant.single,isOpen:c,onToggle:function(e){l(e)},onSelect:function(e,t){n(t),l(!1)},selections:t,position:"left",placeholderText:a("top10_partitions"),"aria-label":a("filter-by-partitions")},{children:Object.entries(u).map((function(e){var t=e[0],n=e[1];return(0,r.jsx)(i.SelectOption,xo({value:t},{children:n}),t)}))}))})},_o=function(){return _o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},_o.apply(this,arguments)},ko=((uo={})[gi.Last5minutes]="Last 5 minutes",uo[gi.Last15minutes]="Last 15 minutes",uo[gi.Last30minutes]="Last 30 minutes",uo[gi.Last1hour]="Last 1 hour",uo[gi.Last3hours]="Last 3 hours",uo[gi.Last6hours]="Last 6 hours",uo[gi.Last12hours]="Last 12 hours",uo[gi.Last24hours]="Last 24 hours",uo[gi.Last2days]="Last 2 days",uo[gi.Last7days]="Last 7 days",uo),Co=function(e){var t=e.duration,n=e.keyText,a=e.ariaLabel,o=e.disableToolbar,s=e.onDurationChange,c=(0,v.useState)(!1),l=c[0],u=c[1],d="filter-by-time-".concat(Date.now());return(0,r.jsxs)(i.ToolbarItem,{children:[(0,r.jsx)("label",_o({hidden:!0,id:d},{children:a})),(0,r.jsx)(i.Select,_o({variant:i.SelectVariant.single,"aria-labelledby":d,onToggle:function(e){u(e)},onSelect:function(e,t){var n=Object.entries(ko).find((function(e){return e[0],e[1]===t}));n&&s(parseInt(n[0],10)),u(!1)},selections:ko[t],isOpen:l,isDisabled:o},{children:function(e){return[(0,r.jsx)(i.SelectGroup,_o({label:"Relative time ranges"},{children:Object.values(ko).map((function(t,n){return(0,r.jsx)(i.SelectOption,{value:t},"".concat(e,"-").concat(n))}))}),"".concat(e,"-group"))]}(n)}))]})},wo=function(){return wo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},wo.apply(this,arguments)},So={default:"150px",sm:"150px",md:"150px",lg:"200px",xl:"200px","2xl":"200px"},To=function(e){var t=e.selectedTopic,n=e.topicList,a=void 0===n?[]:n,c=e.disableToolbar,l=e.ariaLabel,u=e.onSetSelectedTopic,d=(0,o.$)().t,p=(0,v.useState)(!1),f=p[0],m=p[1],h=(0,v.useState)(Math.random()),g=h[0],b=h[1];(0,v.useEffect)((function(){return b(Math.random())}),[a]);var y=d("metrics:all_topics"),x=function(e){return[(0,r.jsx)(i.SelectOption,{value:y},"topic-filter-0"),(0,r.jsx)(i.SelectGroup,wo({label:"Filter by topic"},{children:e.map((function(e,t){return(0,r.jsx)(i.SelectOption,{value:e,title:e},"topic-filter-".concat(t+1))}))}),"topic-filter-group")]},j=c||0===a.length,_="filter-by-topic-".concat(Date.now());return(0,r.jsxs)(i.ToolbarItem,wo({widths:So},{children:[(0,r.jsx)("label",wo({hidden:!0,id:_},{children:l})),(0,r.jsx)(i.Select,wo({variant:i.SelectVariant.single,onToggle:function(e){m(e)},onSelect:function(e,t){u(t!==y?t:void 0),m(!1)},selections:t||y,isOpen:f,placeholderText:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.FilterIcon,{})," ",y]}),"aria-labelledby":_,onFilter:function(e,t){var n=a.filter((function(e){return-1!=e.indexOf(t)}))||[];return x(n)},isGrouped:!0,hasInlineFilter:!0,isDisabled:j,position:"left",className:"appserv-metrics-filterbytopic"},{children:x(a)}),g)]}))},Oo=function(){return Oo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Oo.apply(this,arguments)},Io=function(e){var t=e.isRefreshing,n=e.lastUpdated,a=void 0===n?new Date:n,s=e.ariaLabel,c=e.onRefresh,l=(0,o.$)(["metrics"]).t;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.ToolbarItem,{children:(0,r.jsx)(lr.t,{ariaLabel:s,onClick:c,isRefreshing:t})}),(0,r.jsx)(i.ToolbarItem,Oo({alignment:{default:"alignRight"},style:{color:"var(--pf-global--Color--200)"}},{children:(0,r.jsx)("div",Oo({className:"pf-u-font-size-xs"},{children:t?l("metrics:refreshing"):(0,r.jsxs)(r.Fragment,{children:[l("metrics:last-refresh"),(0,r.jsx)("br",{}),(0,r.jsx)(bn.r,{date:a,format:"distanceToNow"}),l("metrics:last-refresh-distance")]})}))}))]})},Po=function(){return Po=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Po.apply(this,arguments)},Ao=function(e){var t=e.title,n=e.selectedTopic,a=e.topicList,s=e.duration,c=e.isDisabled,l=e.isRefreshing,u=e.lastUpdated,d=e.onSetTimeDuration,p=e.onRefresh,f=e.onSetSelectedTopic,m=(0,o.$)().t;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.CardHeader,{children:(0,r.jsx)(i.CardTitle,Po({component:"h2"},{children:t}))}),(0,r.jsx)(i.Divider,{}),(0,r.jsx)(i.Toolbar,{children:(0,r.jsxs)(i.ToolbarContent,{children:[(0,r.jsx)(To,{ariaLabel:m("metrics:topics_filter_by_topic"),selectedTopic:n,onSetSelectedTopic:f,topicList:a,disableToolbar:c}),(0,r.jsx)(Co,{ariaLabel:m("metrics:topics_filter_by_time"),duration:s,onDurationChange:d,disableToolbar:c,keyText:"topic-metrics-time-filter"}),(0,r.jsx)(Io,{isRefreshing:l,lastUpdated:u,onRefresh:p,ariaLabel:m("metrics:topics_refresh")})]})}),(0,r.jsx)(i.Divider,{})]})},Lo=function(){return Lo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Lo.apply(this,arguments)},Eo=function(e){var t=e.topics,n=e.incomingTopicsData,a=e.outgoingTopicsData,s=e.incomingMessageRate,c=e.selectedTopic,l=e.duration,u=e.partitions,d=e.backendUnavailable,p=e.isInitialLoading,f=e.isLoading,m=e.isRefreshing,h=e.isJustCreated,v=e.lastUpdated,g=e.onCreateTopic,b=e.onRefresh,y=e.onSelectedTopic,x=e.onDurationChange,j=e.selectedPartition,_=e.onSelectedPartition,k=(0,o.$)().t,C=0===t.length,w=void 0!==c&&void 0===t.find((function(e){return e===c})),S=w?(0,r.jsx)(ho,{}):(0,r.jsx)(fo,{});return(0,r.jsxs)(i.Card,Lo({"data-testid":"metrics-topics"},{children:[(0,r.jsx)(Ao,{title:k("metrics:topic_metrics"),duration:l,onSetTimeDuration:x,isDisabled:d||h||C||f,isRefreshing:m,selectedTopic:c,onSetSelectedTopic:y,onRefresh:b,topicList:t,lastUpdated:v}),function(){switch(!0){case p:return(0,r.jsx)(Oa,{});case d:return(0,r.jsx)(i.CardBody,{children:(0,r.jsx)(fo,{})});case h&&!C:return(0,r.jsx)(i.CardBody,{children:(0,r.jsx)(go,{})});case h&&C:return(0,r.jsx)(i.CardBody,{children:(0,r.jsx)(go,{onCreateTopic:g})});case void 0!==c:return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Do,{}),(0,r.jsx)(i.CardBody,{children:(0,r.jsx)(co,{incomingTopicsData:n,outgoingTopicsData:a,selectedTopic:c,duration:l,isLoading:f,emptyState:S})}),(0,r.jsx)(i.Divider,{}),(0,r.jsx)(No,{}),(0,r.jsx)(i.CardBody,{children:(0,r.jsx)(Xa,{chartName:k("metrics:topic_incoming_message_rate"),yLabel:k("metrics:topic_incoming_message_rate_y_axis"),metrics:s,duration:l,isLoading:f,emptyState:S})}),(0,r.jsx)(i.Divider,{}),(0,r.jsx)(Ro,{}),(0,r.jsxs)(i.CardBody,{children:[(0,r.jsx)(i.Toolbar,{children:(0,r.jsx)(i.ToolbarContent,{children:(0,r.jsx)(jo,{onSetSelectedPartition:_,partitionValue:j})})}),(0,r.jsx)(ro,{partitions:u,topic:c,duration:l,isLoading:f,emptyState:S,selectedPartition:j})]})]});default:return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Do,{}),(0,r.jsx)(i.CardBody,{children:(0,r.jsx)(co,{incomingTopicsData:n,outgoingTopicsData:a,selectedTopic:c,duration:l,isLoading:f,emptyState:S})}),(0,r.jsx)(i.Divider,{}),(0,r.jsx)(No,{}),(0,r.jsx)(i.CardBody,{children:(0,r.jsx)(Xa,{chartName:k("metrics:topic_incoming_message_rate"),yLabel:k("metrics:topic_incoming_message_rate_y_axis"),metrics:s,duration:l,isLoading:f,emptyState:S})}),(0,r.jsx)(i.Divider,{}),(0,r.jsx)(Ro,{}),(0,r.jsx)(i.CardBody,{children:(0,r.jsx)(yo,{})})]})}}()]}))},Do=function(){var e=(0,o.$)().t;return(0,r.jsxs)(i.CardTitle,Lo({component:"h3"},{children:[e("metrics:total_bytes")," ",(0,r.jsx)(ao,{title:e("metrics:total_bytes_popover_header"),description:e("metrics:topic_metrics_help_text")})]}))},Ro=function(){var e=(0,o.$)().t;return(0,r.jsxs)(i.CardTitle,Lo({component:"h3"},{children:[e("metrics:partition_size")," ",(0,r.jsx)(ao,{title:e("metrics:topic_partition_size_popover_header"),description:e("metrics:topic_partition_size_help_text")})]}))},No=function(){var e=(0,o.$)().t;return(0,r.jsxs)(i.CardTitle,Lo({component:"h3"},{children:[e("metrics:topic_incoming_message_rate")," ",(0,r.jsx)(ao,{title:e("metrics:topic_incoming_message_rate_popover_header"),description:e("metrics:topic_incoming_message_rate_help_text")})]}))},zo=function(){return zo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},zo.apply(this,arguments)},Bo=function(e){var t=e.selectedBroker,n=e.brokerList,a=e.onSetSelectedBroker,s=e.disableToolbar,c=(0,o.$)("metrics").t,l=(0,v.useState)(!1),u=l[0],d=l[1],p=s||0===n.length;return(0,r.jsx)(i.ToolbarItem,{children:(0,r.jsx)(i.Select,zo({variant:i.SelectVariant.single,isOpen:u,onToggle:function(e){d(e)},onSelect:function(e,t){t!==c("all_brokers")?a(t):a(void 0),d(!1)},selections:t||c("all_brokers"),position:"left",placeholderText:c("all_brokers"),"aria-label":c("filter-by-broker"),isDisabled:p},{children:function(e){return[(0,r.jsx)(i.SelectOption,{value:c("all_brokers")},"broker-filter-0"),(0,r.jsx)(i.SelectGroup,zo({label:"Filter by broker"},{children:e.map((function(e,t){return(0,r.jsx)(i.SelectOption,{value:e,title:e},"broker-filter-".concat(t+1))}))}),"broker-filter-group")]}(n)}))})},Vo=function(){return Vo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Vo.apply(this,arguments)},Fo=function(e){var t=e.title,n=e.isDisabled,a=e.isRefreshing,s=e.lastUpdated,c=e.duration,l=e.onSetTimeDuration,u=e.onRefresh,d=e.selectedBroker,p=e.brokerList,f=e.onSetSelectedBroker,m=(0,o.$)().t;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.CardHeader,{children:(0,r.jsx)(i.CardTitle,Vo({component:"h2"},{children:t}))}),(0,r.jsx)(i.Divider,{}),(0,r.jsx)(i.Toolbar,{children:(0,r.jsxs)(i.ToolbarContent,{children:[(0,r.jsx)(Bo,{selectedBroker:d,brokerList:p,onSetSelectedBroker:f,disableToolbar:n}),(0,r.jsx)(Co,{ariaLabel:m("metrics:kafka_instance_filter_by_time"),duration:c,onDurationChange:l,keyText:"kafka-metrics-time-filter",disableToolbar:n}),(0,r.jsx)(Io,{isRefreshing:a,lastUpdated:s,onRefresh:u,ariaLabel:m("metrics:kafka_instance_refresh")})]})}),(0,r.jsx)(i.Divider,{})]})},Ho=function(e){var t=e.value,n=e.onChange,a=e.selectedBroker,s=(0,o.$)("metrics").t;return(0,r.jsxs)(i.ToggleGroup,{children:[(0,r.jsx)(i.ToggleGroupItem,{text:s("broker_filter.total"),value:"total",buttonId:"total",isSelected:"total"===t,onChange:function(){return n("total")},isDisabled:void 0!==a}),(0,r.jsx)(i.ToggleGroupItem,{text:s("broker_filter.per_broker"),value:"perBroker",buttonId:"perBroker",isSelected:"perBroker"===t||void 0!==a,onChange:function(){return n("perBroker")}})]})},Go=function(){return Go=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Go.apply(this,arguments)},Uo=[za.chart_color_cyan_300.value,za.chart_color_blue_300.value],Mo=function(e){var t=e.partitions,n=e.broker,i=e.duration,a=e.isLoading,s=e.emptyState,c=e.selectedPartition,l=(0,o.$)().t,u=Ua(),d=u[0],p=u[1],f=function(e,t,n,r){var i=[],a=[],o=Object.entries(e).sort((function(e,t){var n=Object.values(e[1]).reduce((function(e,t){return e+t}),0);return Object.values(t[1]).reduce((function(e,t){return e+t}),0)-n}));"Top10"===r?o.slice(0,10).map((function(e,n){var r=e[0],o=e[1],s=t?" ".concat(r):r,c=Uo[n];i.push({name:s});var l=[];Object.entries(o).map((function(e){var t=e[0],n=e[1];l.push({name:s,x:parseInt(t,10),y:n})})),a.push({color:c,area:l})})):o.slice(0,20).map((function(e,n){var r=e[0],o=e[1],s=t?"".concat(r):r,c=Uo[n];i.push({name:s});var l=[];Object.entries(o).map((function(e){var t=e[0],n=e[1];l.push({name:s,x:parseInt(t,10),y:n})})),a.push({color:c,area:l})}));var s=Za(Array.from(new Set(Object.values(e).flatMap((function(e){return Object.keys(e)})))),n);return{legendData:i,chartData:a,tickValues:s}}(t,n,i,c),m=f.chartData,h=f.legendData,v=f.tickValues,g=Object.keys(t).length>0,b=Wa(i);return(0,r.jsx)("div",Go({ref:d,style:{height:"700px"}},{children:function(){switch(!0){case a:return(0,r.jsx)(Ga,{});case!g:return s;default:return(0,r.jsxs)(Ia.k,Go({ariaTitle:l("metrics:log_size_per_partition"),containerComponent:(0,r.jsx)(Pa.H,{labels:function(e){var t=e.datum;return"".concat(t.name,": ").concat($a(t.y))},constrainToVisibleArea:!0}),legendPosition:"bottom-left",legendComponent:(0,r.jsx)(Aa.Qk,{data:h}),height:Va,padding:Fa,themeColor:La.nz.multiOrdered,width:p,legendAllowWrap:!0},{children:[(0,r.jsx)(Ea.C,{label:"\n"+l("metrics:axis-label-time"),tickValues:v,tickFormat:function(e){return Ja(e,{showDate:b})}}),(0,r.jsx)(Ea.C,{label:"\n\n\n\n\n"+l("metrics:axis-label-bytes"),dependentAxis:!0,tickFormat:$a}),(0,r.jsx)(Da.G,{children:m.map((function(e,t){return(0,r.jsx)(eo.m,{data:e.area},"chart-area-".concat(t))}))})]}))}}()}))},Qo=function(){return Qo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Qo.apply(this,arguments)},qo=[za.chart_color_cyan_300.value,za.chart_color_blue_300.value],Ko=function(e){var t=e.metrics,n=e.broker,i=e.duration,a=e.isLoading,s=e.emptyState,c=e.brokerToggle,l=e.usageLimit,u=(0,o.$)().t,d=Ua(),p=d[0],f=d[1],m=function(e,t,n,r,i,a){var o=[a?{name:i,symbol:{fill:za.chart_color_black_500.value,type:"threshold"}}:void 0].filter((function(e){return!!e})),s=[],c=[],l=za.chart_color_black_500.value;if(t&&e[t]){var u=[],d=za.chart_color_blue_300.value;o.push({name:t,symbol:{fill:d}}),Object.entries(e[t]).forEach((function(e){var n=e[0],r=e[1];u.push({name:t,x:parseInt(n,10),y:r})})),s.push({color:d,softLimitColor:l,area:u,softLimit:c})}else if("total"===r){var p=[];d=za.chart_color_blue_300.value,o.push({name:"Instance",symbol:{fill:d}}),e[r]&&Object.entries(e[r]).forEach((function(e){var t=e[0],n=e[1];p.push({name:"Instance",x:parseInt(t,10),y:n})})),s.push({color:d,softLimitColor:l,area:p,softLimit:c})}else Object.entries(e).filter((function(e){return"total"!==e[0]})).map((function(e,t){var n=e[0],r=e[1],i=n,a=qo[t];o.push({name:i});var u=[];Object.entries(r).forEach((function(e){var t=e[0],n=e[1];u.push({name:i,x:parseInt(t,10),y:n})})),s.push({color:a,softLimitColor:l,area:u,softLimit:c})}));var f=Za(Array.from(new Set(Object.values(e).flatMap((function(e){return Object.keys(e)})))),n);return a&&f.forEach((function(e){return c.push({name:i,x:e,y:a})})),{legendData:o,chartData:s,tickValues:f}}(t,n,i,c,u("metrics:limit"),l),h=m.chartData,v=m.legendData,g=m.tickValues,b=Object.keys(t).length>0,y=Wa(i);return(0,r.jsx)("div",Qo({ref:p,style:{height:"400px"}},{children:function(){switch(!0){case a:return(0,r.jsx)(Ga,{});case!b:return s;default:return(0,r.jsxs)(Ia.k,Qo({ariaTitle:u("metrics:log_size_per_partition"),containerComponent:(0,r.jsx)(Pa.H,{labels:function(e){var t=e.datum;return"".concat(t.name,": ").concat($a(t.y))},constrainToVisibleArea:!0}),legendPosition:"bottom-left",legendComponent:(0,r.jsx)(Aa.Qk,{data:v}),height:Va,padding:Fa,themeColor:La.nz.multiOrdered,width:f,legendAllowWrap:!0},{children:[(0,r.jsx)(Ea.C,{label:"\n"+u("metrics:axis-label-time"),tickValues:g,tickFormat:function(e){return Ja(e,{showDate:y})}}),(0,r.jsx)(Ea.C,{label:"\n\n\n\n\n"+u("metrics:axis-label-bytes"),dependentAxis:!0,tickFormat:$a}),(0,r.jsx)(Da.G,{children:h.map((function(e,t){return(0,r.jsx)(eo.m,{data:e.area},"chart-area-".concat(t))}))}),(0,r.jsx)(Na.l,{data:h[0].softLimit,style:{data:{stroke:h[0].softLimitColor}}},"chart-softlimit")]}))}}()}))},$o=function(){return $o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},$o.apply(this,arguments)},Wo=function(e){var t=e.usedDiskMetrics,n=e.brokers,a=e.clientConnectionsMetrics,s=e.connectionAttemptRateMetrics,c=e.duration,l=e.lastUpdated,u=e.backendUnavailable,d=e.isInitialLoading,p=e.isLoading,f=e.isRefreshing,m=e.isJustCreated,h=e.diskSpaceLimit,v=e.connectionsLimit,g=e.connectionRateLimit,b=e.onRefresh,y=e.onDurationChange,x=e.selectedBroker,j=e.onSelectedBroker,_=e.selectToggle,k=e.onSelectedToggle,C=e.selectedPartition,w=e.onSelectedPartition,S=e.bytesPerPartitions,T=(0,o.$)("metrics").t;return(0,r.jsxs)(i.Card,$o({"data-testid":"metrics-kafka-instance"},{children:[(0,r.jsx)(Fo,{title:T("kafka_instance_metrics"),duration:c,lastUpdated:l,onSetTimeDuration:y,isDisabled:u||m||p,isRefreshing:f,onRefresh:b,selectedBroker:x,onSetSelectedBroker:j,brokerList:n}),function(){switch(!0){case d:return(0,r.jsx)(Oa,{});case u:return(0,r.jsx)(i.CardBody,{children:(0,r.jsx)(fo,{})});case m:return(0,r.jsx)(i.CardBody,{children:(0,r.jsx)(wa,{})});default:return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Jo,{title:T("used_disk_space"),helperText:T("used_disk_space_help_text")}),(0,r.jsxs)(i.CardBody,{children:[(0,r.jsx)(Ho,{value:_,onChange:k,selectedBroker:x}),(0,r.jsx)(Ko,{metrics:t,broker:x,duration:c,isLoading:p,emptyState:(0,r.jsx)(fo,{}),brokerToggle:_,usageLimit:h})]}),(0,r.jsx)(i.Divider,{}),(0,r.jsx)(Jo,{title:T("partition_size"),helperText:T("broker_partition_size_help_text")}),(0,r.jsx)(i.CardBody,{children:(0,r.jsxs)(i.Toolbar,{children:[(0,r.jsx)(i.ToolbarContent,{children:(0,r.jsx)(jo,{onSetSelectedPartition:w,partitionValue:C})}),(0,r.jsx)(Mo,{partitions:S,broker:x,duration:c,isLoading:p,selectedPartition:C,emptyState:(0,r.jsx)(fo,{})})]})}),(0,r.jsx)(i.Divider,{}),(0,r.jsx)(Jo,{title:T("client_connections"),helperText:T("client_connections_helper_text")}),(0,r.jsx)(i.CardBody,{children:(0,r.jsxs)(i.Grid,$o({hasGutter:!0},{children:[(0,r.jsx)(i.GridItem,{children:x?(0,r.jsx)(i.Alert,{variant:"info",isInline:!0,title:T("client_connection_alert")}):null}),(0,r.jsx)(i.GridItem,{children:(0,r.jsx)(Xa,{chartName:T("client_connections"),yLabel:T("client_connections_y_axis"),metrics:a,duration:c,usageLimit:v,isLoading:p,emptyState:(0,r.jsx)(fo,{})})})]}))}),(0,r.jsx)(i.Divider,{}),(0,r.jsx)(Jo,{title:T("connection_attempt_rate"),helperText:T("connection_attempt_rate_help_text")}),(0,r.jsx)(i.CardBody,{children:(0,r.jsxs)(i.Grid,$o({hasGutter:!0},{children:[(0,r.jsx)(i.GridItem,{children:x?(0,r.jsx)(i.Alert,{variant:"info",isInline:!0,title:T("connection_attempt_rate_alert")}):null}),(0,r.jsx)(i.GridItem,{children:(0,r.jsx)(Xa,{chartName:T("connection_attempt_rate"),yLabel:T("connection_attempt_rate_yaxis"),metrics:s,duration:c,usageLimit:g,isLoading:p,emptyState:(0,r.jsx)(fo,{})})})]}))})]})}}()]}))},Jo=function(e){var t=e.title,n=e.helperText;return(0,r.jsxs)(i.CardTitle,$o({component:"h3"},{children:[t," ",(0,r.jsx)(ao,{title:t,description:n})]}))},Zo=function(){return Zo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Zo.apply(this,arguments)},Yo=function(e){var t=e.metric,n=e.name,a=e.popover,o=e.isLoading;return(0,r.jsxs)(i.Card,Zo({isFullHeight:!0,"data-testid":n},{children:[(0,r.jsxs)(i.CardTitle,Zo({component:"h3"},{children:[n," ",(0,r.jsx)(ao,{title:n,description:a})]})),(0,r.jsxs)(i.CardBody,{children:[!o&&(void 0===t?(0,r.jsx)(i.Bullseye,{children:(0,r.jsx)(fo,{})}):(0,r.jsx)(i.Title,Zo({headingLevel:"h3",size:"4xl","aria-valuetext":"".concat(t," ").concat(n)},{children:t}))),o&&(0,r.jsx)(i.Skeleton,{width:"50px",shape:"square"})]})]}))},Xo=function(){return Xo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Xo.apply(this,arguments)},es={initial:"loading",states:{loading:{invoke:{src:"api"},on:{fetchFail:{actions:"incrementRetries",target:"failure"}}},failure:{after:{1e3:[{cond:"canRetryFetching",target:"loading"},{target:"#kafkaInstanceMetrics.criticalFail"}]}}}},ts=(0,W.C)({tsTypes:{},schema:{context:{},events:{}},id:"kafkaInstanceMetrics",context:{lastUpdated:void 0,selectedBroker:void 0,duration:gi.Last1hour,usedDiskSpaceMetrics:{},bytesPerPartitionMetrics:{},clientConnectionsMetrics:{},connectionAttemptRateMetrics:{},diskSpaceLimit:void 0,connectionsLimit:void 0,connectionRateLimit:void 0,fetchFailures:0,brokers:[],selectedToggle:"total",selectedPartition:"Top10"},initial:"initialLoading",states:{initialLoading:Xo(Xo({},es),{tags:"initialLoading",entry:"setFetchTimestamp",on:{fetchSuccess:[{cond:"isJustCreated",actions:"setMetrics",target:"#kafkaInstanceMetrics.withResponse"},{actions:"setMetrics",target:"justCreated"}]}}),callApi:Xo(Xo({},es),{tags:"loading",entry:"setFetchTimestamp",on:{fetchSuccess:{actions:"setMetrics",target:"#kafkaInstanceMetrics.withResponse"}}}),criticalFail:{tags:"failed",on:{refresh:{actions:"resetRetries",target:"callApi"}}},justCreated:{tags:"justCreated",on:{refresh:{target:"initialLoading"}}},withResponse:{tags:"withResponse",on:{refresh:{target:"refreshing"},selectDuration:{actions:"setDuration",target:"callApi"},selectBroker:{actions:"setBroker",target:"callApi"},selectToggle:{actions:"setToggle",target:"callApi"},selectPartition:{actions:"setPartition"}}},refreshing:{tags:"refreshing",entry:"setFetchTimestamp",invoke:{src:"api"},on:{fetchSuccess:{actions:"setMetrics",target:"withResponse"},fetchFail:{target:"withResponse"}}}}},{actions:{setFetchTimestamp:(0,J.f0)({lastUpdated:function(e){return new Date}}),setMetrics:(0,J.f0)((function(e,t){var n=t.usedDiskSpaceMetrics,r=t.bytesPerPartitionMetrics,i=t.clientConnectionsMetrics,a=t.connectionAttemptRateMetrics,o=t.diskSpaceLimit,s=t.connectionsLimit,c=t.connectionRateLimit;return{brokers:t.brokers,usedDiskSpaceMetrics:n,bytesPerPartitionMetrics:r,clientConnectionsMetrics:i,connectionAttemptRateMetrics:a,diskSpaceLimit:o*Math.pow(1024,3),connectionsLimit:s,connectionRateLimit:c}})),incrementRetries:(0,J.f0)({fetchFailures:function(e){return e.fetchFailures+1}}),resetRetries:(0,J.f0)({fetchFailures:function(e){return 0}}),setDuration:(0,J.f0)((function(e,t){return{duration:t.duration,usedDiskSpaceMetrics:{},bytesPerPartitionMetrics:{},clientConnectionsMetrics:{},connectionAttemptRateMetrics:{}}})),setBroker:(0,J.f0)({selectedBroker:function(e,t){return t.broker}}),setToggle:(0,J.f0)((function(e,t){return{selectedToggle:t.value}})),setPartition:(0,J.f0)((function(e,t){return{selectedPartition:t.value}}))},guards:{canRetryFetching:function(e){return e.fetchFailures<3},isJustCreated:function(e,t){return"fetchSuccess"===t.type&&(Object.keys(t.clientConnectionsMetrics).length>0||Object.keys(t.connectionAttemptRateMetrics).length>0||Object.keys(t.usedDiskSpaceMetrics).length>0||Object.keys(t.bytesPerPartitionMetrics).length>0)}}}),ns=function(){return ns=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ns.apply(this,arguments)},rs={initial:"loading",states:{loading:{invoke:{src:"api"},on:{fetchFail:{actions:"incrementRetries",target:"failure"}}},failure:{after:{1e3:[{cond:"canRetryFetching",target:"loading"},{target:"#topicsMetrics.criticalFail"}]}}}},is=(0,W.C)({tsTypes:{},schema:{context:{},events:{}},id:"topicsMetrics",context:{lastUpdated:void 0,selectedTopic:void 0,duration:gi.Last1hour,selectedPartition:"Top10",kafkaTopics:[],metricsTopics:[],bytesOutgoing:{},bytesIncoming:{},bytesPerPartition:{},incomingMessageRate:{},fetchFailures:0},initial:"initialLoading",states:{initialLoading:ns(ns({},rs),{tags:"initialLoading",entry:"setFetchTimestamp",on:{fetchSuccess:[{cond:"isJustCreated",actions:"setMetrics",target:"#topicsMetrics.withResponse"},{actions:"setMetrics",target:"justCreated"}]}}),callApi:ns(ns({},rs),{tags:"loading",entry:"setFetchTimestamp",on:{fetchSuccess:{actions:"setMetrics",target:"#topicsMetrics.withResponse"}}}),criticalFail:{tags:"failed",on:{refresh:{actions:"resetRetries",target:"callApi"}}},justCreated:{tags:"justCreated",on:{refresh:{target:"initialLoading"}}},withResponse:{tags:"withResponse",initial:"idle",states:{idle:{},refreshing:{tags:"refreshing",entry:"setFetchTimestamp",invoke:{src:"api"},on:{fetchSuccess:{actions:"setMetrics",target:"#topicsMetrics.withResponse"},fetchFail:{target:"#topicsMetrics.withResponse"}}}},on:{refresh:{target:"#topicsMetrics.withResponse.refreshing"},selectTopic:{actions:"setTopic",target:"callApi"},selectDuration:{actions:"setDuration",target:"callApi"},selectPartition:{actions:"setPartition"}}}}},{actions:{setFetchTimestamp:(0,J.f0)({lastUpdated:function(e){return new Date}}),setMetrics:(0,J.f0)((function(e,t){return{kafkaTopics:t.kafkaTopics,metricsTopics:t.metricsTopics,bytesPerPartition:t.bytesPerPartition,bytesIncoming:t.bytesIncoming,bytesOutgoing:t.bytesOutgoing,incomingMessageRate:t.incomingMessageRate}})),incrementRetries:(0,J.f0)({fetchFailures:function(e){return e.fetchFailures+1}}),resetRetries:(0,J.f0)({fetchFailures:function(e){return 0}}),setTopic:(0,J.f0)({selectedTopic:function(e,t){return t.topic}}),setDuration:(0,J.f0)({duration:function(e,t){return t.duration}}),setPartition:(0,J.f0)((function(e,t){return{selectedPartition:t.value}}))},guards:{canRetryFetching:function(e){return e.fetchFailures<3},isJustCreated:function(e,t){return"fetchSuccess"===t.type&&(Object.keys(t.bytesIncoming).length>0||Object.keys(t.bytesOutgoing).length>0||Object.keys(t.bytesPerPartition).length>0||Object.keys(t.incomingMessageRate).length>0)}}}),as=function(){return as=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},as.apply(this,arguments)},os={initial:"loading",states:{loading:{invoke:{src:"api"},on:{fetchFail:{actions:"incrementRetries",target:"failure"}}},failure:{after:{1e3:[{cond:"canRetryFetching",target:"loading"},{target:"#kpis.criticalFail"}]}}}},ss=(0,W.C)({tsTypes:{},predictableActionArguments:!0,schema:{context:{},events:{}},id:"kpis",context:{topics:void 0,topicPartitions:void 0,consumerGroups:void 0,topicPartitionsLimit:void 0,fetchFailures:0},initial:"initialLoading",states:{initialLoading:as(as({},os),{tags:"initialLoading",on:{fetchSuccess:[{cond:"isJustCreated",actions:"setMetrics",target:"#kpis.withResponse"},{actions:"setMetrics",target:"justCreated"}]}}),callApi:as(as({},os),{tags:"loading",on:{fetchSuccess:{actions:"setMetrics",target:"#kpis.withResponse"}}}),criticalFail:{tags:"failed",on:{refresh:{actions:"resetRetries",target:"callApi"}}},justCreated:{tags:"justCreated",on:{refresh:{target:"initialLoading"}}},withResponse:{tags:"withResponse",initial:"idle",states:{idle:{},refreshing:{tags:"refreshing",invoke:{src:"api"},on:{fetchSuccess:{actions:"setMetrics",target:"#kpis.withResponse"},fetchFail:{target:"#kpis.withResponse"}}}},on:{refresh:{target:"#kpis.withResponse.refreshing"}}}}},{actions:{setMetrics:(0,J.f0)((function(e,t){return{topics:t.topics,topicPartitions:t.topicPartitions,consumerGroups:t.consumerGroups,topicPartitionsLimit:t.topicPartitionsLimit}})),incrementRetries:(0,J.f0)({fetchFailures:function(e){return e.fetchFailures+1}}),resetRetries:(0,J.f0)({fetchFailures:function(e){return 0}})},guards:{canRetryFetching:function(e){return e.fetchFailures<3},isJustCreated:function(e,t){return"fetchSuccess"===t.type&&(void 0!==t.topics||void 0!==t.topicPartitions||void 0!==t.consumerGroups||void 0!==t.topicPartitionsLimit)}}}),cs=function(){return cs=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},cs.apply(this,arguments)},ls=(0,v.createContext)(null),us=function(e){var t=e.children,n=e.getKafkaInstanceMetrics,i=(0,$.k)((function(){return ts.withConfig({services:{api:function(e){return function(t){n({selectedBroker:e.selectedBroker,duration:e.duration,interval:Ba[e.duration].interval}).then((function(e){return t(cs({type:"fetchSuccess"},e))})).catch((function(e){console.error("Failed fetching data",e),t("fetchFail")}))}}}})}),{devTools:!0});return(0,r.jsx)(ls.Provider,cs({value:{service:i}},{children:t}))},ds=function(){return ds=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ds.apply(this,arguments)},ps=(0,v.createContext)(null),fs=function(e){var t=e.children,n=e.getMetricsKpi,i=(0,$.k)((function(){return ss.withConfig({services:{api:function(){return function(e){n().then((function(t){return e(ds({type:"fetchSuccess"},t))})).catch((function(t){console.error("Failed fetching data",t),e("fetchFail")}))}}}})}),{devTools:!0});return(0,r.jsx)(ps.Provider,ds({value:{service:i}},{children:t}))},ms=function(){return ms=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ms.apply(this,arguments)},hs=(0,v.createContext)(null),vs=function(e){var t=e.children,n=e.getTopicsMetrics,i=(0,$.k)((function(){return is.withConfig({services:{api:function(e){return function(t){n({selectedTopic:e.selectedTopic,duration:e.duration,interval:Ba[e.duration].interval}).then((function(e){return t(ms({type:"fetchSuccess"},e))})).catch((function(e){console.error("Failed fetching data",e),t("fetchFail")}))}}}})}),{devTools:!0});return(0,r.jsx)(hs.Provider,ms({value:{service:i}},{children:t}))},gs=function(){return gs=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},gs.apply(this,arguments)};function bs(){var e=(0,v.useContext)(ls).service,t=(0,vt.v)(e,(0,v.useCallback)((function(e){return gs(gs({},e.context),{isInitialLoading:e.hasTag("initialLoading"),isRefreshing:e.hasTag("refreshing"),isLoading:e.hasTag("loading"),isFailed:e.hasTag("failed"),isJustCreated:e.hasTag("justCreated")})}),[])),n=t.selectedToggle,r=t.selectedBroker,i=t.usedDiskSpaceMetrics,a=t.clientConnectionsMetrics,o=t.connectionAttemptRateMetrics,s=t.bytesPerPartitionMetrics,c=t.diskSpaceLimit,l=t.connectionsLimit,u=t.connectionRateLimit,d=t.duration,p=t.lastUpdated,f=t.isInitialLoading,m=t.isLoading,h=t.isRefreshing,g=t.isFailed,b=t.isJustCreated,y=t.selectedPartition,x=t.brokers,j=(0,v.useCallback)((function(t){return e.send({type:"selectBroker",broker:t})}),[e]),_=(0,v.useCallback)((function(t){return e.send({type:"selectDuration",duration:t})}),[e]);return{usedDiskSpaceMetrics:i,clientConnectionsMetrics:a,connectionAttemptRateMetrics:o,bytesPerPartitionMetrics:s,diskSpaceLimit:c,connectionsLimit:l,connectionRateLimit:u,lastUpdated:p,isInitialLoading:f,isLoading:m,isRefreshing:h,isFailed:g,isJustCreated:b,duration:d,onDurationChange:_,onRefresh:(0,v.useCallback)((function(){return e.send("refresh")}),[e]),onBrokerChange:j,selectedBroker:r,selectedToggle:n,onSelectToggle:(0,v.useCallback)((function(t){return e.send({type:"selectToggle",value:t})}),[e]),onSelectPartition:(0,v.useCallback)((function(t){return e.send({type:"selectPartition",value:t})}),[e]),selectedPartition:y,brokers:x}}var ys=function(){return ys=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ys.apply(this,arguments)},xs=function(){return xs=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},xs.apply(this,arguments)},js=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};function _s(){var e=(0,v.useContext)(hs).service,t=(0,vt.v)(e,(0,v.useCallback)((function(e){return xs(xs({},e.context),{isInitialLoading:e.hasTag("initialLoading"),isRefreshing:e.hasTag("refreshing"),isLoading:e.hasTag("loading"),isFailed:e.hasTag("failed"),isJustCreated:e.hasTag("justCreated")})}),[])),n=t.selectedTopic,r=t.duration,i=t.kafkaTopics,a=t.metricsTopics,o=t.bytesIncoming,s=t.bytesOutgoing,c=t.bytesPerPartition,l=t.incomingMessageRate,u=t.isInitialLoading,d=t.isLoading,p=t.isRefreshing,f=t.isFailed,m=t.isJustCreated,h=t.lastUpdated,g=t.selectedPartition,b=(0,v.useCallback)((function(t){return e.send({type:"selectTopic",topic:t})}),[e]),y=(0,v.useCallback)((function(t){return e.send({type:"selectDuration",duration:t})}),[e]),x=(0,v.useCallback)((function(){return e.send("refresh")}),[e]);return{isInitialLoading:u,isLoading:d,isRefreshing:p,isFailed:f,isJustCreated:m,lastUpdated:h,topics:(0,v.useMemo)((function(){var e=Array.from(new Set(js(js([],i,!0),a,!0)));return e.sort((function(e,t){return e.localeCompare(t)})),e}),[i,a]),selectedTopic:n,duration:r,bytesIncoming:o,bytesOutgoing:s,bytesPerPartition:c,incomingMessageRate:l,onTopicChange:b,onDurationChange:y,onRefresh:x,onSelectPartition:(0,v.useCallback)((function(t){return e.send({type:"selectPartition",value:t})}),[e]),selectedPartition:g}}var ks=function(){return ks=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ks.apply(this,arguments)},Cs=function(e){var t=e.metric,n=e.isLoading,a=e.topicPartitionsLimit,c=void 0===a?0:a,l=(0,o.$)().t;return(0,r.jsxs)(i.Card,ks({isFullHeight:!0,"data-testid":l("metrics:metric_kpi_topicPartitions_name")},{children:[(0,r.jsxs)(i.CardTitle,ks({component:"h3"},{children:[l("metrics:metric_kpi_topicPartitions_name")," ",(0,r.jsx)(ao,{title:l("metrics:metric_kpi_topicPartitions_name"),description:l("metrics:metric_kpi_topicPartitions_description")})]})),(0,r.jsxs)(i.CardBody,{children:[!n&&(void 0===t?(0,r.jsx)(i.Bullseye,{children:(0,r.jsx)(fo,{})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.Title,ks({headingLevel:"h3",size:"4xl","aria-valuetext":"".concat(t," ").concat(l("metrics:metric_kpi_topicPartitions_name"))},{children:[t," ",t>=c?(0,r.jsx)(s.ExclamationCircleIcon,{color:"var(--pf-global--danger-color--100)"}):t>=.95*c?(0,r.jsx)(s.ExclamationTriangleIcon,{color:"var(--pf-global--warning-color--100)"}):""]})),(0,r.jsx)(i.TextContent,{children:(0,r.jsx)(i.Text,{children:l("metrics:partition_limit",{topic:c})})})]})),n&&(0,r.jsx)(i.Skeleton,{width:"50px",shape:"square"})]}),t&&t>=c?(0,r.jsx)(i.CardFooter,{children:(0,r.jsxs)(i.Alert,ks({isExpandable:!0,isInline:!0,variant:i.AlertVariant.danger,title:l("metrics:partition_limit_reached_title")},{children:[(0,r.jsx)("p",{children:l("metrics:partition_limit_reached_description_1")}),(0,r.jsx)("p",{children:l("metrics:partition_limit_reached_description_2")})]}))}):t&&t>=.95*c?(0,r.jsx)(i.CardFooter,{children:(0,r.jsxs)(i.Alert,ks({role:"alert",isExpandable:!0,isInline:!0,variant:i.AlertVariant.warning,title:l("metrics:partition_limit_approaching_title")},{children:[(0,r.jsx)("p",{children:l("metrics:partition_limit_approaching_description_1",{limit:c})}),(0,r.jsx)("p",{children:l("metrics:partition_limit_approaching_description_2")})]}))}):" "]}))},ws=function(){return ws=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ws.apply(this,arguments)},Ss=function(e){var t=e.isClosed,n=e.onClickClose,a=(0,o.$)("metrics").t;return t?(0,r.jsx)(r.Fragment,{children:" "}):(0,r.jsx)(i.Alert,ws({isInline:!0,variant:"info",title:a("metrics_lag_title"),actionClose:(0,r.jsx)(i.AlertActionCloseButton,{onClose:n})},{children:(0,r.jsx)("p",{children:a("metrics_lag_description")})}))},Ts=function(){return Ts=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ts.apply(this,arguments)},Os=function(e){var t=e.getKafkaInstanceMetrics,n=e.getTopicsMetrics,i=e.getMetricsKpi,a=e.onCreateTopic,o=e.onAlertClose,s=e.hasUserAlreadyClosedAlert;return(0,r.jsx)(vs,Ts({getTopicsMetrics:n},{children:(0,r.jsx)(us,Ts({getKafkaInstanceMetrics:t},{children:(0,r.jsx)(fs,Ts({getMetricsKpi:i},{children:(0,r.jsx)(Is,{onCreateTopic:a,onClickClose:o,isClosed:s})}))}))}))},Is=function(e){var t=e.onCreateTopic,n=e.onClickClose,i=e.isClosed,a=(0,o.$)().t,s=bs(),c=_s(),l=function(){var e=(0,v.useContext)(ps).service,t=(0,vt.v)(e,(0,v.useCallback)((function(e){return ys(ys({},e.context),{isInitialLoading:e.hasTag("initialLoading"),isRefreshing:e.hasTag("refreshing"),isLoading:e.hasTag("loading"),isFailed:e.hasTag("failed"),isJustCreated:e.hasTag("justCreated")})}),[])),n=t.topics,r=t.topicPartitions,i=t.topicPartitionsLimit,a=t.consumerGroups;return{isInitialLoading:t.isInitialLoading,isLoading:t.isLoading,isRefreshing:t.isRefreshing,isFailed:t.isFailed,isJustCreated:t.isJustCreated,topics:n,topicPartitions:r,consumerGroups:a,topicPartitionsLimit:i,onRefresh:(0,v.useCallback)((function(){return e.send("refresh")}),[e])}}();switch(!0){case s.isInitialLoading||c.isInitialLoading||l.isInitialLoading:return(0,r.jsx)(ka,{});case s.isFailed&&c.isFailed&&c.isFailed:case s.isJustCreated&&c.isJustCreated&&l.isJustCreated:return(0,r.jsx)(wa,{});default:return(0,r.jsx)(Ta,{metricsLagAlert:(0,r.jsx)(Ss,{onClickClose:n,isClosed:i}),topicsKpi:(0,r.jsx)(Yo,{metric:l.topics,isLoading:l.isInitialLoading||l.isLoading,name:a("metrics:metric_kpi_topics_name"),popover:a("metrics:metric_kpi_topics_description")}),topicPartitionsKpi:(0,r.jsx)(Cs,{metric:l.topicPartitions,isLoading:l.isInitialLoading||l.isLoading,topicPartitionsLimit:l.topicPartitionsLimit}),consumerGroupKpi:(0,r.jsx)(Yo,{metric:l.consumerGroups,isLoading:l.isInitialLoading||l.isLoading,name:a("metrics:metric_kpi_consumerGroup_name"),popover:a("metrics:metric_kpi_consumerGroup_description")}),diskSpaceMetrics:(0,r.jsx)(Ps,{}),topicMetrics:(0,r.jsx)(As,{onCreateTopic:t})})}},Ps=function(){var e=bs(),t=e.isInitialLoading,n=e.isLoading,i=e.isRefreshing,a=e.isFailed,o=e.isJustCreated,s=e.duration,c=e.lastUpdated,l=e.usedDiskSpaceMetrics,u=e.clientConnectionsMetrics,d=e.connectionAttemptRateMetrics,p=e.diskSpaceLimit,f=e.connectionsLimit,m=e.connectionRateLimit,h=e.onDurationChange,v=e.onRefresh,g=e.brokers,b=e.onBrokerChange,y=e.selectedBroker,x=e.selectedToggle,j=e.onSelectToggle,_=e.bytesPerPartitionMetrics,k=e.selectedPartition,C=e.onSelectPartition;return(0,r.jsx)(Wo,{usedDiskMetrics:l,clientConnectionsMetrics:u,connectionAttemptRateMetrics:d,duration:s,backendUnavailable:a,isInitialLoading:t,isLoading:n,isRefreshing:i,isJustCreated:o,lastUpdated:c,onRefresh:v,onDurationChange:h,diskSpaceLimit:p||0,connectionsLimit:f||0,connectionRateLimit:m||0,brokers:g,selectedBroker:y,onSelectedBroker:b,selectToggle:x,onSelectedToggle:j,bytesPerPartitions:_,onSelectedPartition:C,selectedPartition:k})},As=function(e){var t=e.onCreateTopic,n=_s(),i=n.isInitialLoading,a=n.isLoading,o=n.isRefreshing,s=n.isFailed,c=n.isJustCreated,l=n.lastUpdated,u=n.selectedTopic,d=n.duration,p=n.topics,f=n.bytesIncoming,m=n.bytesOutgoing,h=n.bytesPerPartition,v=n.incomingMessageRate,g=n.selectedPartition,b=n.onDurationChange,y=n.onTopicChange,x=n.onRefresh,j=n.onSelectPartition;return(0,r.jsx)(Eo,{backendUnavailable:s,topics:p,incomingTopicsData:f,outgoingTopicsData:m,partitions:h,incomingMessageRate:v,duration:d,isInitialLoading:i,isLoading:a,isRefreshing:o,isJustCreated:c,lastUpdated:l,selectedTopic:u,onRefresh:x,onSelectedTopic:y,onDurationChange:b,onCreateTopic:t,onSelectedPartition:j,selectedPartition:g})},Ls=function(){return Ls=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ls.apply(this,arguments)},Es=function(e){var t=e.onSubmitReAuthentication,n=e.reauthenticationEnabled,a=(0,o.$)("kafka").t,s=(0,v.useState)(n?"On":"Off"),c=s[0],l=s[1],u=(0,v.useState)(!1),d=u[0],p=u[1],f=function(){p(!1)},m=function(e){l(e?"TurningOn":"TurningOff"),t(e).then((function(e){l(e?"On":"Off")})).catch((function(){l(e?"Off":"On")}))};return(0,r.jsx)(i.PageSection,Ls({isFilled:!0,hasOverflowScroll:!0,"aria-label":"TODO"},{children:(0,r.jsxs)(i.Stack,Ls({hasGutter:!0},{children:[(0,r.jsx)(i.StackItem,{children:(0,r.jsx)(i.Card,{children:(0,r.jsx)(i.CardBody,{children:a("settings.kafka_instance_settings_label")})})}),(0,r.jsx)(i.StackItem,{children:(0,r.jsx)(i.Card,Ls({className:"mas--settings__card"},{children:(0,r.jsx)(i.CardBody,{children:(0,r.jsxs)(i.Flex,Ls({flexWrap:{default:"nowrap"}},{children:[(0,r.jsx)(i.FlexItem,Ls({grow:{default:"grow"}},{children:(0,r.jsxs)(i.Flex,{children:[(0,r.jsx)(i.FlexItem,Ls({component:"span",spacer:{default:"spacerSm"}},{children:(0,r.jsxs)("strong",{children:[a("settings.connection_re_authentication_label"),":"]})})),(0,r.jsx)(i.FlexItem,{children:function(){switch(c){case"On":return a("settings.Connection_re_authentication_states.on");case"TurningOff":return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Spinner,{size:"md","aria-valuetext":a("settings.Connection_re_authentication_states.turning_off"),"aria-label":a("settings.connection_re_authentication_label")})," ",a("settings.Connection_re_authentication_states.turning_off")]});case"Off":return a("settings.Connection_re_authentication_states.off");case"TurningOn":return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Spinner,{size:"md","aria-valuetext":"settings.Connection_re_authentication_states.turning_on","aria-label":a("settings.connection_re_authentication_label")})," ",a("settings.Connection_re_authentication_states.turning_on")]});default:return null}}()})]})})),(0,r.jsx)(i.FlexItem,{children:(0,r.jsx)(i.Switch,{id:"Connection-re-authentication-switch","aria-label":a("settings.connection_re_authentication_label"),isChecked:"On"===c||"TurningOff"===c,isDisabled:"TurningOff"===c||"TurningOn"===c,onChange:function(e){"On"===c?p(!0):m(e)}})}),(0,r.jsx)(i.Modal,Ls({variant:i.ModalVariant.small,isOpen:d,title:a("settings.warning_title"),titleIconVariant:"warning",actions:[(0,r.jsx)(i.Button,Ls({variant:"primary",onClick:function(){p(!1),m(!1)}},{children:a("settings.turn_off_button_label")}),"confirm"),(0,r.jsx)(i.Button,Ls({variant:"link",onClick:f},{children:a("common:cancel")}),"cancel")],onClose:f},{children:a("settings.warning_description")}))]}))})}))})]}))}))},Ds=[{key:"days",value:"days",isPlaceholder:!0},{key:"hours",value:"hours"},{key:"minutes",value:"minutes"},{key:"seconds",value:"seconds"},{key:"milliseconds",value:"milliseconds"}],Rs=[{key:"bytes",value:"bytes",isPlaceholder:!0},{key:"kibibytes",value:"kibibytes"},{key:"mebibytes",value:"mebibytes"},{key:"gibibytes",value:"gibibytes"},{key:"tebibytes",value:"tebibytes"}],Ns=function(){return Ns=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ns.apply(this,arguments)},zs=function(e){var t=e.showAllOptions,n=e.onShowAllOptions,a=e.kafkaName,s=e.kafkaInstanceLink,c=e.kafkaPageLink,l=(0,o.$)(["common","topic"]).t,u=(0,r.jsxs)(i.Breadcrumb,Ns({ouiaId:"breadcrumb"},{children:[(0,r.jsx)(i.BreadcrumbItem,{render:function(){return(0,r.jsx)(Q.rU,Ns({to:s},{children:l("common:kafka_instance")}))}}),(0,r.jsx)(i.BreadcrumbItem,{render:function(){return(0,r.jsx)(Q.rU,Ns({to:c},{children:a}))}}),(0,r.jsx)(i.BreadcrumbItem,Ns({isActive:!0},{children:l("topic:create_topic")}))]}));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("section",Ns({className:"pf-c-page__main-breadcrumb"},{children:u})),(0,r.jsxs)(i.PageSection,Ns({variant:i.PageSectionVariants.light},{children:[(0,r.jsx)(i.Title,Ns({headingLevel:"h1",size:"2xl"},{children:l("topic:create_topic")})),(0,r.jsx)("br",{}),(0,r.jsx)(i.Switch,{ouiaId:"toggle-switch-off",id:"id-show-all-options",label:l("topic:show_all_options"),labelOff:l("topic:show_all_options"),isChecked:t,onChange:n,className:"create-topic-wizard"})]}))]})},Bs=function(){return Bs=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Bs.apply(this,arguments)},Vs=function(e){var t=e.topicData,n=e.onSave,a=e.isModalOpen,s=e.setIsModalOpen,c=e.isCreate,l=(0,o.$)(["create-topic"]).t,u=function(){s(!1)};return(0,r.jsx)(i.Modal,Bs({title:l("increase_partitions"),variant:"small",titleIconVariant:"warning","aria-describedby":"modal-title-icon-description",isOpen:a,onClose:u,actions:[(0,r.jsx)(i.Button,Bs({variant:"primary",onClick:function(){s(!1),n(t)}},{children:l("common:yes")}),"confirm"),(0,r.jsx)(i.Button,Bs({variant:"link",onClick:u},{children:l("no_return")}),"cancel")]},{children:l(c?"partition_warning_modal":"partition_increase")}))},Fs=n(56156),Hs=function(){return Hs=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Hs.apply(this,arguments)},Gs=function(e){var t=e.fieldId,n=e.fieldLabel,a=e.btnAriaLabel,o=e.fieldValue,c=e.popoverBody,l=e.popoverHeader,u="-";return!0===e.showUnlimited&&void 0!==o&&parseInt(o)<0?u="Unlimited":o&&(u=o),(0,r.jsx)(i.FormGroup,Hs({fieldId:t,label:n,className:"kafka-ui-form-group--readonly",labelIcon:(0,r.jsx)(i.Popover,Hs({headerContent:(0,r.jsx)("div",{children:l}),bodyContent:(0,r.jsx)("div",{children:c})},{children:(0,r.jsx)("button",Hs({"aria-label":a,onClick:function(e){return e.preventDefault()},className:"pf-c-form__group-label-help"},{children:(0,r.jsx)(s.HelpIcon,{noVerticalAlign:!0})}))}))},{children:(0,r.jsx)(i.TextInput,{readOnlyVariant:"plain",type:"text",id:t,name:t,value:u})}))},Us=function(){return Us=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Us.apply(this,arguments)},Ms=function(e){var t=e.defaultFileDeleteDelay,n=e.defaultLogSegmentSize,a=e.defaultSegmentJitterTime,s=e.defaultSegmentTime,c=(0,o.$)(["create-topic","common"]).t;return(0,r.jsxs)(i.FormSection,Us({title:c("cleanup"),id:"cleanup",titleElement:"h2"},{children:[(0,r.jsx)(i.TextContent,{children:(0,r.jsx)(i.Text,Us({component:i.TextVariants.p,className:"section-info"},{children:c("cleanup_section_info")}))}),(0,r.jsx)(Gs,{fieldId:"log-segment-size",btnAriaLabel:c("log_segment_size"),fieldLabel:c("log_segment_size"),fieldValue:c("bytes_to_gibibyte",{bytes:n,gibibyte:(0,Fs.ZP)(Number(n),"bytes").to("gibibytes")}),popoverBody:c("log_segment_size"),popoverHeader:c("log_segment_size_description")}),(0,r.jsx)(Gs,{fieldId:"segement-time",btnAriaLabel:c("segement_time"),fieldLabel:c("segement_time"),fieldValue:c("milliseconds_to_days",{milliseconds:s,days:(0,Fs.ZP)(Number(s),"milliseconds").to("days")}),popoverBody:c("segement_time_description"),popoverHeader:c("segement_time")}),(0,r.jsx)(Gs,{fieldId:"segment-jitter-time",btnAriaLabel:c("segment_jitter_time"),fieldLabel:c("segment_jitter_time"),fieldValue:c("milliseconds_time",{value:a}),popoverBody:c("segment_jitter_time_description"),popoverHeader:c("segment_jitter_time")}),(0,r.jsx)(Gs,{fieldId:"file-delete-delay",btnAriaLabel:c("file_delete_delay"),fieldLabel:c("file_delete_delay"),fieldValue:c("milliseconds_to_minute",{milliseconds:t,minute:(0,Fs.ZP)(Number(t),"milliseconds").to("minutes")}),popoverBody:c("file_delete_delay_description"),popoverHeader:c("file_delete_delay")}),(0,r.jsx)(Gs,{fieldId:"preallocate-log-segment-files",btnAriaLabel:c("preallocate_log_segment_files"),fieldLabel:c("preallocate_log_segment_files"),fieldValue:c("common:disabled"),popoverBody:c("preallocate_log_segment_files_description"),popoverHeader:c("preallocate_log_segment_files")})]}))},Qs=function(){return Qs=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Qs.apply(this,arguments)},qs=function(e){var t=e.customTimeValue,n=e.setCustomTimeValue,a=e.setRadioTimeSelectValue,o=(0,v.useState)(!1),s=o[0],c=o[1],l=function(e){c(e)};return(0,r.jsx)("div",Qs({className:"kafka-ui--radio__parameters"},{children:(0,r.jsxs)(i.Flex,{children:[(0,r.jsx)(i.FlexItem,{children:(0,r.jsx)(i.Select,Qs({variant:i.SelectVariant.single,"aria-label":"Select Input",onToggle:l,onSelect:function(e,t){return function(e,t){n({unit:t,value:1}),l(!1)}(0,t)},placeholder:"days",selections:t.unit,isOpen:s},{children:null==Ds?void 0:Ds.map((function(e){return(0,r.jsx)(i.SelectOption,Qs({value:e.value,isPlaceholder:e.isPlaceholder},{children:e.value}),e.key)}))}))}),(0,r.jsx)(i.FlexItem,{children:(0,r.jsx)(i.TextInput,{"aria-label":"Retention time",type:"number",value:0==t.value?"":t.value,onChange:function(e){var r=Qs(Qs({},t),{value:Number(e)});r.value>-1&&n(r),a&&a("custom")},min:1})})]})}))},Ks=function(){return Ks=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ks.apply(this,arguments)},$s=function(e){var t=e.customRetentionSizeValue,n=e.setCustomRetentionSizeValue,a=e.setRadioSizeSelectValue,o=(0,v.useState)(!1),s=o[0],c=o[1],l=function(e){c(e)};return(0,r.jsx)("div",Ks({className:"kafka-ui--radio__parameters"},{children:(0,r.jsxs)(i.Flex,{children:[(0,r.jsx)(i.FlexItem,{children:(0,r.jsx)(i.Select,Ks({variant:i.SelectVariant.single,"aria-label":"Select Input",onToggle:l,onSelect:function(e,t){n({unit:t,value:1}),l(!1)},selections:t.unit,isOpen:s},{children:null==Rs?void 0:Rs.map((function(e){return(0,r.jsx)(i.SelectOption,{value:e.value,isPlaceholder:e.isPlaceholder},e.key)}))}))}),(0,r.jsx)(i.FlexItem,{children:(0,r.jsx)(i.TextInput,{"aria-label":"Retention size",type:"number",value:0==t.value?"":-1==t.value?1:t.value,onChange:function(e){var r=Ks(Ks({},t),{value:Number(e)});r.value>-1&&n(r),a&&a("custom")},min:1})})]})}))},Ws=function(){var e=(0,o.$)(["create-topic"]).t;return{validateName:(0,v.useCallback)((function(t){var n=new RegExp("^[a-zA-Z0-9._-]+$");return t.length&&!n.test(t)?e("topic_name_helper_text"):t.length>249?e("cannot_exceed_characters"):"."===t||".."===t?e("invalid_name_with_dot"):void 0}),[e])}},Js=function(){return Js=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Js.apply(this,arguments)},Zs=function(e){var t=e.isCreate,n=e.topicData,a=e.invalidText,s=e.setInvalidText,c=e.setTopicValidated,l=e.topicValidated,u=e.availablePartitionLimit,d=e.customTimeValue,p=e.setCustomTimeValue,f=e.radioTimeSelectValue,m=e.setRadioTimeSelectValue,h=e.setCustomRetentionSizeValue,g=e.customRetentionSizeValue,b=e.radioSizeSelectValue,y=e.setRadioSizeSelectValue,x=e.topicName,j=e.setPartitions,_=e.setTopicName,k=e.partitions,C=(0,o.$)(["create-topic"]).t,w=(0,v.useState)(n.partitions.length)[0],S=Ws().validateName,T=(0,v.useCallback)((function(e){var t=S(e);t?(s(t),c(i.ValidatedOptions.error)):c(i.ValidatedOptions.default)}),[s,c,S]),O=function(e){m(e)},I=function(e){y(e)},P=(0,r.jsx)(qs,{customTimeValue:d,setCustomTimeValue:p,setRadioTimeSelectValue:m}),A=(0,r.jsx)($s,{customRetentionSizeValue:g,setCustomRetentionSizeValue:h,setRadioSizeSelectValue:y}),L=C(t&&k>=u?"partitions_warning":!t&&k>w?"partition_increase_helper_text":"partition_helper_text"),E=t&&k>=u||!t&&k>w?"warning":"default";return(0,r.jsxs)(i.FormSection,Js({title:C("core_configuration"),id:"core-configuration",titleElement:"h2"},{children:[(0,r.jsx)(i.TextContent,{children:(0,r.jsx)(i.Text,Js({component:i.TextVariants.p,className:"section-info"},{children:C("core_config_info")}))}),t?(0,r.jsx)(Ee.Q,Js({labelHead:C("topic_name"),fieldId:"create-topic-name",fieldLabel:C("topic_name"),labelBody:C("topic_name_description"),buttonAriaLabel:"More info for topic name field",helperTextInvalid:a,validated:l,isRequired:!0,helperText:C("topic_name_helper_text")},{children:(0,r.jsx)(i.TextInput,{isRequired:!0,type:"text",id:"create-topic-name",name:"name",value:x,onChange:function(e){T(e),_(e)},label:C("topic_name"),placeholder:C("enter_name"),validated:l})})):(0,r.jsx)(Gs,{fieldId:"topic-name",btnAriaLabel:"topic detail name",fieldLabel:"Name",fieldValue:n.name,popoverBody:C("topic_name_description"),popoverHeader:C("topic_name")}),(0,r.jsx)(Ee.Q,Js({fieldId:"create-topic-partitions",fieldLabel:"Partitions",labelHead:C("partitions"),labelBody:C("partitions_description"),buttonAriaLabel:"More info for partitions field",helperText:L,validated:E},{children:(0,r.jsx)(i.NumberInput,{id:"create-topic-partitions",inputName:"num-partitions",onChange:function(e){var n=Number(e.target.value);n>-1&&t&&j(n),!t&&n>=w&&j(n),!t&&n<=w&&j(w)},"data-testid":C("partitions"),onPlus:function(){j(k+1)},onMinus:function(){j(k-1)},value:0==k?"":k,plusBtnProps:{name:"num-partitions"},minusBtnProps:{name:"num-partitions"},min:t?1:w,onBlur:function(){k<1&&j(1)}})})),(0,r.jsx)(Gs,{fieldId:"min-insync-replicas",btnAriaLabel:"topic detail min-in-sync replica",fieldLabel:"Minimum in-sync replicas",fieldValue:n["min.insync.replicas"].toString(),popoverBody:C("min_insync_replicas_description"),popoverHeader:C("min_insync_replicas")}),(0,r.jsx)(Ee.Q,Js({fieldId:"retention",fieldLabel:"Retention time",labelHead:C("retention_time"),labelBody:C("retention_time_description"),buttonAriaLabel:"More info for retention time field"},{children:(0,r.jsxs)(i.Stack,Js({hasGutter:!0},{children:[(0,r.jsx)(i.Radio,{isChecked:"unlimited"!=f,name:"custom-retention-time",onChange:function(){return O("custom")},label:P,className:"kafka-ui--radio-label__number-input","aria-label":"custom duration",id:"custom-retention-time",value:f}),(0,r.jsx)(i.Radio,{isChecked:"unlimited"===f,name:"unlimited-retention-time",onChange:function(){return O("unlimited")},label:"Unlimited time","aria-label":"Unlimited",id:"unlimited-retention-time",value:f})]}))})),(0,r.jsx)(Ee.Q,Js({fieldId:"retention-size",fieldLabel:"Retention size",labelHead:C("retention_size"),labelBody:C("retention_size_description"),buttonAriaLabel:"More info for retention size field"},{children:(0,r.jsxs)(i.Stack,Js({hasGutter:!0},{children:[(0,r.jsx)(i.Radio,{isChecked:"custom"===b,name:"custom-retention-size",onChange:function(){return I("custom")},label:A,className:"kafka-ui--radio-label__number-input","aria-label":"custom size",id:"custom-retention-size",value:b}),(0,r.jsx)(i.Radio,{isChecked:"unlimited"===b,name:"unlimited-retention-size",onChange:function(){return I("unlimited")},label:"Unlimited size","aria-label":"Unlimited",id:"unlimited-retention-size",value:b})]}))}))]}))},Ys=function(){return Ys=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ys.apply(this,arguments)},Xs=function(e){var t=e.defaultFlushIntervalMessages,n=e.defaultFlushIntervalTime,a=(0,o.$)(["create-topic"]).t;return(0,r.jsxs)(i.FormSection,Ys({title:a("flush"),id:"flush",titleElement:"h2"},{children:[(0,r.jsx)(i.TextContent,{children:(0,r.jsx)(i.Text,Ys({component:i.TextVariants.p,className:"section-info"},{children:a("flush_section_info")}))}),(0,r.jsx)(Gs,{fieldId:"flush-interval-messages",btnAriaLabel:a("flush_interval_messages"),fieldLabel:a("flush_interval_messages"),fieldValue:a("messages_time",{value:t}),popoverBody:a("flush_interval_messages_description"),popoverHeader:a("flush_interval_messages")}),(0,r.jsx)(Gs,{fieldId:"flush-interval-time",btnAriaLabel:a("flush_interval_time"),fieldLabel:a("flush_interval_time"),fieldValue:a("milliseconds_time",{value:n}),popoverBody:a("flush_interval_time_description"),popoverHeader:a("flush_interval_time")})]}))},ec=n(28725),tc=function(){return tc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},tc.apply(this,arguments)},nc=function(e){var t=e.topicData,n=e.defaultDeleteRetentionTime,a=e.defaultMinCleanbleRatio,s=e.defaultMinimumCompactionLagTime,c=e.cleanupPolicy,l=e.setCleanupPolicy,u=(0,o.$)(["create-topic","common"]).t,d=[{key:"compact",value:"compact",label:u("compact"),isDisabled:!1},{key:"delete",value:"delete",label:u("common:delete"),isDisabled:!1},{key:"delete, compact",value:"compact,delete",label:"".concat(u("compact"),",").concat(u("common:delete")),isDisabled:!1}];return(0,r.jsxs)(i.FormSection,tc({title:u("log"),id:"log",titleElement:"h2"},{children:[(0,r.jsxs)(i.TextContent,{children:[(0,r.jsx)(i.Text,tc({component:i.TextVariants.p},{children:u("log_section_info")})),(0,r.jsx)(i.Text,tc({component:i.TextVariants.small},{children:u("log_section_info_note")}))]}),(0,r.jsx)(Ee.Q,tc({fieldId:"cleanup-policy",fieldLabel:u("cleanup_policy"),labelHead:u("cleanup_policy"),labelBody:u("cleanup_policy_description"),buttonAriaLabel:u("cleanup_policy")},{children:(0,r.jsx)(ec.A,{id:"log-section-policy-type-dropdown",toggleId:"log-section-policy-type-dropdowntoggle",ariaLabel:u("select_policy"),onSelectOption:function(e){l(e)},items:d,name:"cleanup-policy",value:c,isLabelAndValueNotSame:!0},t["cleanup.policy"])})),(0,r.jsx)(Gs,{fieldId:"delete-retention-time",btnAriaLabel:u("delete_retention_time"),fieldLabel:u("delete_retention_time"),fieldValue:u("milliseconds_time_to_day",{value:n,days:(0,Fs.ZP)(Number(n),"milliseconds").to("days")}),popoverBody:u("delete_retention_time_description"),popoverHeader:u("delete_retention_time")}),(0,r.jsx)(Gs,{fieldId:"min-cleanable-ratio",btnAriaLabel:u("min_cleanable_ratio"),fieldLabel:u("min_cleanable_ratio"),fieldValue:String(a),popoverBody:u("min_cleanable_ratio_description"),popoverHeader:u("min_cleanable_ratio")}),(0,r.jsx)(Gs,{fieldId:"min-compaction-lag-time-description",btnAriaLabel:u("min_compaction_lag_time"),fieldLabel:u("min_compaction_lag_time"),fieldValue:u("milliseconds_time",{value:s}),popoverBody:u("min_compaction_lag_time_description"),popoverHeader:u("min_compaction_lag_time")})]}))},rc=function(){return rc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},rc.apply(this,arguments)},ic=function(e){var t=e.defaultMaximumMessageBytes,n=e.defaultMessageTimestampType,a=e.defaultMaxMessageTimestampDiff,s=(0,o.$)(["create-topic"]).t;return(0,r.jsxs)(i.FormSection,rc({title:s("messages"),id:"messages",titleElement:"h2"},{children:[(0,r.jsx)(i.TextContent,{children:(0,r.jsx)(i.Text,rc({component:i.TextVariants.p,className:"section-info"},{children:s("message_section_info")}))}),(0,r.jsx)(Gs,{fieldId:"max-message-size",btnAriaLabel:s("max_message_size"),fieldLabel:s("max_message_size"),fieldValue:s("bytes_size",{value:t}),popoverBody:s("max_message_size_description"),popoverHeader:s("max_message_size")}),(0,r.jsx)(Gs,{fieldId:"message-timestamp-type",btnAriaLabel:s("message_timestamp_type"),fieldLabel:s("message_timestamp_type"),fieldValue:String(n),popoverBody:s("message_timestamp_type_description"),popoverHeader:s("message_timestamp_type")}),(0,r.jsx)(Gs,{fieldId:"max-message-timestamp-diff",btnAriaLabel:s("max_message_timestamp_diff"),fieldLabel:s("max_message_timestamp_diff"),fieldValue:s("milliseconds_time",{value:a}),popoverBody:s("max_message_timestamp_diff_description"),popoverHeader:s("max_message_timestamp_diff")}),(0,r.jsx)(Gs,{fieldId:"compression-type",btnAriaLabel:s("compression_type"),fieldLabel:s("compression_type"),fieldValue:"Producer",popoverBody:s("compression_type_description"),popoverHeader:s("compression_type")}),(0,r.jsx)(Gs,{fieldId:"message-format",btnAriaLabel:s("message_format"),fieldLabel:s("message_format"),fieldValue:"2.7-IV2",popoverBody:s("message_format_description"),popoverHeader:s("message_format")})]}))},ac=function(){return ac=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ac.apply(this,arguments)},oc=function(){var e=(0,o.$)(["create-topic","common"]).t;return(0,r.jsxs)(i.FormSection,ac({title:e("replication"),id:"replication",titleElement:"h2"},{children:[(0,r.jsx)(i.TextContent,{children:(0,r.jsxs)(i.Text,ac({component:i.TextVariants.p},{children:[e("replication_section_info"),(0,r.jsx)(i.Text,ac({component:i.TextVariants.small},{children:e("replication_section_info_note")}))]}))}),(0,r.jsx)(Gs,{fieldId:"unclean-leader-election",btnAriaLabel:e("unclean_leader_election"),fieldLabel:e("unclean_leader_election"),fieldValue:e("common:disabled"),popoverBody:e("unclean_leader_election_description"),popoverHeader:e("unclean_leader_election")})]}))},sc=function(){return sc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},sc.apply(this,arguments)},cc=function(e){var t=e.defaultIndexIntervalSize,n=e.defaultSegmentIndexSize,a=(0,o.$)(["create-topic"]).t;return(0,r.jsxs)(i.FormSection,sc({title:a("index"),id:"index",titleElement:"h2"},{children:[(0,r.jsx)(i.TextContent,{children:(0,r.jsx)(i.Text,sc({component:i.TextVariants.p,className:"section-info"},{children:a("index_section_info")}))}),(0,r.jsx)(Gs,{fieldId:"index-interval-size",btnAriaLabel:a("index_interval_size"),fieldLabel:a("index_interval_size"),fieldValue:a("bytes_to_kibibytes",{bytes:t,kibibytes:(0,Fs.ZP)(Number(t),"bytes").to("kibibytes")}),popoverBody:a("index_interval_size_description"),popoverHeader:a("index_interval_size")}),(0,r.jsx)(Gs,{fieldId:"segment-index-size",btnAriaLabel:a("segment_index_size"),fieldLabel:a("segment_index_size"),fieldValue:a("bytes_to_mebibytes",{bytes:n,mebibytes:(0,Fs.ZP)(Number(t),"bytes").to("mebibytes")}),popoverBody:a("segment_index_size_description"),popoverHeader:a("segment_index_size")})]}))},lc=function(){return lc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},lc.apply(this,arguments)},uc=function(e){var t=e.canHaveDelete,n=(0,o.$)(["create-topic"]).t;return(0,r.jsx)(i.SidebarPanel,lc({variant:"sticky"},{children:(0,r.jsxs)(i.JumpLinks,lc({isVertical:!0,label:n("jump_to_section"),scrollableSelector:".topic-properties",style:{position:"sticky"}},{children:[(0,r.jsx)(i.JumpLinksItem,lc({href:"#core-configuration"},{children:n("core_configuration")}),0),(0,r.jsx)(i.JumpLinksItem,lc({href:"#messages"},{children:n("messages")}),1),(0,r.jsx)(i.JumpLinksItem,lc({href:"#log"},{children:n("log")}),2),(0,r.jsx)(i.JumpLinksItem,lc({href:"#replication"},{children:n("replication")}),3),(0,r.jsx)(i.JumpLinksItem,lc({href:"#cleanup"},{children:n("cleanup")}),4),(0,r.jsx)(i.JumpLinksItem,lc({href:"#index"},{children:n("index")}),5),(0,r.jsx)(i.JumpLinksItem,lc({href:"#flush"},{children:n("flush")}),6),t?(0,r.jsx)(i.JumpLinksItem,lc({href:"#delete"},{children:n("delete")}),7):(0,r.jsx)(r.Fragment,{})]}))}))},dc=function(){return dc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},dc.apply(this,arguments)},pc=function(e){var t=e.isCreate,n=e.onConfirm,a=e.handleCancel,s=e.topicName,c=e.onCleanupPolicyChange,l=e.onPartitionsChange,u=e.onTopicNameChange,d=e.topicData,p=e.partitions,f=e.cleanupPolicy,m=e.checkTopicName,h=e.availablePartitionLimit,g=e.customTimeValue,b=e.setCustomTimeValue,y=e.radioTimeSelectValue,x=e.setRadioTimeSelectValue,j=e.setCustomRetentionSizeValue,_=e.customRetentionSizeValue,k=e.radioSizeSelectValue,C=e.setRadioSizeSelectValue,w=e.isSaving,S=(0,o.$)(["create-topic","common"]).t,T=S(t?"create_topic":"common:save"),O=(0,v.useState)(i.ValidatedOptions.default),I=O[0],P=O[1],A=(0,v.useState)(""),L=A[0],E=A[1],D=(0,v.useState)(!1),R=D[0],N=D[1],z=(0,v.useState)(!1),B=z[0],V=z[1];return(0,r.jsx)(i.PageSection,dc({padding:{default:"noPadding"}},{children:(0,r.jsxs)(i.Sidebar,dc({hasGutter:!0},{children:[(0,r.jsx)(uc,{}),(0,r.jsx)(i.SidebarContent,{children:(0,r.jsx)(i.PageGroup,dc({hasOverflowScroll:!0,id:"topic-detail-view","aria-label":"TODO"},{children:(0,r.jsxs)(i.PageSection,dc({padding:{default:"noPadding"}},{children:[(0,r.jsxs)(i.Form,{children:[(0,r.jsx)(Zs,{isCreate:t,topicData:d,topicName:s,setTopicName:u,partitions:p,setPartitions:l,availablePartitionLimit:h,invalidText:L,setInvalidText:E,setTopicValidated:P,topicValidated:I,setWarning:V,warning:B,customRetentionSizeValue:_,setCustomRetentionSizeValue:j,customTimeValue:g,setCustomTimeValue:b,radioTimeSelectValue:y,setRadioTimeSelectValue:x,radioSizeSelectValue:k,setRadioSizeSelectValue:C}),(0,r.jsx)(ic,{defaultMaximumMessageBytes:d["max.message.bytes"].value,defaultMessageTimestampType:d["message.timestamp.type"],defaultMaxMessageTimestampDiff:d["message.timestamp.difference.max.ms"].value}),(0,r.jsx)(nc,{topicData:d,defaultDeleteRetentionTime:d["delete.retention.ms"].value,defaultMinCleanbleRatio:d["min.cleanable.dirty.ratio"],defaultMinimumCompactionLagTime:d["min.compaction.lag.ms"].value,cleanupPolicy:f,setCleanupPolicy:c}),(0,r.jsx)(oc,{}),(0,r.jsx)(Ms,{defaultLogSegmentSize:d["segment.bytes"].value,defaultSegmentTime:d["segment.ms"].value,defaultSegmentJitterTime:d["segment.jitter.ms"].value,defaultFileDeleteDelay:d["file.delete.delay.ms"].value}),(0,r.jsx)(cc,{defaultIndexIntervalSize:d["index.interval.bytes"].value,defaultSegmentIndexSize:d["segment.index.bytes"].value}),(0,r.jsx)(Xs,{defaultFlushIntervalMessages:d["flush.messages"].value,defaultFlushIntervalTime:d["flush.ms"].value})]}),(0,r.jsxs)(i.ActionGroup,dc({className:"kafka-ui--sticky-footer"},{children:[(0,r.jsx)(i.Divider,{className:"kafka-ui--divider--FlexShrink"}),(0,r.jsx)(i.Button,dc({isLoading:R,onClick:function(){t?s.length<1?(E(S("common:required")),P(i.ValidatedOptions.error)):(N(!0),m&&m(s)?(n(),N(!1)):(N(!1),E(S("already_exists",{name:s})),P(i.ValidatedOptions.error))):(N(!1),n())},variant:"primary","data-testid":t?"topicAdvanceCreate-actionCreate":"tabProperties-actionSave",isDisabled:"default"!==I||w},{children:T})),(0,r.jsx)(i.Button,dc({onClick:a,variant:"link","data-testid":t?"topicAdvanceCreate-actionCancel":"tabProperties-actionCancel",isDisabled:w},{children:S("common:cancel")}))]}))]}))}))})]}))}))},fc=function(){return fc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},fc.apply(this,arguments)},mc=function(e){var t=e.isSwitchChecked,n=e.onCloseCreateTopic,a=e.onSave,s=e.topicData,c=e.checkTopicName,l=e.availablePartitionLimit,u=e.availabilityZone,d=e.isSaving,p=(0,o.$)(["create-topic","common"]).t,f=(0,v.useState)({unit:"days",value:7}),m=f[0],h=f[1],g=(0,v.useState)({unit:"bytes",value:1}),b=g[0],y=g[1],x=(0,v.useState)(s.name),j=x[0],_=x[1],k=(0,v.useState)(s["cleanup.policy"]),C=k[0],w=k[1],S=(0,v.useState)(s.partitions.length),T=S[0],O=S[1],I=(0,v.useState)(i.ValidatedOptions.default),P=I[0],A=I[1],L=(0,v.useState)(!1),E=L[0],D=L[1],R=(0,v.useState)(""),N=R[0],z=R[1],B=(0,v.useState)(!1),V=B[0],F=B[1],H=(0,v.useState)("week"),G=H[0],U=H[1],M=(0,v.useState)("unlimited"),Q=M[0],q=M[1],K=function(){n&&n()},$=""!==j.trim(),W=[{name:p("topic_name"),enableNext:$&&P===i.ValidatedOptions.default,component:(0,r.jsx)(_c,{topicName:j,onTopicNameChange:_,topicNameValidated:P,onValidationCheck:A,invalidText:N,setInvalidText:z}),isDisabled:d},{name:p("partitions"),canJumpTo:$,component:(0,r.jsx)(bc,{partitions:T,onPartitionsChange:O,availablePartitionLimit:l}),isDisabled:d},{name:p("message_retention"),canJumpTo:$,component:(0,r.jsx)(vc,{customRetentionSizeValue:b,setCustomRetentionSizeValue:y,customTimeValue:m,setCustomTimeValue:h,radioTimeSelectValue:G,setRadioTimeSelectValue:U,radioSizeSelectValue:Q,setRadioSizeSelectValue:q}),isDisabled:d},{name:p("replicas"),canJumpTo:$,component:(0,r.jsx)(xc,{minInSyncReplica:s["min.insync.replicas"],availabilityZone:u}),nextButtonText:p("finish"),isDisabled:d}],J=p("wizard_title"),Z=function(){a({name:j,partitions:T,retentionTime:"unlimited"==G?{value:-1,unit:"unlimited"}:m,retentionSize:"unlimited"==Q?{value:-1,unit:"unlimited"}:b,cleanupPolicy:C})},Y=function(){T>=l?F(!0):Z()};return(0,r.jsx)(r.Fragment,{children:t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Divider,{className:"kafka-ui--divider--FlexShrink"}),(0,r.jsxs)(i.PageSection,fc({variant:i.PageSectionVariants.light,className:"topic-properties",hasOverflowScroll:!0,"aria-label":"TODO"},{children:[(0,r.jsx)(pc,{isCreate:!0,onConfirm:Y,handleCancel:n,topicName:j,onTopicNameChange:_,partitions:T,onPartitionsChange:O,onCleanupPolicyChange:w,cleanupPolicy:C,checkTopicName:c,availablePartitionLimit:l,customRetentionSizeValue:b,setCustomRetentionSizeValue:y,customTimeValue:m,setCustomTimeValue:h,radioTimeSelectValue:G,setRadioTimeSelectValue:U,radioSizeSelectValue:Q,setRadioSizeSelectValue:q,topicData:s,isSaving:d}),V&&(0,r.jsx)(Vs,{topicData:s,onSave:Z,isModalOpen:V,setIsModalOpen:F,isCreate:!0})]}))]}):(0,r.jsxs)(i.PageSection,fc({variant:i.PageSectionVariants.light,type:i.PageSectionTypes.wizard,hasOverflowScroll:!0,"aria-label":"TODO"},{children:[(0,r.jsx)(i.Wizard,{navAriaLabel:"".concat(J," steps"),mainAriaLabel:"".concat(J," content"),steps:W,onClose:K,onSave:Y,"data-testid":"topicBasicCreate-Wizard",footer:(0,r.jsx)(Cc,{isLoading:E,onValidate:function(e){j.length<1?(z(p("common:required")),A(i.ValidatedOptions.error)):(D(!0),c(j)?e():(D(!1),z(p("already_exists",{name:j})),A(i.ValidatedOptions.error)))},topicNameValidated:P,closeWizard:K,isSaving:d})}),V&&(0,r.jsx)(Vs,{topicData:s,onSave:Z,isModalOpen:V,setIsModalOpen:F,isCreate:!0})]}))})},hc=function(){return hc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},hc.apply(this,arguments)},vc=function(e){var t=e.customTimeValue,n=e.setCustomTimeValue,a=e.radioTimeSelectValue,s=e.setRadioTimeSelectValue,c=e.setCustomRetentionSizeValue,l=e.customRetentionSizeValue,u=e.radioSizeSelectValue,d=e.setRadioSizeSelectValue,p=(0,o.$)(["create-topic"]).t,f=function(e){d(e)},m=function(e){switch(e){case"day":n({value:1,unit:"days"});break;case"week":n({value:1,unit:"weeks"})}s(e)};return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(i.Form,hc({onSubmit:function(e){return e.preventDefault()}},{children:(0,r.jsxs)(i.FormSection,hc({title:p("message_retention"),id:"message-retention",titleElement:"h2"},{children:[(0,r.jsxs)(i.TextContent,{children:[(0,r.jsx)(i.Text,hc({component:i.TextVariants.p},{children:p("message_retention_info")})),(0,r.jsx)(i.Text,hc({component:i.TextVariants.small},{children:p("message_retention_info_note")}))]}),(0,r.jsx)(i.FormGroup,hc({fieldId:"form-group-retention-time-in-wizard",label:p("retention_time"),isRequired:!0},{children:(0,r.jsxs)(i.Stack,hc({hasGutter:!0},{children:[(0,r.jsx)(i.Radio,{isChecked:"day"===a,name:"radioDay",onChange:function(){return m("day")},label:"A day","aria-label":"A day",id:"radio-controlled-1",value:a}),(0,r.jsx)(i.Radio,{isChecked:"week"===a,name:"radioWeek",onChange:function(){return m("week")},label:"A week","aria-label":"A week",id:"radio-controlled-2",value:a}),(0,r.jsx)(i.Radio,{isChecked:"custom"===a,name:"radioCustomTime",onChange:function(){return m("custom")},label:"Custom duration","aria-label":"custom input",id:"radio-controlled-4",value:a}),"custom"===a&&(0,r.jsx)(qs,{customTimeValue:t,setCustomTimeValue:n}),(0,r.jsx)(i.Radio,{isChecked:"unlimited"===a,name:"radioUnlimitedTime",onChange:function(){return m("unlimited")},label:"Unlimited time","aria-label":"Unlimited",id:"radio-controlled-3",value:a})]}))})),(0,r.jsx)(i.FormGroup,hc({fieldId:"form-group-retention-size-in-wizard",label:"Retention size"},{children:(0,r.jsxs)(i.Stack,hc({hasGutter:!0},{children:[(0,r.jsx)(i.Radio,{isChecked:"unlimited"===u,name:"radioUnlimitedSize",onChange:function(){return f("unlimited")},label:"Unlimited size","aria-label":"Unlimited",id:"radio-controlled-6",value:u}),(0,r.jsx)(i.Radio,{isChecked:"custom"===u,name:"radioCustomSize",onChange:function(){return f("custom")},label:"Custom size","aria-label":"custom size",id:"radio-controlled-5",value:u}),"custom"===u&&(0,r.jsx)($s,{customRetentionSizeValue:l,setCustomRetentionSizeValue:c})]}))}))]}))}))})},gc=function(){return gc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},gc.apply(this,arguments)},bc=function(e){var t=e.partitions,n=e.onPartitionsChange,a=e.availablePartitionLimit,s=(0,o.$)(["create-topic"]).t;return(0,r.jsx)(i.Form,{children:(0,r.jsxs)(i.FormSection,gc({title:s("partitions"),id:"partitions",titleElement:"h2"},{children:[(0,r.jsxs)(i.TextContent,{children:[(0,r.jsx)(i.Text,gc({component:i.TextVariants.p},{children:s("partition_info")})),(0,r.jsx)(i.Text,gc({component:i.TextVariants.small},{children:s("partition_info_note")}))]}),(0,r.jsx)(i.FormGroup,gc({label:"Partitions",fieldId:"step-topic-name-form",helperText:s(t>=a?"partitions_warning":"partition_helper_text"),validated:t>=a?"warning":"default",isRequired:!0},{children:(0,r.jsx)(i.NumberInput,{onPlus:function(){n(t+1)},onMinus:function(){n(t-1)},value:0==t?"":t,inputName:"input",onChange:function(e){var t=Number(e.target.value);t>-1&&n(t)},widthChars:20,min:1,onBlur:function(){t<1&&n(1)}})}))]}))})},yc=function(){return yc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},yc.apply(this,arguments)},xc=function(e){var t=e.minInSyncReplica,n=e.availabilityZone,a=(0,o.$)(["create-topic"]).t;return(0,r.jsx)(i.Form,{children:(0,r.jsxs)(i.FormSection,yc({title:a("replicas"),id:"replica-section",titleElement:"h2"},{children:[(0,r.jsxs)(i.TextContent,{children:[(0,r.jsx)(i.Text,yc({component:i.TextVariants.p},{children:a("replicas_info")})),(0,r.jsx)(i.Text,yc({component:i.TextVariants.small},{children:a("replicas_detail")}))]}),(0,r.jsx)(i.Alert,{variant:"info",isInline:!0,title:a("multi"==n?"replicas_helper_text_multi_az":"replicas_helper_text_single_az")}),(0,r.jsx)(Gs,{fieldId:"min-insync-replicas",btnAriaLabel:"topic detail min-in-sync replica",fieldLabel:"Minimum in-sync replicas",fieldValue:t.toString(),popoverBody:a("min_insync_replicas_description"),popoverHeader:a("min_insync_replicas")})]}))})},jc=function(){return jc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},jc.apply(this,arguments)},_c=function(e){var t=e.topicName,n=e.onTopicNameChange,a=e.topicNameValidated,s=e.onValidationCheck,c=e.invalidText,l=e.setInvalidText,u=(0,o.$)(["create-topic"]).t,d=Ws().validateName,p=(0,v.useCallback)((function(e){var t=d(e);t?(l(t),s(i.ValidatedOptions.error)):s(i.ValidatedOptions.default)}),[l,s,d]);return(0,v.useEffect)((function(){p(t)}),[t,p]),(0,r.jsx)(i.Form,jc({onSubmit:function(e){return e.preventDefault()}},{children:(0,r.jsxs)(i.FormSection,jc({title:u("topic_name"),id:"topic-name",titleElement:"h2"},{children:[(0,r.jsxs)(i.TextContent,{children:[(0,r.jsx)(i.Text,jc({component:i.TextVariants.p},{children:u("topic_name_info")})),(0,r.jsx)(i.Text,jc({component:i.TextVariants.small},{children:u("topic_name_info_note")}))]}),(0,r.jsx)(i.FormGroup,jc({label:u("topic_name"),fieldId:"step-topic-name-form",helperText:u("topic_name_helper_text"),helperTextInvalid:c,validated:a,isRequired:!0},{children:(0,r.jsx)(i.TextInput,{ouiaId:"text-input",isRequired:!0,type:"text",id:"step-topic-name-input",name:"step-topic-name",value:t,onChange:function(e){p(e),n(e)},placeholder:u("enter_name"),validated:a})}))]}))}))},kc=function(){return kc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},kc.apply(this,arguments)},Cc=function(e){var t=e.isLoading,n=e.onValidate,a=e.closeWizard,s=e.topicNameValidated,c=e.isSaving,l=(0,o.$)(["create-topic","common"]).t;return(0,r.jsx)(i.WizardFooter,{children:(0,r.jsx)(i.WizardContextConsumer,{children:function(e){var o=e.activeStep,u=e.onNext,d=e.onBack;return o.name==l("topic_name")?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Button,kc({variant:"primary",type:"submit",isLoading:t,onClick:function(){return n(u)},isDisabled:s!=i.ValidatedOptions.default,ouiaId:"button-next"},{children:l("common:next")})),(0,r.jsx)(i.Button,kc({ouiaId:"button-back",variant:"secondary",isDisabled:!0},{children:l("common:back")})),(0,r.jsx)(i.Button,kc({ouiaId:"button-cancel",variant:"link",onClick:a},{children:l("common:cancel")}))]}):"Replicas"==o.name?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Button,kc({variant:"primary",type:"submit",onClick:u,ouiaId:"button-finish",isDisabled:c},{children:l("common:finish")})),(0,r.jsx)(i.Button,kc({ouiaId:"button-back",variant:"secondary",onClick:d,isDisabled:c},{children:l("common:back")})),(0,r.jsx)(i.Button,kc({ouiaId:"button-cancel",variant:"link",onClick:a,isDisabled:c},{children:l("common:cancel")}))]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Button,kc({ouiaId:"button-next",variant:"primary",type:"submit",onClick:u},{children:l("common:next")})),(0,r.jsx)(i.Button,kc({ouiaId:"button-back",variant:"secondary",onClick:d},{children:l("common:back")})),(0,r.jsx)(i.Button,kc({ouiaId:"button-cancel",variant:"link",onClick:a},{children:l("common:cancel")}))]})}})})},wc=function(e){var t=e.kafkaName,n=e.kafkaPageLink,i=e.kafkaInstanceLink,a=e.onSave,o=e.initialTopicValues,s=e.onCloseCreateTopic,c=e.checkTopicName,l=e.availablePartitionLimit,u=e.availabilityZone,d=e.isSaving,p=(0,v.useState)(!1),f=p[0],m=p[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(zs,{showAllOptions:f,kafkaName:t,kafkaInstanceLink:i,kafkaPageLink:n,onShowAllOptions:m}),(0,r.jsx)(mc,{isSwitchChecked:f,onCloseCreateTopic:s,onSave:a,topicData:o,checkTopicName:c,availablePartitionLimit:l,availabilityZone:u,isSaving:d})]})},Sc=function(){return Sc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Sc.apply(this,arguments)},Tc=function(e){var t=e.topic,n=e.onCancel,a=e.onSave,o=e.availablePartitionLimit,s=e.isSaving,c=ui(t["retention.ms"].value),l=fi(t["retention.bytes"].value),u=(0,v.useState)({unit:t["retention.ms"].value!=BigInt(-1)?c.unit:"days",value:t["retention.ms"].value!=BigInt(-1)?Number(c.value):7}),d=u[0],p=u[1],f=(0,v.useState)({unit:t["retention.bytes"].value!=BigInt(-1)?l.unit:"bytes",value:t["retention.bytes"].value!=BigInt(-1)?Number(l.value):1}),m=f[0],h=f[1],g=(0,v.useState)(t["retention.ms"].value==BigInt(-1)?"unlimited":"custom"),b=g[0],y=g[1],x=(0,v.useState)(t["retention.bytes"].value==BigInt(-1)?"unlimited":"custom"),j=x[0],_=x[1],k=(0,v.useState)(t.name),C=k[0],w=k[1],S=(0,v.useState)(t["cleanup.policy"]),T=S[0],O=S[1],I=(0,v.useState)(t.partitions.length),P=I[0],A=I[1],L=(0,v.useState)(!1),E=L[0],D=L[1],R=function(){a({name:C,partitions:P,retentionTime:"unlimited"==b?{value:-1,unit:"unlimited"}:d,retentionSize:"unlimited"==j?{value:-1,unit:"unlimited"}:m,cleanupPolicy:T})};return(0,r.jsxs)(i.PageSection,Sc({variant:"light",className:"topic-properties",hasOverflowScroll:!0,"aria-label":"TODO"},{children:[(0,r.jsx)(pc,{isCreate:!1,onConfirm:function(){P>=o?D(!0):R()},handleCancel:n,topicData:t,topicName:C,onCleanupPolicyChange:O,availablePartitionLimit:o,customRetentionSizeValue:m,setCustomRetentionSizeValue:h,customTimeValue:d,setCustomTimeValue:p,radioTimeSelectValue:b,setRadioTimeSelectValue:y,radioSizeSelectValue:j,setRadioSizeSelectValue:_,onTopicNameChange:w,partitions:P,onPartitionsChange:A,cleanupPolicy:T,isSaving:s}),E&&(0,r.jsx)(Vs,{topicData:t,onSave:R,isModalOpen:E,setIsModalOpen:D,isCreate:!1})]}))},Oc=function(){return Oc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Oc.apply(this,arguments)},Ic=function(e){var t=e.topic,n=e.deleteTopicHref,a=e.updateTopicHref,s=(0,o.$)(["create-topic"]).t;return(0,r.jsx)(i.PageSection,Oc({variant:"light",className:"topic-properties",hasOverflowScroll:!0,"aria-label":"TODO"},{children:(0,r.jsxs)(i.Sidebar,Oc({hasGutter:!0},{children:[(0,r.jsx)(uc,{canHaveDelete:!0}),(0,r.jsx)(i.SidebarContent,{children:(0,r.jsx)(i.PageGroup,Oc({hasOverflowScroll:!0,"aria-label":"TODO",id:"topic-detail-view",className:"pf-u-mb-4xl"},{children:(0,r.jsx)(i.PageSection,Oc({padding:{default:"noPadding"}},{children:(0,r.jsxs)(i.Split,{children:[(0,r.jsxs)(i.SplitItem,Oc({isFilled:!0},{children:[(0,r.jsxs)(i.Form,Oc({id:"topic-form"},{children:[(0,r.jsxs)(i.FormSection,Oc({title:s("core_configuration"),id:"core-configuration",titleElement:"h2"},{children:[(0,r.jsx)(i.TextContent,{children:(0,r.jsx)(i.Text,Oc({component:i.TextVariants.p,className:"section-info"},{children:s("core_config_info")}))}),(0,r.jsx)(Gs,{fieldId:"topic-name",btnAriaLabel:s("topic_name"),fieldLabel:s("topic_name"),fieldValue:t.name,popoverBody:s("topic_name_description"),popoverHeader:s("topic_name")}),(0,r.jsx)(Gs,{fieldId:"partitions",btnAriaLabel:s("partitions"),fieldLabel:s("partitions"),fieldValue:t.partitions.length.toString(),popoverBody:s("partitions_description"),popoverHeader:s("partitions")}),(0,r.jsx)(Gs,{fieldId:"min-insync-replicas",btnAriaLabel:s("min_insync_replicas"),fieldLabel:s("min_insync_replicas"),fieldValue:t["min.insync.replicas"].toString(),popoverBody:s("min_insync_replicas_description"),popoverHeader:s("min_insync_replicas")}),(0,r.jsx)(Gs,{fieldId:"retention-time",btnAriaLabel:s("retention_time"),fieldLabel:s("retention_time"),fieldValue:di(t["retention.ms"].value),popoverBody:s("retention_time_description"),popoverHeader:s("retention_time"),showUnlimited:!0}),(0,r.jsx)(Gs,{fieldId:"retention-size",btnAriaLabel:s("retention_size"),fieldLabel:s("retention_size"),fieldValue:pi(t["retention.bytes"].value),popoverHeader:s("retention_size"),popoverBody:s("retention_size_description"),showUnlimited:!0})]})),(0,r.jsx)(ic,{defaultMaximumMessageBytes:t["max.message.bytes"].value,defaultMessageTimestampType:t["message.timestamp.type"],defaultMaxMessageTimestampDiff:t["message.timestamp.difference.max.ms"].value}),(0,r.jsxs)(i.FormSection,Oc({title:s("log"),id:"log",titleElement:"h2"},{children:[(0,r.jsx)(i.TextContent,{children:(0,r.jsxs)(i.Text,Oc({component:i.TextVariants.p},{children:[s("log_section_info"),(0,r.jsx)(i.Text,Oc({component:i.TextVariants.small,className:"section-info-note"},{children:s("log_section_info_note")}))]}))}),(0,r.jsx)(Gs,{fieldId:"cleanup-policy",btnAriaLabel:s("cleanup_policy"),fieldLabel:s("cleanup_policy"),fieldValue:t["cleanup.policy"],popoverBody:s("cleanup_policy_description"),popoverHeader:s("cleanup_policy")}),(0,r.jsx)(Gs,{fieldId:"delete-retention-time",btnAriaLabel:s("delete_retention_time"),fieldLabel:s("delete_retention_time"),fieldValue:t["delete.retention.ms"].value.toString(),popoverBody:s("delete_retention_time_description"),popoverHeader:s("delete_retention_time")}),(0,r.jsx)(Gs,{fieldId:"min-cleanable-ratio",btnAriaLabel:s("min_cleanable_ratio"),fieldLabel:s("min_cleanable_ratio"),fieldValue:t["min.cleanable.dirty.ratio"].toString(),popoverBody:s("min_cleanable_ratio_description"),popoverHeader:s("min_cleanable_ratio")}),(0,r.jsx)(Gs,{fieldId:"min-compaction-lag-time",btnAriaLabel:s("min_compaction_lag_time"),fieldLabel:s("min_compaction_lag_time"),fieldValue:t["min.compaction.lag.ms"].value.toString(),popoverBody:s("min_compaction_lag_time_description"),popoverHeader:s("min_compaction_lag_time")})]})),(0,r.jsx)(oc,{}),(0,r.jsx)(Ms,{defaultLogSegmentSize:t["segment.bytes"].value,defaultSegmentTime:t["segment.ms"].value,defaultSegmentJitterTime:t["segment.jitter.ms"].value,defaultFileDeleteDelay:t["file.delete.delay.ms"].value}),(0,r.jsx)(cc,{defaultIndexIntervalSize:t["index.interval.bytes"].value,defaultSegmentIndexSize:t["segment.index.bytes"].value}),(0,r.jsx)(Xs,{defaultFlushIntervalMessages:t["flush.messages"].value,defaultFlushIntervalTime:t["flush.ms"].value})]})),(0,r.jsx)(i.Divider,{className:"pf-u-mt-2xl pf-u-mb-2xl"}),(0,r.jsxs)(i.TextContent,{children:[(0,r.jsx)(i.Text,Oc({component:i.TextVariants.h2,id:"delete"},{children:s("delete_topic_irreversible")})),(0,r.jsx)(i.Text,Oc({component:i.TextVariants.p,className:"section-info"},{children:s("delete_topic_info")})),(0,r.jsx)(i.Button,{variant:"danger","data-testid":"tabProperties-actionDelete",component:function(e){return(0,r.jsx)(Q.rU,Oc({},e,{to:n},{children:s("delete_topic")}))}})]})]})),(0,r.jsx)(i.SplitItem,{children:(0,r.jsx)(i.Button,{variant:"primary","data-testid":"tabProperties-actionEdit",component:function(e){return(0,r.jsx)(Q.rU,Oc({},e,{to:a},{children:s("edit_props")}))}})})]})}))}))})]}))}))},Pc=function(){return Pc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Pc.apply(this,arguments)},Ac=function(e){var t=e.isDisabled,n=e.accounts,a=e.owner,s=e.onChangeOwner,c=(0,o.$)("kafka").t,l=(0,v.useState)(!1),u=l[0],d=l[1];function p(e){void 0===e&&(e="");var t=new RegExp(e,"i");return(""!==e?n.filter((function(e){return t.test(e.displayName)||t.test(e.id)})):n).map((function(e){return(0,r.jsx)(i.SelectOption,Pc({value:e.id,description:e.displayName},{children:e.id}),e.id)}))}return(0,r.jsx)(i.Select,Pc({id:"change-permission-owner-select",variant:i.SelectVariant.typeahead,onToggle:function(e){d(e)},isDisabled:t,isOpen:u,placeholderText:c("select_user_account"),isCreatable:!0,createText:c("change_owner_create_text"),menuAppendTo:"parent",maxHeight:400,selections:a,onSelect:function(e,t){s(t),d(!1)},onFilter:function(e,t){return p(t)}},{children:p()}))},Lc=function(){return Lc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Lc.apply(this,arguments)},Ec=function(e){var t=e.currentOwner,n=e.accounts,a=e.savingState,s=e.onConfirm,c=e.onCancel,l=(0,o.$)(["kafka","common"]).t,u=(0,v.useState)(),d=u[0],p=u[1],f=(0,v.useRef)(),m="saving"===a,h=(0,v.useCallback)((function(){d&&(f.current=d,s(d))}),[s,d]);return(0,r.jsx)(i.Modal,Lc({id:"change-owner-modal",title:l("change-owner-title"),isOpen:!0,onClose:c,variant:"medium",position:"top",actions:[(0,r.jsx)(i.Button,Lc({id:"confirm-button",variant:"primary",isDisabled:m,onClick:h},{children:l("change-owner-button")}),"changeowner"),(0,r.jsx)(i.Button,Lc({id:"cancel-button",variant:"link",onClick:c,isDisabled:m},{children:l("common:cancel")}),"cancel")]},{children:(0,r.jsxs)(i.Form,Lc({onSubmit:function(e){return null==e?void 0:e.preventDefault()}},{children:[function(){switch(a){case"invalid-user":return(0,r.jsx)(i.Alert,Lc({variant:i.AlertVariant.danger,"aria-live":"polite",isInline:!0,title:l("new_owner_does_not_exist_title")},{children:l("new_owner_does_not_exist_message",{newOwner:f.current})}));case"unknown-error":return(0,r.jsx)(i.Alert,Lc({variant:i.AlertVariant.danger,"aria-live":"polite",isInline:!0,title:l("can_not_change_owner_title")},{children:l("owner_transfer_failed_message",{name:t})}))}}(),(0,r.jsx)(i.FormGroup,Lc({fieldId:"Current-owner-name",label:l("current_owner")},{children:t})),(0,r.jsx)(i.FormGroup,Lc({fieldId:"New-owner-name",label:l("new_owner")},{children:n?(0,r.jsx)(Ac,{isDisabled:m,accounts:n,owner:d,onChangeOwner:p}):(0,r.jsx)(i.Skeleton,{width:"100%"})}))]}))}))},Dc=function(){return Dc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Dc.apply(this,arguments)},Rc=function(e){var t=e.isOpen,n=e.disableFocusTrap,a=e.appendTo,s=e.onViewTerms,c=e.onCancel,l=(0,o.$)("terms-and-conditions").t;return(0,r.jsx)(i.Modal,Dc({"aria-label":l("title"),ouiaId:"terms-and-conditions-dialog",variant:i.ModalVariant.small,isOpen:t,title:l("title"),onClose:c,appendTo:a,disableFocusTrap:n,actions:[(0,r.jsx)(i.Button,Dc({variant:i.ButtonVariant.primary,onClick:s,ouiaId:"view_terms_and_conditions"},{children:l("view_button")}),"confirm__button"),(0,r.jsx)(i.Button,Dc({variant:i.ButtonVariant.link,onClick:c,ouiaId:"cancel"},{children:l("common:cancel")}),"cancel__button")]},{children:(0,r.jsx)(T.c,{ns:"terms-and-conditions",i18nKey:"body",components:{bold:(0,r.jsx)("strong",{}),br:(0,r.jsx)("br",{})}})}))},Nc=function(){return Nc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Nc.apply(this,arguments)},zc=function(){var e=(0,o.$)("kafka").t;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(i.PageSection,Nc({variant:i.PageSectionVariants.light,padding:{default:"noPadding"},hasShadowBottom:!0,type:"tabs"},{children:(0,r.jsx)(i.Level,{children:(0,r.jsx)(i.LevelItem,{children:(0,r.jsxs)(i.TextContent,Nc({className:"pf-u-p-md pf-u-p-lg-on-xl"},{children:[(0,r.jsx)(i.Text,Nc({component:"h1"},{children:e("kafka:title")})),(0,r.jsx)("p",{children:e("kafka:description")})]}))})})}))})}},93987:(e,t,n)=>{e.exports=n.p+"fonts/Logo-AWS.svg"},40412:(e,t,n)=>{e.exports=n.p+"fonts/Logo-Azure.svg"},84840:(e,t,n)=>{e.exports=n.p+"fonts/Logo-GCP.svg"},90504:(e,t,n)=>{e.exports=n.p+"fonts/Logo-Redhat.svg"}}]);
//# sourceMappingURL=../sourcemaps/996.21b38b407671c04293e7840a21d174f0.js.map