{"version":3,"file":"js/676.1673024930280.984d06225916609dfbc4.js","mappings":"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","sources":["webpack:///./src/routes/control-plane/routesConsts.ts","webpack:///./src/routes/control-plane/DrawerProvider.tsx","webpack:///./src/routes/control-plane/routes/KafkaInstancesRoute.tsx","webpack:///./src/routes/control-plane/routes/CreateKafkaInstanceRoute.tsx","webpack:///./src/routes/control-plane/routes/useCreateKafkaCallbacks.ts","webpack:///./src/routes/control-plane/routes/DeleteKafkaInstanceRoute.tsx","webpack:///./src/routes/control-plane/ControlPlaneRoutes.tsx","webpack:///./src/routes/data-plane/routesConsts.ts","webpack:///./src/routes/data-plane/useDataPlaneGate.tsx","webpack:///./src/routes/data-plane/DataPlaneGate.tsx","webpack:///./src/routes/data-plane/routes/DataPlaneHeaderConnected.tsx","webpack:///./src/routes/data-plane/routes/AclsRoute.tsx","webpack:///./src/routes/data-plane/routes/TopicsRoute.tsx","webpack:///./src/routes/data-plane/routes/SettingsRoute.tsx","webpack:///./src/routes/data-plane/routes/DashboardRoute.tsx","webpack:///./src/routes/data-plane/routes/ConsumerGroupsRoute.tsx","webpack:///./src/routes/data-plane/useTopicGate.tsx","webpack:///./src/routes/data-plane/routes/DataPlaneTopicHeaderConnected.tsx","webpack:///./src/routes/data-plane/routes/TopicConsumerGroupsRoute.tsx","webpack:///./src/routes/data-plane/routes/TopicMessagesRoute.tsx","webpack:///./src/routes/data-plane/routes/TopicPropertiesRoute.tsx","webpack:///./src/routes/data-plane/routes/TopicSchemasRoute.tsx","webpack:///../../packages/ui/src/components/DeleteKafkaTopic/DeleteKafkaTopic.tsx","webpack:///./src/routes/data-plane/routes/TopicDeleteRoute.tsx","webpack:///./src/routes/data-plane/routes/TopicEditPropertiesRoute.tsx","webpack:///./src/routes/data-plane/TopicGate.tsx","webpack:///./src/routes/data-plane/DataPlaneRoutes.tsx","webpack:///./src/routes/overview/OverviewRoute.tsx","webpack:///./src/routes/Routes.tsx","webpack:///./src/App.tsx","webpack:///./src/QuickstartLoader.tsx","webpack:///./src/store/index.ts","webpack:///../../packages/ui-models/src/models/kafka.ts","webpack:///../../packages/consoledot-api/src/fetchers/fetchConsumerGroups.ts","webpack:///../../packages/consoledot-api/src/fetchers/fetchKafkaMetrics.ts","webpack:///../../packages/consoledot-api/src/fetchers/valuesToQuery.ts","webpack:///../../packages/consoledot-api/src/fetchers/fetchKafkas.ts","webpack:///../../packages/consoledot-api/src/fetchers/fetchKafkaKpis.ts","webpack:///../../packages/consoledot-api/src/transformers/topicTransformer.ts","webpack:///../../packages/consoledot-api/src/fetchers/fetchTopicsMetrics.ts","webpack:///../../packages/consoledot-api/src/fetchers/fetchTopics.ts","webpack:///../../packages/consoledot-api/src/fetchers/fetchProviderRegionSizes.ts","webpack:///../../packages/consoledot-api/src/fetchers/fetchProvidersWithRegions.ts","webpack:///../../packages/consoledot-api/src/utilsAndConstants.ts","webpack:///../../packages/consoledot-api/src/ApiProvider.tsx","webpack:///../../packages/consoledot-api/src/queryKeys.ts","webpack:///../../packages/consoledot-api/src/useApi.ts","webpack:///../../packages/consoledot-api/src/transformers/kafkaRequestToKafkaInstanceEnhanched.ts","webpack:///../../packages/consoledot-api/src/queries/useKafkaInstanceTransformer.ts","webpack:///../../packages/consoledot-api/src/queries/useKafka.ts","webpack:///../../packages/consoledot-api/src/queries/useCreateInstance.ts","webpack:///../../packages/consoledot-api/src/queries/useKafkas.ts","webpack:///../../packages/consoledot-api/src/queries/useTopic.ts","webpack:///../../packages/consoledot-api/src/fetchers/fetchTopic.ts","webpack:///../../packages/consoledot-api/src/queries/useTopics.ts","webpack:///../../packages/consoledot-api/src/queries/useConsumerGroups.ts","webpack:///../../packages/consoledot-api/src/fetchQueries/useDeveloperInstanceAvailabilityFetchQuery.ts","webpack:///../../packages/consoledot-api/src/fetchQueries/useKafkaFetchQuery.ts","webpack:///../../packages/consoledot-api/src/fetchQueries/useKafkaKpisFetchQuery.ts","webpack:///../../packages/consoledot-api/src/fetchQueries/useKafkaMetricsFetchQuery.ts","webpack:///../../packages/consoledot-api/src/fetchQueries/useTopicsMetricsFetchQuery.ts","webpack:///../../packages/consoledot-api/src/fetchQueries/useTopicsFetchQuery.ts","webpack:///../../packages/consoledot-api/src/fetchQueries/useMessagesFetchQuery.ts","webpack:///../../packages/consoledot-api/src/fetchers/fetchMessages.ts","webpack:///../../packages/consoledot-api/src/fetchQueries/useProviderRegionSizesFetchQuery.ts","webpack:///../../packages/consoledot-api/src/fetchQueries/useProvidersWithRegionsFetchQuery.ts","webpack:///../../packages/consoledot-api/src/fetchQueries/useStandardQuotaFetchQuery.ts","webpack:///../../packages/consoledot-api/src/fetchers/fetchOrganization.ts","webpack:///../../packages/consoledot-api/src/fetchers/fetchStandardQuota.ts","webpack:///../../packages/consoledot-api/src/mutations/useCreateKafkaMutation.ts","webpack:///../../packages/consoledot-api/src/mutations/useDeleteKafkaMutation.ts","webpack:///../../packages/consoledot-api/src/mutations/useDeleteTopicMutation.ts","webpack:///../../packages/consoledot-api/src/mutations/useUpdateKafkaMutation.ts","webpack:///../../packages/consoledot-api/src/types.ts","webpack:///../../packages/local-storage-helpers/index.ts","webpack:///../../packages/ui/src/components/ConsumerGroups/components/ConsumerGroupState.tsx","webpack:///../../packages/ui/src/components/ConsumerGroups/components/ConsumerGroupEmptyState.tsx","webpack:///../../packages/ui/src/components/ConsumerGroups/ConsumerGroups.tsx","webpack:///../../packages/ui/src/components/ControlPlaneHeader.tsx","webpack:///../../packages/ui/src/components/CreateKafkaInstance/machines/shared.ts","webpack:///../../packages/ui/src/components/CreateKafkaInstance/machines/StandardPlanMachine.ts","webpack:///../../packages/ui/src/components/CreateKafkaInstance/machines/TrialPlanMachine.ts","webpack:///../../packages/ui/src/components/CreateKafkaInstance/machines/CreateKafkaInstanceMachine.ts","webpack:///../../packages/ui/src/components/CreateKafkaInstance/machines/CreateKafkaInstanceProvider.tsx","webpack:///../../packages/ui/src/components/Logos/images.ts","webpack:///../../packages/ui/src/components/Logos/AWSLogo.tsx","webpack:///../../packages/ui/src/components/Logos/AzureLogo.tsx","webpack:///../../packages/ui/src/components/Logos/GCPLogo.tsx","webpack:///../../packages/ui/src/components/CreateKafkaInstance/components/BillingTiles.tsx","webpack:///../../packages/ui/src/components/Logos/RedhatLogo.tsx","webpack:///../../packages/ui/src/components/CreateKafkaInstance/components/CloudProviderTiles.tsx","webpack:///../../packages/ui/src/components/CreateKafkaInstance/StandardInstanceForm.tsx","webpack:///../../packages/ui/src/components/KafkaInstanceActions.tsx","webpack:///../../packages/ui/src/components/DataPlaneHeader.tsx","webpack:///../../packages/ui/src/components/DataPlaneTopicHeader.tsx","webpack:///../../packages/ui/src/components/DeleteKafKaInstance/DeleteKafkaInstance.tsx","webpack:///../../packages/ui/src/components/I18nProvider.tsx","webpack:///../../packages/ui/src/hooks/useKafkaLabels.ts","webpack:///../../packages/ui/src/hooks/useTopicLabels.ts","webpack:///../../packages/ui/src/components/KafkaInstanceDrawer/components/DetailsTabAlert.tsx","webpack:///../../packages/ui/src/components/KafkaInstanceDrawer/components/KafkaDetailsTab.tsx","webpack:///../../packages/ui/src/components/KafkaInstanceDrawer/components/SuspendedConnection.tsx","webpack:///../../packages/ui/src/components/KafkaInstanceDrawer/components/KafkaConnectionTabP2.tsx","webpack:///../../packages/ui/src/components/KafkaInstanceDrawer/KafkaInstanceDrawer.tsx","webpack:///../../packages/ui/src/components/KafkaInstanceStatus/components/StatusLabel.tsx","webpack:///../../packages/ui/src/components/KafkaInstanceStatus/types.ts","webpack:///../../packages/ui/src/components/KafkaInstanceStatus/components/StatusProgressStepper.tsx","webpack:///../../packages/ui/src/components/KafkaInstanceStatus/components/StatusPopoverContent.tsx","webpack:///../../packages/ui/src/components/KafkaInstanceStatus/components/StatusPopover.tsx","webpack:///../../packages/ui/src/components/KafkaInstanceStatus/components/SuspendedPopover.tsx","webpack:///../../packages/ui/src/components/KafkaInstanceStatus/KafkaInstanceStatus.tsx","webpack:///../../packages/ui/src/components/KafkaInstances/components/EmptyStateNoInstances.tsx","webpack:///../../packages/ui/src/components/KafkaInstances/components/EmptyStateNoResults.tsx","webpack:///../../packages/ui/src/components/KafkaInstances/KafkaInstances.tsx","webpack:///../../packages/ui/src/components/KafkaMessageBrowser/components/DateTimePicker.tsx","webpack:///../../packages/ui/src/components/KafkaMessageBrowser/components/FilterGroup.tsx","webpack:///../../packages/ui/src/components/KafkaMessageBrowser/components/LimitSelector.tsx","webpack:///../../packages/ui/src/components/KafkaMessageBrowser/utils.ts","webpack:///../../packages/ui/src/components/KafkaTopics/types.ts","webpack:///../../packages/ui/src/components/KafkaMessageBrowser/components/NoDataCell.tsx","webpack:///../../packages/ui/src/components/KafkaMessageBrowser/components/MessageDetails.tsx","webpack:///../../packages/ui/src/components/KafkaMessageBrowser/components/NoDataEmptyState.tsx","webpack:///../../packages/ui/src/components/KafkaMessageBrowser/components/NoResultsEmptyState.tsx","webpack:///../../packages/ui/src/components/KafkaMessageBrowser/components/OffsetRange.tsx","webpack:///../../packages/ui/src/components/KafkaMessageBrowser/components/PartitionSelector.tsx","webpack:///../../packages/ui/src/components/KafkaMessageBrowser/components/UnknownValuePreview.tsx","webpack:///../../packages/ui/src/components/KafkaMessageBrowser/MessageBrowserMachine.ts","webpack:///../../packages/ui/src/components/KafkaMessageBrowser/KafkaMessageBrowser.tsx","webpack:///../../packages/ui/src/components/KafkaInstanceCapacityTable.tsx","webpack:///../../packages/ui/src/components/MarketingPage.tsx","webpack:///../../packages/ui/src/components/KafkaPageV3.tsx","webpack:///../../packages/ui/src/components/KafkaTopics/components/EmptyStateNoTopic.tsx","webpack:///../../packages/ui/src/components/ManageKafkaPermissions/types.ts","webpack:///../../packages/ui/src/components/KafkaTopics/KafkaTopics.tsx","webpack:///../../packages/ui/src/components/Metrics/types.ts","webpack:///../../packages/ui/src/components/Metrics/components/EmptyStateInitialLoading.tsx","webpack:///../../packages/ui/src/components/Metrics/components/EmptyStateMetricsUnavailable.tsx","webpack:///../../packages/ui/src/components/Metrics/components/MetricsLayout.tsx","webpack:///../../packages/ui/src/components/Metrics/components/CardBodyLoading.tsx","webpack:///../../packages/ui/src/components/Metrics/consts.ts","webpack:///../../packages/ui/src/components/Metrics/components/ChartSkeletonLoader.tsx","webpack:///../../packages/ui/src/components/Metrics/components/useChartWidth.tsx","webpack:///../../packages/ui/src/components/Metrics/components/utils.ts","webpack:///../../packages/ui/src/components/Metrics/components/ChartLinearWithOptionalLimit.tsx","webpack:///../../packages/ui/src/components/Metrics/components/ChartLogSizePerPartition.tsx","webpack:///../../packages/ui/src/components/Metrics/components/ChartPopover.tsx","webpack:///../../packages/ui/src/components/Metrics/components/ChartTotalBytes.tsx","webpack:///../../packages/ui/src/components/Metrics/components/EmptyStateNoMetricsData.tsx","webpack:///../../packages/ui/src/components/Metrics/components/EmptyStateNoMetricsDataForSelection.tsx","webpack:///../../packages/ui/src/components/Metrics/components/EmptyStateNoTopics.tsx","webpack:///../../packages/ui/src/components/Metrics/components/EmptyStateNoTopicSelected.tsx","webpack:///../../packages/ui/src/components/Metrics/components/FilterByTime.tsx","webpack:///../../packages/ui/src/components/Metrics/components/FilterByTopic.tsx","webpack:///../../packages/ui/src/components/Metrics/components/ToolbarRefresh.tsx","webpack:///../../packages/ui/src/components/Metrics/components/ToolbarTopicsMetrics.tsx","webpack:///../../packages/ui/src/components/Metrics/components/CardTopicsMetrics.tsx","webpack:///../../packages/ui/src/components/Metrics/components/ToolbarKafkaInstanceMetric.tsx","webpack:///../../packages/ui/src/components/Metrics/components/CardKafkaInstanceMetrics.tsx","webpack:///../../packages/ui/src/components/Metrics/components/CardKpi.tsx","webpack:///../../packages/ui/src/components/Metrics/components/MetricsLagAlert.tsx","webpack:///../../packages/ui/src/components/Metrics/components/PartitionCard.tsx","webpack:///../../packages/ui/src/components/Metrics/machines/KafkaInstanceMetricsMachine.ts","webpack:///../../packages/ui/src/components/Metrics/machines/TopicsMetricsMachine.ts","webpack:///../../packages/ui/src/components/Metrics/machines/MetricsKpiMachine.ts","webpack:///../../packages/ui/src/components/Metrics/KafkaInstanceMetricsProvider.tsx","webpack:///../../packages/ui/src/components/Metrics/MetricsKpiProvider.tsx","webpack:///../../packages/ui/src/components/Metrics/TopicsMetricsProvider.tsx","webpack:///../../packages/ui/src/components/Metrics/useKafkaInstanceMetrics.tsx","webpack:///../../packages/ui/src/components/Metrics/useTopicsMetrics.tsx","webpack:///../../packages/ui/src/components/Metrics/Metrics.tsx","webpack:///../../packages/ui/src/components/Metrics/useMetricsKpi.tsx","webpack:///../../packages/ui/src/components/Settings/Settings.tsx","webpack:///../../packages/ui/src/components/Topic/components/types.ts","webpack:///../../packages/ui/src/components/Topic/components/TextWithLabelPopover.tsx","webpack:///../../packages/ui/src/components/Topic/components/Cleanup.tsx","webpack:///../../packages/ui/src/components/Topic/components/CustomRetentionMessage.tsx","webpack:///../../packages/ui/src/components/Topic/components/CustomRetentionSize.tsx","webpack:///../../packages/ui/src/components/Topic/components/CoreConfiguration.tsx","webpack:///../../packages/ui/src/components/Topic/components/useValidateTopic.ts","webpack:///../../packages/ui/src/components/Topic/components/Flush.tsx","webpack:///../../packages/ui/src/components/Topic/components/Log.tsx","webpack:///../../packages/ui/src/components/Topic/components/Message.tsx","webpack:///../../packages/ui/src/components/Topic/components/Replication.tsx","webpack:///../../packages/ui/src/components/Topic/components/TopicAdvanceIndex.tsx","webpack:///../../packages/ui/src/components/Topic/components/TopicAdvanceJumpLinks.tsx","webpack:///../../packages/ui/src/components/Topic/components/TopicAdvancePage.tsx","webpack:///../../packages/ui/src/components/Topic/EditTopicProperties/EditTopicProperties.tsx","webpack:///../../packages/ui/src/components/Topic/TopicProperties/TopicProperties.tsx"],"sourcesContent":["export const ControlPlaneRouteRoot = \"/kafkas\" as const;\nconst NewInstanceSegment = \"create\";\nexport const ControlPlaneSpecialSegments = [NewInstanceSegment];\n\nexport const ControlPlaneRoutePath =\n  `${ControlPlaneRouteRoot}/:id?/:section(delete)?` as const;\nexport const ControlPlaneNewInstancePath = `${ControlPlaneRouteRoot}/${NewInstanceSegment}`;\nexport const ControlPlaneDeleteInstancePath = `${ControlPlaneRouteRoot}/:id/delete`;\nexport type ControlPlaneRouteParams = { id?: string; section?: \"delete\" };\n\nexport type ControlPlaneNavigationProps = {\n  instancesHref: string;\n};\n","import { useKafka } from \"consoledot-api\";\nimport type { FunctionComponent, MutableRefObject } from \"react\";\nimport {\n  createContext,\n  useCallback,\n  useContext,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from \"react\";\nimport { useRouteMatch } from \"react-router-dom\";\nimport type { KafkaInstanceDrawerTab } from \"ui\";\nimport { KafkaInstanceDrawer } from \"ui\";\nimport type { ControlPlaneRouteParams } from \"./routesConsts\";\nimport {\n  ControlPlaneRoutePath,\n  ControlPlaneSpecialSegments,\n} from \"./routesConsts\";\n\ntype DrawerContextProps = {\n  selectedInstance: string | undefined;\n  activeTab: KafkaInstanceDrawerTab;\n  setActiveTab: (tab: KafkaInstanceDrawerTab) => void;\n  isExpanded: boolean;\n  toggleExpanded: (newState?: boolean) => void;\n  onClose: MutableRefObject<(() => void) | undefined>;\n};\nconst DrawerContext = createContext<DrawerContextProps>(null!);\n\nexport const DrawerProvider: FunctionComponent = ({ children }) => {\n  const match = useRouteMatch<ControlPlaneRouteParams>(ControlPlaneRoutePath);\n  if (!match) {\n    throw Error(\"DrawerProvider used outside the expected route\");\n  }\n  const selectedInstance =\n    (match.params.id &&\n      ControlPlaneSpecialSegments.includes(match.params.id)) ||\n    match.params.section !== undefined\n      ? undefined\n      : match.params.id;\n  const { data: instance } = useKafka(selectedInstance);\n  const [isExpanded, setIsExpanded] = useState(\n    selectedInstance !== undefined && match.isExact\n  );\n  const [activeTab, setActiveTab] = useState<KafkaInstanceDrawerTab>(\"details\");\n  const onClose = useRef<() => void | undefined>();\n\n  const toggleExpanded = useCallback((newValue: boolean | undefined) => {\n    setIsExpanded((prev) => {\n      const isExpanded = newValue !== undefined ? newValue : !prev;\n      if (isExpanded === false && onClose.current) {\n        onClose.current();\n      }\n      return isExpanded;\n    });\n  }, []);\n\n  useEffect(() => {\n    if (!instance) {\n      setIsExpanded(false);\n    }\n  }, [instance]);\n\n  const value = useMemo(() => {\n    const shouldBeExpanded = selectedInstance !== undefined && isExpanded;\n\n    return {\n      selectedInstance,\n      activeTab,\n      setActiveTab,\n      isExpanded: shouldBeExpanded,\n      toggleExpanded,\n      onClose,\n    };\n  }, [activeTab, isExpanded, selectedInstance, toggleExpanded]);\n\n  return (\n    <DrawerContext.Provider value={value}>\n      <KafkaInstanceDrawer\n        instance={instance}\n        activeTab={activeTab}\n        onTabChange={setActiveTab}\n        isExpanded={isExpanded}\n        onClose={() => toggleExpanded(false)}\n      >\n        {children}\n      </KafkaInstanceDrawer>\n    </DrawerContext.Provider>\n  );\n};\n\nexport function useDrawer(onClose?: () => void) {\n  const context = useContext(DrawerContext);\n  context.onClose.current = onClose;\n  return context;\n}\n","import { QuickStartContext } from \"@patternfly/quickstarts\";\nimport {\n  usePaginationSearchParams,\n  useSortableSearchParams,\n  useURLSearchParamsChips,\n} from \"@rhoas/app-services-ui-components\";\nimport { KafkaInstancesSortableColumns, useKafkas } from \"consoledot-api\";\nimport type { FunctionComponent } from \"react\";\nimport { useCallback, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport type { KafkaInstanceDrawerTab, KafkaInstancesProps } from \"ui\";\nimport { ControlPlaneHeader, KafkaInstances, useKafkaLabels } from \"ui\";\nimport type { Kafka, SimplifiedStatus } from \"ui-models/src/models/kafka\";\nimport { ReadyStatuses } from \"ui-models/src/models/kafka\";\nimport { useDrawer } from \"../DrawerProvider\";\nimport {\n  ControlPlaneNewInstancePath,\n  ControlPlaneRouteRoot,\n} from \"../routesConsts\";\n\nexport type KafkaInstancesRoute = Pick<\n  KafkaInstancesProps<Kafka>,\n  \"getUrlForInstance\"\n>;\n\nexport const KafkaInstancesRoute: FunctionComponent<KafkaInstancesRoute> = ({\n  getUrlForInstance,\n}) => {\n  const history = useHistory();\n  const { setActiveQuickStart } = useContext(QuickStartContext);\n\n  const { selectedInstance, toggleExpanded, setActiveTab, isExpanded } =\n    useDrawer(\n      useCallback(() => history.replace(`${ControlPlaneRouteRoot}`), [history])\n    );\n\n  const labels = useKafkaLabels();\n\n  const { page, perPage, setPagination, setPaginationQuery } =\n    usePaginationSearchParams();\n  const resetPaginationQuery = useCallback(\n    () => setPaginationQuery(1, perPage),\n    [perPage, setPaginationQuery]\n  );\n\n  const namesChips = useURLSearchParamsChips(\"names\", resetPaginationQuery);\n  const ownersChips = useURLSearchParamsChips(\"owners\", resetPaginationQuery);\n  const statusesChips = useURLSearchParamsChips<SimplifiedStatus>(\n    \"statuses\",\n    resetPaginationQuery\n  );\n\n  const [isColumnSortable, sort, sortDirection] = useSortableSearchParams(\n    KafkaInstancesSortableColumns,\n    labels.fields,\n    \"createdAt\",\n    \"desc\"\n  );\n\n  const { data } = useKafkas({\n    page,\n    perPage,\n    name: namesChips.chips,\n    owner: ownersChips.chips,\n    status: statusesChips.chips,\n    sort: sort!,\n    direction: sortDirection,\n  });\n\n  const onClearAllFilters = useCallback(() => {\n    namesChips.clearChained(\n      ownersChips.clearChained(\n        statusesChips.clearChained(setPaginationQuery(1, perPage))\n      ),\n      true\n    );\n  }, [namesChips, ownersChips, perPage, setPaginationQuery, statusesChips]);\n\n  const openDrawer = useCallback(\n    (id: string, tab: KafkaInstanceDrawerTab) => {\n      if (selectedInstance === id && isExpanded) {\n        toggleExpanded(false);\n      } else {\n        history.replace(`${ControlPlaneRouteRoot}/${id}`);\n        toggleExpanded(true);\n        setActiveTab(tab);\n      }\n    },\n    [history, isExpanded, selectedInstance, setActiveTab, toggleExpanded]\n  );\n\n  const onDetailsClick: KafkaInstancesProps[\"onDetails\"] = useCallback(\n    (instance) => {\n      openDrawer(instance.id, \"details\");\n    },\n    [openDrawer]\n  );\n\n  const onConnectionsClick: KafkaInstancesProps[\"onDetails\"] = useCallback(\n    (instance) => {\n      openDrawer(instance.id, \"connections\");\n    },\n    [openDrawer]\n  );\n\n  const onCreate = useCallback(() => {\n    history.push(`${ControlPlaneNewInstancePath}`);\n  }, [history]);\n\n  const onDelete = useCallback(\n    ({ id }) => {\n      history.push(`${ControlPlaneRouteRoot}/${id}/delete`);\n    },\n    [history]\n  );\n\n  const onQuickstartGuide = useCallback(\n    () => setActiveQuickStart && setActiveQuickStart(\"getting-started\"),\n    [setActiveQuickStart]\n  );\n\n  return (\n    <>\n      <ControlPlaneHeader />\n      <KafkaInstances\n        instances={data?.instances}\n        itemCount={data?.count}\n        page={page}\n        perPage={perPage}\n        names={namesChips.chips}\n        owners={ownersChips.chips}\n        statuses={statusesChips.chips}\n        isColumnSortable={isColumnSortable}\n        onPageChange={setPagination}\n        onSearchName={namesChips.add}\n        onRemoveNameChip={namesChips.remove}\n        onRemoveNameChips={namesChips.clear}\n        onSearchOwner={ownersChips.add}\n        onRemoveOwnerChip={ownersChips.remove}\n        onRemoveOwnerChips={ownersChips.clear}\n        onSearchStatus={statusesChips.toggle}\n        onRemoveStatusChip={statusesChips.remove}\n        onRemoveStatusChips={statusesChips.clear}\n        onClearAllFilters={onClearAllFilters}\n        onChangeOwner={(row) => {}}\n        onDelete={onDelete}\n        onCreate={onCreate}\n        isRowSelected={({ row }) => row.id === selectedInstance}\n        getUrlForInstance={getUrlForInstance}\n        onDetails={onDetailsClick}\n        onConnection={onConnectionsClick}\n        onClickConnectionTabLink={() => {}}\n        onClickSupportLink={() => {}}\n        onInstanceLinkClick={() => {}}\n        onQuickstartGuide={onQuickstartGuide}\n        canHaveInstanceLink={({ status }) => ReadyStatuses.includes(status)}\n        canOpenConnection={({ status }) => ReadyStatuses.includes(status)}\n        canChangeOwner={() => true}\n        canDelete={() => true}\n      />\n    </>\n  );\n};\n","import { QuickStartContext } from \"@patternfly/quickstarts\";\nimport type { CreateKafkaInstanceServices } from \"@rhoas/app-services-ui-components\";\nimport { CreateKafkaInstance } from \"@rhoas/app-services-ui-components\";\nimport { useCreateKafkaMutation } from \"consoledot-api\";\nimport type { FunctionComponent } from \"react\";\nimport { useCallback, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport type { ControlPlaneNavigationProps } from \"../routesConsts\";\nimport { ControlPlaneRouteRoot } from \"../routesConsts\";\nimport { useCreateKafkaCallbacks } from \"./useCreateKafkaCallbacks\";\n\nexport const CreateKafkaInstanceRoute: FunctionComponent<\n  ControlPlaneNavigationProps\n> = ({ instancesHref }) => {\n  const history = useHistory();\n  const callbacks = useCreateKafkaCallbacks();\n  const createKafkaInstance = useCreateKafkaMutation();\n  const qsContext = useContext(QuickStartContext);\n\n  const onClickKafkaOverview = () => {\n    history.push(`overview`);\n  };\n\n  const onClickQuickStart = useCallback(() => {\n    qsContext.setActiveQuickStart &&\n      qsContext.setActiveQuickStart(\"getting-started\");\n  }, [qsContext]);\n\n  const onCreate = useCallback<CreateKafkaInstanceServices[\"onCreate\"]>(\n    function (instance, onSuccess, onError) {\n      const onOnSuccess = () => {\n        onSuccess();\n        history.push(ControlPlaneRouteRoot);\n      };\n      void createKafkaInstance.mutateAsync({\n        instance,\n        onSuccess: onOnSuccess,\n        onError,\n      });\n    },\n    [createKafkaInstance, history]\n  );\n\n  const onCancel = useCallback(() => {\n    history.push(instancesHref);\n  }, [history, instancesHref]);\n\n  return (\n    <CreateKafkaInstance\n      {...callbacks}\n      isModalOpen={true}\n      onCancel={onCancel}\n      onClickContactUs={onClickKafkaOverview}\n      onClickKafkaOverview={onClickKafkaOverview}\n      onClickQuickStart={onClickQuickStart}\n      onCreate={onCreate}\n      onLearnHowToAddStreamingUnits={onClickKafkaOverview}\n      onLearnMoreAboutSizes={onClickKafkaOverview}\n      subscriptionOptionsHref={document.location.href + \"/../overview\"}\n      appendTo={() =>\n        (document.getElementById(\"chrome-app-render-root\") as HTMLElement) ||\n        document.body\n      }\n    />\n  );\n};\n","import { useChrome } from \"@redhat-cloud-services/frontend-components/useChrome\";\nimport {\n  useDeveloperInstanceAvailabilityFetchQuery,\n  useProviderRegionSizesFetchQuery,\n  useProvidersWithRegionsFetchQuery,\n  useStandardQuotaFetchQuery,\n} from \"consoledot-api\";\nimport { useCallback } from \"react\";\nimport type { CreateKafkaInstanceProps, StandardSizes } from \"ui\";\n\nexport function useCreateKafkaCallbacks() {\n  const { auth } = useChrome();\n\n  const getUsername = useCallback(async () => {\n    const username = (await auth.getUser()).identity.user?.username;\n    if (!username) {\n      return Promise.reject(\"Invalid user\");\n    }\n    return username;\n  }, [auth]);\n\n  const checkDeveloperAvailabilityQuery =\n    useDeveloperInstanceAvailabilityFetchQuery();\n\n  const standardQuotaQuery = useStandardQuotaFetchQuery(true);\n  const providersWithRegionsQuery = useProvidersWithRegionsFetchQuery();\n  const getProvidersInfo = useProvidersWithRegionsFetchQuery();\n  const getProviderRegionsSizes = useProviderRegionSizesFetchQuery();\n\n  const checkDeveloperAvailability = useCallback<\n    CreateKafkaInstanceProps[\"checkDeveloperAvailability\"]\n  >(\n    async ({ onAvailable, onUsed, onUnavailable }) => {\n      try {\n        const available = await checkDeveloperAvailabilityQuery(getUsername);\n\n        if (available) {\n          onAvailable();\n        } else {\n          onUsed();\n        }\n      } catch {\n        onUnavailable();\n      }\n    },\n    [checkDeveloperAvailabilityQuery, getUsername]\n  );\n\n  const checkStandardQuota = useCallback<\n    CreateKafkaInstanceProps[\"checkStandardQuota\"]\n  >(\n    async ({ onQuotaAvailable, onNoQuotaAvailable, onOutOfQuota }) => {\n      try {\n        const {\n          hasTrialQuota,\n          remainingPrepaidQuota,\n          remainingMarketplaceQuota,\n          marketplaceSubscriptions,\n        } = await standardQuotaQuery();\n\n        if (\n          remainingMarketplaceQuota !== undefined ||\n          remainingPrepaidQuota !== undefined\n        ) {\n          if (\n            (remainingMarketplaceQuota || 0) === 0 &&\n            (remainingPrepaidQuota || 0) === 0\n          ) {\n            onOutOfQuota({\n              quota: {\n                marketplaceSubscriptions,\n              },\n            });\n          } else {\n            onQuotaAvailable({\n              quota: {\n                remainingPrepaidQuota,\n                remainingMarketplaceQuota,\n                marketplaceSubscriptions,\n              },\n            });\n          }\n        } else {\n          onNoQuotaAvailable({ hasTrialQuota });\n        }\n      } catch (e) {\n        onNoQuotaAvailable({ hasTrialQuota: false });\n      }\n    },\n    [standardQuotaQuery]\n  );\n\n  const fetchProvidersWithRegions = useCallback<\n    CreateKafkaInstanceProps[\"fetchProvidersWithRegions\"]\n  >(\n    async (plan, { onAvailable, onUnavailable }) => {\n      try {\n        const providers = await providersWithRegionsQuery(plan);\n        onAvailable(providers);\n      } catch {\n        onUnavailable();\n      }\n    },\n    [providersWithRegionsQuery]\n  );\n\n  const getStandardSizes = useCallback<\n    CreateKafkaInstanceProps[\"getStandardSizes\"]\n  >(\n    async (provider, region) => {\n      const providersInfo = await getProvidersInfo(\"standard\");\n      const providerInfo = providersInfo.providers.find(\n        (p) => p.id === provider\n      );\n      if (!providerInfo) {\n        return Promise.reject(\"Invalid cloud provider\");\n      }\n      return getProviderRegionsSizes(providerInfo, region, \"standard\");\n    },\n    [getProviderRegionsSizes, getProvidersInfo]\n  );\n\n  const getTrialSizes = useCallback<CreateKafkaInstanceProps[\"getTrialSizes\"]>(\n    async (provider, region) => {\n      let standardSizes: StandardSizes;\n\n      try {\n        standardSizes = await getStandardSizes(provider, region);\n        if (standardSizes.length === 0) {\n          throw new Error(\"No standard sizes found\");\n        }\n      } catch {\n        // It can happen that the selected provider doesn't support standard instances.\n        // In this case we provide a faux sample list of sizes just to make the slider happy.\n        standardSizes = [\n          { id: \"1\", displayName: \"1\", quota: 1 },\n          { id: \"2\", displayName: \"2\", quota: 2 },\n        ] as StandardSizes;\n      }\n      const providersInfo = await getProvidersInfo(\"developer\");\n      const providerInfo = providersInfo.providers.find(\n        (p) => p.id === provider\n      );\n      if (!providerInfo) {\n        return Promise.reject(\"Invalid cloud provider\");\n      }\n      const trialSizes = await getProviderRegionsSizes(\n        providerInfo,\n        region,\n        \"developer\"\n      );\n      return {\n        standard: standardSizes,\n        trial: trialSizes[0],\n      };\n    },\n    [getProviderRegionsSizes, getProvidersInfo, getStandardSizes]\n  );\n  return {\n    checkDeveloperAvailability,\n    checkStandardQuota,\n    fetchProvidersWithRegions,\n    getStandardSizes,\n    getTrialSizes,\n  };\n}\n","import { useDeleteKafkaMutation, useKafka } from \"consoledot-api\";\nimport type { FunctionComponent } from \"react\";\nimport { useCallback, useEffect } from \"react\";\nimport { useHistory, useRouteMatch } from \"react-router-dom\";\nimport { DeleteKafkaInstance } from \"ui\";\nimport { ReadyStatuses } from \"ui-models/src/models/kafka\";\nimport type {\n  ControlPlaneNavigationProps,\n  ControlPlaneRouteParams,\n} from \"../routesConsts\";\nimport { ControlPlaneRoutePath } from \"../routesConsts\";\n\nexport const DeleteKafkaInstanceRoute: FunctionComponent<\n  ControlPlaneNavigationProps\n> = ({ instancesHref }) => {\n  const history = useHistory();\n  const match = useRouteMatch<ControlPlaneRouteParams>(ControlPlaneRoutePath);\n\n  const { data: instance, isError } = useKafka(match?.params.id);\n  const { mutateAsync, isLoading: isDeleting } = useDeleteKafkaMutation();\n\n  const onCancel = useCallback(() => {\n    history.push(instancesHref);\n  }, [history, instancesHref]);\n\n  const onDelete = useCallback(() => {\n    if (instance?.id) {\n      void mutateAsync({\n        id: instance.id,\n        onError: () => {\n          // TODO: alert\n        },\n        onSuccess: () => {\n          history.replace(instancesHref);\n        },\n      });\n    }\n  }, [mutateAsync, history, instance?.id, instancesHref]);\n\n  useEffect(() => {\n    if (isError) {\n      history.replace(instancesHref);\n    }\n  }, [history, instancesHref, isError]);\n\n  if (!instance) {\n    return null;\n  }\n\n  return (\n    <DeleteKafkaInstance\n      isModalOpen={true}\n      isDeleting={isDeleting}\n      onCancel={onCancel}\n      onDelete={onDelete}\n      instanceName={\n        ReadyStatuses.includes(instance.status) ? instance.name : undefined\n      }\n      appendTo={() =>\n        (document.getElementById(\"chrome-app-render-root\") as HTMLElement) ||\n        document.body\n      }\n    />\n  );\n};\n","import type { VoidFunctionComponent } from \"react\";\nimport { Route } from \"react-router-dom\";\nimport {\n  CreateKafkaInstanceRoute,\n  DeleteKafkaInstanceRoute,\n  KafkaInstancesRoute,\n} from \"./routes\";\nimport {\n  ControlPlaneDeleteInstancePath,\n  ControlPlaneNewInstancePath,\n  ControlPlaneRoutePath,\n} from \"./routesConsts\";\n\nexport const ControlPlaneRoutes: VoidFunctionComponent = () => {\n  return (\n    <Route path={ControlPlaneRoutePath} exact>\n      <Route path={ControlPlaneNewInstancePath}>\n        <CreateKafkaInstanceRoute instancesHref={\"/kafkas\"} />\n      </Route>\n      <Route path={ControlPlaneDeleteInstancePath}>\n        <DeleteKafkaInstanceRoute instancesHref={\"/kafkas\"} />\n      </Route>\n      <KafkaInstancesRoute\n        getUrlForInstance={(instance) => `/kafkas/${instance.id}/details`}\n      />\n    </Route>\n  );\n};\n","import type { ControlPlaneNavigationProps } from \"../control-plane/routesConsts\";\nimport { ControlPlaneRouteRoot } from \"../control-plane/routesConsts\";\n\nexport const DataPlaneRoutePath =\n  `${ControlPlaneRouteRoot}/:id/details` as const;\nexport type DataPlaneRouteParams = { id: string };\nexport type DataPlaneTopicRouteParams = { id: string; topicName: string };\n\nexport const DataPlaneTopicRoutePath =\n  `${ControlPlaneRouteRoot}/:id/details/topics/:topicName` as const;\n\nexport type DataPlaneNavigationProps = {\n  instanceDetailsHref: (instanceId: string) => string;\n  instanceTopicsHref: (instanceId: string) => string;\n} & ControlPlaneNavigationProps;\n\nexport type DataPlaneTopicNavigationProps = {\n  instanceDetailsHref: (instanceId: string) => string;\n  instanceTopicsHref: (instanceId: string) => string;\n  topicHref: (instanceId: string, topicName: string) => string;\n  deleteTopicHref: (instanceId: string, topicName: string) => string;\n  updateTopicHref: (instanceId: string, topicName: string) => string;\n} & ControlPlaneNavigationProps;\n","import { useKafka } from \"consoledot-api\";\nimport { useEffect } from \"react\";\nimport { useHistory, useRouteMatch } from \"react-router-dom\";\nimport type { DataPlaneRouteParams } from \"./routesConsts\";\nimport { DataPlaneRoutePath } from \"./routesConsts\";\n\nexport function useDataPlaneGate(instancesHref: string) {\n  const history = useHistory();\n\n  const match = useRouteMatch<DataPlaneRouteParams>(DataPlaneRoutePath);\n\n  if (!match) {\n    throw Error(\"useDataPlaneGate used outside the expected route\");\n  }\n  const { data: instance, isError } = useKafka(match.params.id);\n\n  useEffect(() => {\n    if (isError) {\n      history.replace(instancesHref);\n    }\n  }, [history, instancesHref, isError]);\n\n  return { instance: instance as NonNullable<typeof instance>, match };\n}\n","import { Loading } from \"@rhoas/app-services-ui-components\";\nimport type { FunctionComponent } from \"react\";\nimport type { ControlPlaneNavigationProps } from \"../control-plane/routesConsts\";\nimport { useDataPlaneGate } from \"./useDataPlaneGate\";\n\nexport const DataPlaneGate: FunctionComponent<ControlPlaneNavigationProps> = ({\n  instancesHref,\n  children,\n}) => {\n  const { instance } = useDataPlaneGate(instancesHref);\n\n  return instance ? <>{children}</> : <Loading />;\n};\n","import type { VoidFunctionComponent } from \"react\";\nimport { useCallback } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport type { DataPlaneHeaderProps } from \"ui\";\nimport { DataPlaneHeader } from \"ui\";\nimport { ReadyStatuses } from \"ui-models/src/models/kafka\";\nimport { useDrawer } from \"../../control-plane\";\nimport type { ControlPlaneNavigationProps } from \"../../control-plane/routesConsts\";\nimport { useDataPlaneGate } from \"../useDataPlaneGate\";\n\nexport const DataPlaneHeaderConnected: VoidFunctionComponent<\n  ControlPlaneNavigationProps & Pick<DataPlaneHeaderProps, \"activeSection\">\n> = ({ instancesHref, activeSection }) => {\n  const history = useHistory();\n  const { setActiveTab, toggleExpanded } = useDrawer();\n\n  const {\n    instance,\n    match: { url },\n  } = useDataPlaneGate(instancesHref);\n\n  const sectionsHref = {\n    dashboard: `${url}/dashboard`,\n    topics: `${url}/topics`,\n    consumer: `${url}/consumer-groups`,\n    permissions: `${url}/acls`,\n    settings: `${url}/settings`,\n  };\n\n  const onDelete = useCallback(() => {\n    // TODO: unhardcode this url\n    history.push(`${instancesHref}/${instance.id}/delete`);\n  }, [history, instance, instancesHref]);\n\n  return (\n    <DataPlaneHeader\n      instancesHref={instancesHref}\n      instanceName={instance?.name || \"\"}\n      activeSection={activeSection}\n      sectionsHref={sectionsHref}\n      onDetails={() => {\n        setActiveTab(\"details\");\n        toggleExpanded(true);\n      }}\n      onConnection={() => {\n        setActiveTab(\"connections\");\n        toggleExpanded(true);\n      }}\n      canOpenConnection={\n        instance ? ReadyStatuses.includes(instance?.status) : false\n      }\n      canChangeOwner={true /* TODO */}\n      onChangeOwner={() => false /* TODO */}\n      canDelete={true /* TODO */}\n      onDelete={onDelete}\n    />\n  );\n};\n","import { PageSection } from \"@patternfly/react-core\";\nimport type { VoidFunctionComponent } from \"react\";\nimport type { ControlPlaneNavigationProps } from \"../../control-plane/routesConsts\";\nimport { DataPlaneHeaderConnected } from \"./DataPlaneHeaderConnected\";\n\nexport const AclsRoute: VoidFunctionComponent<ControlPlaneNavigationProps> = ({\n  instancesHref,\n}) => {\n  return (\n    <>\n      <DataPlaneHeaderConnected\n        instancesHref={instancesHref}\n        activeSection={\"permissions\"}\n      />\n      <PageSection>TODO</PageSection>\n    </>\n  );\n};\n","import {\n  usePaginationSearchParams,\n  useSortableSearchParams,\n  useURLSearchParamsChips,\n} from \"@rhoas/app-services-ui-components\";\nimport { KafkaTopicsSortableColumns, useTopics } from \"consoledot-api\";\nimport type { VoidFunctionComponent } from \"react\";\nimport { useCallback } from \"react\";\nimport { KafkaTopics, useTopicLabels } from \"ui\";\nimport type { ControlPlaneNavigationProps } from \"../../control-plane/routesConsts\";\nimport { useDataPlaneGate } from \"../useDataPlaneGate\";\nimport { DataPlaneHeaderConnected } from \"./DataPlaneHeaderConnected\";\n\nexport const TopicsRoute: VoidFunctionComponent<\n  ControlPlaneNavigationProps\n> = ({ instancesHref }) => {\n  const labels = useTopicLabels();\n\n  const { instance } = useDataPlaneGate(instancesHref);\n  const { page, perPage, setPagination, setPaginationQuery } =\n    usePaginationSearchParams();\n  const resetPaginationQuery = useCallback(\n    () => setPaginationQuery(1, perPage),\n    [perPage, setPaginationQuery]\n  );\n\n  const topicChips = useURLSearchParamsChips(\"topic\", resetPaginationQuery);\n  const [isColumnSortable, sort, sortDirection] = useSortableSearchParams(\n    KafkaTopicsSortableColumns,\n    labels.fields\n  );\n  const { data } = useTopics({\n    id: instance?.id,\n    adminUrl: instance?.adminUrl,\n    page,\n    perPage,\n    sort: sort!,\n    direction: sortDirection,\n    filter: topicChips.chips[0],\n    plan: instance.plan,\n  });\n  return (\n    <>\n      <DataPlaneHeaderConnected\n        instancesHref={instancesHref}\n        activeSection={\"topics\"}\n      />\n      <KafkaTopics\n        topics={data?.topics}\n        itemCount={data?.count}\n        page={page}\n        perPage={perPage}\n        topicName={topicChips.chips}\n        getUrlFortopic={(row) => `./topics/${row.name}`}\n        isColumnSortable={isColumnSortable}\n        onDelete={() => {}}\n        onEdit={() => {}}\n        onSearchTopic={(value) => {\n          topicChips.clear();\n          topicChips.toggle(value);\n        }}\n        onClearAllFilters={topicChips.clear}\n        onCreateTopic={() => {}}\n        onPageChange={setPagination}\n        onRemoveTopicChip={topicChips.clear}\n        onRemoveTopicChips={topicChips.clear}\n        onTopicLinkClick={() => {}}\n      />\n    </>\n  );\n};\n","import { useUpdateKafkaMutation } from \"consoledot-api\";\nimport type { VoidFunctionComponent } from \"react\";\nimport { useCallback } from \"react\";\nimport type { SettingsProps } from \"ui\";\nimport { Settings as SettingsComp } from \"ui\";\nimport type { ControlPlaneNavigationProps } from \"../../control-plane/routesConsts\";\nimport { useDataPlaneGate } from \"../useDataPlaneGate\";\nimport { DataPlaneHeaderConnected } from \"./DataPlaneHeaderConnected\";\n\nexport const SettingsRoute: VoidFunctionComponent<\n  ControlPlaneNavigationProps\n> = ({ instancesHref }) => {\n  const { instance } = useDataPlaneGate(instancesHref);\n  const updateInstance = useUpdateKafkaMutation();\n\n  const onSubmitReAuthentication = useCallback<\n    SettingsProps[\"onSubmitReAuthentication\"]\n  >(\n    async (reauthenticationEnabled) => {\n      try {\n        await updateInstance.mutateAsync({\n          id: instance.id,\n          updates: { reauthentication_enabled: reauthenticationEnabled },\n        });\n        return reauthenticationEnabled;\n      } catch {\n        return instance.request.reauthentication_enabled;\n      }\n    },\n    [instance, updateInstance]\n  );\n  return (\n    <>\n      <DataPlaneHeaderConnected\n        instancesHref={instancesHref}\n        activeSection={\"settings\"}\n      />\n      <SettingsComp\n        onSubmitReAuthentication={onSubmitReAuthentication}\n        reauthenticationEnabled={instance.request.reauthentication_enabled}\n      />\n    </>\n  );\n};\n","import {\n  useKafkaFetchQuery,\n  useKafkaKpisFetchQuery,\n  useKafkaMetricsFetchQuery,\n  useTopicsFetchQuery,\n  useTopicsMetricsFetchQuery,\n} from \"consoledot-api\";\nimport {\n  metricsDismissLagAlerts,\n  metricsIsLagAlertsDismissed,\n} from \"local-storage-helpers\";\nimport type { VoidFunctionComponent } from \"react\";\nimport { useCallback, useState } from \"react\";\nimport type { MetricsProps } from \"ui\";\nimport { Metrics } from \"ui\";\nimport type { ControlPlaneNavigationProps } from \"../../control-plane/routesConsts\";\nimport { useDataPlaneGate } from \"../useDataPlaneGate\";\nimport { DataPlaneHeaderConnected } from \"./DataPlaneHeaderConnected\";\n\nexport const DashboardRoute: VoidFunctionComponent<\n  ControlPlaneNavigationProps\n> = ({ instancesHref }) => {\n  const {\n    instance,\n    match: { params },\n  } = useDataPlaneGate(instancesHref);\n  const [hasUserAlreadyClosedAlert, setHasUserAlreadyClosedAlert] = useState(\n    metricsIsLagAlertsDismissed()\n  );\n\n  const onAlertClose = useCallback(() => {\n    setHasUserAlreadyClosedAlert(true);\n    metricsDismissLagAlerts();\n  }, []);\n\n  const queryInstance = useKafkaFetchQuery();\n  const queryKpisMetrics = useKafkaKpisFetchQuery();\n  const queryInstanceMetrics = useKafkaMetricsFetchQuery();\n  const queryTopicMetrics = useTopicsMetricsFetchQuery();\n  const queryTopics = useTopicsFetchQuery();\n\n  const getMetricsKpi: MetricsProps[\"getMetricsKpi\"] = useCallback(async () => {\n    const kpis = await queryKpisMetrics(params.id);\n    return {\n      ...kpis,\n      topicPartitionsLimit: instance.maxPartitions || 0,\n    };\n  }, [instance, params.id, queryKpisMetrics]);\n\n  const getKafkaInstanceMetrics: MetricsProps[\"getKafkaInstanceMetrics\"] =\n    useCallback(\n      async ({ interval, duration }) => {\n        const [instance, metrics] = await Promise.all([\n          queryInstance(params.id),\n          queryInstanceMetrics({ id: params.id, duration, interval }),\n        ]);\n        if (!instance) {\n          return Promise.reject(\"Can't retrieve instance\");\n        }\n        return {\n          ...metrics,\n          diskSpaceLimit:\n            (instance.request.max_data_retention_size?.bytes || 0) / 1073741824,\n          connectionsLimit: instance.connections || 0,\n          connectionRateLimit: instance.connectionRate || 0,\n        };\n      },\n      [params.id, queryInstance, queryInstanceMetrics]\n    );\n\n  const getTopicsMetrics: MetricsProps[\"getTopicsMetrics\"] = useCallback(\n    async ({ interval, duration, selectedTopic }) => {\n      const [instance, metrics] = await Promise.all([\n        queryInstance(params.id),\n        queryTopicMetrics({ id: params.id, duration, interval, selectedTopic }),\n      ]);\n      if (!instance || !instance.adminUrl) {\n        return Promise.reject(\"Can't retrieve instance\");\n      }\n      const kafkaTopics = (\n        await queryTopics({\n          id: instance.id,\n          adminUrl: instance.adminUrl,\n          page: 1,\n          perPage: 1000,\n          plan: instance.plan,\n        })\n      ).topics.map((t) => t.name);\n      return {\n        ...metrics,\n        kafkaTopics,\n      };\n    },\n    [params.id, queryInstance, queryTopicMetrics, queryTopics]\n  );\n\n  return (\n    <>\n      <DataPlaneHeaderConnected\n        instancesHref={instancesHref}\n        activeSection={\"dashboard\"}\n      />\n      <Metrics\n        onCreateTopic={() => {}}\n        onAlertClose={onAlertClose}\n        hasUserAlreadyClosedAlert={hasUserAlreadyClosedAlert}\n        getKafkaInstanceMetrics={getKafkaInstanceMetrics}\n        getTopicsMetrics={getTopicsMetrics}\n        getMetricsKpi={getMetricsKpi}\n      />\n    </>\n  );\n};\n","import {\n  usePaginationSearchParams,\n  useSortableSearchParams,\n  useURLSearchParamsChips,\n} from \"@rhoas/app-services-ui-components\";\nimport {\n  KafkaConsumerGroupSortableColumns,\n  useConsumerGroups,\n} from \"consoledot-api\";\nimport type { VoidFunctionComponent } from \"react\";\nimport { useCallback } from \"react\";\nimport { ConsumerGroups } from \"ui\";\nimport type { ControlPlaneNavigationProps } from \"../../control-plane/routesConsts\";\nimport { useDataPlaneGate } from \"../useDataPlaneGate\";\nimport { DataPlaneHeaderConnected } from \"./DataPlaneHeaderConnected\";\n\nexport const ConsumerGroupsRoute: VoidFunctionComponent<\n  ControlPlaneNavigationProps\n> = ({ instancesHref }) => {\n  const { instance } = useDataPlaneGate(instancesHref);\n  const { page, perPage, setPagination, setPaginationQuery } =\n    usePaginationSearchParams();\n  const resetPaginationQuery = useCallback(\n    () => setPaginationQuery(1, perPage),\n    [perPage, setPaginationQuery]\n  );\n\n  const consumerName = useURLSearchParamsChips(\n    \"consumer\",\n    resetPaginationQuery\n  );\n  const [isColumnSortable, sort, sortDirection] = useSortableSearchParams(\n    KafkaConsumerGroupSortableColumns,\n    {\n      name: \"TODO name\",\n    },\n    \"name\",\n    \"desc\"\n  );\n  const { data } = useConsumerGroups({\n    id: instance?.id,\n    adminUrl: instance?.adminUrl,\n    page,\n    perPage,\n    sort: sort!,\n    direction: sortDirection,\n    groupId: consumerName.chips[0],\n  });\n  return (\n    <>\n      <DataPlaneHeaderConnected\n        instancesHref={instancesHref}\n        activeSection={\"consumer\"}\n      />\n      <ConsumerGroups\n        consumers={data?.groups}\n        itemCount={data?.count}\n        page={page}\n        perPage={perPage}\n        consumerName={consumerName.chips}\n        isRowSelected={() => false}\n        isColumnSortable={isColumnSortable}\n        onDelete={() => {}}\n        onSearchConsumer={(value) => {\n          consumerName.clear();\n          consumerName.toggle(value);\n        }}\n        onClearAllFilters={consumerName.clear}\n        onPageChange={setPagination}\n        onRemoveConsumerChip={consumerName.clear}\n        onRemoveConsumerChips={consumerName.clear}\n        onViewPartition={() => {}}\n        onViewResetOffset={() => {}}\n      />\n    </>\n  );\n};\n","import { useTopic } from \"consoledot-api\";\nimport { useEffect } from \"react\";\nimport { useHistory, useRouteMatch } from \"react-router-dom\";\nimport type { DataPlaneTopicRouteParams } from \"./routesConsts\";\nimport { DataPlaneTopicRoutePath } from \"./routesConsts\";\nimport { useDataPlaneGate } from \"./useDataPlaneGate\";\n\nexport function useTopicGate(\n  instancesHref: string,\n  instanceDetailsHref: (id: string) => string\n) {\n  const history = useHistory();\n  const { instance } = useDataPlaneGate(instancesHref);\n  const match = useRouteMatch<DataPlaneTopicRouteParams>(\n    DataPlaneTopicRoutePath\n  );\n\n  if (!match) {\n    throw Error(\"useDataPlaneGate used outside the expected route\");\n  }\n\n  const { data: topic, isError } = useTopic({\n    id: instance.id,\n    adminUrl: instance.adminUrl,\n    topicName: match.params.topicName,\n    plan: instance.plan,\n  });\n\n  useEffect(() => {\n    if (isError) {\n      history.replace(instanceDetailsHref(instance.id));\n    }\n  }, [history, instance.id, instanceDetailsHref, instancesHref, isError]);\n\n  return { instance, topic: topic as NonNullable<typeof topic>, match };\n}\n","import type { VoidFunctionComponent } from \"react\";\nimport { useCallback } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport type { DataPlaneTopicHeaderProps } from \"ui\";\nimport { DataPlaneTopicHeader } from \"ui\";\nimport { ReadyStatuses } from \"ui-models/src/models/kafka\";\nimport { useDrawer } from \"../../control-plane\";\nimport type { DataPlaneNavigationProps } from \"../routesConsts\";\nimport { useTopicGate } from \"../useTopicGate\";\n\nexport const DataPlaneTopicHeaderConnected: VoidFunctionComponent<\n  DataPlaneNavigationProps & Pick<DataPlaneTopicHeaderProps, \"activeSection\">\n> = ({\n  instanceDetailsHref,\n  instanceTopicsHref,\n  instancesHref,\n  activeSection,\n}) => {\n  const history = useHistory();\n  const { setActiveTab, toggleExpanded } = useDrawer();\n  const {\n    instance,\n    topic,\n    match: { url },\n  } = useTopicGate(instancesHref, instanceDetailsHref);\n\n  const tabsHref = {\n    consumer: `${url}/consumer-groups`,\n    messages: `${url}/messages`,\n    properties: `${url}/properties`,\n    schemas: `${url}/schemas`,\n  };\n\n  const onDelete = useCallback(() => {\n    // TODO: unhardcode this url\n    history.push(`${instancesHref}/${instance.id}/delete`);\n  }, [history, instance, instancesHref]);\n\n  return (\n    <DataPlaneTopicHeader\n      instancesHref={instancesHref}\n      instanceName={instance.name}\n      instanceDetailHref={instanceDetailsHref(instance.id)}\n      instanceTopicsHref={instanceTopicsHref(instance.id)}\n      activeSection={activeSection}\n      topicName={topic.name}\n      tabsHref={tabsHref}\n      onDetails={() => {\n        setActiveTab(\"details\");\n        toggleExpanded(true);\n      }}\n      onConnection={() => {\n        setActiveTab(\"connections\");\n        toggleExpanded(true);\n      }}\n      canOpenConnection={\n        instance ? ReadyStatuses.includes(instance?.status) : false\n      }\n      canChangeOwner={true /* TODO */}\n      onChangeOwner={() => false /* TODO */}\n      canDelete={true /* TODO */}\n      onDelete={onDelete}\n    />\n  );\n};\n","import {\n  usePaginationSearchParams,\n  useSortableSearchParams,\n  useURLSearchParamsChips,\n} from \"@rhoas/app-services-ui-components\";\nimport {\n  KafkaConsumerGroupSortableColumns,\n  useConsumerGroups,\n} from \"consoledot-api\";\nimport type { VoidFunctionComponent } from \"react\";\nimport { useCallback } from \"react\";\nimport { ConsumerGroups } from \"ui\";\nimport type { DataPlaneNavigationProps } from \"../routesConsts\";\nimport { useTopicGate } from \"../useTopicGate\";\nimport { DataPlaneTopicHeaderConnected } from \"./DataPlaneTopicHeaderConnected\";\n\nexport const TopicConsumerGroupsRoute: VoidFunctionComponent<\n  DataPlaneNavigationProps\n> = ({ instanceDetailsHref, instanceTopicsHref, instancesHref }) => {\n  const { instance, topic } = useTopicGate(instancesHref, instanceDetailsHref);\n\n  const { page, perPage, setPagination, setPaginationQuery } =\n    usePaginationSearchParams();\n\n  const resetPaginationQuery = useCallback(\n    () => setPaginationQuery(1, perPage),\n    [perPage, setPaginationQuery]\n  );\n\n  const consumerName = useURLSearchParamsChips(\n    \"consumer\",\n    resetPaginationQuery\n  );\n  const [isColumnSortable, sort, sortDirection] = useSortableSearchParams(\n    KafkaConsumerGroupSortableColumns,\n    {\n      name: \"TODO name\",\n    },\n    \"name\",\n    \"desc\"\n  );\n\n  const { data } = useConsumerGroups({\n    id: instance?.id,\n    adminUrl: instance?.adminUrl,\n    page,\n    perPage,\n    sort: sort!,\n    direction: sortDirection,\n    groupId: consumerName.chips[0],\n    topic: topic.name,\n  });\n\n  return (\n    <>\n      <DataPlaneTopicHeaderConnected\n        instancesHref={instancesHref}\n        instanceDetailsHref={instanceDetailsHref}\n        instanceTopicsHref={instanceTopicsHref}\n        activeSection={\"consumer\"}\n      />\n      <ConsumerGroups\n        consumers={data?.groups}\n        itemCount={data?.count}\n        page={page}\n        perPage={perPage}\n        consumerName={consumerName.chips}\n        isRowSelected={() => false}\n        isColumnSortable={isColumnSortable}\n        onDelete={() => {}}\n        onSearchConsumer={(value) => {\n          consumerName.clear();\n          consumerName.toggle(value);\n        }}\n        onClearAllFilters={consumerName.clear}\n        onPageChange={setPagination}\n        onRemoveConsumerChip={consumerName.clear}\n        onRemoveConsumerChips={consumerName.clear}\n        onViewPartition={() => {}}\n        onViewResetOffset={() => {}}\n      />\n    </>\n  );\n};\n","import { useMessagesFetchQuery } from \"consoledot-api\";\nimport type { VoidFunctionComponent } from \"react\";\nimport { useCallback } from \"react\";\nimport type { KafkaMessageBrowserProps } from \"ui\";\nimport { KafkaMessageBrowser } from \"ui\";\nimport type { DataPlaneNavigationProps } from \"../routesConsts\";\nimport { useTopicGate } from \"../useTopicGate\";\nimport { DataPlaneTopicHeaderConnected } from \"./DataPlaneTopicHeaderConnected\";\n\nexport const TopicMessagesGroupsRoute: VoidFunctionComponent<\n  DataPlaneNavigationProps\n> = ({ instanceDetailsHref, instanceTopicsHref, instancesHref }) => {\n  const { instance, topic } = useTopicGate(instancesHref, instanceDetailsHref);\n  const kafkaTopicMessagesFetchQuery = useMessagesFetchQuery();\n\n  const getMessages = useCallback<KafkaMessageBrowserProps[\"getMessages\"]>(\n    async (params) => {\n      const messages = await kafkaTopicMessagesFetchQuery({\n        ...params,\n        id: instance.id,\n        adminUrl: instance.adminUrl!,\n        topicName: topic.name,\n      });\n      return {\n        messages,\n        partitions: topic.partitions.length,\n      };\n    },\n    [\n      instance.adminUrl,\n      instance.id,\n      kafkaTopicMessagesFetchQuery,\n      topic.name,\n      topic.partitions.length,\n    ]\n  );\n\n  return (\n    <>\n      <DataPlaneTopicHeaderConnected\n        instancesHref={instancesHref}\n        instanceDetailsHref={instanceDetailsHref}\n        instanceTopicsHref={instanceTopicsHref}\n        activeSection={\"messages\"}\n      />\n      <KafkaMessageBrowser getMessages={getMessages} />\n    </>\n  );\n};\n","import type { VoidFunctionComponent } from \"react\";\nimport { TopicProperties } from \"ui\";\nimport type { DataPlaneTopicNavigationProps } from \"../routesConsts\";\nimport { useTopicGate } from \"../useTopicGate\";\nimport { DataPlaneTopicHeaderConnected } from \"./DataPlaneTopicHeaderConnected\";\n\nexport const TopicPropertiesRoute: VoidFunctionComponent<\n  DataPlaneTopicNavigationProps\n> = ({\n  instanceDetailsHref,\n  instanceTopicsHref,\n  instancesHref,\n  deleteTopicHref,\n  updateTopicHref,\n}) => {\n  const { instance, topic } = useTopicGate(instancesHref, instanceDetailsHref);\n\n  return (\n    <>\n      <DataPlaneTopicHeaderConnected\n        instancesHref={instancesHref}\n        instanceDetailsHref={instanceDetailsHref}\n        instanceTopicsHref={instanceTopicsHref}\n        activeSection={\"properties\"}\n      />\n      <TopicProperties\n        topic={topic}\n        deleteTopicHref={deleteTopicHref(instance.id, topic.name)}\n        updateTopicHref={updateTopicHref(instance.id, topic.name)}\n      />\n    </>\n  );\n};\n","// @ts-nocheck\nimport { useChrome } from \"@redhat-cloud-services/frontend-components/useChrome\";\nimport { I18nProvider } from \"@rhoas/app-services-ui-components\";\nimport type { Auth, Config } from \"@rhoas/app-services-ui-shared\";\nimport { AuthContext, ConfigContext } from \"@rhoas/app-services-ui-shared\";\n/* tslint:disable */\nimport type { Registry } from \"@rhoas/registry-management-sdk\";\nimport type { ScalprumComponentProps } from \"@scalprum/react-core\";\nimport { ScalprumComponent } from \"@scalprum/react-core\";\nimport type { VoidFunctionComponent } from \"react\";\nimport type { DataPlaneNavigationProps } from \"../routesConsts\";\nimport { useTopicGate } from \"../useTopicGate\";\nimport { DataPlaneTopicHeaderConnected } from \"./DataPlaneTopicHeaderConnected\";\n\nexport const TopicSchemasRoute: VoidFunctionComponent<\n  DataPlaneNavigationProps\n> = ({ instanceDetailsHref, instanceTopicsHref, instancesHref }) => {\n  const chrome = useChrome();\n  const { topic } = useTopicGate(instancesHref, instanceDetailsHref);\n  const processor = (([_, m]: [string, { entry: string[] }]) =>\n    m.entry.map(\n      (e) => `/beta/apps/srs-ui-build${e}`\n    )) as unknown as ScalprumComponentProps[\"processor\"];\n  const processor2 = (([_, m]: [string, { entry: string[] }]) =>\n    m.entry.map(\n      (e) => `/beta/apps/sr-ui-build${e}`\n    )) as unknown as ScalprumComponentProps[\"processor\"];\n  const basename = \"/service-registry\";\n  const auth: Auth = {\n    srs: { getToken: chrome.auth.getToken },\n  };\n  const config: Config = {\n    srs: { apiBasePath: process.env.API_URL },\n  };\n  return (\n    <>\n      <DataPlaneTopicHeaderConnected\n        instancesHref={instancesHref}\n        instanceDetailsHref={instanceDetailsHref}\n        instanceTopicsHref={instanceTopicsHref}\n        activeSection={\"schemas\"}\n      />\n      <AuthContext.Provider value={auth}>\n        <ConfigContext.Provider value={config}>\n          <I18nProvider\n            lng={\"en\"}\n            resources={{\n              en: {\n                common: () =>\n                  import(\n                    \"@rhoas/app-services-ui-components/locales/en/common.json\"\n                  ),\n                \"service-registry\": () =>\n                  import(\n                    \"@rhoas/app-services-ui-components/locales/en/service-registry.json\"\n                  ),\n                srsTemporaryFixMe: () => import(\"./srs-locales.json\"),\n              },\n            }}\n            debug={true}\n          >\n            <ScalprumComponent\n              appName=\"srs\"\n              module=\"./ServiceRegistryMapping\"\n              scope=\"srs\"\n              ErrorComponent={<div>opsie</div>}\n              processor={processor}\n              basename={basename}\n              topicName={topic.name}\n              renderSchema={(registry: Registry) => {\n                debugger;\n                return (\n                  <ScalprumComponent\n                    appName=\"ar\"\n                    scope=\"ar\"\n                    ErrorComponent={<div>opsie</div>}\n                    processor={processor2}\n                    module=\"./FederatedSchemaMapping\"\n                    registry={registry}\n                    topicName={topic.name}\n                    groupId={null}\n                    version={\"latest\"}\n                    registryId={registry?.id}\n                    basename={basename}\n                  />\n                );\n              }}\n            />\n          </I18nProvider>\n        </ConfigContext.Provider>\n      </AuthContext.Provider>\n    </>\n  );\n};\n","import type { DeleteModalProps } from \"@rhoas/app-services-ui-components\";\nimport {\n  DeleteModal,\n  Trans,\n  useTranslation,\n} from \"@rhoas/app-services-ui-components\";\nimport type { VoidFunctionComponent } from \"react\";\n\nexport type DeleteKafkaTopicProps = {\n  topicName: string;\n} & Omit<\n  DeleteModalProps,\n  \"title\" | \"variant\" | \"confirmationValue\" | \"children\"\n>;\n\nexport const DeleteKafkaTopic: VoidFunctionComponent<DeleteKafkaTopicProps> = ({\n  topicName,\n  ...props\n}) => {\n  const { t } = useTranslation(\"kafka\");\n\n  return (\n    <DeleteModal\n      {...props}\n      variant={\"destructive\"}\n      title={t(\"delete_topic_title\")}\n      confirmationValue={topicName}\n    >\n      <Trans\n        ns={\"kafka\"}\n        i18nKey={\"delete_topic_message\"}\n        components={[<strong />]}\n        values={{\n          topicName,\n        }}\n      />\n    </DeleteModal>\n  );\n};\n","import { useDeleteTopicMutation } from \"consoledot-api\";\nimport type { VoidFunctionComponent } from \"react\";\nimport { useCallback } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { DeleteKafkaTopic } from \"ui/src/components/DeleteKafkaTopic\";\nimport type { DataPlaneTopicNavigationProps } from \"../routesConsts\";\nimport { useTopicGate } from \"../useTopicGate\";\n\nexport const TopicDeleteRoute: VoidFunctionComponent<\n  DataPlaneTopicNavigationProps\n> = ({ instanceDetailsHref, topicHref, instancesHref, instanceTopicsHref }) => {\n  const history = useHistory();\n\n  const { instance, topic } = useTopicGate(instancesHref, instanceDetailsHref);\n  const { mutateAsync, isLoading: isDeleting } = useDeleteTopicMutation();\n\n  const onCancel = useCallback(() => {\n    history.push(topicHref(instance.id, topic.name));\n  }, [history, instance.id, topic.name, topicHref]);\n\n  const onDelete = useCallback(() => {\n    void mutateAsync({\n      instanceId: instance.id,\n      adminUrl: instance.adminUrl!,\n      name: topic.name,\n      onError: () => {\n        // TODO: alert\n      },\n      onSuccess: () => {\n        history.replace(instanceTopicsHref(instance.id));\n      },\n    });\n  }, [mutateAsync, history, instance?.id, instancesHref]);\n\n  return (\n    <DeleteKafkaTopic\n      topicName={topic.name}\n      isModalOpen={true}\n      isDeleting={isDeleting}\n      appendTo={() =>\n        (document.getElementById(\"chrome-app-render-root\") as HTMLElement) ||\n        document.body\n      }\n      onDelete={onDelete}\n      onCancel={onCancel}\n    />\n  );\n};\n","import type { VoidFunctionComponent } from \"react\";\nimport { EditTopicProperties } from \"ui\";\nimport type { DataPlaneNavigationProps } from \"../routesConsts\";\nimport { useTopicGate } from \"../useTopicGate\";\nimport { DataPlaneTopicHeaderConnected } from \"./DataPlaneTopicHeaderConnected\";\n\nexport const TopicEditPropertiesRoute: VoidFunctionComponent<\n  DataPlaneNavigationProps\n> = ({ instanceDetailsHref, instanceTopicsHref, instancesHref }) => {\n  const { instance, topic } = useTopicGate(instancesHref, instanceDetailsHref);\n\n  return (\n    <>\n      <DataPlaneTopicHeaderConnected\n        instancesHref={instancesHref}\n        instanceDetailsHref={instanceDetailsHref}\n        instanceTopicsHref={instanceTopicsHref}\n        activeSection={\"properties\"}\n      />\n      <EditTopicProperties topic={topic} onCancel={() => {}} />\n    </>\n  );\n};\n","import { Loading } from \"@rhoas/app-services-ui-components\";\nimport type { FunctionComponent } from \"react\";\nimport type { DataPlaneNavigationProps } from \"./routesConsts\";\nimport { useTopicGate } from \"./useTopicGate\";\n\nexport const TopicGate: FunctionComponent<DataPlaneNavigationProps> = ({\n  instancesHref,\n  instanceDetailsHref,\n  children,\n}) => {\n  const { topic } = useTopicGate(instancesHref, instanceDetailsHref);\n\n  return topic ? <>{children}</> : <Loading />;\n};\n","import { InvalidObject } from \"@redhat-cloud-services/frontend-components\";\nimport type { VoidFunctionComponent } from \"react\";\nimport { Redirect, Route, Switch } from \"react-router-dom\";\nimport { ControlPlaneRouteRoot } from \"../control-plane/routesConsts\";\nimport { DataPlaneGate } from \"./DataPlaneGate\";\nimport {\n  AclsRoute,\n  ConsumerGroupsRoute,\n  DashboardRoute,\n  SettingsRoute,\n  TopicConsumerGroupsRoute,\n  TopicMessagesGroupsRoute,\n  TopicPropertiesRoute,\n  TopicSchemasRoute,\n  TopicsRoute,\n} from \"./routes\";\nimport { TopicDeleteRoute } from \"./routes/TopicDeleteRoute\";\nimport { TopicEditPropertiesRoute } from \"./routes/TopicEditPropertiesRoute\";\n\nimport { DataPlaneRoutePath } from \"./routesConsts\";\nimport { TopicGate } from \"./TopicGate\";\n\nconst instanceDetailsHref = (id: string) =>\n  `${ControlPlaneRouteRoot}/${id}/details`;\n\nconst instanceTopicsHref = (id: string) =>\n  `${ControlPlaneRouteRoot}/${id}/details/topics`;\n\nconst topicHref = (id: string, topic: string) =>\n  `${instanceDetailsHref(id)}/topics/${topic}/properties`;\n\nconst updateTopicHref = (id: string, topic: string) =>\n  `${topicHref(id, topic)}/edit`;\n\nconst deleteTopicHref = (id: string, topic: string) =>\n  `${topicHref(id, topic)}/delete`;\n\nexport const DataPlaneRoutes: VoidFunctionComponent = () => {\n  return (\n    <Route path={DataPlaneRoutePath}>\n      <DataPlaneGate instancesHref={\"/kafkas\"}>\n        <Switch>\n          <Route path={`${DataPlaneRoutePath}/dashboard`} exact>\n            <DashboardRoute instancesHref={\"/kafkas\"} />\n          </Route>\n\n          <Route path={`${DataPlaneRoutePath}/topics`} exact>\n            <TopicsRoute instancesHref={\"/kafkas\"} />\n          </Route>\n\n          <Route path={`${DataPlaneRoutePath}/consumer-groups`} exact>\n            <ConsumerGroupsRoute instancesHref={\"/kafkas\"} />\n          </Route>\n\n          <Route path={`${DataPlaneRoutePath}/acls`} exact>\n            <AclsRoute instancesHref={\"/kafkas\"} />\n          </Route>\n\n          <Route path={`${DataPlaneRoutePath}/settings`} exact>\n            <SettingsRoute instancesHref={\"/kafkas\"} />\n          </Route>\n\n          <Route path={`${DataPlaneRoutePath}/topics`} exact>\n            <TopicsRoute instancesHref={\"/kafkas\"} />\n          </Route>\n\n          <Route path={`${DataPlaneRoutePath}/topics`}>\n            <TopicGate\n              instancesHref={\"/kafkas\"}\n              instanceDetailsHref={instanceDetailsHref}\n              instanceTopicsHref={instanceTopicsHref}\n            >\n              <Switch>\n                <Route\n                  path={`${DataPlaneRoutePath}/topics/:topicName/consumer-groups`}\n                  exact\n                >\n                  <TopicConsumerGroupsRoute\n                    instancesHref={\"/kafkas\"}\n                    instanceDetailsHref={instanceDetailsHref}\n                    instanceTopicsHref={instanceTopicsHref}\n                  />\n                </Route>\n                <Route\n                  path={`${DataPlaneRoutePath}/topics/:topicName/messages`}\n                  exact\n                >\n                  <TopicMessagesGroupsRoute\n                    instancesHref={\"/kafkas\"}\n                    instanceDetailsHref={instanceDetailsHref}\n                    instanceTopicsHref={instanceTopicsHref}\n                  />\n                </Route>\n\n                <Route\n                  path={`${DataPlaneRoutePath}/topics/:topicName/properties/edit`}\n                  exact\n                >\n                  <TopicEditPropertiesRoute\n                    instancesHref={\"/kafkas\"}\n                    instanceDetailsHref={instanceDetailsHref}\n                    instanceTopicsHref={instanceTopicsHref}\n                  />\n                </Route>\n                <Route\n                  path={`${DataPlaneRoutePath}/topics/:topicName/properties`}\n                >\n                  <Route\n                    path={`${DataPlaneRoutePath}/topics/:topicName/properties/delete`}\n                  >\n                    <TopicDeleteRoute\n                      instancesHref={\"/kafkas\"}\n                      instanceDetailsHref={instanceDetailsHref}\n                      instanceTopicsHref={instanceTopicsHref}\n                      topicHref={topicHref}\n                      updateTopicHref={updateTopicHref}\n                      deleteTopicHref={deleteTopicHref}\n                    />\n                  </Route>\n                  <TopicPropertiesRoute\n                    instancesHref={\"/kafkas\"}\n                    instanceDetailsHref={instanceDetailsHref}\n                    instanceTopicsHref={instanceTopicsHref}\n                    topicHref={topicHref}\n                    updateTopicHref={updateTopicHref}\n                    deleteTopicHref={deleteTopicHref}\n                  />\n                </Route>\n                <Route\n                  path={`${DataPlaneRoutePath}/topics/:topicName/schemas`}\n                  exact\n                >\n                  <TopicSchemasRoute\n                    instancesHref={\"/kafkas\"}\n                    instanceDetailsHref={instanceDetailsHref}\n                    instanceTopicsHref={instanceTopicsHref}\n                  />\n                </Route>\n\n                <Redirect\n                  from={`${DataPlaneRoutePath}/topics/:topicName/`}\n                  to={`${DataPlaneRoutePath}/topics/:topicName/consumer-groups`}\n                  exact\n                />\n              </Switch>\n            </TopicGate>\n          </Route>\n\n          <Redirect\n            from={`${DataPlaneRoutePath}`}\n            to={`${DataPlaneRoutePath}/dashboard`}\n            exact\n          />\n\n          <Route>\n            <InvalidObject />\n          </Route>\n        </Switch>\n      </DataPlaneGate>\n    </Route>\n  );\n};\n","import type { VoidFunctionComponent } from \"react\";\nimport { KafkaPageV3 } from \"ui\";\n\nexport const OverviewRoute: VoidFunctionComponent = () => {\n  return <KafkaPageV3 />;\n};\n","import type { VoidFunctionComponent } from \"react\";\nimport { Redirect, Route, Switch } from \"react-router-dom\";\nimport { ControlPlaneRoutes, DrawerProvider } from \"./control-plane\";\nimport { DataPlaneRoutes } from \"./data-plane\";\nimport { OverviewRoute } from \"./overview\";\n\nexport const Routes: VoidFunctionComponent = () => {\n  return (\n    <Switch>\n      <Route path={\"/overview\"} exact>\n        <OverviewRoute />\n      </Route>\n      <Redirect from={\"/\"} to={\"/kafkas\"} exact />\n      <Route path={\"/kafkas\"}>\n        <DrawerProvider>\n          {/* don't move these routes around! the order is important */}\n          <ControlPlaneRoutes />\n          <DataPlaneRoutes />\n        </DrawerProvider>\n      </Route>\n      <Route path={\"\"} exact></Route>\n    </Switch>\n  );\n};\n","import NotificationsPortal from \"@redhat-cloud-services/frontend-components-notifications/NotificationPortal\";\nimport { notificationsReducer } from \"@redhat-cloud-services/frontend-components-notifications/redux\";\nimport { getRegistry } from \"@redhat-cloud-services/frontend-components-utilities/Registry\";\nimport { useChrome } from \"@redhat-cloud-services/frontend-components/useChrome\";\nimport { useTranslation } from \"@rhoas/app-services-ui-components\";\nimport { memo, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport type { Reducer } from \"redux\";\n\nimport \"./App.scss\";\n\nimport { Routes } from \"./routes/Routes\";\n\nconst App = memo(() => {\n  const history = useHistory();\n  const { updateDocumentTitle, on } = useChrome();\n\n  const { t } = useTranslation();\n  const title = t(\"kafka:rhosakTitle\");\n\n  useEffect(() => {\n    const registry = getRegistry();\n    registry.register({ notifications: notificationsReducer as Reducer });\n\n    updateDocumentTitle(title);\n\n    const unregister = on(\"APP_NAVIGATION\", (event) => {\n      console.dir(event);\n      event.navId && history.push(\"/\" + event.navId === \"/\" ? \"\" : event.navId);\n    });\n    return () => {\n      if (unregister) {\n        unregister();\n      }\n    };\n  }, [history, on, title, updateDocumentTitle]);\n\n  return (\n    <>\n      <NotificationsPortal />\n      <Routes />\n    </>\n  );\n});\n\nexport default App;\n","// @ts-nocheck\nimport { useChrome } from \"@redhat-cloud-services/frontend-components/useChrome\";\n/* tslint:disable */\nimport { AssetsContext } from \"@rhoas/app-services-ui-shared\";\nimport type { ScalprumComponentProps } from \"@scalprum/react-core\";\nimport { ScalprumComponent } from \"@scalprum/react-core\";\nimport type { VoidFunctionComponent } from \"react\";\nimport { useState } from \"react\";\n\nexport const appIdentifier = \"applicationServices\";\n\nconst basePath = \"/apps/rhoas-guides-build\";\nconst getPath = () => {\n  return basePath;\n};\n\nexport const QuickstartLoader: VoidFunctionComponent = () => {\n  const [loaded, setLoaded] = useState(false);\n  const chrome = useChrome();\n  const { quickStarts } = chrome;\n\n  const onLoad = (qs: unknown) => {\n    if (quickStarts) {\n      setLoaded(true); // unload federated module\n      quickStarts.set(appIdentifier, qs);\n    }\n  };\n\n  const processor = (([_, m]: [string, { entry: string[] }]) =>\n    m.entry.map(\n      (e) => `${basePath}${e}`\n    )) as unknown as ScalprumComponentProps[\"processor\"];\n\n  return (\n    <AssetsContext.Provider value={{ getPath }}>\n      {!loaded ? (\n        <ScalprumComponent\n          appName=\"guides\"\n          scope=\"guides\"\n          module=\"./QuickStartLoader\"\n          ErrorComponent={<div>opsie</div>}\n          processor={processor}\n          showDrafts={false}\n          onLoad={onLoad}\n        />\n      ) : null}\n    </AssetsContext.Provider>\n  );\n};\n","import { getRegistry } from '@redhat-cloud-services/frontend-components-utilities/Registry';\nimport promiseMiddleware from 'redux-promise-middleware';\nimport notificationsMiddleware from '@redhat-cloud-services/frontend-components-notifications/notificationsMiddleware';\nimport ReducerRegistry from '@redhat-cloud-services/frontend-components-utilities/ReducerRegistry';\nimport { Middleware } from 'redux';\n\nexport let registry: ReducerRegistry<any>;\n\nexport function init(...middleware: Middleware[]) {\n  registry = getRegistry({}, [\n    promiseMiddleware,\n    notificationsMiddleware({ errorDescriptionKey: ['detail', 'stack'] }),\n    ...middleware,\n  ]);\n  return registry;\n}\n","import type { Bytes, DateIsoString } from \"../types\";\n\n/**\n * All the details abut a Kafka instance.\n *\n * Unless differently specified, the values marked as accepting `undefined`\n * will come from extra API calls.\n */\nexport type Kafka = {\n  id: string;\n  name: string;\n  createdAt: DateIsoString;\n  updatedAt: DateIsoString;\n  expiryDate: DateIsoString | undefined;\n  owner: string;\n  provider: CloudProvider;\n  region: CloudRegion;\n  status: Status;\n  plan: Plan;\n  size: string | undefined;\n  ingress: number | undefined;\n  egress: number | undefined;\n  storage: Bytes | undefined;\n  maxPartitions: number | undefined;\n  connections: number | undefined;\n  connectionRate: number | undefined;\n  messageSize: Bytes | undefined;\n  billing: \"prepaid\" | MarketplaceSubscription | undefined;\n\n  version: string;\n\n  bootstrapUrl: string | undefined;\n  adminUrl: string | undefined;\n};\nexport type KafkaField = keyof Kafka;\n\n/**\n * Supported Cloud Providers. Extend this to add a new provider, then follow\n * Typescript errors to find where extra information need to be added (images,\n * translations).\n */\nexport type CloudProvider = \"aws\" | \"gcp\" | \"azure\";\n\n/**\n * A Cloud Region. Since this varies between Cloud Providers and has no extra\n * visual attached, we take its name from the API and do no further\n * transformation.\n */\nexport type CloudRegion = string;\n/**\n * Cloud provider multi availability zone\n */\nexport type AZ = \"single\" | \"multi\";\n/**\n * A number that describes how much does an instance cost to create\n */\nexport type Quota = number;\n/**\n * The capabilities of an instance, and its quota cost. Some sizes might not be\n * enabled, eg. because temporarily out of capacity\n */\nexport type Size = {\n  id: string;\n  displayName: string;\n  status: \"stable\" | \"preview\";\n  quota: Quota;\n  ingress: number;\n  egress: number;\n  storage: number;\n  connections: number;\n  connectionRate: number;\n  maxPartitions: number;\n  messageSize: number;\n  isDisabled: boolean;\n};\n/**\n * Paid for instances are `standard`, evaluation instances are `developer`.\n * `standard` instances have a `Quota` associated, and bigger sizes.\n * `developer` instances are free to be created (up to 1 per user), have a\n * single, smaller size option than `standard` ones, and they expire after a\n * few hours.\n *\n * Note: a new kind of evaluation instance is being studied. They will have a\n * long expiration period and bigger sizes.\n */\nexport type Plan = \"standard\" | \"developer\";\n/**\n * All the statuses an instance can be. If new statuses are added, ensure to\n * add them to the relevant status group (`ReadyStatuses` etc.).\n */\nexport const Statuses = [\n  \"ready\",\n  \"degraded\",\n  \"accepted\",\n  \"provisioning\",\n  \"preparing\",\n  \"deprovision\",\n  \"deleting\",\n  \"suspended\",\n  \"suspending\",\n  \"resuming\",\n] as const;\n\nexport type Status = typeof Statuses[number];\n\nexport const CreatingStatuses: readonly Status[] = [\n  \"accepted\",\n  \"provisioning\",\n  \"preparing\",\n];\nexport const ReadyStatuses: readonly Status[] = [\"ready\"];\nexport const DegradedStatuses: readonly Status[] = [\"degraded\"];\nexport const SuspendingStatuses: readonly Status[] = [\"suspending\"];\nexport const SuspendedStatuses: readonly Status[] = [\"suspended\"];\nexport const DeletingStatuses: readonly Status[] = [\"deleting\", \"deprovision\"];\nexport const ResumingStatuses: readonly Status[] = [\"resuming\"];\n\nexport const SimplifiedStatuses = {\n  creating: CreatingStatuses,\n  ready: ReadyStatuses,\n  degraded: DegradedStatuses,\n  suspended: SuspendedStatuses,\n  deleting: DeletingStatuses,\n  resuming: ResumingStatuses,\n  suspending: SuspendingStatuses,\n} as const;\nexport type SimplifiedStatus = keyof typeof SimplifiedStatuses;\n\n/**\n * A list of marketplaces where an instance can be billed to\n */\nexport type MarketPlace = CloudProvider | \"rhm\";\n/**\n * List of marketplaces where a user has some subscription\n */\nexport type MarketPlaceSubscriptions = {\n  marketplace: MarketPlace;\n  subscriptions: string[];\n};\n/**\n * A specific marketplace's subscription, assigned as billing option to an\n * instance.\n *\n * Note: the API will provide only the `subscription`; the `MarketPlace` will\n * have to be fetched querying for the `subscription`.\n */\nexport type MarketplaceSubscription = {\n  marketplace: MarketPlace;\n  subscription: string;\n};\n","import type {\n  ConsumerGroupState,\n  GroupsApi,\n  SortDirection,\n} from \"@rhoas/kafka-instance-sdk\";\nimport type { ConsumerGroup } from \"ui-models/src/models/consumer-group\";\nimport type { KafkaConsumerGroupSortableColumn } from \"../types\";\n\nexport type FetchConsumerGroupsParams = {\n  getConsumerGroups: GroupsApi[\"getConsumerGroups\"];\n  page?: number;\n  perPage?: number;\n  sort?: KafkaConsumerGroupSortableColumn;\n  direction?: SortDirection;\n  topic?: string;\n  groupId?: string;\n};\n\nexport async function fetchConsumerGroups({\n  getConsumerGroups,\n  page,\n  perPage,\n  topic,\n  groupId,\n  sort,\n  direction,\n}: FetchConsumerGroupsParams): Promise<{\n  groups: ConsumerGroup[];\n  count: number;\n}> {\n  const response = await getConsumerGroups(\n    undefined,\n    undefined,\n    perPage,\n    page,\n    topic,\n    groupId,\n    direction,\n    sort\n  );\n  const groups = (response.data.items || []).map<ConsumerGroup>((t) => ({\n    groupId: t.groupId || \"\",\n    state: stateMapping[t.state as ConsumerGroupState],\n    consumers: t.consumers,\n    activeConsumers: t.metrics?.activeConsumers,\n    laggingPartitions: t.metrics?.laggingPartitions,\n    unassignedPartitions: t.metrics?.unassignedPartitions,\n  }));\n  const count = response.data.total;\n  return { count, groups };\n}\n\nconst stateMapping: { [state in ConsumerGroupState]: ConsumerGroup[\"state\"] } =\n  {\n    DEAD: \"Dead\",\n    EMPTY: \"Empty\",\n    STABLE: \"Stable\",\n    UNKNOWN: \"Unknown\",\n    COMPLETING_REBALANCE: \"CompletingRebalance\",\n    PREPARING_REBALANCE: \"PreparingRebalance\",\n  };\n","import type { DefaultApi } from \"@rhoas/kafka-management-sdk\";\nimport type { GetKafkaInstanceMetricsResponse, TimeSeriesMetrics } from \"ui\";\nimport type { SafeRangeQuery } from \"../types\";\n\nexport type FetchKafkaMetricsProps = {\n  getMetricsByRangeQuery: DefaultApi[\"getMetricsByRangeQuery\"];\n  id: string;\n  duration: number;\n  interval: number;\n};\n\nexport async function fetchKafkaMetrics({\n  getMetricsByRangeQuery,\n  id,\n  duration,\n  interval,\n}: FetchKafkaMetricsProps): Promise<GetKafkaInstanceMetricsResponse> {\n  const response = await getMetricsByRangeQuery(id, duration, interval, [\n    \"kubelet_volume_stats_used_bytes\",\n    \"kafka_namespace:kafka_server_socket_server_metrics_connection_creation_rate:sum\",\n    \"kafka_namespace:kafka_server_socket_server_metrics_connection_count:sum\",\n  ]);\n\n  // Remove all results with no data. Not sure this can really  happen but since\n  // the types allow for undefined we need to do a bit of defensive programming.\n  const safeMetrics: SafeRangeQuery[] = (response.data.items || []).filter(\n    (m) =>\n      // defensive programming\n      !(\n        m.values &&\n        m.metric &&\n        m.metric.topic &&\n        m.metric.name &&\n        m.metric.persistentvolumeclaim &&\n        m.metric.persistentvolumeclaim.includes(\"zookeeper\")\n      )\n  ) as SafeRangeQuery[];\n\n  const usedDiskSpaceMetrics: TimeSeriesMetrics = {};\n  const connectionAttemptRateMetrics: TimeSeriesMetrics = {};\n  const clientConnectionsMetrics: TimeSeriesMetrics = {};\n\n  const connectionRateLimit = 0,\n    connectionsLimit = 0,\n    diskSpaceLimit = 0;\n\n  safeMetrics.forEach((m) => {\n    const { __name__: name } = m.metric;\n\n    function addAggregatedValuesTo(metric: TimeSeriesMetrics) {\n      m.values.forEach(\n        ({ value, timestamp }) =>\n          (metric[timestamp] = value + (metric[timestamp] || 0))\n      );\n    }\n\n    switch (name) {\n      case \"kubelet_volume_stats_used_bytes\":\n        addAggregatedValuesTo(usedDiskSpaceMetrics);\n        break;\n      case \"kafka_namespace:kafka_server_socket_server_metrics_connection_creation_rate:sum\":\n        addAggregatedValuesTo(connectionAttemptRateMetrics);\n        break;\n      case \"kafka_namespace:kafka_server_socket_server_metrics_connection_count:sum\":\n        addAggregatedValuesTo(clientConnectionsMetrics);\n        break;\n    }\n  });\n\n  return {\n    usedDiskSpaceMetrics,\n    clientConnectionsMetrics,\n    connectionAttemptRateMetrics,\n    diskSpaceLimit,\n    connectionRateLimit,\n    connectionsLimit,\n  };\n}\n","export function valuesToQuery(\n  field: string,\n  values: string[],\n  comparison: \"%\" | \"=\"\n): string | undefined {\n  return values\n    .map((v) =>\n      comparison === \"%\"\n        ? `${field} like %${v.trim()}%`\n        : `${field} = ${v.trim()}`\n    )\n    .join(\" or \");\n}\n","import type { DefaultApi, KafkaRequest } from \"@rhoas/kafka-management-sdk\";\nimport type { SimplifiedStatus } from \"ui-models/src/models/kafka\";\nimport { SimplifiedStatuses } from \"ui-models/src/models/kafka\";\nimport type { KafkaInstanceEnhanced } from \"../transformers/kafkaRequestToKafkaInstanceEnhanched\";\nimport type { KafkaInstancesSortableColumn } from \"../types\";\nimport { valuesToQuery } from \"./valuesToQuery\";\n\nconst uiColumnMapping: {\n  [key in KafkaInstancesSortableColumn]: keyof KafkaRequest;\n} = {\n  name: \"name\",\n  owner: \"owner\",\n  provider: \"cloud_provider\",\n  region: \"region\",\n  createdAt: \"created_at\",\n};\nexport type FetchKafkasParams = {\n  getKafkas: DefaultApi[\"getKafkas\"];\n  dataMapper: (data: KafkaRequest) => Promise<KafkaInstanceEnhanced>;\n  page: number;\n  perPage: number;\n  name: string[];\n  owner: string[];\n  status: SimplifiedStatus[];\n  sort: KafkaInstancesSortableColumn;\n  direction: \"asc\" | \"desc\";\n};\n\nexport async function fetchKafkas(params: FetchKafkasParams): Promise<{\n  instances: KafkaInstanceEnhanced[];\n  count: number;\n}> {\n  const {\n    name,\n    status,\n    owner,\n    sort,\n    direction,\n    page,\n    perPage,\n    dataMapper,\n    getKafkas,\n  } = params;\n  const search = filtersToSearch(name, owner, status);\n\n  const res = await getKafkas(\n    page.toString(10),\n    perPage.toString(10),\n    sort ? `${uiColumnMapping[sort]} ${direction}` : undefined,\n    search\n  );\n  const rawInstances = res.data.items;\n  const count = res.data.total;\n  const instances = await Promise.all(rawInstances.map(dataMapper));\n  return {\n    instances,\n    count,\n  };\n}\n\nexport function filtersToSearch(\n  name: string[],\n  owner: string[],\n  status: SimplifiedStatus[]\n): string {\n  const querystring = [\n    valuesToQuery(\"name\", name, \"%\"),\n    valuesToQuery(\"owner\", owner, \"%\"),\n    valuesToQuery(\n      \"status\",\n      status.flatMap((s) => SimplifiedStatuses[s]),\n      \"=\"\n    ),\n  ]\n    .filter(Boolean)\n    .map((q) => `(${q!})`)\n    .join(\" and \");\n  return querystring;\n}\n","import type { DefaultApi, InstantQuery } from \"@rhoas/kafka-management-sdk\";\nimport type { NoUndefinedField } from \"../types\";\n\nexport async function fetchKafkaKpis(\n  getMetricsByInstantQuery: DefaultApi[\"getMetricsByInstantQuery\"],\n  id: string\n) {\n  let topics = 0,\n    topicPartitions = 0,\n    consumerGroups = 0;\n\n  const response = await getMetricsByInstantQuery(id, [\n    \"kafka_topic:kafka_topic_partitions:sum\", // (Number of topic partitions)\n    \"kafka_topic:kafka_topic_partitions:count\", // (Number of topics)\n    \"consumergroup:kafka_consumergroup_members:count\", // (number of consumer groups - note that this metric will appear after a consumer group is created. There should be handled by the UI in a way that the metric isn't visible if no consumer groups are created)\n  ]);\n\n  const safeMetrics: NoUndefinedField<InstantQuery[]> = (response.data.items ||\n    []) as NoUndefinedField<InstantQuery[]>;\n\n  safeMetrics.forEach(({ metric, value }) => {\n    const { __name__: name } = metric;\n\n    switch (name) {\n      case \"kafka_topic:kafka_topic_partitions:sum\":\n        topicPartitions = value;\n        break;\n      case \"kafka_topic:kafka_topic_partitions:count\":\n        topics = value;\n        break;\n      case \"consumergroup:kafka_consumergroup_members:count\":\n        consumerGroups = value;\n        break;\n    }\n  });\n  return {\n    consumerGroups,\n    topicPartitions,\n    topics,\n  };\n}\n","import type { Topic as ApiTopic } from \"@rhoas/kafka-instance-sdk/dist/generated/model/topic\";\nimport type { Plan } from \"ui-models/src/models/kafka\";\nimport type { Topic } from \"ui-models/src/models/topic\";\nimport type {\n  TopicConfig,\n  TopicConfigField,\n} from \"ui-models/src/models/topic-config\";\nimport type { Bytes, Milliseconds } from \"ui-models/src/types\";\n\nexport const developerDefaults: TopicConfig = {\n  \"cleanup.policy\": \"delete\",\n  \"delete.retention.ms\": { type: \"ms\", value: BigInt(\"86400000\") },\n  \"max.compaction.lag.ms\": { type: \"ms\", value: BigInt(\"9223372036854775807\") },\n  \"max.message.bytes\": { type: \"bytes\", value: BigInt(\"1048588\") },\n  \"message.downconversion.enable\": true,\n  \"message.timestamp.difference.max.ms\": {\n    type: \"ms\",\n    value: BigInt(\"9223372036854775807\"),\n  },\n  \"message.timestamp.type\": \"CreateTime\",\n  \"min.compaction.lag.ms\": { type: \"ms\", value: BigInt(\"0\") },\n  \"retention.bytes\": { type: \"bytes\", value: BigInt(\"-1\") },\n  \"retention.ms\": { type: \"ms\", value: BigInt(\"604800000\") },\n  \"segment.bytes\": { type: \"bytes\", value: BigInt(\"1073741824\") },\n  \"segment.ms\": { type: \"ms\", value: BigInt(\"604800000\") },\n  \"compression.type\": \"producer\",\n  \"file.delete.delay.ms\": { type: \"ms\", value: BigInt(\"60000\") },\n  \"flush.messages\": { type: \"ms\", value: BigInt(\"9223372036854775807\") },\n  \"flush.ms\": { type: \"ms\", value: BigInt(\"9223372036854775807\") },\n  \"index.interval.bytes\": { type: \"bytes\", value: BigInt(\"4096\") },\n  \"message.format.version\": \"3.0-IV1\",\n  \"min.cleanable.dirty.ratio\": 0.5,\n  \"min.insync.replicas\": 1,\n  \"segment.index.bytes\": { type: \"bytes\", value: BigInt(\"10485760\") },\n  \"segment.jitter.ms\": { type: \"ms\", value: BigInt(\"0\") },\n  \"unclean.leader.election.enable\": false,\n  preallocate: false,\n} as const;\n\nexport const standardDefaults: TopicConfig = {\n  \"cleanup.policy\": \"delete\",\n  \"delete.retention.ms\": { type: \"ms\", value: BigInt(\"86400000\") },\n  \"max.compaction.lag.ms\": { type: \"ms\", value: BigInt(\"9223372036854775807\") },\n  \"max.message.bytes\": { type: \"bytes\", value: BigInt(\"1048588\") },\n  \"message.downconversion.enable\": true,\n  \"message.timestamp.difference.max.ms\": {\n    type: \"ms\",\n    value: BigInt(\"9223372036854775807\"),\n  },\n  \"message.timestamp.type\": \"CreateTime\",\n  \"min.compaction.lag.ms\": { type: \"ms\", value: BigInt(\"0\") },\n  \"retention.bytes\": { type: \"bytes\", value: BigInt(\"-1\") },\n  \"retention.ms\": { type: \"ms\", value: BigInt(\"604800000\") },\n  \"segment.bytes\": { type: \"bytes\", value: BigInt(\"1073741824\") },\n  \"segment.ms\": { type: \"ms\", value: BigInt(\"604800000\") },\n  \"compression.type\": \"producer\",\n  \"file.delete.delay.ms\": { type: \"ms\", value: BigInt(\"60000\") },\n  \"flush.messages\": { type: \"ms\", value: BigInt(\"9223372036854775807\") },\n  \"flush.ms\": { type: \"ms\", value: BigInt(\"9223372036854775807\") },\n  \"index.interval.bytes\": { type: \"bytes\", value: BigInt(\"4096\") },\n  \"message.format.version\": \"3.0-IV1\",\n  \"min.cleanable.dirty.ratio\": 0.5,\n  \"min.insync.replicas\": 2,\n  \"segment.index.bytes\": { type: \"bytes\", value: BigInt(\"10485760\") },\n  \"segment.jitter.ms\": { type: \"ms\", value: BigInt(\"0\") },\n  \"unclean.leader.election.enable\": false,\n  preallocate: false,\n} as const;\n\nexport function topicTransformerFactory(plan: Plan) {\n  const d = plan === \"developer\" ? developerDefaults : standardDefaults;\n\n  return function topicTransformer(t: ApiTopic): Topic {\n    const cm = Object.fromEntries<string>(\n      t.config?.map((c) => [c.key as TopicConfigField, c.value]) || []\n    );\n    const config: TopicConfig = {\n      \"cleanup.policy\": cm[\"cleanup.policy\"] as TopicConfig[\"cleanup.policy\"],\n      \"delete.retention.ms\": configValueToMilliseconds(\n        cm[\"delete.retention.ms\"],\n        d[\"delete.retention.ms\"]\n      ),\n      \"max.compaction.lag.ms\": configValueToMilliseconds(\n        cm[\"max.compaction.lag.ms\"],\n        d[\"max.compaction.lag.ms\"]\n      ),\n      \"max.message.bytes\": configValueToBytes(\n        cm[\"max.message.bytes\"],\n        d[\"max.message.bytes\"]\n      ),\n      \"message.downconversion.enable\": configValueToBoolean(\n        cm[\"message.downconversion.enable\"],\n        d[\"message.downconversion.enable\"]\n      ),\n      \"message.timestamp.difference.max.ms\": configValueToMilliseconds(\n        cm[\"message.timestamp.difference.max.ms\"],\n        d[\"message.timestamp.difference.max.ms\"]\n      ),\n      \"message.timestamp.type\": cm[\n        \"message.timestamp.type\"\n      ] as TopicConfig[\"message.timestamp.type\"],\n      \"min.compaction.lag.ms\": configValueToMilliseconds(\n        cm[\"min.compaction.lag.ms\"],\n        d[\"min.compaction.lag.ms\"]\n      ),\n      \"retention.bytes\": configValueToBytes(\n        cm[\"retention.bytes\"],\n        d[\"retention.bytes\"]\n      ),\n      \"retention.ms\": configValueToMilliseconds(\n        cm[\"retention.ms\"],\n        d[\"retention.ms\"]\n      ),\n      \"segment.bytes\": configValueToBytes(\n        cm[\"segment.bytes\"],\n        d[\"segment.bytes\"]\n      ),\n      \"segment.ms\": configValueToMilliseconds(\n        cm[\"segment.ms\"],\n        d[\"segment.ms\"]\n      ),\n      \"compression.type\": cm[\n        \"compression.type\"\n      ] as TopicConfig[\"compression.type\"],\n      \"file.delete.delay.ms\": configValueToMilliseconds(\n        cm[\"file.delete.delay.ms\"],\n        d[\"file.delete.delay.ms\"]\n      ),\n      \"flush.messages\": configValueToMilliseconds(\n        cm[\"flush.messages\"],\n        d[\"flush.messages\"]\n      ),\n      \"flush.ms\": configValueToMilliseconds(cm[\"flush.ms\"], d[\"flush.ms\"]),\n      \"follower.replication.throttled.replicas\":\n        cm[\"follower.replication.throttled.replicas\"],\n      \"index.interval.bytes\": configValueToBytes(\n        cm[\"index.interval.bytes\"],\n        d[\"index.interval.bytes\"]\n      ),\n      \"leader.replication.throttled.replicas\":\n        cm[\"leader.replication.throttled.replicas\"],\n      \"message.format.version\": cm[\"message.format.version\"],\n      \"min.cleanable.dirty.ratio\": configValueToNumber(\n        cm[\"min.cleanable.dirty.ratio\"],\n        d[\"min.cleanable.dirty.ratio\"]\n      ),\n      \"min.insync.replicas\": configValueToNumber(\n        cm[\"min.insync.replicas\"],\n        d[\"min.insync.replicas\"]\n      ),\n      \"segment.index.bytes\": configValueToBytes(\n        cm[\"segment.index.bytes\"],\n        d[\"segment.index.bytes\"]\n      ),\n      \"segment.jitter.ms\": configValueToMilliseconds(\n        cm[\"segment.jitter.ms\"],\n        d[\"segment.jitter.ms\"]\n      ),\n      \"unclean.leader.election.enable\": configValueToBoolean(\n        cm[\"unclean.leader.election.enable\"],\n        d[\"unclean.leader.election.enable\"]\n      ),\n      preallocate: configValueToBoolean(cm[\"preallocate\"], d[\"preallocate\"]),\n    };\n    return {\n      name: t.name!,\n      partitions: t.partitions || [],\n      ...config,\n    };\n  };\n}\n\nfunction configValueToMilliseconds(\n  value: string,\n  defaultIfEmpty: Milliseconds\n): Milliseconds {\n  return value && value.trim().length > 0\n    ? { type: \"ms\", value: BigInt(value.trim()) }\n    : defaultIfEmpty;\n}\n\nfunction configValueToBytes(value: string, defaultIfEmpty: Bytes): Bytes {\n  return value && value.trim().length > 0\n    ? { type: \"bytes\", value: BigInt(value.trim()) }\n    : defaultIfEmpty;\n}\n\nfunction configValueToNumber(value: string, defaultIfError: number): number {\n  return parseInt(value, 10) || defaultIfError;\n}\n\nfunction configValueToBoolean(value: string, defaultIfError: boolean): boolean {\n  try {\n    const v: unknown = JSON.parse(value);\n    if (typeof v !== \"boolean\") {\n      throw new Error(`configValueToBoolean: not a boolean [${value}]`);\n    }\n    return v;\n  } catch {\n    return defaultIfError;\n  }\n}\n","import type {\n  GetTopicsMetricsResponse,\n  PartitionBytesMetric,\n  TimeSeriesMetrics,\n} from \"@rhoas/app-services-ui-components\";\nimport type { DefaultApi } from \"@rhoas/kafka-management-sdk\";\nimport type { SafeRangeQuery } from \"../types\";\n\nexport type FetchTopicsMetricsProps = {\n  getMetricsByRangeQuery: DefaultApi[\"getMetricsByRangeQuery\"];\n  id: string;\n  duration: number;\n  interval: number;\n  selectedTopic: string | undefined;\n};\n\nexport async function fetchTopicsMetrics({\n  getMetricsByRangeQuery,\n  id,\n  duration,\n  interval,\n  selectedTopic,\n}: FetchTopicsMetricsProps): Promise<\n  Omit<GetTopicsMetricsResponse, \"kafkaTopics\">\n> {\n  const response = await getMetricsByRangeQuery(id, duration, interval, [\n    \"kafka_topic:kafka_server_brokertopicmetrics_bytes_in_total:rate5m\",\n    \"kafka_topic:kafka_server_brokertopicmetrics_bytes_out_total:rate5m\",\n    \"kafka_topic:kafka_log_log_size:sum\",\n    \"kafka_topic:kafka_server_brokertopicmetrics_messages_in_total:rate5m\",\n  ]);\n\n  // Remove all results with no data. Not sure this can really  happen but since\n  // the types allow for undefined we need to do a bit of defensive programming.\n  const safeMetrics: SafeRangeQuery[] = (response.data.items || []).filter(\n    (m) =>\n      // defensive programming\n      !(m.values && m.metric && m.metric.topic && m.metric.name)\n  ) as SafeRangeQuery[];\n\n  // Also filter for metrics about the selectedTopic, if specified\n  const filteredMetrics = safeMetrics.filter((m) =>\n    // filter for metrics for the selectedTopic, if needed\n    selectedTopic !== undefined ? m.metric?.topic === selectedTopic : true\n  );\n\n  // get the unique topics we have metrics for in the selected time range\n  const topics = Array.from(new Set(safeMetrics.map((m) => m.metric.topic)));\n\n  const bytesIncoming: TimeSeriesMetrics = {};\n  const bytesOutgoing: TimeSeriesMetrics = {};\n  const bytesPerPartition: PartitionBytesMetric = {};\n  const incomingMessageRate: TimeSeriesMetrics = {};\n\n  filteredMetrics.forEach((m) => {\n    const { __name__: name, topic } = m.metric;\n\n    function addAggregatedTotalBytesTo(metric: TimeSeriesMetrics) {\n      m.values.forEach(\n        ({ value, timestamp }) =>\n          (metric[timestamp] = value + (metric[timestamp] || 0))\n      );\n    }\n\n    function addAggregatePartitionBytes() {\n      const partition = bytesPerPartition[topic] || {};\n      m.values.forEach(\n        ({ value, timestamp }) =>\n          (partition[timestamp] = value + (partition[timestamp] || 0))\n      );\n      bytesPerPartition[topic] = partition;\n    }\n\n    switch (name) {\n      case \"kafka_topic:kafka_server_brokertopicmetrics_bytes_in_total:rate5m\":\n        addAggregatedTotalBytesTo(bytesIncoming);\n        break;\n      case \"kafka_topic:kafka_server_brokertopicmetrics_bytes_out_total:rate5m\":\n        addAggregatedTotalBytesTo(bytesOutgoing);\n        break;\n      case \"kafka_topic:kafka_log_log_size:sum\":\n        addAggregatePartitionBytes();\n        break;\n      case \"kafka_topic:kafka_server_brokertopicmetrics_messages_in_total:rate5m\":\n        addAggregatedTotalBytesTo(incomingMessageRate);\n        break;\n    }\n  });\n\n  return {\n    metricsTopics: topics,\n    bytesOutgoing,\n    bytesIncoming,\n    bytesPerPartition,\n    incomingMessageRate,\n  };\n}\n","import type { SortDirection, TopicsApi } from \"@rhoas/kafka-instance-sdk\";\nimport type { Plan } from \"ui-models/src/models/kafka\";\nimport type { Topic } from \"ui-models/src/models/topic\";\nimport { topicTransformerFactory } from \"../transformers/topicTransformer\";\nimport type { KafkaTopicsSortableColumn } from \"../types\";\n\nexport type FetchTopicsParams = {\n  getTopics: TopicsApi[\"getTopics\"];\n  page?: number;\n  perPage?: number;\n  sort?: KafkaTopicsSortableColumn;\n  direction?: SortDirection;\n  filter?: string;\n  plan: Plan;\n};\n\nexport async function fetchTopics({\n  getTopics,\n  page,\n  perPage,\n  filter,\n  sort,\n  direction,\n  plan,\n}: FetchTopicsParams): Promise<{ topics: Topic[]; count: number }> {\n  const response = await getTopics(\n    undefined,\n    undefined,\n    perPage,\n    filter,\n    page,\n    direction,\n    sort\n  );\n  const topics = (response.data.items || []).map<Topic>(\n    topicTransformerFactory(plan)\n  );\n  const count = response.data.total;\n  return { count, topics };\n}\n","import type { Size } from \"@rhoas/app-services-ui-components\";\nimport type {\n  DefaultApi,\n  SupportedKafkaSize,\n} from \"@rhoas/kafka-management-sdk\";\nimport type { Plan } from \"ui-models/src/models/kafka\";\nimport type { CloudProviderInfoWithRegionsCapacity } from \"./fetchProvidersWithRegions\";\n\nexport type SizeWithLimits = Size & { trialDurationHours: number };\n\nexport async function fetchProviderRegionSizes(\n  api: DefaultApi[\"getInstanceTypesByCloudProviderAndRegion\"],\n  providerInfo: CloudProviderInfoWithRegionsCapacity,\n  region: string,\n  instanceType: Plan\n) {\n  const regions = providerInfo.regions;\n  const regionInfo = regions.find((r) => r.id === region);\n  const availableSizes =\n    regionInfo?.capacity.flatMap((c) =>\n      c.available_sizes.map((s) => `${c.instance_type}.${s}`)\n    ) || [];\n  const sizes = await api(providerInfo.id, region);\n  if (!sizes?.data?.instance_types) {\n    throw new Error(`No instance_types from backend`);\n  }\n\n  const standardSizes =\n    sizes?.data?.instance_types.find((i) => i.id === instanceType)?.sizes || [];\n\n  return standardSizes.map(\n    apiSizeToComponentSize.bind(\n      undefined,\n      (id) => !availableSizes.includes(`${instanceType}.${id}`)\n    )\n  );\n}\n\n//\n// export async function fetchProviderRegionSizesForPlanStandard (\n//   api: DefaultApi['getInstanceTypesByCloudProviderAndRegion'], providerInfo: CloudProviderInfoWithRegionsCapacity, region: string\n// )  {\n//   return fetchProviderRegionSizes(api, providerInfo, region, \"standard\");\n// };\n//\n// export const fetchProviderRegionSizesForPlanDeveloper = (\n//   api: DefaultApi['getInstanceTypesByCloudProviderAndRegion'], providerInfo: CloudProviderInfoWithRegionsCapacity, region: string\n//\n// ) => {\n//   const { data: standardSizes, isError } = await fetchProviderRegionSizes(\n//     provider,\n//     region,\n//     \"standard\"\n//   );\n//   const { data: developerSizes } = fetchProviderRegionSizes(\n//     provider,\n//     region,\n//     \"developer\"\n//   );\n//   return useQuery({\n//     queryKey: [],\n//     queryFn: () => {\n//       return {\n//         standard:\n//           standardSizes ||\n//           ([\n//             { id: \"1\", displayName: \"1\" },\n//             { id: \"2\", displayName: \"2\" },\n//           ] as StandardSizes),\n//         trial: developerSizes![0],\n//       };\n//     },\n//     enabled: (!!standardSizes || isError) && !!developerSizes,\n//   });\n// };\n\nfunction apiSizeToComponentSize(\n  isDisabled: (id: string) => boolean,\n  apiSize: SupportedKafkaSize\n): SizeWithLimits {\n  const s = apiSize as Required<SupportedKafkaSize>;\n  return {\n    id: s.id,\n    displayName: s.display_name,\n    quota: s.quota_consumed,\n    ingress: (s.ingress_throughput_per_sec.bytes || 0) / 1048576,\n    egress: (s.egress_throughput_per_sec.bytes || 0) / 1048576,\n    storage: Math.round((s.max_data_retention_size.bytes || 0) / 1073741824),\n    connections: s.total_max_connections,\n    connectionRate: s.max_connection_attempts_per_sec,\n    maxPartitions: s.max_partitions,\n    messageSize: (s.max_message_size.bytes || 0) / 1048576,\n    status: s.maturity_status === \"stable\" ? \"stable\" : \"preview\",\n    trialDurationHours: s.lifespan_seconds ? s.lifespan_seconds / 60 / 60 : 0,\n    isDisabled: isDisabled(s.id),\n  };\n}\n","import type {\n  CloudProvider,\n  CloudProviderInfo,\n} from \"@rhoas/app-services-ui-components\";\nimport type { DefaultApi } from \"@rhoas/kafka-management-sdk\";\nimport type { Plan } from \"ui-models/src/models/kafka\";\n\nexport type CloudProviderInfoWithRegionsCapacity = Omit<\n  CloudProviderInfo,\n  \"regions\"\n> & {\n  regions: Awaited<ReturnType<typeof fetchProviderRegions>>;\n};\n\nexport async function fetchProvidersWithRegions(\n  getCloudProviders: DefaultApi[\"getCloudProviders\"],\n  getCloudProviderRegions: DefaultApi[\"getCloudProviderRegions\"],\n  plan: Plan\n) {\n  const res = await getCloudProviders();\n  const allProviders = res?.data?.items || [];\n\n  const providers = (\n    await Promise.all(\n      allProviders\n        .filter((p) => p.enabled)\n        .map(async (provider) => {\n          // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n          const regions = await fetchProviderRegions(\n            getCloudProviderRegions,\n            provider.id!,\n            plan\n          );\n          const providerInfo: CloudProviderInfoWithRegionsCapacity = {\n            id: provider.id as CloudProvider,\n            displayName: provider.display_name!,\n            regions,\n          };\n          return regions.length > 0 ? providerInfo : null;\n        })\n    )\n  ).filter((p) => Boolean(p)) as CloudProviderInfoWithRegionsCapacity[];\n  if (providers.length === 0) {\n    throw new Error(\"No cloud providers with capacity found\");\n  }\n  const firstProvider = providers[0];\n  return { providers, defaultProvider: firstProvider?.id };\n}\n\nexport async function fetchProviderRegions(\n  getCloudProviderRegions: DefaultApi[\"getCloudProviderRegions\"],\n  provider: string,\n  instanceType: Plan\n) {\n  const res = await getCloudProviderRegions(provider);\n\n  if (!res?.data?.items) {\n    return Promise.reject(\"Invalid provider\");\n  }\n\n  const regionsForInstance = res.data.items.filter(\n    (region) =>\n      region.enabled &&\n      region.capacity.some((c) => c.instance_type === instanceType)\n  );\n\n  return regionsForInstance.map((r) => {\n    const max_capacity_reached = r.capacity?.some(\n      (c) => c.instance_type === instanceType && c.available_sizes?.length === 0\n    );\n\n    return {\n      id: r.id as CloudProvider,\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      displayName: r.display_name!,\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      isDisabled: max_capacity_reached,\n      capacity: r.capacity,\n    };\n  });\n}\n","import type { QuotaCost } from \"@rhoas/account-management-sdk\";\n\nexport const standardId = \"RHOSAK\" as const;\nexport const developerId = \"RHOSAKTrial\" as const;\nexport const resourceName = \"rhosak\" as const;\n\nexport function isStandardQuota(q: QuotaCost) {\n  return q.related_resources?.find((r) => r.billing_model === \"standard\");\n}\n\nexport function isMarketplaceQuota(q: QuotaCost) {\n  return q.related_resources?.find((r) => r.billing_model === \"marketplace\");\n}\n","import type { ConfigurationParameters } from \"@rhoas/kafka-management-sdk\";\nimport { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\nimport { ReactQueryDevtools } from \"@tanstack/react-query-devtools\";\nimport { isReactQueryDevToolsEanbled } from \"local-storage-helpers\";\nimport type { FunctionComponent } from \"react\";\nimport { createContext, lazy, Suspense, useContext } from \"react\";\n\nconst ReactQueryDevtoolsProduction = lazy(() =>\n  import(\"@tanstack/react-query-devtools/build/lib/index.prod.js\").then(\n    (d) => ({\n      default: d.ReactQueryDevtools,\n    })\n  )\n);\n\ntype ApiContextProps = Pick<\n  ConfigurationParameters,\n  \"accessToken\" | \"basePath\"\n> & {\n  refetchInterval: number;\n};\n\nconst ApiContext = createContext<ApiContextProps>(null!);\n\nconst queryClient = new QueryClient();\n\nexport const ApiProvider: FunctionComponent<ApiContextProps> = ({\n  children,\n  ...context\n}) => {\n  const showDevTools = isReactQueryDevToolsEanbled();\n  return (\n    <QueryClientProvider client={queryClient}>\n      <ApiContext.Provider value={context}>\n        {children}\n        <ReactQueryDevtools initialIsOpen />\n        {showDevTools && (\n          <Suspense fallback={null}>\n            <ReactQueryDevtoolsProduction />\n          </Suspense>\n        )}\n      </ApiContext.Provider>\n    </QueryClientProvider>\n  );\n};\n\nexport function useApiConfiguration() {\n  return useContext(ApiContext);\n}\n","import type {\n  FetchConsumerGroupsParams,\n  FetchKafkaMetricsProps,\n  FetchKafkasParams,\n  FetchMessagesParams,\n  FetchTopicParams,\n  FetchTopicsMetricsProps,\n  FetchTopicsParams,\n} from \"./fetchers\";\n\nexport const masQueries = {\n  _root: () => ({ scope: \"mas\" } as const),\n  organization: () =>\n    [{ ...masQueries._root(), entity: \"organization\" }] as const,\n  quota: {\n    _root: () => ({ ...masQueries._root(), entity: \"quota\" } as const),\n    available: (params: { organization?: string }) =>\n      [\n        { ...masQueries.quota._root(), subentity: \"available\", ...params },\n      ] as const,\n    developerAvailability: () =>\n      [\n        { ...masQueries.quota._root(), subentity: \"developerAvailability\" },\n      ] as const,\n    standardAvailability: () =>\n      [\n        { ...masQueries.quota._root(), subentity: \"standardAvailability\" },\n      ] as const,\n  },\n} as const;\n\nexport const kafkaQueries = {\n  _root: () => ({ scope: \"kafka\" } as const),\n  list: (params: Omit<FetchKafkasParams, \"dataMapper\" | \"getKafkas\">) =>\n    [\n      {\n        ...kafkaQueries._root(),\n        entity: \"list\",\n      },\n      params,\n    ] as const,\n  instance: {\n    _root: ({ id, adminUrl }: { id?: string; adminUrl?: string }) =>\n      ({ ...kafkaQueries._root(), entity: \"instance\", id, adminUrl } as const),\n    details: (params: { id?: string }) =>\n      [\n        { ...kafkaQueries.instance._root(params), subentity: \"details\" },\n      ] as const,\n    topics: ({\n      id,\n      adminUrl,\n      ...params\n    }: { id?: string; adminUrl?: string } & Omit<\n      FetchTopicsParams,\n      \"getTopics\"\n    >) =>\n      [\n        {\n          ...kafkaQueries.instance._root({ id, adminUrl }),\n          subentity: \"topics\",\n        },\n        params,\n      ] as const,\n    topic: ({\n      id,\n      adminUrl,\n      topicName,\n    }: { id?: string; adminUrl?: string } & Omit<\n      FetchTopicParams,\n      \"getTopic\"\n    >) =>\n      [\n        {\n          ...kafkaQueries.instance._root({ id, adminUrl }),\n          subentity: \"topic\",\n        },\n        { topicName },\n      ] as const,\n    topicMessages: ({\n      id,\n      adminUrl,\n      topicName,\n      ...params\n    }: { id?: string; adminUrl?: string } & Omit<\n      FetchMessagesParams,\n      \"consumeRecords\"\n    >) =>\n      [\n        {\n          ...kafkaQueries.instance._root({ id, adminUrl }),\n          subentity: \"topicMessages\",\n        },\n        { topicName, ...params },\n      ] as const,\n    consumerGroups: (\n      params: { id?: string; adminUrl?: string } & Omit<\n        FetchConsumerGroupsParams,\n        \"getConsumerGroups\"\n      >\n    ) =>\n      [\n        {\n          ...kafkaQueries.instance._root(params),\n          subentity: \"consumer-groups\",\n        },\n        params,\n      ] as const,\n    metrics: {\n      _root: ({ id }: { id: string }) =>\n        ({\n          ...kafkaQueries.instance._root({ id }),\n          subentity: \"metrics\",\n          id,\n        } as const),\n      kpi: (params: { id: string }) =>\n        [{ ...kafkaQueries.instance._root(params), type: \"kpi\" }] as const,\n      instance: ({\n        id,\n        ...params\n      }: Omit<FetchKafkaMetricsProps, \"getMetricsByRangeQuery\">) =>\n        [\n          {\n            ...kafkaQueries.instance._root({ id }),\n            type: \"instance\",\n          },\n          params,\n        ] as const,\n      topic: ({\n        id,\n        ...params\n      }: Omit<FetchTopicsMetricsProps, \"getMetricsByRangeQuery\">) =>\n        [\n          {\n            ...kafkaQueries.instance._root({ id }),\n            type: \"topic\",\n          },\n          params,\n        ] as const,\n    },\n  },\n} as const;\n\nexport const providerQueries = {\n  _root: () => ({ scope: \"providers\" }),\n  list: (params: { plan?: string }) =>\n    [{ ...providerQueries._root(), entity: \"list\", ...params }] as const,\n  limits: {\n    _root: ({ provider }: { provider?: string }) =>\n      ({\n        ...providerQueries._root(),\n        entity: \"limits\",\n        provider,\n      } as const),\n    standard: ({ provider, region }: { provider?: string; region: string }) => [\n      {\n        ...providerQueries.limits._root({ provider }),\n        plan: \"standard\",\n        region,\n      },\n    ],\n    developer: ({\n      provider,\n      region,\n    }: {\n      provider?: string;\n      region: string;\n    }) => [\n      {\n        ...providerQueries.limits._root({ provider }),\n        plan: \"developer\",\n        region,\n      },\n    ],\n  },\n} as const;\n","import { AppServicesApi } from \"@rhoas/account-management-sdk\";\nimport { GroupsApi, RecordsApi, TopicsApi } from \"@rhoas/kafka-instance-sdk\";\nimport { Configuration, DefaultApi } from \"@rhoas/kafka-management-sdk\";\nimport { useCallback } from \"react\";\nimport { useApiConfiguration } from \"./ApiProvider\";\n\nexport const useApi = () => {\n  const { accessToken, basePath } = useApiConfiguration();\n  const kafkasFleet = useCallback(\n    () =>\n      new DefaultApi(\n        new Configuration({\n          accessToken,\n          basePath,\n        })\n      ),\n    [accessToken, basePath]\n  );\n  const account = useCallback(\n    () =>\n      new AppServicesApi(\n        new Configuration({\n          accessToken,\n          basePath,\n        })\n      ),\n    [accessToken, basePath]\n  );\n  const topics = useCallback(\n    (adminUrl: string) =>\n      new TopicsApi(\n        new Configuration({\n          accessToken,\n          basePath: adminUrl,\n        })\n      ),\n    [accessToken]\n  );\n  const consumerGroups = useCallback(\n    (adminUrl: string) =>\n      new GroupsApi(\n        new Configuration({\n          accessToken,\n          basePath: adminUrl,\n        })\n      ),\n    [accessToken]\n  );\n  const records = useCallback(\n    (adminUrl: string) =>\n      new RecordsApi(\n        new Configuration({\n          accessToken,\n          basePath: adminUrl,\n        })\n      ),\n    [accessToken]\n  );\n  return {\n    kafkasFleet,\n    account,\n    topics,\n    consumerGroups,\n    records,\n  };\n};\n","import type { KafkaRequest } from \"@rhoas/kafka-management-sdk\";\nimport type {\n  CloudProvider,\n  Kafka,\n  MarketPlaceSubscriptions,\n  Plan,\n  Status,\n} from \"ui-models/src/models/kafka\";\nimport type { DateIsoString } from \"../../../ui-models/src/types\";\n\nimport type { SizeWithLimits } from \"../fetchers\";\n\nexport type KafkaInstanceEnhanced = Required<Kafka> & {\n  request: KafkaRequest;\n};\n\nexport function kafkaRequestToKafkaInstanceEnhanched(\n  instance: KafkaRequest,\n  marketplaceSubscriptions: MarketPlaceSubscriptions[],\n  developerPlanInstanceLimits: SizeWithLimits[],\n  standardPlanInstanceLimits: SizeWithLimits[]\n): KafkaInstanceEnhanced {\n  const enhancedInstance: KafkaInstanceEnhanced = {\n    billing: undefined,\n    connectionRate: 0,\n    connections: 0,\n    createdAt: (instance.created_at ||\n      new Date().toISOString()) as DateIsoString,\n    egress: 0,\n    expiryDate: instance.expires_at as DateIsoString | undefined,\n    id: instance.id,\n    ingress: 0,\n    maxPartitions: 0,\n    messageSize: { type: \"bytes\", value: BigInt(0) },\n    name: instance.name || \"\",\n    owner: instance.owner || \"\",\n    plan: instance.billing_model as Plan,\n    provider: instance.cloud_provider as CloudProvider,\n    region: instance.region || \"\",\n    size: \"1\",\n    status: apiStatusToUIStatus(instance.status || \"\"),\n    storage: { type: \"bytes\", value: BigInt(0) },\n    updatedAt: (instance.updated_at ||\n      new Date().toISOString()) as DateIsoString,\n    request: instance,\n    version: instance.version || \"\",\n    bootstrapUrl: instance.bootstrap_server_host,\n    adminUrl: instance.admin_api_server_url,\n  };\n\n  // update the billing info\n  try {\n    const marketplaceForBilling = marketplaceSubscriptions.find((ms) =>\n      ms.subscriptions.find((s) => s === instance.billing_cloud_account_id)\n    )?.marketplace;\n\n    const billing: KafkaInstanceEnhanced[\"billing\"] =\n      instance.billing_model === \"standard\"\n        ? \"prepaid\"\n        : marketplaceForBilling && instance.billing_cloud_account_id\n        ? {\n            marketplace: marketplaceForBilling,\n            subscription: instance.billing_cloud_account_id,\n          }\n        : undefined;\n    enhancedInstance.billing = billing;\n  } catch (e) {\n    console.warn(\n      \"kafkaRequestToKafkaInstance\",\n      `couldn't retrieve the billing info for`,\n      instance\n    );\n  }\n\n  // update the limits\n  try {\n    const limits =\n      instance.instance_type === \"developer\"\n        ? developerPlanInstanceLimits\n        : standardPlanInstanceLimits;\n    const thisInstanceLimits = limits.find((l) => l.id === instance.size_id);\n    if (thisInstanceLimits) {\n      enhancedInstance.size = thisInstanceLimits.displayName;\n      enhancedInstance.ingress = thisInstanceLimits.ingress;\n      enhancedInstance.egress = thisInstanceLimits.egress;\n      enhancedInstance.storage = {\n        type: \"bytes\",\n        value: BigInt(instance.max_data_retention_size?.bytes || 0),\n      };\n      enhancedInstance.connections = thisInstanceLimits.connections;\n      enhancedInstance.connectionRate = thisInstanceLimits.connectionRate;\n      enhancedInstance.maxPartitions = thisInstanceLimits.maxPartitions;\n      enhancedInstance.messageSize = {\n        type: \"bytes\",\n        value: BigInt(thisInstanceLimits.messageSize),\n      };\n    }\n  } catch (e) {\n    console.warn(\n      \"kafkaRequestToKafkaInstance\",\n      `couldn't retrieve the limits info for`,\n      instance\n    );\n  }\n\n  return enhancedInstance;\n}\n\nfunction apiStatusToUIStatus(status: string): Status {\n  const mapping: { [key: string]: Status } = {\n    accepted: \"accepted\",\n    preparing: \"preparing\",\n    provisioning: \"provisioning\",\n    ready: \"ready\",\n    failed: \"degraded\",\n    deprovision: \"deprovision\",\n    deleting: \"deleting\",\n  };\n  return mapping[status] || \"degraded\";\n}\n","import type { KafkaRequest } from \"@rhoas/kafka-management-sdk\";\nimport {\n  useProviderRegionSizesFetchQuery,\n  useProvidersWithRegionsFetchQuery,\n  useStandardQuotaFetchQuery,\n} from \"../fetchQueries\";\nimport { kafkaRequestToKafkaInstanceEnhanched } from \"../transformers/kafkaRequestToKafkaInstanceEnhanched\";\n\nexport function useKafkaInstanceTransformer() {\n  const getStandardQuotaQuery = useStandardQuotaFetchQuery();\n  const getProvidersInfo = useProvidersWithRegionsFetchQuery();\n  const getProviderRegionsSizes = useProviderRegionSizesFetchQuery();\n\n  return async function kafkaInstanceTransformer(instance: KafkaRequest) {\n    const standardQuota = await getStandardQuotaQuery();\n\n    const providersInfo = await getProvidersInfo(\n      instance.billing_model !== \"standard\" ? \"developer\" : \"standard\"\n    );\n    const providerInfo = providersInfo.providers.find(\n      (p) => p.id === instance.cloud_provider\n    );\n    if (!providerInfo) {\n      return Promise.reject(\"Invalid cloud provider\");\n    }\n    const standardPlanLimitsQuery = getProviderRegionsSizes(\n      providerInfo,\n      instance.region!,\n      \"standard\"\n    );\n    const developerPlanLimitsQuery = getProviderRegionsSizes(\n      providerInfo,\n      instance.region!,\n      \"developer\"\n    );\n    const [standardPlanLimits, developerPlanLimits] = await Promise.all([\n      standardPlanLimitsQuery,\n      developerPlanLimitsQuery,\n    ]);\n    return kafkaRequestToKafkaInstanceEnhanched(\n      instance,\n      standardQuota.marketplaceSubscriptions,\n      developerPlanLimits,\n      standardPlanLimits\n    );\n  };\n}\n","import { useQuery } from \"@tanstack/react-query\";\nimport { useApiConfiguration } from \"../ApiProvider\";\nimport { kafkaQueries } from \"../queryKeys\";\nimport { useApi } from \"../useApi\";\nimport { useKafkaInstanceTransformer } from \"./useKafkaInstanceTransformer\";\n\nexport function useKafka(id: string | undefined) {\n  const { refetchInterval } = useApiConfiguration();\n  const dataMapper = useKafkaInstanceTransformer();\n  const { kafkasFleet } = useApi();\n  const api = kafkasFleet();\n\n  return useQuery({\n    enabled: Boolean(id),\n    queryKey: kafkaQueries.instance.details({ id }),\n    queryFn: async () => {\n      if (!id) {\n        return Promise.reject(\"Invalid Kafka instance id\");\n      }\n      const instance = await api.getKafkaById(id);\n      return dataMapper(instance.data);\n    },\n    refetchInterval,\n  });\n}\n","import type { KafkaRequestPayload } from \"@rhoas/kafka-management-sdk\";\nimport { APIErrorCodes, isServiceApiError } from \"@rhoas/kafka-management-sdk\";\nimport type { CreateKafkaInstanceServices } from \"ui\";\nimport { useApi } from \"../useApi\";\n\nconst ErrorCodes = {\n  /** Forbidden to perform this action*/\n  UNAUTHORIZED_USER: APIErrorCodes.ERROR_4,\n  /** Kafka cluster name is already used*/\n  DUPLICATE_INSTANCE_NAME: APIErrorCodes.ERROR_36,\n  /** The maximum number of allowed kafka instances has been reached*/\n  INTERNAL_CAPACITY_ERROR: APIErrorCodes.ERROR_24,\n  /** Insufficient quota*/\n  INSUFFICIENT_QUOTA: APIErrorCodes.ERROR_120,\n  /** Forbidden to create more instances than the maximum allowed*/\n  TRIAL_USED: APIErrorCodes.ERROR_5,\n  /** Failed to check quota*/\n  FAILED_TO_CHECK_QUOTA: APIErrorCodes.ERROR_121,\n  /** Bad request*/\n  OWNER_DOES_NOT_EXIST: APIErrorCodes.ERROR_21,\n};\n\n/**\n * Create Kafka instance hook that creates kafka instance\n * @param currentAMSPlan\n * @returns\n */\nexport const useCreateInstance =\n  (): CreateKafkaInstanceServices[\"onCreate\"] => {\n    const { kafkasFleet } = useApi();\n\n    return async (data, onSuccess, onError) => {\n      const apisService = kafkasFleet();\n\n      try {\n        const kafkaRequest = {} as KafkaRequestPayload;\n        kafkaRequest.name = data.name;\n        kafkaRequest.cloud_provider = data.provider;\n        kafkaRequest.region = data.region;\n        kafkaRequest.plan = data.plan + \".\" + data.sizeId;\n        kafkaRequest.billing_model =\n          data.billing === \"prepaid\"\n            ? \"standard\"\n            : data.billing !== undefined\n            ? \"marketplace\"\n            : null;\n        kafkaRequest.billing_cloud_account_id =\n          data.billing && data.billing !== \"prepaid\"\n            ? data.billing.subscription\n            : null;\n        await apisService.createKafka(true, kafkaRequest);\n        onSuccess();\n      } catch (error) {\n        if (isServiceApiError(error)) {\n          const { code } = error?.response?.data || {};\n\n          switch (data.plan) {\n            case \"developer\":\n              switch (code) {\n                case ErrorCodes.DUPLICATE_INSTANCE_NAME:\n                  onError(\"name-taken\");\n                  break;\n\n                // regardless of the error, let's not give too many details to trial users\n                default:\n                  onError(\"developer-unavailable\");\n                  break;\n              }\n              break;\n\n            case \"standard\":\n              switch (code) {\n                case ErrorCodes.DUPLICATE_INSTANCE_NAME:\n                  onError(\"name-taken\");\n                  break;\n\n                case ErrorCodes.INTERNAL_CAPACITY_ERROR:\n                  onError(\"region-unavailable\");\n                  break;\n\n                case ErrorCodes.INSUFFICIENT_QUOTA:\n                  onError(\"insufficient-quota\");\n                  break;\n\n                default:\n                  console.error(\n                    \"useAvailableProvidersAndDefault\",\n                    \"createKafka unknown error\",\n                    error\n                  );\n                  onError(\"unknown\");\n              }\n              break;\n          }\n        } else {\n          console.error(\n            \"useAvailableProvidersAndDefault\",\n            \"createKafka unexpected error\",\n            error\n          );\n        }\n      }\n    };\n  };\n","import { useQuery, useQueryClient } from \"@tanstack/react-query\";\nimport { useApiConfiguration } from \"../ApiProvider\";\nimport type { FetchKafkasParams } from \"../fetchers\";\nimport { fetchKafkas } from \"../fetchers\";\nimport { kafkaQueries } from \"../queryKeys\";\nimport { useApi } from \"../useApi\";\nimport { useKafkaInstanceTransformer } from \"./useKafkaInstanceTransformer\";\n\nexport function useKafkas(\n  params: Omit<FetchKafkasParams, \"dataMapper\" | \"getKafkas\">\n) {\n  const { refetchInterval } = useApiConfiguration();\n  const queryClient = useQueryClient();\n  const dataMapper = useKafkaInstanceTransformer();\n  const { kafkasFleet } = useApi();\n  const api = kafkasFleet();\n\n  return useQuery({\n    queryKey: kafkaQueries.list(params),\n    queryFn: async () => {\n      const res = await fetchKafkas({\n        getKafkas: (...args) => api.getKafkas(...args),\n        dataMapper,\n        ...params,\n      });\n      res.instances.forEach((i) =>\n        queryClient.setQueryData(kafkaQueries.instance.details({ id: i.id }), i)\n      );\n      return res;\n    },\n    refetchInterval,\n  });\n}\n","import { useQuery } from \"@tanstack/react-query\";\nimport { useApiConfiguration } from \"../ApiProvider\";\nimport type { FetchTopicParams } from \"../fetchers\";\nimport { fetchTopic } from \"../fetchers\";\nimport { kafkaQueries } from \"../queryKeys\";\nimport { useApi } from \"../useApi\";\n\nexport function useTopic(\n  params: { id?: string; adminUrl?: string } & Omit<\n    FetchTopicParams,\n    \"getTopic\"\n  >\n) {\n  const { refetchInterval } = useApiConfiguration();\n  const { topics } = useApi();\n\n  return useQuery({\n    queryKey: kafkaQueries.instance.topic(params),\n    queryFn: () => {\n      if (!params.id) {\n        return Promise.reject(\"Invalid id\");\n      }\n      if (!params.adminUrl) {\n        return Promise.reject(\"Invalid adminUrl\");\n      }\n      const api = topics(params.adminUrl);\n\n      return fetchTopic({\n        getTopic: (...args) => api.getTopic(...args),\n        ...params,\n      });\n    },\n    enabled:\n      Boolean(params.adminUrl) &&\n      Boolean(params.id) &&\n      Boolean(params.topicName),\n    refetchInterval,\n  });\n}\n","import type { TopicsApi } from \"@rhoas/kafka-instance-sdk\";\nimport type { Plan } from \"ui-models/src/models/kafka\";\nimport type { Topic } from \"ui-models/src/models/topic\";\nimport { topicTransformerFactory } from \"../transformers/topicTransformer\";\n\nexport type FetchTopicParams = {\n  getTopic: TopicsApi[\"getTopic\"];\n  topicName: string;\n  plan: Plan;\n};\n\nexport async function fetchTopic({\n  getTopic,\n  topicName,\n  plan,\n}: FetchTopicParams): Promise<Topic> {\n  const response = await getTopic(topicName);\n  return topicTransformerFactory(plan)(response.data);\n}\n","import { useQuery } from \"@tanstack/react-query\";\nimport { useApiConfiguration } from \"../ApiProvider\";\nimport type { FetchTopicsParams } from \"../fetchers\";\nimport { fetchTopics } from \"../fetchers\";\nimport { kafkaQueries } from \"../queryKeys\";\nimport { useApi } from \"../useApi\";\n\nexport function useTopics(\n  params: { id?: string; adminUrl?: string } & Omit<\n    FetchTopicsParams,\n    \"getTopics\"\n  >\n) {\n  const { refetchInterval } = useApiConfiguration();\n  const { topics } = useApi();\n\n  return useQuery({\n    queryKey: kafkaQueries.instance.topics(params),\n    queryFn: () => {\n      if (!params.id) {\n        return Promise.reject(\"Invalid id\");\n      }\n      if (!params.adminUrl) {\n        return Promise.reject(\"Invalid adminUrl\");\n      }\n      const api = topics(params.adminUrl);\n\n      return fetchTopics({\n        getTopics: (...args) => api.getTopics(...args),\n        ...params,\n      });\n    },\n    enabled: Boolean(params.adminUrl) && Boolean(params.id),\n    refetchInterval,\n  });\n}\n","import { useQuery } from \"@tanstack/react-query\";\nimport { useApiConfiguration } from \"../ApiProvider\";\nimport type { FetchConsumerGroupsParams } from \"../fetchers\";\nimport { fetchConsumerGroups } from \"../fetchers\";\nimport { kafkaQueries } from \"../queryKeys\";\nimport { useApi } from \"../useApi\";\n\nexport function useConsumerGroups(\n  params: { id?: string; adminUrl?: string } & Omit<\n    FetchConsumerGroupsParams,\n    \"getConsumerGroups\"\n  >\n) {\n  const { refetchInterval } = useApiConfiguration();\n  const { consumerGroups } = useApi();\n\n  return useQuery({\n    queryKey: kafkaQueries.instance.consumerGroups(params),\n    queryFn: () => {\n      if (!params.id) {\n        return Promise.reject(\"Invalid id\");\n      }\n      if (!params.adminUrl) {\n        return Promise.reject(\"Invalid adminUrl\");\n      }\n      const api = consumerGroups(params.adminUrl);\n\n      return fetchConsumerGroups({\n        getConsumerGroups: (...args) => api.getConsumerGroups(...args),\n        ...params,\n      });\n    },\n    enabled: Boolean(params.adminUrl) && Boolean(params.id),\n    refetchInterval,\n  });\n}\n","import { useQueryClient } from \"@tanstack/react-query\";\nimport { fetchKafkas } from \"../fetchers\";\nimport { useKafkaInstanceTransformer } from \"../queries\";\nimport { kafkaQueries, masQueries } from \"../queryKeys\";\nimport { useApi } from \"../useApi\";\n\nexport const useDeveloperInstanceAvailabilityFetchQuery = () => {\n  const queryClient = useQueryClient();\n  const { kafkasFleet } = useApi();\n  const dataMapper = useKafkaInstanceTransformer();\n\n  return (getUsername: () => Promise<string>) => {\n    const api = kafkasFleet();\n    return queryClient.fetchQuery({\n      queryKey: masQueries.quota.developerAvailability(),\n      queryFn: async () => {\n        const username = await getUsername();\n        if (!username) {\n          return Promise.reject(new Error(\"Invalid username\"));\n        }\n\n        const { instances } = await queryClient.fetchQuery({\n          queryKey: kafkaQueries.list({\n            direction: \"desc\",\n            sort: \"createdAt\",\n            name: [],\n            status: [],\n            owner: [username],\n            perPage: 1000,\n            page: 1,\n          }),\n          queryFn: () =>\n            fetchKafkas({\n              getKafkas: (...args) => api.getKafkas(...args),\n              dataMapper,\n              direction: \"desc\",\n              sort: \"createdAt\",\n              name: [],\n              status: [],\n              owner: [username],\n              perPage: 1000,\n              page: 1,\n            }),\n          staleTime: Infinity,\n        });\n\n        return instances.some((k) => k?.plan !== \"standard\") !== true;\n      },\n    });\n  };\n};\n","import { useQueryClient } from \"@tanstack/react-query\";\nimport { useKafkaInstanceTransformer } from \"../queries\";\nimport { kafkaQueries } from \"../queryKeys\";\nimport { useApi } from \"../useApi\";\n\nexport function useKafkaFetchQuery() {\n  const queryClient = useQueryClient();\n  const dataMapper = useKafkaInstanceTransformer();\n  const { kafkasFleet } = useApi();\n  return async (id: string) => {\n    const api = kafkasFleet();\n    return queryClient.fetchQuery({\n      queryKey: kafkaQueries.instance.details({ id }),\n      queryFn: async () => {\n        const instance = await api.getKafkaById(id);\n        return dataMapper(instance.data);\n      },\n    });\n  };\n}\n","import { useQueryClient } from \"@tanstack/react-query\";\nimport { fetchKafkaKpis } from \"../fetchers\";\nimport { kafkaQueries } from \"../queryKeys\";\nimport { useApi } from \"../useApi\";\n\nexport function useKafkaKpisFetchQuery() {\n  const { kafkasFleet } = useApi();\n  const queryClient = useQueryClient();\n\n  return (id: string) => {\n    const api = kafkasFleet();\n\n    return queryClient.fetchQuery({\n      queryKey: kafkaQueries.instance.metrics.kpi({ id }),\n      queryFn: async () => {\n        return fetchKafkaKpis(\n          (...args) => api.getMetricsByInstantQuery(...args),\n          id\n        );\n      },\n    });\n  };\n}\n","import { useQueryClient } from \"@tanstack/react-query\";\nimport type { FetchKafkaMetricsProps } from \"../fetchers\";\nimport { fetchKafkaMetrics } from \"../fetchers\";\nimport { kafkaQueries } from \"../queryKeys\";\nimport { useApi } from \"../useApi\";\n\nexport function useKafkaMetricsFetchQuery() {\n  const { kafkasFleet } = useApi();\n  const queryClient = useQueryClient();\n\n  return (params: Omit<FetchKafkaMetricsProps, \"getMetricsByRangeQuery\">) => {\n    const api = kafkasFleet();\n\n    return queryClient.fetchQuery({\n      queryKey: kafkaQueries.instance.metrics.instance(params),\n      queryFn: async () => {\n        return fetchKafkaMetrics({\n          getMetricsByRangeQuery: (...args) =>\n            api.getMetricsByRangeQuery(...args),\n          ...params,\n        });\n      },\n    });\n  };\n}\n","import { useQueryClient } from \"@tanstack/react-query\";\nimport type { FetchTopicsMetricsProps } from \"../fetchers\";\nimport { fetchTopicsMetrics } from \"../fetchers\";\nimport { kafkaQueries } from \"../queryKeys\";\nimport { useApi } from \"../useApi\";\n\nexport function useTopicsMetricsFetchQuery() {\n  const { kafkasFleet } = useApi();\n  const queryClient = useQueryClient();\n\n  return (params: Omit<FetchTopicsMetricsProps, \"getMetricsByRangeQuery\">) => {\n    const api = kafkasFleet();\n\n    return queryClient.fetchQuery({\n      queryKey: kafkaQueries.instance.metrics.topic(params),\n      queryFn: async () => {\n        return fetchTopicsMetrics({\n          getMetricsByRangeQuery: (...args) =>\n            api.getMetricsByRangeQuery(...args),\n          ...params,\n        });\n      },\n    });\n  };\n}\n","import { useQueryClient } from \"@tanstack/react-query\";\nimport type { FetchTopicsParams } from \"../fetchers\";\nimport { fetchTopics } from \"../fetchers\";\nimport { kafkaQueries } from \"../queryKeys\";\nimport { useApi } from \"../useApi\";\n\nexport function useTopicsFetchQuery() {\n  const { topics } = useApi();\n  const queryClient = useQueryClient();\n\n  return (\n    params: Omit<FetchTopicsParams, \"getTopics\"> & {\n      id: string;\n      adminUrl: string;\n    }\n  ) => {\n    const api = topics(params.adminUrl);\n\n    return queryClient.fetchQuery({\n      queryKey: kafkaQueries.instance.topics(params),\n      queryFn: async () => {\n        return fetchTopics({\n          getTopics: (...args) => api.getTopics(...args),\n          ...params,\n        });\n      },\n    });\n  };\n}\n","import { useQueryClient } from \"@tanstack/react-query\";\nimport type { FetchMessagesParams } from \"../fetchers\";\nimport { fetchMessages } from \"../fetchers\";\nimport { kafkaQueries } from \"../queryKeys\";\nimport { useApi } from \"../useApi\";\n\nexport function useMessagesFetchQuery() {\n  const { records } = useApi();\n  const queryClient = useQueryClient();\n\n  return (\n    params: { id: string; adminUrl: string } & Omit<\n      FetchMessagesParams,\n      \"consumeRecords\"\n    >\n  ) => {\n    const api = records(params.adminUrl);\n\n    return queryClient.fetchQuery({\n      queryKey: kafkaQueries.instance.topicMessages(params),\n      queryFn: () => {\n        if (!params.id) {\n          return Promise.reject(\"Invalid id\");\n        }\n        if (!params.adminUrl) {\n          return Promise.reject(\"Invalid adminUrl\");\n        }\n\n        return fetchMessages({\n          consumeRecords: (...args) => api.consumeRecords(...args),\n          ...params,\n        });\n      },\n    });\n  };\n}\n","import type { Record, RecordsApi } from \"@rhoas/kafka-instance-sdk\";\nimport type { Message } from \"ui-models/src/models/message\";\nimport type { DateIsoString } from \"../../../ui-models/src/types\";\n\nexport type FetchMessagesParams = {\n  consumeRecords: RecordsApi[\"consumeRecords\"];\n  topicName: string;\n  partition?: number;\n  offset?: number;\n  timestamp?: DateIsoString;\n  limit: number;\n};\n\nexport async function fetchMessages({\n  topicName,\n  consumeRecords,\n  partition,\n  offset,\n  timestamp,\n  limit,\n}: FetchMessagesParams): Promise<Message[]> {\n  const response = await consumeRecords(\n    topicName,\n    undefined,\n    limit,\n    undefined,\n    offset,\n    partition,\n    timestamp\n  );\n  return response.data.items.map((m: Record) => ({\n    partition: m.partition,\n    offset: m.offset,\n    timestamp: m.timestamp as DateIsoString,\n    key: m.key,\n    value: m.value,\n    headers: m.headers || {},\n  }));\n}\n","import { useQueryClient } from \"@tanstack/react-query\";\nimport type { Plan } from \"ui-models/src/models/kafka\";\nimport type { CloudProviderInfoWithRegionsCapacity } from \"../fetchers\";\nimport { fetchProviderRegionSizes } from \"../fetchers\";\nimport { providerQueries } from \"../queryKeys\";\nimport { useApi } from \"../useApi\";\n\nexport function useProviderRegionSizesFetchQuery() {\n  const queryClient = useQueryClient();\n  const { kafkasFleet } = useApi();\n\n  return (\n    provider: CloudProviderInfoWithRegionsCapacity,\n    region: string,\n    plan: Plan\n  ) => {\n    const kms = kafkasFleet();\n    return queryClient.fetchQuery({\n      queryKey: providerQueries.limits[\n        plan === \"standard\" ? \"standard\" : \"developer\"\n      ]({ provider: provider.id, region }),\n      queryFn: () =>\n        fetchProviderRegionSizes(\n          (...args) => kms.getInstanceTypesByCloudProviderAndRegion(...args),\n          provider,\n          region,\n          plan\n        ),\n      staleTime: Infinity,\n    });\n  };\n}\n","import { useQueryClient } from \"@tanstack/react-query\";\nimport type { Plan } from \"ui-models/src/models/kafka\";\nimport { fetchProvidersWithRegions } from \"../fetchers\";\nimport { providerQueries } from \"../queryKeys\";\nimport { useApi } from \"../useApi\";\n\nexport function useProvidersWithRegionsFetchQuery() {\n  const queryClient = useQueryClient();\n  const { kafkasFleet } = useApi();\n\n  return (plan: Plan) => {\n    const kms = kafkasFleet();\n    return queryClient.fetchQuery({\n      queryKey: providerQueries.list({ plan }),\n      queryFn: () =>\n        fetchProvidersWithRegions(\n          (...args) => kms.getCloudProviders(...args),\n          (...args) => kms.getCloudProviderRegions(...args),\n          plan\n        ),\n      staleTime: Infinity,\n    });\n  };\n}\n","import { useQueryClient } from \"@tanstack/react-query\";\nimport { fetchOrganization, fetchStandardQuota } from \"../fetchers\";\nimport { masQueries } from \"../queryKeys\";\nimport { useApi } from \"../useApi\";\n\nexport function useStandardQuotaFetchQuery(skipCache = false) {\n  const queryClient = useQueryClient();\n  const { account } = useApi();\n  const ams = account();\n\n  return async () => {\n    const organization = await queryClient.fetchQuery({\n      queryKey: masQueries.organization(),\n      queryFn: () =>\n        fetchOrganization((...args) =>\n          ams.apiAccountsMgmtV1CurrentAccountGet(...args)\n        ),\n      staleTime: Infinity,\n    });\n    if (!organization) {\n      return Promise.reject(\"Missing organization id\");\n    }\n    return queryClient.fetchQuery({\n      queryKey: masQueries.quota.available({ organization }),\n      queryFn: () =>\n        fetchStandardQuota(\n          (...args) =>\n            ams.apiAccountsMgmtV1OrganizationsOrgIdQuotaCostGet(...args),\n          organization\n        ),\n      staleTime: skipCache ? undefined : Infinity,\n    });\n  };\n}\n","import type { AppServicesApi } from \"@rhoas/account-management-sdk\";\n\nexport async function fetchOrganization(\n  api: AppServicesApi[\"apiAccountsMgmtV1CurrentAccountGet\"]\n) {\n  const account = await api();\n  const orgId = account?.data?.organization?.id;\n  return orgId;\n}\n","import type { AppServicesApi } from \"@rhoas/account-management-sdk\";\nimport type {\n  MarketPlace,\n  MarketPlaceSubscriptions,\n} from \"@rhoas/app-services-ui-components\";\nimport {\n  developerId,\n  isMarketplaceQuota,\n  isStandardQuota,\n  resourceName,\n  standardId,\n} from \"../utilsAndConstants\";\n\nexport type StandardQuota = {\n  hasTrialQuota: boolean;\n  remainingPrepaidQuota: number | undefined;\n  remainingMarketplaceQuota: number | undefined;\n  marketplaceSubscriptions: MarketPlaceSubscriptions[];\n};\nexport const fetchStandardQuota = async (\n  api: AppServicesApi[\"apiAccountsMgmtV1OrganizationsOrgIdQuotaCostGet\"],\n  organizationId: string\n) => {\n  const quotaResponse = await api(\n    organizationId,\n    undefined,\n    true,\n    undefined,\n    true\n  );\n  if (quotaResponse.status !== 200) {\n    throw new Error(quotaResponse.statusText);\n  }\n  const standardQuotas = quotaResponse.data.items?.filter((q) =>\n    q.related_resources?.find(\n      (r) => r.resource_name === resourceName && r.product === standardId\n    )\n  );\n\n  const prepaidQuota = standardQuotas?.find(isStandardQuota);\n\n  const marketplaceQuotas = standardQuotas?.some(isMarketplaceQuota)\n    ? standardQuotas?.filter(isMarketplaceQuota)\n    : undefined;\n\n  const hasTrialQuota =\n    (prepaidQuota === undefined &&\n      marketplaceQuotas === undefined &&\n      quotaResponse.data.items?.some((q) =>\n        q.related_resources?.find(\n          (r) => r.resource_name === resourceName && r.product === developerId\n        )\n      )) ||\n    false;\n\n  const remainingPrepaidQuota = prepaidQuota\n    ? prepaidQuota.allowed - prepaidQuota.consumed\n    : undefined;\n  const remainingMarketplaceQuota = marketplaceQuotas\n    ? marketplaceQuotas.reduce((agg, q) => q.allowed - q.consumed + agg, 0)\n    : undefined;\n  const unaggregatedSubscriptions = marketplaceQuotas\n    ?.filter((q) => q.cloud_accounts !== undefined)\n    .flatMap((q) => q.cloud_accounts!);\n  const subscriptionMarketplaces = Array.from(\n    new Set(\n      unaggregatedSubscriptions?.map((s) => s.cloud_provider_id as MarketPlace)\n    )\n  );\n  const marketplaceSubscriptions: MarketPlaceSubscriptions[] =\n    unaggregatedSubscriptions\n      ? subscriptionMarketplaces.map((marketplace) => ({\n          marketplace,\n          subscriptions: unaggregatedSubscriptions\n            .filter((s) => s.cloud_provider_id === marketplace)\n            .map((s) => s.cloud_account_id!),\n        }))\n      : [];\n\n  return {\n    hasTrialQuota,\n    remainingPrepaidQuota,\n    remainingMarketplaceQuota,\n    marketplaceSubscriptions,\n  };\n};\n","import type { KafkaRequestPayload } from \"@rhoas/kafka-management-sdk\";\nimport { APIErrorCodes, isServiceApiError } from \"@rhoas/kafka-management-sdk\";\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport type { CreateKafkaFormData, CreateKafkaInstanceError } from \"ui\";\nimport { kafkaQueries, masQueries } from \"../queryKeys\";\nimport { useApi } from \"../useApi\";\n\nexport function useCreateKafkaMutation() {\n  const { kafkasFleet } = useApi();\n  const queryClient = useQueryClient();\n\n  return useMutation(\n    async function kafkaCreateInstance(props: {\n      instance: CreateKafkaFormData;\n      onSuccess: () => void;\n      onError: (error: CreateKafkaInstanceError) => void;\n    }) {\n      const { instance, onSuccess, onError } = props;\n      const api = kafkasFleet();\n      const kafkaRequest: KafkaRequestPayload = {\n        name: instance.name,\n        cloud_provider: instance.provider,\n        region: instance.region,\n      };\n      kafkaRequest.plan = instance.plan + \".\" + instance.sizeId;\n      kafkaRequest.billing_model =\n        instance.billing === \"prepaid\"\n          ? \"standard\"\n          : instance.billing !== undefined\n          ? \"marketplace\"\n          : null;\n      kafkaRequest.billing_cloud_account_id =\n        instance.billing && instance.billing !== \"prepaid\"\n          ? instance.billing.subscription\n          : null;\n      try {\n        await api.createKafka(true, kafkaRequest);\n        onSuccess();\n      } catch (error) {\n        if (isServiceApiError(error)) {\n          const { code } = error?.response?.data || {};\n\n          switch (instance.plan) {\n            case \"developer\":\n              switch (code) {\n                case ErrorCodes.DUPLICATE_INSTANCE_NAME:\n                  onError(\"name-taken\");\n                  break;\n\n                // regardless of the error, let's not give too many details to trial users\n                default:\n                  onError(\"developer-unavailable\");\n                  break;\n              }\n              break;\n\n            case \"standard\":\n              switch (code) {\n                case ErrorCodes.DUPLICATE_INSTANCE_NAME:\n                  onError(\"name-taken\");\n                  break;\n\n                case ErrorCodes.INTERNAL_CAPACITY_ERROR:\n                  onError(\"region-unavailable\");\n                  break;\n\n                case ErrorCodes.INSUFFICIENT_QUOTA:\n                  onError(\"insufficient-quota\");\n                  break;\n\n                default:\n                  console.error(\n                    \"useKafkaCreateInstanceMutation\",\n                    \"createKafka unknown error\",\n                    error\n                  );\n                  onError(\"unknown\");\n              }\n              break;\n          }\n        } else {\n          console.error(\n            \"useKafkaCreateInstanceMutation\",\n            \"createKafka unexpected error\",\n            error\n          );\n          onError(\"unknown\");\n        }\n      }\n    },\n    {\n      onSuccess: () => {\n        void queryClient.invalidateQueries([kafkaQueries._root()]);\n        void queryClient.invalidateQueries([masQueries.quota._root()]);\n      },\n    }\n  );\n}\n\nconst ErrorCodes = {\n  /** Forbidden to perform this action*/\n  UNAUTHORIZED_USER: APIErrorCodes.ERROR_4,\n  /** Kafka cluster name is already used*/\n  DUPLICATE_INSTANCE_NAME: APIErrorCodes.ERROR_36,\n  /** The maximum number of allowed kafka instances has been reached*/\n  INTERNAL_CAPACITY_ERROR: APIErrorCodes.ERROR_24,\n  /** Insufficient quota*/\n  INSUFFICIENT_QUOTA: APIErrorCodes.ERROR_120,\n  /** Forbidden to create more instances than the maximum allowed*/\n  TRIAL_USED: APIErrorCodes.ERROR_5,\n  /** Failed to check quota*/\n  FAILED_TO_CHECK_QUOTA: APIErrorCodes.ERROR_121,\n  /** Bad request*/\n  OWNER_DOES_NOT_EXIST: APIErrorCodes.ERROR_21,\n} as const;\n","import { isServiceApiError } from \"@rhoas/kafka-management-sdk\";\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { kafkaQueries, masQueries } from \"../queryKeys\";\nimport { useApi } from \"../useApi\";\n\nexport function useDeleteKafkaMutation() {\n  const { kafkasFleet } = useApi();\n  const queryClient = useQueryClient();\n\n  return useMutation(\n    async function kafkaCreateInstance(props: {\n      id: string;\n      onSuccess: () => void;\n      onError: (code: string, message: string) => void;\n    }) {\n      const { id, onSuccess, onError } = props;\n      const api = kafkasFleet();\n      try {\n        await api.deleteKafkaById(id, true);\n        onSuccess();\n      } catch (error) {\n        if (isServiceApiError(error)) {\n          const message = error?.message;\n          const { code } = error?.response?.data || {};\n\n          onError(code || \"?\", message);\n        }\n      }\n    },\n    {\n      onSuccess: () => {\n        void queryClient.invalidateQueries([kafkaQueries._root()]);\n        void queryClient.invalidateQueries([masQueries.quota._root()]);\n      },\n    }\n  );\n}\n","import { isServiceApiError } from \"@rhoas/kafka-management-sdk\";\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { kafkaQueries } from \"../queryKeys\";\nimport { useApi } from \"../useApi\";\n\nexport function useDeleteTopicMutation() {\n  const { topics } = useApi();\n  const queryClient = useQueryClient();\n\n  return useMutation(\n    async function kafkaCreateInstance(props: {\n      instanceId: string;\n      adminUrl: string;\n      name: string;\n      onSuccess: () => void;\n      onError: (code: string, message: string) => void;\n    }) {\n      const { instanceId, adminUrl, name, onSuccess, onError } = props;\n      const api = topics(adminUrl);\n      try {\n        await api.deleteTopic(name);\n        onSuccess();\n      } catch (error) {\n        if (isServiceApiError(error)) {\n          const message = error?.message;\n          const { code } = error?.response?.data || {};\n\n          onError(code || \"?\", message);\n        }\n      }\n    },\n    {\n      onSuccess: (_, { adminUrl, instanceId }) => {\n        void queryClient.invalidateQueries([\n          kafkaQueries.instance._root({\n            id: instanceId,\n            adminUrl,\n          }),\n        ]);\n      },\n    }\n  );\n}\n","import type { KafkaUpdateRequest } from \"@rhoas/kafka-management-sdk\";\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { kafkaQueries } from \"../queryKeys\";\nimport { useApi } from \"../useApi\";\n\nexport function useUpdateKafkaMutation() {\n  const { kafkasFleet } = useApi();\n  const queryClient = useQueryClient();\n\n  return useMutation(\n    async function kafkaCreateInstance({\n      id,\n      updates,\n    }: {\n      id: string;\n      updates: KafkaUpdateRequest;\n    }) {\n      const api = kafkasFleet();\n      return api.updateKafkaById(id, updates);\n    },\n    {\n      onSuccess: (_, { id }) => {\n        void queryClient.invalidateQueries([\n          kafkaQueries.instance.details({ id }),\n        ]);\n      },\n    }\n  );\n}\n","import {\n  ConsumerGroupOrderKey,\n  TopicOrderKey,\n} from \"@rhoas/kafka-instance-sdk\";\nimport type { RangeQuery } from \"@rhoas/kafka-management-sdk\";\n\nexport type NoUndefinedField<T> = {\n  [P in keyof T]-?: NoUndefinedField<NonNullable<T[P]>>;\n};\n\nexport type SafeRangeQuery = NoUndefinedField<RangeQuery>;\n\nexport const KafkaInstancesSortableColumns = [\n  \"name\",\n  \"owner\",\n  \"createdAt\",\n  \"provider\",\n  \"region\",\n] as const;\n\nexport type KafkaInstancesSortableColumn =\n  typeof KafkaInstancesSortableColumns[number];\n\nexport const KafkaTopicsSortableColumns = [\n  ...Object.values(TopicOrderKey),\n] as const;\n\nexport type KafkaTopicsSortableColumn =\n  typeof KafkaTopicsSortableColumns[number];\n\nexport const KafkaConsumerGroupSortableColumns = [\n  ...Object.values(ConsumerGroupOrderKey),\n] as const;\n\nexport type KafkaConsumerGroupSortableColumn =\n  typeof KafkaConsumerGroupSortableColumns[number];\n","const REACT_QUERY_DEVTOOLS = \"mas.devtools\";\nconst METRICS_LAG_ALERT = \"mas.rhosak.metrics.lag-alert-closed\";\n\nexport function isReactQueryDevToolsEanbled() {\n  return localStorage.getItem(REACT_QUERY_DEVTOOLS) === \"true\";\n}\n\nexport function metricsIsLagAlertsDismissed() {\n  return localStorage.getItem(METRICS_LAG_ALERT) === \"true\";\n}\n\nexport function metricsDismissLagAlerts() {\n  return localStorage.setItem(METRICS_LAG_ALERT, \"true\");\n}\n","import type { FunctionComponent } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport type { State } from \"ui-models/src/models/consumer-group\";\n\nexport type ConsumerGroupStateLabelProps = {\n  state: State;\n};\n\nexport const ConsumerGroupStateLabel: FunctionComponent<\n  ConsumerGroupStateLabelProps\n> = ({ state }) => {\n  const { t } = useTranslation([\"kafka\"]);\n\n  switch (state) {\n    case \"Stable\":\n      return t(\"consumerGroup.state.stable\");\n    case \"Empty\":\n      return t(\"consumerGroup.state.empty\");\n    case \"Dead\":\n      return t(\"consumerGroup.state.dead\");\n    case \"CompletingRebalance\":\n      return t(\"consumerGroup.state.completing_rebalance\");\n    case \"PreparingRebalance\":\n      return t(\"consumerGroup.state.preparing_rebalance\");\n    case \"Unknown\":\n      return t(\"consumerGroup.state.unknown\");\n    default:\n      return null;\n  }\n};\n","import {\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateIcon,\n  EmptyStateVariant,\n  Title,\n  TitleSizes,\n} from \"@patternfly/react-core\";\nimport { CubesIcon } from \"@patternfly/react-icons\";\nimport type { FunctionComponent } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nexport const ConsumerGroupEmptyState: FunctionComponent = () => {\n  const { t } = useTranslation([\"kafka\"]);\n  return (\n    <EmptyState variant={EmptyStateVariant.large}>\n      <EmptyStateIcon icon={CubesIcon} />\n      <Title headingLevel={\"h1\"} size={TitleSizes.lg}>\n        {t(\"consumerGroup.empty_consumer_title\")}\n      </Title>\n      <EmptyStateBody>{t(\"consumerGroup.empty_consumer_body\")}</EmptyStateBody>\n    </EmptyState>\n  );\n};\n","import { PageSection } from \"@patternfly/react-core\";\nimport { TableVariant } from \"@patternfly/react-table\";\nimport type { TableViewProps } from \"@rhoas/app-services-ui-components\";\nimport {\n  EmptyStateNoResults,\n  TableView,\n} from \"@rhoas/app-services-ui-components\";\nimport { useTranslation } from \"react-i18next\";\nimport type {\n  ConsumerGroup,\n  ConsumerGroupField,\n} from \"ui-models/src/models/consumer-group\";\n\nimport { ConsumerGroupEmptyState, ConsumerGroupStateLabel } from \"./components\";\n\ntype SubUnion<T, U extends T> = U;\n\nconst Columns: SubUnion<\n  ConsumerGroupField,\n  \"groupId\" | \"activeConsumers\" | \"laggingPartitions\" | \"state\"\n>[] = [\"groupId\", \"activeConsumers\", \"laggingPartitions\", \"state\"];\n\nexport type ConsumerGroupsProps<T extends ConsumerGroup> = {\n  consumers: Array<T> | undefined;\n  onDelete: (row: T) => void;\n  onViewPartition: (row: T) => void;\n  onViewResetOffset: (row: T) => void;\n  consumerName: string[];\n  onSearchConsumer: (value: string) => void;\n  onRemoveConsumerChip: (value: string) => void;\n  onRemoveConsumerChips: () => void;\n} & Pick<\n  TableViewProps<T, typeof Columns[number]>,\n  | \"itemCount\"\n  | \"page\"\n  | \"perPage\"\n  | \"onPageChange\"\n  | \"isRowSelected\"\n  | \"isColumnSortable\"\n  | \"onClearAllFilters\"\n>;\n\nexport const ConsumerGroups = <T extends ConsumerGroup>({\n  consumers,\n  onDelete,\n  onViewPartition,\n  isColumnSortable,\n  itemCount,\n  onViewResetOffset,\n  onClearAllFilters,\n  page,\n  perPage,\n  onPageChange,\n  consumerName,\n  onSearchConsumer,\n  onRemoveConsumerChip,\n  onRemoveConsumerChips,\n}: ConsumerGroupsProps<T>) => {\n  const { t } = useTranslation(\"kafka\");\n\n  const labels: { [field in typeof Columns[number]]: string } = {\n    groupId: t(\"consumerGroup.consumer_group_id\"),\n    activeConsumers: t(\"consumerGroup.active_members\"),\n    laggingPartitions: t(\"consumerGroup.partitions_with_lag\"),\n    state: t(\"consumerGroup.state_header\"),\n  };\n\n  const isFiltered = consumerName.length > 0;\n  return (\n    <PageSection isFilled={true} hasOverflowScroll={true}>\n      <TableView\n        variant={TableVariant.compact}\n        tableOuiaId={\"card-table\"}\n        ariaLabel={t(\"consumerGroup.consumer_group_list\")}\n        data={consumers}\n        columns={Columns}\n        renderHeader={({ column, Th, key }) => (\n          <Th\n            key={key}\n            info={\n              column === \"laggingPartitions\"\n                ? {\n                    popover: (\n                      <div>\n                        {t(\"consumerGroup.partitions_with_lag_description\")}\n                      </div>\n                    ),\n                    ariaLabel: \"partitions with lag\",\n                    popoverProps: {\n                      headerContent: t(\n                        \"consumerGroup.partitions_with_lag_name\"\n                      ),\n                    },\n                  }\n                : undefined\n            }\n          >\n            {labels[column]}\n          </Th>\n        )}\n        renderCell={({ column, row, Td, key }) => {\n          return (\n            <Td key={key} dataLabel={labels[column]}>\n              {(() => {\n                switch (column) {\n                  case \"groupId\":\n                    return row.groupId;\n                  case \"activeConsumers\":\n                    return row.activeConsumers;\n                  case \"laggingPartitions\":\n                    return row.laggingPartitions;\n                  case \"state\":\n                    return <ConsumerGroupStateLabel state={row.state} />;\n                }\n              })()}\n            </Td>\n          );\n        }}\n        renderActions={({ row, ActionsColumn }) => (\n          <ActionsColumn\n            items={[\n              {\n                title: t(\"consumerGroup.view_partitions_offsets\"),\n                onClick: () => onViewPartition(row),\n              },\n              {\n                title: t(\"consumerGroup.reset_offset\"),\n                onClick: () => onViewResetOffset(row),\n              },\n              {\n                title: t(\"common:delete\"),\n                onClick: () => onDelete(row),\n              },\n            ]}\n          />\n        )}\n        isColumnSortable={isColumnSortable}\n        filters={{\n          [labels.groupId]: {\n            type: \"search\",\n            chips: consumerName,\n            onSearch: onSearchConsumer,\n            onRemoveChip: onRemoveConsumerChip,\n            onRemoveGroup: onRemoveConsumerChips,\n            validate: (value: string) => !/[\"$^<>|+%/;:,\\s*=~#()]/.test(value),\n            errorMessage: t(\"input_field_invalid_message\"),\n          },\n        }}\n        itemCount={itemCount}\n        page={page}\n        onPageChange={onPageChange}\n        perPage={perPage}\n        isFiltered={isFiltered}\n        onClearAllFilters={onClearAllFilters}\n        emptyStateNoData={<ConsumerGroupEmptyState />}\n        emptyStateNoResults={<EmptyStateNoResults />}\n      />\n    </PageSection>\n  );\n};\n","import {\n  Level,\n  LevelItem,\n  PageSection,\n  PageSectionVariants,\n  Text,\n  TextContent,\n} from \"@patternfly/react-core\";\nimport { useTranslation } from \"@rhoas/app-services-ui-components\";\nimport type { VoidFunctionComponent } from \"react\";\n\nexport const ControlPlaneHeader: VoidFunctionComponent = () => {\n  const { t } = useTranslation();\n\n  return (\n    <PageSection\n      variant={PageSectionVariants.light}\n      hasShadowBottom={true}\n      stickyOnBreakpoint={{ default: \"top\" }}\n    >\n      <Level>\n        <LevelItem>\n          <TextContent>\n            <Text component=\"h1\">{t(\"kafka:table.title\")}</Text>\n          </TextContent>\n        </LevelItem>\n      </Level>\n    </PageSection>\n  );\n};\n","import type { CloudProvider, CloudRegion } from \"ui-models/src/models/kafka\";\nimport type { CloudProviderInfo } from \"../types\";\n\nexport function onProviderChange(\n  providers: CloudProviderInfo[],\n  provider: CloudProvider\n): { provider: CloudProvider; region: CloudRegion | undefined } {\n  const selectedProvider = providers.find((p) => p.id === provider);\n  const region =\n    selectedProvider?.defaultRegion ||\n    selectedProvider?.regions.filter((r) => !!r.isDisabled === false)[0]?.id;\n  return { provider, region };\n}\n","import {\n  CloudProvider,\n  CloudRegion,\n  MarketplaceSubscription,\n  Size,\n} from \"ui-models/src/models/kafka\";\nimport { assign, createMachine, send, sendParent } from \"xstate\";\nimport {\n  CreateKafkaFormData,\n  CreateKafkaInstanceError,\n  StandardPlanInitializationData,\n  StandardSizes,\n} from \"../types\";\nimport { onProviderChange } from \"./shared\";\n\nexport type StandardPlanMachineContext = {\n  // initial data coming from the APIs\n  capabilities: StandardPlanInitializationData;\n\n  // what the user is selecting\n  form: {\n    name?: string;\n    provider?: CloudProvider;\n    region?: CloudRegion;\n    size?: Size;\n    billing?: MarketplaceSubscription | \"prepaid\";\n  };\n\n  // based on the form.provider selection\n\n  // based on the form.provider and form.region selection\n  sizes: StandardSizes | undefined;\n\n  creationError: CreateKafkaInstanceError | undefined;\n};\n\nexport const StandardPlanMachine =\n  /** @xstate-layout N4IgpgJg5mDOIC5SwC4EMB2E0CcIAUAbTAWTQGMALASwzADoA3MHagMwE8BBRta4gEb9qKDgGJEoAA4B7WCOoyMkkAA9EAZgAcARnoBOfQAYdOrQHYArABYNAJnMAaEB0Q6j++reuXL5k3bWWpY65gC+Yc6omNh4RKQUNHT05Eps1FAArqwYUPTRKJmwYuQ4YGgoYCqy8iiKykhqmjp29OYW5hpGQYG+zq4Ilvoa9KZGlh4a5joAbPqBEVHoWLgExBhkVLQMqRjpWTl5bDI4ALZMaITUEGLpYIQQAJIYvFcQ1XIKSirqCKGG9Ds+ksU1m5n0M2s1n0-UQdgmllGdjsOj8QJm7ihixA0RWcXWmySOzSGWytCOJ3Or2uYlgmQEpxEH1q9R+bmMnnMnRR9n8di0RjssIQ-MFo2sgQ81lCGjm2NxsTWCS2yV2+zJuXoxzO+TQjHJJTKFTAAGVMuRyHB4I0al8GqBfoEZlp6FpISYdBp7PprFZhaK9JDAuDproQfLlor4htEtsUiSDuStZTdfrcobypUAKI4HAnZl2tkinn0WVTFFQrS+mb+jEzehzMz84btazjCMxVbRwlxtWkw7Js63aj3J4vS7XAt1b6NR0+etaWXzPmQmsuOGmRGWfmWRchbctGYdvFKmMq4l7ftJu4PWD0DBoU4ManYSoSG2faf2poIIL15GmDo+iLkBdhGOYa4DLMUKjKCljOkYbrDFox5RgSsaqgmGpHCOt73o+YAZsaU6srObj2F45gSn4UIaDY7QaMKMouohVgzNuHhgRoOioV26HnvGl6JpqN4QHeD5PmIElgAAwpQmAwCRM4OuRrS+tRVG2PRi5MexrSojM9iIW2VgSrx+LKkSgnqgOol3lIeb6hALAXG8xrvtIn6kSpgxAm00IosiEEzDMTjriKHj1hMEIoqE1iGeYdjmaePaYUJ2FarhYn0A5MhOSwRGVEp36-J6alUfCml0b6Onhci8UGJxnoSuBGj6Ml3YYReNnXll9mOdcBW5flOByQpVQfiyyk-mVlEabR2mMXVUr0EYgo+qGQHtJYHX8VZfbCTho53mUUD1K51zucVRYHl4hg6EEPisdYTHwkYgLDNKRjsSF0I7ZEOKRnxlm9lhtl9fQp31IVE2eVNJWqXNlULTVS1QXR5iAqidgzCYApui0u0g2lPUiRDUNKGIw2DaN8m5LDIC2l+RazepyNaajTFdJ4OM8hBnRejxAMKsDZ77WDvXHZDYBnZTFMYGN9PXWRfwUWzNEcwxTEGaWvgWA9Gg+P41hE2LoPpeDUvyAAXs+E6voRys+b6gbcW7czQu4tUDA44KrZCsogfyXqm6l3VXmTVvULb9CEDIaAQAaEBKAwtCMDIADWDAixZZskxHR14TbDBxwn5IIGnMjkBU9QANpGAAuk7P6gvQNi6HY2gPVCwr2HRbS6PoVG7lYQyh111kF5lUcx6XifpiweY4DlxAoNq5w5ylE8HRldn5NHJfx-PUAVy8Vc10o9dN5NhYq9uLqBMiwEWBKneWL3vKrSEiHDOBILDOPASO9LZFwPjDZujpQq6wAuxYwoEpj+n-qMT0254KG3ig9QB4sLaS1AbbKmA1nK03GhAtwi4sYeisPMQw9hay4wML6RKhhvrgiFksTsucw6T0OtPPBhF5aK0UjfZmKtcYuh9GBQwGIUS1kNgYT6Ewfqd26Fg82pNC7ZWLrSA+giGZM28j+KiLopjbkhPrcCuhaweGgT4Ux-hZj-XYSeTqQCJaRz4WIIQhAri5F0aQ388E26NnYuCZcEEXp1VxpjAmVYqKsOBEeYWQNOHbzcRou8XifF5BfFdYRBjfjbhGFoAUZjZjLj8L3YpmM1pWHCZVGYONVH5x4XvTJSYlCEA4GaAQsBSjUCkF+YosB7hgHICgbpvTWADIMfo6apU1rWDaO6EKa0goNMqfoPQ-gbC4x9MBQUGgmnhxaRDNpmoHJgCkHwCAXAsATL6dMpQQyRljPuVMkRcNb4+UPIiYpQI9y7ngsBYU3hFlrU9GYjwIRwhJI4VvVxOD3HZTOXkC5Vzri3IgG8-pgzaQvJQPgMo6L3h5LmW4IwUxXS7i9L4KwswtAgr7m3FEQxEq6EhEc7hu9Tn8CyQQvKNM-GkoRqres3FURxPsMiIEvdAUD0XIhHG8VEKOMBnClx2D1G8LEmIZOyQCjZ2SfCzVU87L+NmOMNo7hxjlgaYbd+kT+6aWCG-XcSrOXAKTinfI6BKg+vVXtNRBd-H8hxq6aUxtfQmCkf6WU9YWhgUqiETEEQAYYBkM5a0yAjUarjMwVgnAeB8EEMIUQ-iQjhtCm1WUEofTjGFFYAw3oQj2p9NRTleUWAAEVMgyHQP4gUIxOLQh8FoX2DLwoJtLI9cFWg63TESU4tCxNU4YFxJaAAqg+Xg-A0ACEIHoryZKEBcnep0NtwQuTSIdT7ClrpQoonmC0XQa1F1qucYG5I8tYBbr1MWvdB7-FckWdCYpD1+RujHTCOqVZSwB3GMiRcwxZgerSf6wod5MhrvpIyFAlQSWfI+TNRCpY2pVhCI+jmwohg8zilRA2Y7fSocRXkAoRR8g4ZEPh-x84DBmGlPjLko8IkDAXatLoi54Sd3hPBZjWq2NZsZkekVsGvTAR8C0ICVHwoTBdKYUKLbkSsQhHJ01KY0723NeCRZnpNkmFCqEMdsaUSrWYd0LkgcTOwo-SurltkUwvis8BUY4EMQ-3cA9G9cJcYjFCmtYIQRhhzEOd55dedjm7xTLAPU5IQ0oIbBYDw4x5wojCj7Kw+lZScV8PCT0pmWlZb1JAENCUDDhOs8CYI-pwSIgabFHGHtMGpdFlwz1IlKRWf8LBOzYJHNCmWl0Nura51uu+vV7lUtpL0DAKcAZAxCP5MQEw0YhS2xoJqhOqCiUh3OmleMCEKWl0jdSSx7V4kCL0As28c1asKoa2qlrSd4J6zdG+h0MEXoTbDZSQirVe8tuBeFSzKiDYfT0UMqYkETFNkg4Mu0aY4xFxQ6ezDk1JzNsfZyUVJHKtDYjDavMKTc6vSdyYtd-2Y6jNDEMutkB2VpLmpI+rKqi0mK+E8AbX0QJWXGCStD41Qbyd4WpkQi6Dt-HaHrMubiHmTJukghuaEXhdzPo8BCFbvPcHZRVy5L7k4affJsICbQSrDBAiHlFkUXRFluk7nReYY7nQwpJwr5pG3leEJcojg7x6Kv+yCBYEEtWuT+gep4UdpupEW-l7msPfP+oCqIYLl0wuUaA9vdYta8xDJei6EYy3SKToy3OlTw98MixTBdKFAWLQbBlTK+RO9gR+NfW4vFFCOfP0Zfz9LWWGBPvjm+w7maExkG8lCCCQUtimLSkRPSl3zokNDZD7n6fVum9z7V0BxbDnBQNOdEBSEXMh8CahO4MfzoG-pNnzM5TLMhd-Yi6cyTrgR6CygoiJ7BAhQhRf5vb7wxyt4a7tANidD6bDwPrzY+wOYNiBCc4hTNiPbvppajZoZ7zFyfYQCAbL6lQUQgiGygFuztDwjdYQjiZQiigZ5vqbyn5+bn7wEMCJzZb7rNbUGIAdBeC6DcRVheiSGYFwjAh6DAgmCKJWDaA+CwFkEHz0AADufAdQuQAAYicD2n2mgD9q0HQVMLyNMDjAguFDSnoOMF7L-KoQApPr5mNt-uQZ2jgCYf2qIarBYZDgwZ6EwZ7l0HeozoqkEBYhPiflPrwY3vwVfgEZspyPZohuxN6HIQgBJmAdIdtA5tCMHkQc9rDqahDOQYvPmAEbNJYdyFyIeHYQMM2qtG2GVDaozhoZUVoXPLlgERBLFtoPfAKFCEMCJs0MMG0IlNuCGIuJ-u4elokV4QfMXktl6A0TYQlP6D4DZkBH3uBMPKqtwQkZ4XASimrsRLUdoI1J0IZBSn4HAuEZIf5C1O4EMJ3GwqUaToruHsirykmOmiaPivUAAEpgAACOmQ1AZQBGSm7eKs+WEw6+OuVe4RChro1mI6iE0a3RUsFxHSXS9IkyOK9Qd4ducJsyKmKOFiEq0wPQNglSwQowwQ0EYE-GcR3xoeZ+SRBJGAnS2Kjya6KRMeIqkWmMf4-IwOdqD0vcGJ0IkObq7Q4wXBOapxpBPK3i7S-JRJPSDygyA6q+tJfg9JY6jJ9hFUWMkIoQDEDSnJJxHhGp+JAJ5yRK1ymKgpgy22u2ZaARFgIw8IxgGmFKDgoQjKoQq0AQ9qjmwIeJeEFxaK7pdyxJ+pZJHGep7yv+CJ3yfIXgtmfeW0Y6l2iAb+Yq7QAo2y7g8IcZ-xWprplySZWKKZmZTyOUbp9uopRYzCroHgi4i4dKesIKtg6egoxSJSbU0wNZGSLpqK7ZNyyZGZpJTyA6RugZ3Q386+A+v4qIQ6r8hsVZvIU59AKK5qpgbcIZ0wqJUKsqa0bQPo7EFiEoKGixJBr2ZqfpIGgBZe3siAhgxizoY+-Ib+xSX+-i9Cam5GmmPo1UjKe+iGypYEVYJgnK2WzAlJf+Ks-yUUmyJp9Bl5saQwDYJgTCa0Y+boRyIa0S8U56NaQIZ2ORrQwwaR3oNewEz5EQQAA */\n  createMachine(\n    {\n      context: {\n        capabilities: {} as StandardPlanInitializationData,\n        sizes: undefined,\n        form: {},\n        creationError: undefined,\n      },\n      tsTypes: {} as import(\"./StandardPlanMachine.typegen\").Typegen0,\n      schema: {\n        context: {} as StandardPlanMachineContext,\n        events: {} as\n          | { type: \"fieldInvalid\" }\n          | { type: \"nameChange\"; name: string }\n          | { type: \"providerChange\"; provider: CloudProvider }\n          | { type: \"regionChange\"; region: CloudRegion }\n          | { type: \"sizeChange\"; size: Size }\n          | {\n              type: \"selectSubscription\";\n              subscription: MarketplaceSubscription;\n            }\n          | { type: \"selectPrepaid\" }\n          | { type: \"billingChange\" }\n          | { type: \"nameIsValid\" }\n          | { type: \"nameIsInvalid\" }\n          | { type: \"nameIsTaken\" }\n          | { type: \"submit\" }\n          | { type: \"create\" }\n          | { type: \"createSuccess\" }\n          | { type: \"createError\"; error: CreateKafkaInstanceError },\n        services: {} as {\n          getSizes: {\n            data: StandardSizes;\n          };\n        },\n      },\n      initial: \"verifyAvailability\",\n      id: \"standardPlanMachine\",\n      states: {\n        verifyAvailability: {\n          entry: \"setInitialContext\",\n          always: [\n            {\n              cond: \"isOverQuota\",\n              target: \"overQuota\",\n            },\n            {\n              cond: \"isInstanceUnavailable\",\n              target: \"instanceUnavailable\",\n            },\n            {\n              cond: \"isRegionsUnavailable\",\n              target: \"regionsUnavailable\",\n            },\n            {\n              target: \"configuring\",\n            },\n          ],\n        },\n        overQuota: {\n          tags: \"blocked\",\n        },\n        instanceUnavailable: {\n          tags: \"blocked\",\n        },\n        regionsUnavailable: {\n          tags: \"blocked\",\n        },\n        configuring: {\n          type: \"parallel\",\n          states: {\n            status: {\n              initial: \"unsubmitted\",\n              states: {\n                unsubmitted: {\n                  tags: \"unsubmitted\",\n                },\n                submitted: {\n                  entry: \"triggerSubmit\",\n                  tags: \"submitted\",\n                },\n              },\n              on: {\n                create: {\n                  description:\n                    \"Save is enabled all the time, if it's clicked before the form is completely filled out we should show the validation for all errored fields\",\n                  target: \".submitted\",\n                },\n              },\n            },\n            form: {\n              initial: \"invalid\",\n              states: {\n                invalid: {\n                  tags: \"formInvalid\",\n                },\n                valid: {\n                  entry: \"resetCreationErrorMessage\",\n                  tags: \"creatable\",\n                  on: {\n                    fieldInvalid: {\n                      target: \"invalid\",\n                    },\n                    submit: {\n                      target: \"saving\",\n                    },\n                  },\n                },\n                saving: {\n                  entry: [\"resetCreationErrorMessage\", \"triggerSave\"],\n                  tags: \"formSaving\",\n                  on: {\n                    createSuccess: {\n                      target: \"saved\",\n                    },\n                    createError: {\n                      actions: \"setCreationError\",\n                      target: \"invalid\",\n                    },\n                  },\n                },\n                saved: {\n                  type: \"final\",\n                },\n              },\n              on: {\n                fieldInvalid: {\n                  description:\n                    \"sent by the fields when their value change to an invalid value. This will transition the form to the invalid state, to then eventually transition to the valid state if the field state is marked as done (which means that all fields have a valid value selected)\",\n                  target: \".invalid\",\n                },\n              },\n            },\n            fields: {\n              tags: \"configurable\",\n              type: \"parallel\",\n              states: {\n                name: {\n                  initial: \"validate\",\n                  states: {\n                    empty: {\n                      tags: \"nameEmpty\",\n                    },\n                    invalid: {\n                      entry: \"fieldInvalid\",\n                      tags: \"nameInvalid\",\n                    },\n                    valid: {\n                      tags: \"nameValid\",\n                      type: \"final\",\n                    },\n                    validate: {\n                      always: [\n                        {\n                          cond: \"nameIsEmpty\",\n                          target: \"empty\",\n                        },\n                        {\n                          cond: \"nameIsValid\",\n                          target: \"valid\",\n                        },\n                        {\n                          target: \"invalid\",\n                        },\n                      ],\n                    },\n                  },\n                  on: {\n                    create: {\n                      target: \".validate\",\n                    },\n                    nameChange: {\n                      actions: \"setName\",\n                      target: \".validate\",\n                    },\n                  },\n                },\n                provider: {\n                  initial: \"validate\",\n                  states: {\n                    validate: {\n                      always: [\n                        {\n                          cond: \"providerIsValid\",\n                          target: \"valid\",\n                        },\n                        {\n                          target: \"invalid\",\n                        },\n                      ],\n                    },\n                    invalid: {\n                      entry: \"fieldInvalid\",\n                      tags: \"providerInvalid\",\n                    },\n                    valid: {\n                      tags: \"providerValid\",\n                      type: \"final\",\n                    },\n                  },\n                  on: {\n                    create: {\n                      target: \".validate\",\n                    },\n                    providerChange: {\n                      actions: \"setProvider\",\n                      cond: \"didProviderChange\",\n                      target: \".validate\",\n                    },\n                  },\n                },\n                region: {\n                  initial: \"validate\",\n                  states: {\n                    validate: {\n                      always: [\n                        {\n                          cond: \"regionIsValid\",\n                          target: \"valid\",\n                        },\n                        {\n                          target: \"invalid\",\n                        },\n                      ],\n                    },\n                    invalid: {\n                      entry: \"fieldInvalid\",\n                      tags: \"regionInvalid\",\n                    },\n                    valid: {\n                      tags: \"regionValid\",\n                      type: \"final\",\n                    },\n                  },\n                  on: {\n                    create: {\n                      target: \".validate\",\n                    },\n                    providerChange: {\n                      target: \".validate\",\n                    },\n                    regionChange: {\n                      actions: \"setRegion\",\n                      cond: \"didRegionChange\",\n                      target: \".validate\",\n                    },\n                  },\n                },\n                size: {\n                  initial: \"validate\",\n                  states: {\n                    validate: {\n                      always: [\n                        {\n                          cond: \"noProviderOrRegion\",\n                          target: \"idle\",\n                        },\n                        {\n                          cond: \"noSizes\",\n                          target: \"loading\",\n                        },\n                        {\n                          cond: \"emptySizes\",\n                          target: \"error\",\n                        },\n                        {\n                          cond: \"sizeIsDisabled\",\n                          target: \"disabled\",\n                        },\n                        {\n                          cond: \"billingRequiredButNotSelected\",\n                          target: \"waitingForQuota\",\n                        },\n                        {\n                          cond: \"sizeIsOverQuota\",\n                          target: \"overQuota\",\n                        },\n                        {\n                          target: \"valid\",\n                        },\n                      ],\n                    },\n                    idle: {\n                      entry: \"fieldInvalid\",\n                      tags: \"sizeIdle\",\n                    },\n                    disabled: {\n                      entry: \"fieldInvalid\",\n                      tags: \"sizeDisabled\",\n                    },\n                    waitingForQuota: {\n                      entry: \"fieldInvalid\",\n                      tags: \"sizeWaitingForQuota\",\n                    },\n                    overQuota: {\n                      entry: \"fieldInvalid\",\n                      tags: \"sizeOverQuota\",\n                    },\n                    valid: {\n                      tags: \"sizeValid\",\n                      type: \"final\",\n                    },\n                    error: {\n                      entry: \"fieldInvalid\",\n                      tags: \"sizeError\",\n                    },\n                    loading: {\n                      description:\n                        \"Fetch the data required to show the available sizes and limits\",\n                      invoke: {\n                        src: \"getSizes\",\n                        onDone: [\n                          {\n                            actions: \"setSizes\",\n                            target: \"validate\",\n                          },\n                        ],\n                        onError: [\n                          {\n                            target: \"error\",\n                          },\n                        ],\n                      },\n                      tags: \"sizeLoading\",\n                    },\n                  },\n                  on: {\n                    create: {\n                      target: \".validate\",\n                    },\n                    providerChange: {\n                      target: \".validate\",\n                    },\n                    regionChange: {\n                      target: \".validate\",\n                    },\n                    sizeChange: {\n                      actions: \"setSize\",\n                      cond: \"didSizeChange\",\n                      target: \".validate\",\n                    },\n                    billingChange: {\n                      target: \".validate\",\n                    },\n                  },\n                },\n                billing: {\n                  initial: \"validate\",\n                  states: {\n                    validate: {\n                      always: [\n                        {\n                          cond: \"onlyPrepaid\",\n                          target: \"prepaidOnly\",\n                        },\n                        {\n                          cond: \"singleSubscription\",\n                          target: \"singleSubscription\",\n                        },\n                        {\n                          cond: \"onlySubscriptions\",\n                          target: \"onlySubscriptions\",\n                        },\n                        {\n                          description:\n                            \"user has both prepaid and marketplace subscriptions\",\n                          target: \"prepaidAndSubscriptions\",\n                        },\n                      ],\n                    },\n                    prepaidOnly: {\n                      description:\n                        \"The user doesn't need to specify any option about the billing. The API will automatically figure out the right thing to do without giving it any information.\",\n                      tags: [\"noBilling\", \"billingValid\"],\n                      entry: \"setBillingToPrepaid\",\n                      type: \"final\",\n                    },\n                    singleSubscription: {\n                      description:\n                        \"The user doesn't need to specify any option about the billing. The API will automatically figure out the right thing to do without giving it any information.\",\n                      tags: [\"noBilling\", \"billingValid\", \"singleSubscription\"],\n                      entry: \"setBillingToSubscription\",\n                      type: \"final\",\n                    },\n                    onlySubscriptions: {\n                      description:\n                        \"More than one subscription exist. The user needs to select one to procede.\",\n                      initial: \"invalid\",\n                      type: \"final\",\n                      states: {\n                        invalid: {},\n                        valid: {\n                          entry: \"triggerBillingChange\",\n                          tags: \"billingValid\",\n                          type: \"final\",\n                        },\n                      },\n                      on: {\n                        selectSubscription: [\n                          {\n                            actions: \"setBillingToSubscription\",\n                            cond: \"matchesSelectedProviderOrRHMarketplaceAndHasQuota\",\n                            target: \".valid\",\n                          },\n                          {\n                            cond: \"noSelectedProvider\",\n                            target: \".valid\",\n                          },\n                        ],\n                      },\n                    },\n                    prepaidAndSubscriptions: {\n                      description:\n                        \"The user has both prepaid quota and one or more subscription to a marketplace. The user needs to select one to procede.\",\n                      initial: \"empty\",\n                      type: \"final\",\n                      states: {\n                        empty: {},\n                        subscription: {\n                          entry: \"triggerBillingChange\",\n                          tags: \"billingValid\",\n                          type: \"final\",\n                        },\n                        prepaid: {\n                          entry: \"triggerBillingChange\",\n                          tags: \"billingValid\",\n                          type: \"final\",\n                        },\n                      },\n                      on: {\n                        selectSubscription: [\n                          {\n                            actions: \"setBillingToSubscription\",\n                            cond: \"matchesSelectedProviderOrRHMarketplaceAndHasQuota\",\n                            target: \".subscription\",\n                          },\n                          {\n                            cond: \"noSelectedProvider\",\n                            target: \".subscription\",\n                          },\n                        ],\n                        selectPrepaid: {\n                          actions: \"setBillingToPrepaid\",\n                          cond: \"hasPrepaidQuota\",\n                          target: \".prepaid\",\n                        },\n                      },\n                    },\n                  },\n                  on: {\n                    providerChange: {\n                      actions: \"unsetSubscription\",\n                      description:\n                        \"If a new provider is selected, deselect any previously selected billing option.\",\n                      target: \".validate\",\n                    },\n                  },\n                },\n              },\n              onDone: {\n                target: \"#standardPlanMachine.configuring.form.valid\",\n              },\n            },\n          },\n          onDone: {\n            target: \"saved\",\n          },\n        },\n        saved: {\n          type: \"final\",\n        },\n      },\n    },\n    {\n      actions: {\n        setInitialContext: assign((context) => {\n          return {\n            form: {\n              ...(context.capabilities.defaultProvider\n                ? onProviderChange(\n                    context.capabilities.availableProviders,\n                    context.capabilities.defaultProvider\n                  )\n                : {}),\n            },\n          };\n        }),\n        fieldInvalid: send(\"fieldInvalid\"),\n        setName: assign((context, { name }) => {\n          if (context.creationError === \"name-taken\") {\n            return {\n              form: { ...context.form, name },\n              creationError: undefined,\n            };\n          }\n          return { form: { ...context.form, name } };\n        }),\n        setProvider: assign((context, { provider }) => {\n          return {\n            form: {\n              ...context.form,\n              ...onProviderChange(\n                context.capabilities.availableProviders,\n                provider\n              ),\n            },\n            sizes: undefined,\n          };\n        }),\n        setRegion: assign((context, { region }) => {\n          if (context.creationError === \"region-unavailable\") {\n            return {\n              form: { ...context.form, region },\n              sizes: undefined,\n              creationError: undefined,\n            };\n          }\n          return {\n            form: {\n              ...context.form,\n              region,\n            },\n            sizes: undefined,\n          };\n        }),\n        setSize: assign((context, { size }) => ({\n          form: {\n            ...context.form,\n            size,\n          },\n        })),\n        setSizes: assign((context, event) => {\n          const sizes = event.data;\n          const smallestSize = sizes.sort((a, b) => a.quota - b.quota)[0];\n          return {\n            sizes,\n            form: {\n              ...context.form,\n              size: smallestSize,\n            },\n          };\n        }),\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        resetCreationErrorMessage: assign((_context) => ({\n          creationError: undefined,\n        })),\n        setCreationError: assign((_context, { error }) => {\n          return {\n            creationError: error,\n          };\n        }),\n        triggerSave: sendParent((context) => {\n          const form = context.form as Required<typeof context.form> &\n            Pick<typeof context.form, \"billing\">;\n          const data: CreateKafkaFormData = {\n            plan: \"standard\",\n            name: form.name,\n            provider: form.provider,\n            region: form.region,\n            sizeId: form.size.id,\n            billing: form.billing,\n          };\n          return {\n            type: \"save\",\n            data,\n          };\n        }),\n        triggerSubmit: send(\"submit\"),\n        triggerBillingChange: send(\"billingChange\"),\n        setBillingToPrepaid: assign((context) => {\n          const form = { ...context.form };\n          form.billing = \"prepaid\";\n          return { form };\n        }),\n        setBillingToSubscription: assign((context, event) => {\n          const form = { ...context.form };\n          if (event.type === \"selectSubscription\") {\n            form.billing = event.subscription;\n          } else {\n            // single subscription, take it from the context\n            const ms = context.capabilities.marketplaceSubscriptions[0];\n            form.billing = {\n              marketplace: ms.marketplace,\n              subscription: ms.subscriptions[0],\n            };\n          }\n          return { form };\n        }),\n        unsetSubscription: assign((context) => {\n          const form = { ...context.form };\n          form.billing = undefined;\n          return { form };\n        }),\n      },\n      guards: {\n        isOverQuota: ({ capabilities }) =>\n          capabilities === undefined ||\n          capabilities.instanceAvailability === \"out-of-quota\",\n        isInstanceUnavailable: ({ capabilities }) =>\n          capabilities === undefined ||\n          capabilities.instanceAvailability === \"instance-unavailable\",\n        isRegionsUnavailable: ({ capabilities }) =>\n          capabilities === undefined ||\n          capabilities.instanceAvailability === \"regions-unavailable\",\n        nameIsEmpty: ({ form }) =>\n          form.name === undefined || form.name.length === 0,\n        nameIsValid: ({ form }) =>\n          /^[a-z]([-a-z0-9]*[a-z0-9])?$/.test(form.name || \"\"),\n        providerIsValid: ({ form, capabilities }) => {\n          const selectedProviderInfo = capabilities?.availableProviders.find(\n            (p) => p.id === form.provider\n          );\n          return (\n            // must have loaded a list of providers\n            (capabilities?.availableProviders || []).length > 0 &&\n            // must have selected a provider\n            selectedProviderInfo !== undefined\n          );\n        },\n        regionIsValid: ({ form, capabilities }) => {\n          const selectedProviderInfo = capabilities?.availableProviders.find(\n            (p) => p.id === form.provider\n          );\n          return (\n            // must have selected a region\n            form.region !== undefined &&\n            // the region must be included in the capabilities for the provider\n            selectedProviderInfo?.regions.find((r) => r.id === form.region) !==\n              undefined\n          );\n        },\n        noProviderOrRegion: ({ form }) =>\n          form.provider === undefined || form.region === undefined,\n        noSizes: ({ sizes }) => sizes === undefined,\n        emptySizes: ({ sizes }) => sizes !== undefined && sizes.length === 0,\n        sizeIsDisabled: ({ form, capabilities }) => {\n          if (capabilities === undefined) return true;\n          return form.size?.isDisabled === true;\n        },\n        billingRequiredButNotSelected: ({ form }, _, meta) => {\n          if (meta.state.hasTag(\"noBilling\")) {\n            return false;\n          }\n          return form.billing === undefined;\n        },\n        sizeIsOverQuota: ({ form, capabilities }) => {\n          if (capabilities === undefined || !form.size) return true;\n          const availableQuota =\n            form.billing === \"prepaid\" || form.billing === undefined\n              ? capabilities.remainingPrepaidQuota\n              : capabilities.remainingMarketplaceQuota;\n          if (!availableQuota) return true;\n          return form.size.quota > availableQuota;\n        },\n        didProviderChange: (context, event) =>\n          context.form.provider !== event.provider,\n        didRegionChange: (context, event) =>\n          context.form.region !== event.region,\n        didSizeChange: (context, event) =>\n          context.form.size?.id !== event.size.id,\n        onlyPrepaid: (context) =>\n          context.capabilities.marketplaceSubscriptions.length === 0,\n        singleSubscription: (context) =>\n          context.capabilities.remainingPrepaidQuota === undefined &&\n          context.capabilities.marketplaceSubscriptions.flatMap(\n            (m) => m.subscriptions\n          ).length === 1,\n        onlySubscriptions: (context) =>\n          context.capabilities.remainingPrepaidQuota === undefined &&\n          context.capabilities.marketplaceSubscriptions.length > 0,\n        matchesSelectedProviderOrRHMarketplaceAndHasQuota: (\n          { form, capabilities },\n          { subscription }\n        ) =>\n          capabilities.remainingMarketplaceQuota !== undefined &&\n          capabilities.remainingMarketplaceQuota > 0 &&\n          (subscription.marketplace === \"rhm\" ||\n            form.provider === subscription.marketplace),\n        hasPrepaidQuota: (context) =>\n          context.capabilities.remainingPrepaidQuota !== undefined &&\n          context.capabilities.remainingPrepaidQuota > 0,\n        noSelectedProvider: ({ form }) => form.provider === undefined,\n      },\n    }\n  );\n","import { CloudProvider, CloudRegion } from \"ui-models/src/models/kafka\";\nimport { assign, createMachine, send, sendParent } from \"xstate\";\nimport {\n  CreateKafkaFormData,\n  CreateKafkaInstanceError,\n  TrialPlanInitializationData,\n  TrialSizes,\n} from \"../types\";\nimport { onProviderChange } from \"./shared\";\n\nexport type TrialPlanMachineContext = {\n  // initial data coming from the APIs\n  capabilities: TrialPlanInitializationData;\n\n  // what the user is selecting\n  form: {\n    name?: string;\n    provider?: CloudProvider;\n    region?: CloudRegion;\n  };\n\n  // based on the form.provider and form.region selection\n  sizes: TrialSizes | undefined;\n\n  creationError: CreateKafkaInstanceError | undefined;\n};\n\nexport const TrialPlanMachine =\n  /** @xstate-layout N4IgpgJg5mDOIC5QBUBOBLAhgGwArcwDsBZTAYwAt1CwA6ANzAwDMBPAQXs3QICMf0AF1YBiRKAAOAe1hD0UwuJAAPRACYAbAA4AnLQ0AGNQBYArBo0BmHQHYNNywBoQrRDoO1bARjWmv54y8DY18AX1DnNCw8AhJyKhpaMgVmdCgAVwxCKFpYQUxBdNgRMlQwArAlaVlBeUUkFUQgtWdXBFNLY1o7LRDTG1NTLVNjG3DIjBx8IlJKajpkwlSMrJzmKVQAWwYcdAgRVLBsCABJQi5sPaqZOQUlVQQvLRs9NR1TI1Mdey0tNS1Wk1nqZaJodIEbEYTAZ7OMQFEprFZgkFik0plqGsNtsLnsSmUKtcanV7kCXqD3p9vjZfv9AQg1AYhrQDF4fH9jJ0aVo4QiYjN4vMkmiVpjaOstrlMPRMfjyoIwABldJkMhweANaq3eqgB5qSxqGwsgwmgzPHRBGxeemMrQeCwfAY6NT6s2mXmTflxOaJRbLDHZcXYqUy7JyioAUVQqA2RO1pIZBqNppN5st1pcTR04O6gX+9hMefdEXhnum3pRwqW6NWQa2B3QR1O512EDjtTuDQe-i+tD+Jpdxm0NhdpnpXlGXTNnIt-RCnOLE2i5eRQr9NbFh2OsFohEwmzouIgFTEmpuHZ1jQQxmG3VHfjUE7Zb3HGlGoK8Vo0-ksli0Vh0D1lyRQVfRFAM1kbbdd33MADmxZVeE2IR2xJLsmgNccbECWgvAsGwBkhBwb0sIDEQFH1UWrUVAy3CAdz3A8REYsAAGEKCIGBUM7XUMJaTNHg0QZQU5Axf0MYxRmwsivVXMDqIg8UoPo2gJBjGUICYHZLmPBVT0kc80N49o3lBQxgnBLkmQBATH20Wghy8WxnS0IJLA0GSV1Aqj-VrOidzUqQNKYeCtkQ5DBG4y9u0w2zLCePs33cxkmW0IdPJAyiq18zdlIC9S9hCwLgtQdjOMqM9iR4q8vFito7JBd4XhpGF-FGDKKMrdcaMgpsdzKKA6m0vYTyihNTEfY0TH-aFzGCccni6G8DGzf9WSE9KSz5Lysu6xT-NoAa6lCzZwpQyr43Qx46qaN4vFoawR1HT8Jv6DqKzXcC-Lyw6wEGhQRGKwrSo47IKoMqror48cTEsByOhItlLD8P93rknyN1on6joBnHCDKsGxqu2r+LaIJ3FoEYRytYYkZCNHvOyzHeug2QAC9D1bUaLovBNnjh2xnn-A1hgmmz6rtLRugMZrhhvJzF1LYDOs+hTvr63J0A52hsCkTAIFlCAFDoah6CkABrOhtsyrqvtyjX2boXX9cxBBTakMgCjqABtAwAF0ieM4x3k8O0jCc2qNDum0Bg0bpKXihxvmsYwGd2u2sYdrWnb1g2wyYGNUFUghBAlbZrZV+Scsz1ns513PXfdz2L19gOeaMq9g8asPHwtZKLRjs0+xRv5DHJzQ09ttX7drjmTrOyL2+qmLSfUC0uhMDRsysbRNH8SfVerlmVMdwGCs0kHysDmqboQSxgnuvD9THq1szCLayxtw-maUrO57xgmXEl5Q2uqvO+Zo9BBCsJCSwI5rA8g-srD6Vcf7+REEbRIeQKi0ArsgjGPVf7bmvt2QI90-BCx0PFWBXcbQPweoMLeidHyfAPignq6Dja5HyAqHBn9K74IgsQ9Q2g9CGBMOYACdgHBYU5KHay2FkbOhdOEEshApCaQ1CgPheCGBMHQGwTg3A+ACGEEI68YC8J6AtBHew35-wWDUKwugghPQAFVYCQDMW8ewuE+hsjZIMXwr4rFsgtLYp4Fgo5ONoC46Iri9xcB4JgXg2BwYgC1LzK6IQbR-j7FoJMYkhIRxpNEvGsB4nSiMck1JZjskCSCB4cEMtOQiNGDLLw0S9q1iwYUHc6RCCwHSEhIQCo2zAITM0ekQ4QTNSfhCbM9NEHkR0V0sUPSii5CGRFUZXj8mUwaayP4eFkb9HpNoOGkIVodBePYMSitcHoyZgQ9Zmj0mGWXogGk9I-weD+EMbMZpWTiVTks2SjNVm0WDKbVsXjg5xxlv+Zyj4CIWMRaCBhgwmQjD+KRUFO0p5HzrDiGF4ziaDD0P2KEQ5nijloStRKMIvjDmGMjTpGcsSSlgNKTEXiTRGleiaCaFprF0qlhNBWLomTHI8nir+bD9rBi5YwMZENLrGRMN8FkNIt4vGRSOWh2F9Ao1qu8Do+SZVLmWY8iFHLNhmJ-CCSlg5hy0vqX+SBtV2TPz-G8Nl08a4qRYrQfpggpAqgoJ40lxl-BqFBLoWBFhYEwn1E4epLwPVYr+K5dN9ztHWvZYQwNsFaBgE2BIUxUarwjilkJAYmh7DIxTVhTQuF+gcjsJQ38YxZX8KeftH6QboU6XtbfJysCWQdGnE1CaMs-WEoOkGo89rDUumZdmfof48Ljn-FLM0Tw7JOQsHO1BA7i1HkJJWh4nRY0WgGHhXQxhpzGGbXHfwNITAdt-LA49BCF2wXtWacc5hY3iPBEK5ovQf39o1kDC+wbCChvDZG1VmTo2Gusj4OcDghh2ByXYPse6wl3u-N2y1YL07+uPvlIKwNhq6TSRkjuV7-zww+P4NkQ4CKpvqi6e6IRmm6EZOu0jSsrXgoLQdWDWkh1XEvU0Do3RhzBzZEYb4ZgbSSRmS8MwbH77KJ7SsiTP0pNFyXXJhAd7KYOA5OSnQdowEukmvx7CgmVpNSg+raCJmAPi3UIC0O2gLK6HYx5meKk8bwcQ5QZDbzIYTK3p4N4nRAgfHzDCccQ5XjYW0AreKPxQsBv6n9Ia56FRmNgVLJy2E-DOiZPFHQMNx0zhHBxoSD6CtUd+v9QgtAZMqti2qmqwd9DWGpCjF0sCxxuuG50Fa35nQ-mkgZ-NlHC1Fe63RsxDgPB4Q+H+ecjIXz1P1EaGctigXDBEw88Tq2Dp4x8+OQVVnzK0yTO5Dra3Nba1Kwx95ID7CiPyXYL4wdDTfBtH3EbFlvxfsZLisj+Lv6-p+o7XrEAanmY4yCMehoTCHqEjaX4lXQeb38NvD7B1UdmZQ0x9QCnfCuXih8QYQQOgQ5HLhC0JohLaHwrmpBK350o7rgXWM5mLC7u-GCTkkltBTfqvYI0yMALzmnVdvNN2hd-xzi7bII6HP2C6GlTk+S-k+Ap8LjmD3bL-O6J6gYwRpn72W5rk9fUzG9HpJQ2NElqsvUCPD0T5GCXMzMSMb5Mth5Dn1N8Wm2holKpi4xj5DJ7OeEKbobT2ExJYXHd8XeIwRG2HVwL7y9rfOPAQeEIAA */\n  createMachine(\n    {\n      context: {\n        capabilities: {} as TrialPlanInitializationData,\n        sizes: undefined,\n        form: {},\n        creationError: undefined,\n      },\n      tsTypes: {} as import(\"./TrialPlanMachine.typegen\").Typegen0,\n      schema: {\n        context: {} as TrialPlanMachineContext,\n        events: {} as\n          | { type: \"fieldInvalid\" }\n          | { type: \"nameChange\"; name: string }\n          | { type: \"providerChange\"; provider: CloudProvider }\n          | { type: \"regionChange\"; region: CloudRegion }\n          | { type: \"nameIsValid\" }\n          | { type: \"nameIsInvalid\" }\n          | { type: \"nameIsTaken\" }\n          | { type: \"submit\" }\n          | { type: \"create\" }\n          | { type: \"createSuccess\" }\n          | { type: \"createError\"; error: CreateKafkaInstanceError },\n        services: {} as {\n          getSizes: {\n            data: TrialSizes;\n          };\n        },\n      },\n      initial: \"verifyAvailability\",\n      id: \"TrialPlanMachine\",\n      states: {\n        verifyAvailability: {\n          entry: \"setInitialContext\",\n          always: [\n            {\n              cond: \"isTrialUsed\",\n              target: \"trialUsed\",\n            },\n            {\n              cond: \"isTrialUnavailable\",\n              target: \"trialUnavailable\",\n            },\n            {\n              target: \"configuring\",\n            },\n          ],\n        },\n        trialUsed: {\n          tags: \"blocked\",\n        },\n        trialUnavailable: {\n          tags: \"blocked\",\n        },\n        regionsUnavailable: {\n          tags: \"blocked\",\n        },\n        configuring: {\n          type: \"parallel\",\n          states: {\n            status: {\n              initial: \"unsubmitted\",\n              states: {\n                unsubmitted: {\n                  tags: \"unsubmitted\",\n                },\n                submitted: {\n                  entry: \"triggerSubmit\",\n                  tags: \"submitted\",\n                },\n              },\n              on: {\n                create: {\n                  description:\n                    \"Save is enabled all the time, if it's clicked before the form is completely filled out we should show the validation for all errored fields\",\n                  target: \".submitted\",\n                },\n              },\n            },\n            form: {\n              initial: \"invalid\",\n              states: {\n                invalid: {\n                  tags: \"formInvalid\",\n                },\n                valid: {\n                  entry: \"resetCreationErrorMessage\",\n                  on: {\n                    fieldInvalid: {\n                      target: \"invalid\",\n                    },\n                    submit: {\n                      target: \"saving\",\n                    },\n                  },\n                },\n                saving: {\n                  entry: [\"resetCreationErrorMessage\", \"triggerSave\"],\n                  tags: \"formSaving\",\n                  on: {\n                    createSuccess: {\n                      target: \"saved\",\n                    },\n                    createError: {\n                      actions: \"setCreationError\",\n                      target: \"invalid\",\n                    },\n                  },\n                },\n                saved: {\n                  type: \"final\",\n                },\n              },\n              on: {\n                fieldInvalid: {\n                  description:\n                    \"sent by the fields when their value change to an invalid value. This will transition the form to the invalid state, to then eventually transition to the valid state if the field state is marked as done (which means that all fields have a valid value selected)\",\n                  target: \".invalid\",\n                },\n              },\n            },\n            fields: {\n              tags: \"configurable\",\n              type: \"parallel\",\n              states: {\n                name: {\n                  initial: \"validate\",\n                  states: {\n                    empty: {\n                      tags: \"nameEmpty\",\n                    },\n                    invalid: {\n                      entry: \"fieldInvalid\",\n                      tags: \"nameInvalid\",\n                    },\n                    valid: {\n                      tags: \"nameValid\",\n                      type: \"final\",\n                    },\n                    validate: {\n                      always: [\n                        {\n                          cond: \"nameIsEmpty\",\n                          target: \"empty\",\n                        },\n                        {\n                          cond: \"nameIsValid\",\n                          target: \"valid\",\n                        },\n                        {\n                          target: \"invalid\",\n                        },\n                      ],\n                    },\n                  },\n                  on: {\n                    create: {\n                      target: \".validate\",\n                    },\n                    nameChange: {\n                      actions: \"setName\",\n                      target: \".validate\",\n                    },\n                  },\n                },\n                provider: {\n                  initial: \"validate\",\n                  states: {\n                    validate: {\n                      always: [\n                        {\n                          cond: \"providerIsValid\",\n                          target: \"valid\",\n                        },\n                        {\n                          target: \"invalid\",\n                        },\n                      ],\n                    },\n                    invalid: {\n                      entry: \"fieldInvalid\",\n                      tags: \"providerInvalid\",\n                    },\n                    valid: {\n                      tags: \"providerValid\",\n                      type: \"final\",\n                    },\n                  },\n                  on: {\n                    create: {\n                      target: \".validate\",\n                    },\n                    providerChange: {\n                      actions: \"setProvider\",\n                      cond: \"didProviderChange\",\n                      target: \".validate\",\n                    },\n                  },\n                },\n                region: {\n                  initial: \"validate\",\n                  states: {\n                    validate: {\n                      always: [\n                        {\n                          cond: \"regionIsValid\",\n                          target: \"valid\",\n                        },\n                        {\n                          target: \"invalid\",\n                        },\n                      ],\n                    },\n                    invalid: {\n                      entry: \"fieldInvalid\",\n                      tags: \"regionInvalid\",\n                    },\n                    valid: {\n                      tags: \"regionValid\",\n                      type: \"final\",\n                    },\n                  },\n                  on: {\n                    create: {\n                      target: \".validate\",\n                    },\n                    providerChange: {\n                      target: \".validate\",\n                    },\n                    regionChange: {\n                      actions: \"setRegion\",\n                      cond: \"didRegionChange\",\n                      target: \".validate\",\n                    },\n                  },\n                },\n                size: {\n                  initial: \"validate\",\n                  states: {\n                    validate: {\n                      always: [\n                        {\n                          cond: \"noProviderAndRegion\",\n                          target: \"idle\",\n                        },\n                        {\n                          cond: \"noSizes\",\n                          target: \"loading\",\n                        },\n                        {\n                          cond: \"emptySizes\",\n                          target: \"error\",\n                        },\n                        {\n                          target: \"valid\",\n                        },\n                      ],\n                    },\n                    idle: {\n                      entry: \"fieldInvalid\",\n                      tags: \"sizeIdle\",\n                    },\n                    valid: {\n                      tags: \"sizeValid\",\n                      type: \"final\",\n                    },\n                    error: {\n                      entry: \"fieldInvalid\",\n                      tags: \"sizeError\",\n                    },\n                    loading: {\n                      description:\n                        \"Fetch the data required to show the available sizes and limits\",\n                      invoke: {\n                        src: \"getSizes\",\n                        onDone: [\n                          {\n                            actions: \"setSizes\",\n                            target: \"validate\",\n                          },\n                        ],\n                        onError: [\n                          {\n                            target: \"error\",\n                          },\n                        ],\n                      },\n                      tags: \"sizeLoading\",\n                    },\n                  },\n                  on: {\n                    create: {\n                      target: \".validate\",\n                    },\n                    providerChange: {\n                      target: \".validate\",\n                    },\n                    regionChange: {\n                      target: \".validate\",\n                    },\n                  },\n                },\n              },\n              onDone: {\n                target: \"#TrialPlanMachine.configuring.form.valid\",\n              },\n            },\n          },\n          onDone: {\n            target: \"saved\",\n          },\n        },\n        saved: {\n          type: \"final\",\n        },\n      },\n    },\n    {\n      actions: {\n        setInitialContext: assign((context) => {\n          return {\n            form: {\n              ...(context.capabilities.defaultProvider\n                ? onProviderChange(\n                    context.capabilities.availableProviders,\n                    context.capabilities.defaultProvider\n                  )\n                : {}),\n            },\n          };\n        }),\n        fieldInvalid: send(\"fieldInvalid\"),\n        setName: assign((context, { name }) => {\n          if (context.creationError === \"name-taken\") {\n            return {\n              form: { ...context.form, name },\n              creationError: undefined,\n            };\n          }\n          return { form: { ...context.form, name } };\n        }),\n        setProvider: assign((context, { provider }) => {\n          return {\n            form: {\n              ...context.form,\n              ...onProviderChange(\n                context.capabilities.availableProviders,\n                provider\n              ),\n            },\n            sizes: undefined,\n          };\n        }),\n        setRegion: assign((context, { region }) => {\n          if (context.creationError === \"region-unavailable\") {\n            return {\n              form: { ...context.form, region },\n              sizes: undefined,\n              creationError: undefined,\n            };\n          }\n          return {\n            form: {\n              ...context.form,\n              region,\n            },\n            sizes: undefined,\n          };\n        }),\n        setSizes: assign((_context, event) => {\n          const sizes = event.data;\n          return {\n            sizes,\n          };\n        }),\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        resetCreationErrorMessage: assign((_context) => ({\n          creationError: undefined,\n        })),\n        setCreationError: assign((_context, { error }) => ({\n          creationError: error,\n        })),\n        triggerSave: sendParent((context) => {\n          const form = context.form as Required<typeof context.form>;\n          const data: CreateKafkaFormData = {\n            plan: \"developer\",\n            name: form.name,\n            provider: form.provider,\n            region: form.region,\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            sizeId: context.sizes!.trial.id,\n            billing: undefined,\n          };\n          return {\n            type: \"save\",\n            data,\n          };\n        }),\n        triggerSubmit: send(\"submit\"),\n      },\n      guards: {\n        isTrialUsed: ({ capabilities }) =>\n          capabilities === undefined ||\n          capabilities.instanceAvailability === \"used\",\n        isTrialUnavailable: ({ capabilities }) =>\n          capabilities === undefined ||\n          capabilities.instanceAvailability === \"unavailable\",\n        nameIsEmpty: ({ form }) =>\n          form.name === undefined || form.name.length === 0,\n        nameIsValid: ({ form }) =>\n          /^[a-z]([-a-z0-9]*[a-z0-9])?$/.test(form.name || \"\"),\n        providerIsValid: ({ form, capabilities }) => {\n          const selectedProviderInfo = capabilities?.availableProviders.find(\n            (p) => p.id === form.provider\n          );\n          return (\n            // must have loaded a list of providers\n            (capabilities?.availableProviders || []).length > 0 &&\n            // must have selected a provider\n            selectedProviderInfo !== undefined\n          );\n        },\n        regionIsValid: ({ form, capabilities }) => {\n          const selectedProviderInfo = capabilities?.availableProviders.find(\n            (p) => p.id === form.provider\n          );\n          return (\n            // must have selected a region\n            form.region !== undefined &&\n            // the region must be included in the capabilities for the provider\n            selectedProviderInfo?.regions.find((r) => r.id === form.region) !==\n              undefined\n          );\n        },\n        noProviderAndRegion: ({ form }) =>\n          form.provider === undefined || form.region === undefined,\n        noSizes: ({ sizes }) => sizes === undefined,\n        emptySizes: ({ sizes }) =>\n          sizes !== undefined && sizes.standard.length === 0,\n        didProviderChange: (context, event) =>\n          context.form.provider !== event.provider,\n        didRegionChange: (context, event) =>\n          context.form.region !== event.region,\n      },\n    }\n  );\n","import type { CloudProvider, CloudRegion } from \"ui-models/src/models/kafka\";\nimport { assign, createMachine, EventFrom, forwardTo, send } from \"xstate\";\nimport type {\n  CloudProvidersInfo,\n  CreateKafkaFormData,\n  CreateKafkaInitializationData,\n  CreateKafkaInstanceError,\n  StandardPlanInitializationData,\n  StandardSizes,\n  TrialPlanInitializationData,\n  TrialSizes,\n} from \"../types\";\nimport {\n  StandardPlanMachine,\n  StandardPlanMachineContext,\n} from \"./StandardPlanMachine\";\nimport { TrialPlanMachine, TrialPlanMachineContext } from \"./TrialPlanMachine\";\n\ntype Quota =\n  | Pick<\n      StandardPlanInitializationData,\n      | \"plan\"\n      | \"remainingPrepaidQuota\"\n      | \"marketplaceSubscriptions\"\n      | \"remainingMarketplaceQuota\"\n      | \"instanceAvailability\"\n    >\n  | Pick<TrialPlanInitializationData, \"plan\" | \"instanceAvailability\">;\n\nexport type CreateKafkaInstanceMachineContext = {\n  quota: Quota | undefined;\n  providers: CloudProvidersInfo | undefined;\n  defaultProvider: CloudProvider | undefined;\n  capabilities: CreateKafkaInitializationData | undefined;\n};\n\nconst CreateKafkaInstanceMachine =\n  /** @xstate-layout N4IgpgJg5mDOIC5QGMBOYCGAXMBpDAZgNYYCSAdrFhucmAHQA2A9hhAJblT0COArs2r1kACzDIinKAAIqNCBlQRp-QRgDEYVKmap6AB0bYCugLbD02PIRIU5tBizZTeAoaPGSus6uQVKVNwwETgA3ZmRsdmZyAG0ABgBdRFB9Zlh2LGjyFJAAD0QAFniAJnp4gGYAdkKATgAOeqr4qvrCgFYAGhAAT0QANir++n769tqq2sKARhKKjsKAX0XutEwcfGIySl86JlYOLlc1YTEJKR95RWVVanV7fxug6QxQjHYjACNGMFy0jKyMVyBQQxTKlRqDSaLTaXV6iHG8XoVXahX6UyqJVqJX6-WWq0sGxs23seych24twwp08Fwe10CanUzD4WGkzAIlz8DKpf3SmWywKKpXK1TqjWarQ63T6CHa8UK9Hqcw6JUK6palXxIDWVk2th2NDJBxcVJp5289ICVPU5GYXMejOoLzeHww31+SBA-wFQK9ILBoshEph0vhoPaw2hFRKasKbQa0yWKx1hOsWzsu0cJqOZqtEHUfIBgv9iCTU2RkZj03RYsjMoGyvo0yG40KJSq0wq02m9W1uqJGcNDn2zlzQXoEDAoTALH0WkLXp9gJypYQ5cVKP61drNXr4faFSRJVmdUmasjvf7af1JKzo4px3cZy8MinM7nWhd7y+H0yPU0bRdAMIwsBMVBzAHdMDVJbMx0pCcPAtN9p1nZh51Qb83U+P8sB6EJyHCSIVwSZIl35FchQQWpanaeh4y7JN5gqbFZgbOU1WRE96m3Bp+lRKoKmvdZoLvI04MfM0kNfaR3zQjCsN-Rh-3UOTP0wvhYEgItfVXUAQRouiGO7QpmNYkp2NMqolXqWZcSPCpRn6NFhL1YlM3Eh9TUQl8LjU9Cv1eH93VwgD-IUoLsJ+HTKLXQz6NskyzJPCzwwqdppnoWj4niaZ2kPepaiTaZXMHGD73JFwCDALBRAufQdFCdgp1QWB1Aa5gmpa2AXj8aR0CgbIesir5ovI4s-X0staNqegjzGcZ+hKHjeyqdj2jGcplu4moFSqKpStEjyR0qo5qtqkR6sa5qtDarQdD0QxjDMCwRNvY7jXg+hzrq7wOq626CKIqIYlImKSym9cMRsiY0RmaYFXiOFZUKfa5rqRy5mmWp4kGdpDve4dPsfH7Lr+67uvainbvZTCBqG6Q+HIEb3TG1IKIh-Jpsjeh2k7XHOw7QqWnY0Z6mbapakGNVqgR-GUygwnYK8rhVJiBg5BwV63KHZXTqgcHJq5hASlROj+lKCp6kqdUVvYq3Mr3ds0UaPLZgJ9yiY13xHSe8h6Gan57leT12YmvTjaxbd6NM+NDIVdLCkskUFmxyZt2cwYPd1+982kP36FgV4pHUKCAGU+GQOhYHgcbdKoxOjKR0p6nmYXlvt1Fyn6Lt1W7E9Jkc7Pys8vOC6LprVaggBRIDUENiOQSjioY7b+PTNRe2a152NbLy03M7y4exJHcKvwLwOwGDmcF6orFWl5i2Nt7toEYqUWpayrt5SW+z4ls4+H0GBn0wuPYuU80wVyrnAWuYd65rkbvRBUtQ6x9zaKLeMO8WhDB7PEKEtRAFe0nKhdS+cjD+wniXGec9b5rnvuLSMSNErxhmJUUWCMsrKmWngsEuJ5YpjtFOWBqY3qez1jmBCJxpJ0h9jyIItDIYI1SrKSM4tW6dmVB0TsaISoKxvGIiqEinzUnzAo42zRxYojmD3FEtk+bTFFkMZskYcS9mfiwwh4ivpmhAWYkEswGg2RwSxJosxSjrU4tjAePcEY8SKp4wx3ifK0m8CAxSIVlJ4T8QMfic1lrFVaMqeYDjwztjojxHhsYOxW1ssmAkoic6eX1sY7JCBWjsQ7LNKWjRKiLRxmieW9SdYjxOkY0mV1Oo3Vaq0msCoY7FCGOlWMsxkYIkxMiHh7RYyMPjEJPRDSRnExcJYCAso4GxUhrGQY5QMpjCSpedaExkRND5jorEFQ9lDLKifI5XBWmb3DC2TKlRGLVCxBeDoCTR49CoGAUwjNmaulGqHb0HMjYgkciiLK+UUFWRxt2VZbT1mt1GK0Fo-EOx4n2cMn53srgBAvhANmqLw53yaIqfi4xsQdnyu2d+aVqjONbmna2OJuxQpHGPchhdwEGzrhc42MZBXYwmD3CE-F+j21jCMZy8Ytxdlom0CVewpU0FacteUIwcXcpRKiOY7FsYrzBdbeMhUWJt2NcAkhAVQHSsvuaxos19rzUxelFsyiBjdhGC2UYLY4k9l0V8o6RC0lgMnnK85nMMVVPKJo2GbiirsOsrMd1uU1SWzqSImlQDiEfh9WQs18qs2IGWrk4N-9Q0ZUxJZJoSolWVBylYwqnrhDMFMIYGqKLlzNoQNUf+SomFoP2p2Ht1lcZ5Roj2IW4rqXfKAa0o87EaI3JyhtQS2Ntyo2WMsIAA */\n  createMachine(\n    {\n      context: {\n        providers: undefined,\n        defaultProvider: undefined,\n        quota: undefined,\n        capabilities: undefined,\n      },\n      tsTypes: {} as import(\"./CreateKafkaInstanceMachine.typegen\").Typegen0,\n      schema: {\n        context: {} as CreateKafkaInstanceMachineContext,\n        events: {} as\n          | {\n              type: \"standard quota available\";\n              quota: Pick<\n                StandardPlanInitializationData,\n                | \"remainingPrepaidQuota\"\n                | \"remainingMarketplaceQuota\"\n                | \"marketplaceSubscriptions\"\n              >;\n            }\n          | {\n              type: \"out of standard quota\";\n              quota: Pick<\n                StandardPlanInitializationData,\n                \"marketplaceSubscriptions\"\n              >;\n            }\n          | {\n              type: \"no standard quota available\";\n              hasTrialQuota: boolean;\n            }\n          | {\n              type: \"trial available\";\n              capabilities: TrialPlanInitializationData;\n            }\n          | { type: \"trial used\" }\n          | { type: \"developer available\" }\n          | { type: \"developer used\" }\n          | { type: \"developer unavailable\" }\n          | {\n              type: \"providers and regions available\";\n              providers: CloudProvidersInfo;\n              defaultProvider: CloudProvider | undefined;\n            }\n          | { type: \"providers or regions unavailable\" }\n          | { type: \"save\"; data: CreateKafkaFormData }\n          | { type: \"createSuccess\" }\n          | { type: \"createError\"; error: CreateKafkaInstanceError },\n        services: {} as {\n          checkStandardQuota: {\n            data: never;\n          };\n          checkDeveloperAvailability: {\n            data: never;\n          };\n          fetchProvidersWithRegions: {\n            data: never;\n          };\n          standardPlan: {\n            data: StandardPlanMachineContext;\n          };\n          trialPlan: {\n            data: TrialPlanMachineContext;\n          };\n        },\n      },\n      id: \"createKafkaInstance\",\n      initial: \"loading\",\n      states: {\n        loading: {\n          description: \"Fetch the data required to drive the creation flow\",\n          tags: \"loading\",\n          initial: \"quota\",\n          states: {\n            quota: {\n              initial: \"checking standard quota\",\n              states: {\n                \"checking standard quota\": {\n                  invoke: {\n                    src: \"checkStandardQuota\",\n                    onError: [\n                      {\n                        actions: \"setStandardUnavailable\",\n                        target: \"standard\",\n                      },\n                    ],\n                  },\n                  on: {\n                    \"standard quota available\": {\n                      actions: \"setStandardAvailable\",\n                      target: \"standard\",\n                    },\n                    \"out of standard quota\": {\n                      actions: \"setStandardOutOfQuota\",\n                      target: \"standard\",\n                    },\n                    \"no standard quota available\": {\n                      target: \"checking developer availability\",\n                    },\n                  },\n                },\n                standard: {\n                  type: \"final\",\n                  always: {\n                    target: \"#createKafkaInstance.loading.fetching providers\",\n                  },\n                },\n                developer: {\n                  type: \"final\",\n                  always: {\n                    target: \"#createKafkaInstance.loading.fetching providers\",\n                  },\n                },\n                \"checking developer availability\": {\n                  invoke: {\n                    src: \"checkDeveloperAvailability\",\n                    onError: [\n                      {\n                        actions: \"setDeveloperUnavailable\",\n                        target: \"developer\",\n                      },\n                    ],\n                  },\n                  on: {\n                    \"developer used\": {\n                      actions: \"setDeveloperUsed\",\n                      target: \"developer\",\n                    },\n                    \"developer available\": {\n                      actions: \"setDeveloperAvailable\",\n                      target: \"developer\",\n                    },\n                    \"developer unavailable\": {\n                      actions: \"setDeveloperUnavailable\",\n                      target: \"developer\",\n                    },\n                  },\n                },\n              },\n            },\n            \"fetching providers\": {\n              invoke: {\n                src: \"fetchProvidersWithRegions\",\n                onError: [\n                  {\n                    actions: \"setProvidersOrRegionsUnavailable\",\n                    target: \"ready\",\n                  },\n                ],\n              },\n              on: {\n                \"providers and regions available\": {\n                  actions: \"setProviders\",\n                  target: \"ready\",\n                },\n                \"providers or regions unavailable\": {\n                  actions: \"setProvidersOrRegionsUnavailable\",\n                  target: \"ready\",\n                },\n              },\n            },\n            ready: {\n              type: \"final\",\n              entry: \"setCapabilities\",\n            },\n          },\n          onDone: [\n            {\n              cond: \"standard plan\",\n              target: \"standard plan\",\n            },\n            {\n              cond: \"developer plan\",\n              target: \"developer plan\",\n            },\n            {\n              target: \"system unavailable\",\n            },\n          ],\n        },\n        \"system unavailable\": {\n          tags: \"systemUnavailable\",\n          type: \"final\",\n        },\n        \"standard plan\": {\n          invoke: {\n            src: \"standardPlan\",\n            id: \"standardPlanService\",\n          },\n          tags: \"standardPlan\",\n          initial: \"idle\",\n          states: {\n            idle: {\n              on: {\n                save: {\n                  target: \"saving\",\n                },\n              },\n            },\n            saving: {\n              invoke: {\n                src: \"createInstance\",\n              },\n              tags: \"saving\",\n              on: {\n                createSuccess: {\n                  target: \"#createKafkaInstance.complete\",\n                },\n                createError: {\n                  actions: \"notifyCreateErrorToStandardPlan\",\n                  target: \"idle\",\n                },\n              },\n            },\n          },\n        },\n        \"developer plan\": {\n          invoke: {\n            src: \"trialPlan\",\n            id: \"trialPlanService\",\n          },\n          tags: \"trialPlan\",\n          initial: \"idle\",\n          states: {\n            idle: {\n              on: {\n                save: {\n                  target: \"saving\",\n                },\n              },\n            },\n            saving: {\n              invoke: {\n                src: \"createInstance\",\n              },\n              tags: \"saving\",\n              on: {\n                createSuccess: {\n                  target: \"#createKafkaInstance.complete\",\n                },\n                createError: {\n                  actions: \"notifyCreateErrorToTrialPlan\",\n                  target: \"idle\",\n                },\n              },\n            },\n          },\n        },\n        complete: {\n          type: \"final\",\n        },\n      },\n    },\n    {\n      actions: {\n        /* eslint-disable @typescript-eslint/no-unused-vars */\n        setDeveloperAvailable: assign((_) => ({\n          quota: {\n            plan: \"developer\" as const,\n            instanceAvailability: \"available\" as const,\n          },\n        })),\n        setDeveloperUnavailable: assign((_) => ({\n          quota: {\n            plan: \"developer\" as const,\n            instanceAvailability: \"unavailable\" as const,\n          },\n        })),\n        setDeveloperUsed: assign((_) => ({\n          quota: {\n            plan: \"developer\" as const,\n            instanceAvailability: \"used\" as const,\n          },\n        })),\n        setStandardAvailable: assign((_, event) => ({\n          quota: {\n            plan: \"standard\" as const,\n            instanceAvailability: \"available\" as const,\n            remainingPrepaidQuota: event.quota.remainingPrepaidQuota,\n            marketplaceSubscriptions: event.quota.marketplaceSubscriptions,\n            remainingMarketplaceQuota: event.quota.remainingMarketplaceQuota,\n          },\n        })),\n        setStandardOutOfQuota: assign((_, event) => ({\n          quota: {\n            plan: \"standard\" as const,\n            instanceAvailability: \"out-of-quota\" as const,\n            marketplaceSubscriptions: event.quota.marketplaceSubscriptions,\n            remainingMarketplaceQuota: 0,\n            remainingPrepaidQuota: 0,\n          },\n        })),\n        setStandardUnavailable: assign((_) => ({\n          quota: {\n            plan: \"standard\" as const,\n            instanceAvailability: \"instance-unavailable\" as const,\n            marketplaceSubscriptions: [],\n            remainingMarketplaceQuota: 0,\n            remainingPrepaidQuota: 0,\n          },\n        })),\n        setProviders: assign((_, event) => {\n          return {\n            providers: event.providers,\n            defaultProvider: event.defaultProvider,\n          };\n        }),\n        setProvidersOrRegionsUnavailable: assign((context) => {\n          const quota = context.quota!;\n          if (quota.plan === \"standard\") {\n            quota.instanceAvailability = \"regions-unavailable\";\n          } else {\n            quota.instanceAvailability = \"unavailable\";\n          }\n          return {\n            providers: [],\n            quota,\n          };\n        }),\n        setCapabilities: assign((context) => {\n          const { providers, defaultProvider, quota } = context;\n          if (!providers || !quota) {\n            throw new Error(\"unexpected condition, no providers or quota\");\n          }\n          if (quota.plan === \"standard\") {\n            const capabilities: StandardPlanInitializationData = {\n              plan: \"standard\",\n              availableProviders: providers,\n              defaultProvider,\n              instanceAvailability: quota.instanceAvailability,\n              marketplaceSubscriptions: quota.marketplaceSubscriptions,\n              remainingMarketplaceQuota: quota.remainingMarketplaceQuota,\n              remainingPrepaidQuota: quota.remainingPrepaidQuota,\n            };\n            return { capabilities };\n          } else {\n            const capabilities: TrialPlanInitializationData = {\n              plan: \"developer\",\n              availableProviders: providers,\n              defaultProvider,\n              instanceAvailability: quota.instanceAvailability,\n            };\n            return { capabilities };\n          }\n        }),\n        notifyCreateErrorToStandardPlan: forwardTo(\"standardPlanService\"),\n        notifyCreateErrorToTrialPlan: send(\n          (_, event) => {\n            return { type: \"createError\", error: event.error };\n          },\n          { to: \"trialPlanService\" }\n        ),\n        /* eslint-enable @typescript-eslint/no-unused-vars */\n      },\n      guards: {\n        \"standard plan\": (context) => context.quota?.plan === \"standard\",\n        \"developer plan\": (context) => context.quota?.plan === \"developer\",\n      },\n    }\n  );\n\ntype EventTypes = Pick<\n  EventFrom<typeof CreateKafkaInstanceMachine>,\n  \"type\"\n>[\"type\"];\n\ntype EventOptions<E extends EventTypes> = Omit<\n  EventFrom<typeof CreateKafkaInstanceMachine, E>,\n  \"type\"\n>;\n\nexport type CreateKafkaInstanceServices = {\n  checkStandardQuota: (events: {\n    onOutOfQuota: (p: EventOptions<\"out of standard quota\">) => void;\n    onQuotaAvailable: (p: EventOptions<\"standard quota available\">) => void;\n    onNoQuotaAvailable: (\n      p: EventOptions<\"no standard quota available\">\n    ) => void;\n  }) => void;\n  checkDeveloperAvailability: (events: {\n    onUsed: () => void;\n    onAvailable: () => void;\n    onUnavailable: () => void;\n  }) => void;\n  fetchProvidersWithRegions: (\n    plan: \"standard\" | \"developer\",\n    events: {\n      onAvailable: (p: EventOptions<\"providers and regions available\">) => void;\n      onUnavailable: () => void;\n    }\n  ) => void;\n  getStandardSizes: (\n    provider: CloudProvider,\n    region: CloudRegion\n  ) => Promise<StandardSizes>;\n  getTrialSizes: (\n    provider: CloudProvider,\n    region: CloudRegion\n  ) => Promise<TrialSizes>;\n  onCreate: (\n    data: CreateKafkaFormData,\n    onSuccess: () => void,\n    onError: (error: CreateKafkaInstanceError) => void\n  ) => void;\n};\n\nexport function makeCreateKafkaInstanceMachine({\n  checkStandardQuota: checkStandardQuotaCb,\n  checkDeveloperAvailability: checkDeveloperAvailabilityCb,\n  fetchProvidersWithRegions: fetchProvidersWithRegionsCb,\n  getStandardSizes: getStandardSizesCb,\n  getTrialSizes: getTrialSizesCb,\n  onCreate,\n}: CreateKafkaInstanceServices) {\n  return CreateKafkaInstanceMachine.withConfig({\n    services: {\n      checkStandardQuota: () => {\n        return (send) =>\n          checkStandardQuotaCb({\n            onNoQuotaAvailable: ({ hasTrialQuota }) => {\n              send({ type: \"no standard quota available\", hasTrialQuota });\n            },\n            onOutOfQuota: ({ quota }) => {\n              send({ type: \"out of standard quota\", quota });\n            },\n            onQuotaAvailable: ({ quota }) => {\n              send({ type: \"standard quota available\", quota });\n            },\n          });\n      },\n      checkDeveloperAvailability: () => {\n        return (send) => {\n          checkDeveloperAvailabilityCb({\n            onAvailable: () => send(\"developer available\"),\n            onUsed: () => send(\"developer used\"),\n            onUnavailable: () => send(\"developer unavailable\"),\n          });\n        };\n      },\n      fetchProvidersWithRegions: (context) => {\n        const instanceType = context.quota!.plan;\n        return (send) => {\n          fetchProvidersWithRegionsCb(instanceType, {\n            onAvailable: ({ providers, defaultProvider }) =>\n              send({\n                type: \"providers and regions available\",\n                providers,\n                defaultProvider,\n              }),\n            onUnavailable: () => send(\"providers or regions unavailable\"),\n          });\n        };\n      },\n      createInstance: (_context, event) => {\n        const form = event.data;\n\n        return (send) => {\n          function onSuccess() {\n            send(\"createSuccess\");\n          }\n\n          function onError(error: CreateKafkaInstanceError) {\n            send({ type: \"createError\", error });\n          }\n\n          onCreate(\n            {\n              plan: form.plan,\n              name: form.name,\n              provider: form.provider,\n              region: form.region,\n              sizeId: form.sizeId,\n              billing: form.billing,\n            },\n            onSuccess,\n            onError\n          );\n        };\n      },\n      standardPlan: (context) => {\n        return StandardPlanMachine.withContext({\n          capabilities: context.capabilities as StandardPlanInitializationData,\n          sizes: undefined,\n          form: {},\n          creationError: undefined,\n        }).withConfig({\n          services: {\n            getSizes: (context) => {\n              const form = context.form as Required<typeof context.form>;\n              return getStandardSizesCb(form.provider, form.region);\n            },\n          },\n        });\n      },\n      trialPlan: (context) => {\n        return TrialPlanMachine.withContext({\n          capabilities: context.capabilities as TrialPlanInitializationData,\n          sizes: undefined,\n          form: {},\n          creationError: undefined,\n        }).withConfig({\n          services: {\n            getSizes: (context) => {\n              const form = context.form as Required<typeof context.form>;\n              return getTrialSizesCb(form.provider, form.region);\n            },\n          },\n        });\n      },\n    },\n  });\n}\n","import { useInterpret } from \"@xstate/react\";\nimport type { FunctionComponent } from \"react\";\nimport { createContext } from \"react\";\nimport type { ActorRefFrom } from \"xstate\";\nimport type { CreateKafkaInstanceServices } from \"./CreateKafkaInstanceMachine\";\nimport { makeCreateKafkaInstanceMachine } from \"./CreateKafkaInstanceMachine\";\n\nexport const CreateKafkaInstanceContext = createContext<{\n  service: ActorRefFrom<ReturnType<typeof makeCreateKafkaInstanceMachine>>;\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n}>(null!);\n\nexport const CreateKafkaInstanceProvider: FunctionComponent<\n  CreateKafkaInstanceServices\n> = ({\n  onCreate,\n  checkStandardQuota,\n  checkDeveloperAvailability,\n  fetchProvidersWithRegions,\n  getStandardSizes,\n  getTrialSizes,\n  children,\n}) => {\n  const service = useInterpret(\n    () =>\n      makeCreateKafkaInstanceMachine({\n        checkStandardQuota,\n        checkDeveloperAvailability,\n        fetchProvidersWithRegions,\n        getStandardSizes,\n        getTrialSizes,\n        onCreate,\n      }),\n    { devTools: true }\n  );\n  return (\n    <CreateKafkaInstanceContext.Provider value={{ service }}>\n      {children}\n    </CreateKafkaInstanceContext.Provider>\n  );\n};\n","export const LogoAWS = new URL(\"./Logo-AWS.svg\", import.meta.url)\n  .href;\nexport const LogoAzure = new URL(\n  \"./Logo-Azure.svg\",\n  import.meta.url\n).href;\nexport const LogoGCP = new URL(\"./Logo-GCP.svg\", import.meta.url)\n  .href;\nexport const LogoRedhat = new URL(\n  \"./Logo-Redhat.svg\",\n  import.meta.url\n).href;","import type { FunctionComponent } from \"react\";\nimport { LogoAWS } from \"./images\";\n\nexport const AWSLogo: FunctionComponent = () => {\n  return (\n    <>\n      <img src={LogoAWS} alt={\"\"} style={{ height: \"60px\" }} />\n    </>\n  );\n};\n","import type { FunctionComponent } from \"react\";\nimport { LogoAzure } from \"./images\";\n\nexport const AzureLogo: FunctionComponent = () => {\n  return (\n    <>\n      <img src={LogoAzure} alt={\"\"} style={{ height: \"60px\" }} />\n    </>\n  );\n};\n","import type { FunctionComponent } from \"react\";\nimport { LogoGCP } from \"./images\";\n\nexport const GCPLogo: FunctionComponent = () => {\n  return (\n    <>\n      <img src={LogoGCP} alt={\"\"} style={{ height: \"60px\" }} />\n    </>\n  );\n};\n","import type { SelectProps } from \"@patternfly/react-core\";\nimport {\n  Flex,\n  FlexItem,\n  FormSelect,\n  FormSelectOption,\n  Gallery,\n  GalleryItem,\n  HelperText,\n  HelperTextItem,\n  Tile,\n} from \"@patternfly/react-core\";\nimport { useTranslation } from \"@rhoas/app-services-ui-components\";\nimport type { VoidFunctionComponent } from \"react\";\nimport type { MarketPlace } from \"ui-models/src/models/kafka\";\nimport { AWSLogo, AzureLogo, GCPLogo, RedhatLogo } from \"../../Logos\";\n\nexport type BillingTilesProps = {\n  value: \"prepaid\" | string | undefined;\n  hasPrepaid: boolean;\n  subscriptions: {\n    marketplace: MarketPlace;\n    subscription: string;\n    isDisabled: boolean;\n  }[];\n  isPrepaidOverQuota: boolean;\n  prepaidQuota: number;\n  isMarketplaceOverQuota: boolean;\n  marketplaceQuota: number;\n  onPrepaid: () => void;\n  onSubscription: (marketplace: MarketPlace, subscription: string) => void;\n  validated?: SelectProps[\"validated\"];\n};\nexport const BillingTiles: VoidFunctionComponent<BillingTilesProps> = ({\n  value,\n  hasPrepaid,\n  subscriptions,\n  isPrepaidOverQuota,\n  prepaidQuota,\n  isMarketplaceOverQuota,\n  marketplaceQuota,\n  onPrepaid,\n  onSubscription,\n  validated,\n}) => {\n  const { t } = useTranslation(\"create-kafka-instance\");\n  const marketplaces: { [key in MarketPlace]: string } = {\n    aws: t(\"billing.marketplace_aws\"),\n    azure: t(\"billing.marketplace_azure\"),\n    gcp: t(\"billing.marketplace_gcp\"),\n    rhm: t(\"billing.marketplace_rh\"),\n  };\n  return (\n    <>\n      <Flex\n        role=\"listbox\"\n        aria-label={t(\"select_billing\")}\n        direction={{ default: \"column\", md: \"row\" }}\n      >\n        {hasPrepaid && (\n          <Flex\n            flex={{ default: \"flex_1\" }}\n            direction={{ default: \"column\" }}\n            spaceItems={{ default: \"spaceItemsSm\" }}\n          >\n            <span className=\"pf-c-form__label\">\n              <span className=\"pf-c-form__label-text\">\n                {t(\"billing.prepaid\")}\n              </span>\n            </span>\n            <FlexItem flex={{ default: \"flex_1\" }}>\n              <Tile\n                className={\"pf-u-w-100\"}\n                title={t(\"billing.prepaid_option\")}\n                icon={tiles[\"rhm\"]}\n                isDisabled={isPrepaidOverQuota}\n                isStacked={true}\n                isSelected={value === \"prepaid\"}\n                onClick={onPrepaid}\n              >\n                &nbsp;\n              </Tile>\n            </FlexItem>\n            {isPrepaidOverQuota && prepaidQuota > 0 && (\n              <HelperText className={\"pf-c-form__helper-text\"}>\n                <HelperTextItem variant={\"error\"}>\n                  {t(\"billing.prepaid_out_of_quota\")}\n                </HelperTextItem>\n              </HelperText>\n            )}\n            {isPrepaidOverQuota && prepaidQuota === 0 && (\n              <HelperText className={\"pf-c-form__helper-text\"}>\n                <HelperTextItem variant={\"error\"}>\n                  {t(\"billing.prepaid_out_of_quota\")}\n                </HelperTextItem>\n              </HelperText>\n            )}\n          </Flex>\n        )}\n        {subscriptions.length > 0 && (\n          <Flex\n            flex={{ default: \"flex_1\" }}\n            direction={{ default: \"column\" }}\n            spaceItems={{ default: \"spaceItemsSm\" }}\n          >\n            {hasPrepaid && (\n              <span className=\"pf-c-form__label\">\n                <span className=\"pf-c-form__label-text\">\n                  {t(\"billing.marketplace\")}\n                </span>\n              </span>\n            )}\n            <Gallery hasGutter={true}>\n              {subscriptions.map(\n                ({ marketplace, subscription, isDisabled }) => (\n                  <GalleryItem key={`tile-${subscription}`}>\n                    <Tile\n                      className={\"pf-u-w-100\"}\n                      title={marketplaces[marketplace]}\n                      icon={tiles[marketplace]}\n                      isStacked={true}\n                      isSelected={value === subscription}\n                      isDisabled={isDisabled || isMarketplaceOverQuota}\n                      onClick={() => onSubscription(marketplace, subscription)}\n                    >\n                      {subscription}\n                    </Tile>\n                  </GalleryItem>\n                )\n              )}\n            </Gallery>\n            {isMarketplaceOverQuota && marketplaceQuota > 0 && (\n              <HelperText className={\"pf-c-form__helper-text\"}>\n                <HelperTextItem variant={\"error\"}>\n                  {t(\"billing.marketplace_out_of_quota\")}\n                </HelperTextItem>\n              </HelperText>\n            )}\n            {isMarketplaceOverQuota && marketplaceQuota === 0 && (\n              <HelperText className={\"pf-c-form__helper-text\"}>\n                <HelperTextItem variant={\"error\"}>\n                  {t(\"billing.marketplace_out_of_quota\")}\n                </HelperTextItem>\n              </HelperText>\n            )}\n          </Flex>\n        )}\n      </Flex>\n      <FormSelect\n        className={\"pf-u-display-none\"}\n        value={value}\n        id=\"form-billing-option\"\n        name=\"billing\"\n        validated={validated}\n        onChange={(value) => {\n          if (value === \"prepaid\") {\n            onPrepaid();\n          } else {\n            const s = subscriptions.find((s) => s.marketplace === value);\n            if (s) {\n              onSubscription(s.marketplace, s.subscription);\n            }\n          }\n        }}\n      >\n        {[\n          <FormSelectOption\n            value=\"\"\n            key=\"placeholder\"\n            label={t(\"select_billing\")}\n          />,\n          hasPrepaid ? (\n            <FormSelectOption\n              key={\"prepaid\"}\n              value={\"prepaid\"}\n              label={`prepaid`}\n            />\n          ) : null,\n          subscriptions.map(({ marketplace, subscription, isDisabled }) => {\n            return (\n              <FormSelectOption\n                key={`select-option-${subscription}`}\n                value={subscription}\n                label={`${marketplace} - ${subscription}`}\n                isDisabled={isDisabled}\n              />\n            );\n          }),\n        ]}\n      </FormSelect>\n    </>\n  );\n};\n\nconst tiles: { [id in MarketPlace]: JSX.Element } = {\n  aws: <AWSLogo />,\n  gcp: <GCPLogo />,\n  azure: <AzureLogo />,\n  rhm: <RedhatLogo />,\n};\n","import type { FunctionComponent } from \"react\";\nimport { LogoRedhat } from \"./images\";\n\nexport const RedhatLogo: FunctionComponent = () => {\n  return (\n    <>\n      <img src={LogoRedhat} alt={\"\"} style={{ height: \"60px\" }} />\n    </>\n  );\n};\n","import type { SelectProps } from \"@patternfly/react-core\";\nimport {\n  Flex,\n  FlexItem,\n  FormSelect,\n  FormSelectOption,\n  Skeleton,\n  Tile,\n} from \"@patternfly/react-core\";\nimport { useTranslation } from \"@rhoas/app-services-ui-components\";\nimport type { VoidFunctionComponent } from \"react\";\nimport type { CloudProvider } from \"ui-models/src/models/kafka\";\nimport { AWSLogo, AzureLogo, GCPLogo } from \"../../Logos\";\nimport type { CloudProviderInfo } from \"../types\";\n\nexport type CloudProvidersTilesProps = {\n  providers: (CloudProviderInfo & { isDisabled?: boolean })[];\n  value: CloudProvider | undefined;\n  onChange: (provider: CloudProvider) => void;\n  isDisabled: boolean;\n  validated?: SelectProps[\"validated\"];\n};\nexport const CloudProvidersTiles: VoidFunctionComponent<\n  CloudProvidersTilesProps\n> = ({ providers, value, onChange, isDisabled, validated }) => {\n  const { t } = useTranslation(\"create-kafka-instance\");\n  return (\n    <>\n      {providers.length === 0 && (\n        <Skeleton\n          className=\"pf-m-text-4xl\"\n          screenreaderText=\"Loading contents\"\n        />\n      )}\n      <div role=\"listbox\" aria-label={t(\"select_cloud_provider\")}>\n        <Flex\n          justifyContent={{ default: \"justifyContentSpaceBetween\" }}\n          spacer={{ default: \"spacerNone\" }}\n          spaceItems={{ default: \"spaceItemsXs\" }}\n        >\n          {providers.map(\n            ({ id, displayName, isDisabled: providerDisabled }) => (\n              <FlexItem grow={{ default: \"grow\" }} key={id}>\n                <Tile\n                  className={\"pf-u-w-100\"}\n                  title={displayName}\n                  icon={tiles[id]}\n                  isStacked={true}\n                  isSelected={value === id}\n                  isDisabled={providerDisabled || isDisabled}\n                  onClick={() => onChange(id)}\n                >\n                  {(providerDisabled || isDisabled) &&\n                    t(\"billing.provider_incompatible_with_current_billing\")}\n                  &nbsp;\n                </Tile>\n              </FlexItem>\n            )\n          )}\n        </Flex>\n      </div>\n      <FormSelect\n        className={\"pf-u-display-none\"}\n        value={value}\n        id=\"form-cloud-provider-option\"\n        name=\"cloud-provider\"\n        isDisabled={isDisabled}\n        validated={validated}\n        onChange={(value) => onChange(value as CloudProvider)}\n      >\n        {[\n          <FormSelectOption\n            value=\"\"\n            key=\"placeholder\"\n            label={t(\"select_cloud_provider\")}\n          />,\n          providers.map(({ id, displayName }, index) => {\n            return (\n              <FormSelectOption key={index} value={id} label={displayName} />\n            );\n          }),\n        ]}\n      </FormSelect>\n    </>\n  );\n};\n\nconst tiles: { [id in CloudProvider]: JSX.Element } = {\n  aws: <AWSLogo />,\n  gcp: <GCPLogo />,\n  azure: <AzureLogo />,\n};\n","import { Flex, FlexItem, Form } from \"@patternfly/react-core\";\nimport type { FormEvent, VoidFunctionComponent } from \"react\";\nimport { useCallback } from \"react\";\nimport type { CloudProvider, MarketPlace } from \"ui-models/src/models/kafka\";\nimport type {\n  FieldInstanceNameProps,\n  FieldSizeProps,\n  InstanceInfoProps,\n} from \"./components\";\nimport {\n  FieldAZ,\n  FieldBillingTiles,\n  FieldCloudProvider,\n  FieldCloudRegion,\n  FieldInstanceName,\n  FieldSize,\n  FormAlerts,\n  InstanceInfo,\n  InstanceInfoSkeleton,\n  ModalAlertsStandardPlan,\n} from \"./components\";\nimport { useStandardPlanMachine } from \"./machines\";\n\nexport type StandardInstanceFormProps = {\n  formId: string;\n  onClickContactUs: () => void;\n  onLearnHowToAddStreamingUnits: () => void;\n  onLearnMoreAboutSizes: () => void;\n  onClickQuickStart: () => void;\n  subscriptionOptionsHref: string;\n};\n\nexport const StandardInstanceForm: VoidFunctionComponent<\n  StandardInstanceFormProps\n> = ({\n  formId,\n  onClickContactUs,\n  onLearnHowToAddStreamingUnits,\n  onLearnMoreAboutSizes,\n  onClickQuickStart,\n  subscriptionOptionsHref,\n}) => {\n  const {\n    isBillingSelectionRequired,\n    isBillingSingleMarketplace,\n    capabilities,\n    selectedSize,\n    billingType,\n    error,\n    onCreate,\n  } = useStandardPlanMachine();\n\n  const onSubmit = useCallback(\n    (event: FormEvent<HTMLFormElement>) => {\n      event.preventDefault();\n      onCreate();\n    },\n    [onCreate]\n  );\n\n  const instanceInfoBilling: InstanceInfoProps[\"billing\"] = (() => {\n    if (!isBillingSelectionRequired) {\n      if (isBillingSingleMarketplace === false) {\n        return {\n          value: \"prepaid\",\n          subscriptionOptionsHref,\n          type: billingType,\n        };\n      } else {\n        return {\n          value: isBillingSingleMarketplace,\n          subscriptionOptionsHref,\n          type: billingType,\n        };\n      }\n    }\n    return undefined;\n  })();\n\n  return (\n    <>\n      <ModalAlertsStandardPlan\n        instanceAvailability={capabilities.instanceAvailability}\n        onClickContactUs={onClickContactUs}\n      />\n\n      <Flex\n        direction={{ default: \"column\", lg: \"row\" }}\n        alignItems={{ lg: \"alignItemsFlexStart\" }}\n      >\n        <FlexItem flex={{ default: \"flex_2\" }}>\n          <FormAlerts error={error} onClickContactUS={onClickContactUs} />\n          <Form onSubmit={onSubmit} id={formId}>\n            <ConnectedFieldInstanceName />\n            <ConnectedFieldCloudProvider />\n            <ConnectedFieldCloudRegion />\n            <ConnectedFieldAZ />\n            <ConnectedFieldSize\n              onLearnHowToAddStreamingUnits={onLearnHowToAddStreamingUnits}\n              onLearnMoreAboutSizes={onLearnMoreAboutSizes}\n            />\n            {isBillingSelectionRequired && (\n              <ConnectedBillingTiles\n                subscriptionOptionsHref={subscriptionOptionsHref}\n              />\n            )}\n          </Form>\n        </FlexItem>\n        <FlexItem\n          flex={{ default: \"flex_1\" }}\n          className=\"mas--CreateKafkaInstance__sidebar\"\n        >\n          {selectedSize === undefined ? (\n            <InstanceInfoSkeleton\n              isTrial={false}\n              onClickQuickStart={onClickQuickStart}\n            />\n          ) : (\n            <InstanceInfo\n              isTrial={false}\n              trialDurationInHours={undefined}\n              ingress={selectedSize.ingress}\n              egress={selectedSize.egress}\n              storage={selectedSize.storage}\n              maxPartitions={selectedSize.maxPartitions}\n              connections={selectedSize.connections}\n              connectionRate={selectedSize.connectionRate}\n              messageSize={selectedSize.messageSize}\n              onClickQuickStart={onClickQuickStart}\n              streamingUnits={selectedSize.displayName}\n              billing={instanceInfoBilling}\n            />\n          )}\n        </FlexItem>\n      </Flex>\n    </>\n  );\n};\n\nexport const ConnectedFieldInstanceName: VoidFunctionComponent = () => {\n  const {\n    form,\n    isNameTaken,\n    isNameInvalid,\n    isNameEmpty,\n    isNameError,\n    isFormEnabled,\n    setName,\n  } = useStandardPlanMachine();\n\n  const validity: FieldInstanceNameProps[\"validity\"] = (() => {\n    if (isNameTaken) {\n      return \"taken\";\n    } else if (isNameInvalid) {\n      return \"invalid\";\n    } else if (isNameEmpty && isNameError) {\n      return \"required\";\n    }\n    return \"valid\";\n  })();\n\n  return (\n    <FieldInstanceName\n      value={form.name || \"\"}\n      validity={validity}\n      isDisabled={!isFormEnabled}\n      onChange={setName}\n    />\n  );\n};\n\nexport const ConnectedFieldCloudProvider: VoidFunctionComponent = () => {\n  const {\n    form,\n    capabilities,\n    isProviderError,\n    isFormEnabled,\n    isBillingSingleMarketplace,\n    setProvider,\n  } = useStandardPlanMachine();\n\n  const providers =\n    isBillingSingleMarketplace &&\n    isBillingSingleMarketplace.marketplace !== \"rhm\"\n      ? capabilities.availableProviders.map((p) => ({\n          ...p,\n          isDisabled: p.id !== isBillingSingleMarketplace.marketplace,\n        }))\n      : capabilities.availableProviders;\n\n  return (\n    <FieldCloudProvider\n      isValid={!isProviderError}\n      providers={providers}\n      value={form.provider}\n      isDisabled={!isFormEnabled}\n      onChange={setProvider}\n    />\n  );\n};\n\nexport const ConnectedFieldCloudRegion: VoidFunctionComponent = () => {\n  const {\n    form,\n    selectedProvider,\n    selectedSize,\n    isRegionError,\n    isFormEnabled,\n    capabilities,\n    error,\n    setRegion,\n  } = useStandardPlanMachine();\n\n  return (\n    <FieldCloudRegion\n      validity={\n        isRegionError\n          ? \"required\"\n          : error === \"region-unavailable\" ||\n            capabilities.instanceAvailability === \"regions-unavailable\"\n          ? \"region-unavailable\"\n          : \"valid\"\n      }\n      regions={selectedProvider?.regions}\n      value={form.region}\n      isDisabled={!isFormEnabled}\n      isSizeUnavailable={selectedSize?.isDisabled || false}\n      onChange={setRegion}\n    />\n  );\n};\n\nexport const ConnectedFieldAZ: VoidFunctionComponent = () => {\n  const { isFormEnabled } = useStandardPlanMachine();\n\n  return (\n    <FieldAZ\n      validity={\"valid\"}\n      options={\"multi\"}\n      value={\"multi\"}\n      isDisabled={!isFormEnabled}\n      onChange={() => false} // AZ is defined by the backend, we just visualize the value here\n    />\n  );\n};\n\nexport const ConnectedFieldSize: VoidFunctionComponent<\n  Pick<\n    FieldSizeProps,\n    \"onLearnHowToAddStreamingUnits\" | \"onLearnMoreAboutSizes\"\n  >\n> = ({ onLearnHowToAddStreamingUnits, onLearnMoreAboutSizes }) => {\n  const {\n    form,\n    sizes,\n    isSizeOverQuota,\n    isSizeDisabled,\n    isSizeError,\n    isSizeLoadingError,\n    isBillingSelectionRequired,\n    isFormEnabled,\n    isLoadingSizes,\n    isLoading,\n    setSize,\n    remainingQuota,\n  } = useStandardPlanMachine();\n\n  return (\n    <FieldSize\n      value={form.size?.quota}\n      sizes={sizes}\n      remainingQuota={isBillingSelectionRequired ? undefined : remainingQuota}\n      isDisabled={!isFormEnabled || sizes === undefined}\n      isLoading={isLoading || isLoadingSizes}\n      isError={isSizeError}\n      isLoadingError={isSizeLoadingError}\n      validity={\n        isSizeOverQuota ? \"out-of-quota\" : isSizeDisabled ? \"required\" : \"valid\"\n      }\n      onChange={setSize}\n      onLearnHowToAddStreamingUnits={onLearnHowToAddStreamingUnits}\n      onLearnMoreAboutSizes={onLearnMoreAboutSizes}\n    />\n  );\n};\n\nfunction isMarketplaceDisabled(\n  marketplace: MarketPlace,\n  selectedProvider: CloudProvider | undefined\n) {\n  if (marketplace === \"rhm\") {\n    return false;\n  } else if (selectedProvider) {\n    return marketplace !== selectedProvider;\n  }\n  return false;\n}\n\nexport const ConnectedBillingTiles: VoidFunctionComponent<{\n  subscriptionOptionsHref: string;\n}> = ({ subscriptionOptionsHref }) => {\n  const {\n    form,\n    capabilities,\n    selectedBilling,\n    billingType,\n    isBillingPrepaidAvailable,\n    isSizeOverQuota,\n    isBillingError,\n    isBillingPrepaidOverQuota,\n    isBillingMarketplaceOverQuota,\n    setBillingPrepaid,\n    setBillingSubscription,\n  } = useStandardPlanMachine();\n\n  return (\n    <FieldBillingTiles\n      value={\n        selectedBilling === \"prepaid\"\n          ? \"prepaid\"\n          : selectedBilling?.subscription\n      }\n      hasPrepaid={isBillingPrepaidAvailable}\n      subscriptions={capabilities.marketplaceSubscriptions.flatMap((mq) =>\n        mq.subscriptions.map((subscription) => ({\n          marketplace: mq.marketplace,\n          subscription,\n          isDisabled: isMarketplaceDisabled(mq.marketplace, form.provider),\n        }))\n      )}\n      isPrepaidOverQuota={isBillingPrepaidOverQuota}\n      prepaidQuota={capabilities.remainingPrepaidQuota || 0} // we can default to 0 here just to make TS happy, we will have the info here\n      isMarketplaceOverQuota={isBillingMarketplaceOverQuota}\n      marketplaceQuota={capabilities.remainingMarketplaceQuota || 0} // we can default to 0 here just to make TS happy, we will have the info here\n      onPrepaid={setBillingPrepaid}\n      onSubscription={setBillingSubscription}\n      isValid={!isSizeOverQuota && !isBillingError}\n      billingType={billingType}\n      subscriptionOptionsHref={subscriptionOptionsHref}\n    />\n  );\n};\n","import { DropdownGroup } from \"@patternfly/react-core\";\nimport { ActionsColumn } from \"@patternfly/react-table\";\nimport { useTranslation } from \"@rhoas/app-services-ui-components\";\nimport type { VoidFunctionComponent } from \"react\";\n\nexport type KafkaInstanceActionsProps = {\n  onDetails: () => void;\n  onConnection: () => void;\n  canOpenConnection: boolean;\n  canChangeOwner: boolean;\n  onChangeOwner: () => void;\n  canDelete: boolean;\n  onDelete: () => void;\n};\n\nexport const KafkaInstanceActions: VoidFunctionComponent<\n  KafkaInstanceActionsProps\n> = ({\n  onDetails,\n  onConnection,\n  canOpenConnection,\n  canChangeOwner,\n  onChangeOwner,\n  canDelete,\n  onDelete,\n}) => {\n  const { t } = useTranslation(\"kafka\");\n  return (\n    <ActionsColumn\n      rowData={hackZIndex}\n      items={[\n        {\n          customChild: (\n            <DropdownGroup\n              label={t(\"table.actions.view-instance-information\")}\n            />\n          ),\n        },\n        {\n          title: t(\"table.actions.details\"),\n          onClick: onDetails,\n        },\n        {\n          title: t(\"table.actions.connection\"),\n          ...(!canOpenConnection\n            ? {\n                isDisabled: true,\n                tooltipProps: {\n                  position: \"left\",\n                  content: t(\"kafka:no_permission_to_see_connections\"),\n                },\n                tooltip: true,\n                style: {\n                  pointerEvents: \"auto\",\n                  cursor: \"default\",\n                },\n              }\n            : {\n                onClick: onConnection,\n              }),\n        },\n        {\n          isSeparator: true,\n        },\n        {\n          title: t(\"table.actions.change-owner\"),\n          ...(!canChangeOwner\n            ? {\n                isDisabled: true,\n                tooltipProps: {\n                  position: \"left\",\n                  content: t(\"kafka:no_permission_to_change_owner\"),\n                },\n                tooltip: true,\n                style: {\n                  pointerEvents: \"auto\",\n                  cursor: \"default\",\n                },\n              }\n            : {\n                onClick: onChangeOwner,\n              }),\n        },\n        {\n          title: t(\"table.actions.delete\"),\n          ...(!canDelete\n            ? {\n                isDisabled: true,\n                tooltipProps: {\n                  position: \"left\",\n                  content: t(\"kafka:no_permission_to_delete_kafka\"),\n                },\n                tooltip: true,\n                style: {\n                  pointerEvents: \"auto\",\n                  cursor: \"default\",\n                },\n              }\n            : {\n                onClick: onDelete,\n              }),\n        },\n      ]}\n    />\n  );\n};\n\nconst hackZIndex = {\n  actionProps: {\n    style: { zIndex: 9999 },\n  },\n};\n","import {\n  Breadcrumb,\n  BreadcrumbItem,\n  Level,\n  LevelItem,\n  Nav,\n  NavItem,\n  NavList,\n  PageSection,\n  PageSectionVariants,\n  Text,\n  TextContent,\n} from \"@patternfly/react-core\";\nimport { useTranslation } from \"@rhoas/app-services-ui-components\";\nimport type { VoidFunctionComponent } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport type { KafkaInstanceActionsProps } from \"./KafkaInstanceActions\";\nimport { KafkaInstanceActions } from \"./KafkaInstanceActions\";\n\ntype Sections =\n  | \"dashboard\"\n  | \"topics\"\n  | \"consumer\"\n  | \"permissions\"\n  | \"settings\";\n\nexport type DataPlaneHeaderProps = {\n  instancesHref: string;\n  instanceName: string;\n  activeSection: Sections;\n  sectionsHref: { [key in Sections]: string };\n} & KafkaInstanceActionsProps;\n\nexport const DataPlaneHeader: VoidFunctionComponent<DataPlaneHeaderProps> = ({\n  instancesHref,\n  instanceName,\n  activeSection,\n  sectionsHref,\n  ...actionsProps\n}) => {\n  const { t } = useTranslation(\"kafka\");\n\n  return (\n    <>\n      <section className=\"pf-c-page__main-breadcrumb\">\n        <Breadcrumb ouiaId={\"breadcrumb\"}>\n          <BreadcrumbItem\n            render={() => (\n              <Link to={instancesHref}>{t(\"common:kafka_instance\")}</Link>\n            )}\n          />\n          <BreadcrumbItem isActive={true}>{instanceName}</BreadcrumbItem>\n        </Breadcrumb>\n      </section>\n      <PageSection variant={PageSectionVariants.light}>\n        <Level>\n          <LevelItem>\n            <TextContent>\n              <Text component=\"h1\">{instanceName}</Text>\n            </TextContent>\n          </LevelItem>\n          <LevelItem>\n            <KafkaInstanceActions {...actionsProps} />\n          </LevelItem>\n        </Level>\n      </PageSection>\n      <PageSection\n        variant={PageSectionVariants.light}\n        padding={{ default: \"noPadding\" }}\n        className=\"pf-c-page__main-tabs\"\n        hasShadowBottom={true}\n      >\n        <Nav\n          variant=\"tertiary\"\n          data-testid=\"pageKafka-tabProperties\"\n          className=\"pf-u-px-sm-on-xl\"\n        >\n          <NavList>\n            <NavItem\n              style={{ borderTop: 0 }}\n              data-testid=\"pageKafka-tabDashboard\"\n              id=\"dashboard-tab-section\"\n              aria-label={t(\"dataPlaneNavigation.dashboard\")}\n              ouiaId={\"tab-Dashboard\"}\n              isActive={activeSection === \"dashboard\"}\n            >\n              <Link to={sectionsHref[\"dashboard\"]}>\n                {t(\"dataPlaneNavigation.dashboard\")}\n              </Link>\n            </NavItem>\n            <NavItem\n              style={{ borderTop: 0 }}\n              data-testid=\"pageKafka-tabTopics\"\n              id=\"topics-tab-section\"\n              aria-label={t(\"dataPlaneNavigation.topics\")}\n              ouiaId={\"tab-Topics\"}\n              isActive={activeSection === \"topics\"}\n            >\n              <Link to={sectionsHref[\"topics\"]}>\n                {t(\"dataPlaneNavigation.topics\")}\n              </Link>\n            </NavItem>\n            <NavItem\n              style={{ borderTop: 0 }}\n              data-testid=\"pageKafka-tabConsumers\"\n              id=\"consumer-groups-tab-section\"\n              aria-label={t(\"dataPlaneNavigation.consumer_groups\")}\n              ouiaId={\"tab-Consumers\"}\n              isActive={activeSection === \"consumer\"}\n            >\n              <Link to={sectionsHref[\"consumer\"]}>\n                {t(\"dataPlaneNavigation.consumer_groups\")}\n              </Link>\n            </NavItem>\n            <NavItem\n              style={{ borderTop: 0 }}\n              data-testid=\"pageKafka-tabPermissions\"\n              id=\"permissions-tab-section\"\n              aria-label={t(\"dataPlaneNavigation.permissions\")}\n              ouiaId={\"tab-Permissions\"}\n              isActive={activeSection === \"permissions\"}\n            >\n              <Link to={sectionsHref[\"permissions\"]}>\n                {t(\"dataPlaneNavigation.permissions\")}\n              </Link>\n            </NavItem>\n            <NavItem\n              style={{ borderTop: 0 }}\n              data-testid=\"pageKafka-tabSettings\"\n              id=\"settings-tab-section\"\n              aria-label={t(\"dataPlaneNavigation.settings\")}\n              ouiaId={\"tab-Settings\"}\n              isActive={activeSection === \"settings\"}\n            >\n              <Link to={sectionsHref[\"settings\"]}>\n                {t(\"dataPlaneNavigation.settings\")}\n              </Link>\n            </NavItem>\n          </NavList>\n        </Nav>\n      </PageSection>\n    </>\n  );\n};\n","import {\n  Breadcrumb,\n  BreadcrumbItem,\n  Level,\n  LevelItem,\n  Nav,\n  NavItem,\n  NavList,\n  PageSection,\n  PageSectionVariants,\n  Text,\n  TextContent,\n} from \"@patternfly/react-core\";\nimport { useTranslation } from \"@rhoas/app-services-ui-components\";\nimport type { VoidFunctionComponent } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport type { KafkaInstanceActionsProps } from \"./KafkaInstanceActions\";\nimport { KafkaInstanceActions } from \"./KafkaInstanceActions\";\n\ntype Sections = \"consumer\" | \"messages\" | \"properties\" | \"schemas\";\n\nexport type DataPlaneTopicHeaderProps = {\n  instancesHref: string;\n  instanceName: string;\n  instanceDetailHref: string;\n  instanceTopicsHref: string;\n  topicName: string;\n  activeSection: Sections;\n  tabsHref: { [key in Sections]: string };\n} & KafkaInstanceActionsProps;\n\nexport const DataPlaneTopicHeader: VoidFunctionComponent<\n  DataPlaneTopicHeaderProps\n> = ({\n  instancesHref,\n  instanceName,\n  instanceDetailHref,\n  instanceTopicsHref,\n  topicName,\n  activeSection,\n  tabsHref,\n  ...actionsProps\n}) => {\n  const { t } = useTranslation(\"kafka\");\n\n  return (\n    <>\n      <section className=\"pf-c-page__main-breadcrumb\">\n        <Breadcrumb ouiaId={\"breadcrumb\"}>\n          <BreadcrumbItem\n            render={() => (\n              <Link to={instancesHref}>{t(\"common:kafka_instance\")}</Link>\n            )}\n          />\n          <BreadcrumbItem\n            render={() => <Link to={instanceDetailHref}>{instanceName}</Link>}\n          />\n          <BreadcrumbItem\n            render={() => (\n              <Link to={instanceTopicsHref}>\n                {t(\"dataPlaneNavigation.topics\")}\n              </Link>\n            )}\n          />\n          <BreadcrumbItem isActive={true}>{topicName}</BreadcrumbItem>\n        </Breadcrumb>\n      </section>\n      <PageSection variant={PageSectionVariants.light}>\n        <Level>\n          <LevelItem>\n            <TextContent>\n              <Text component=\"h1\">{topicName}</Text>\n            </TextContent>\n          </LevelItem>\n          <LevelItem>\n            <KafkaInstanceActions {...actionsProps} />\n          </LevelItem>\n        </Level>\n      </PageSection>\n      <PageSection\n        variant={PageSectionVariants.light}\n        padding={{ default: \"noPadding\" }}\n        className=\"pf-c-page__main-tabs\"\n        hasShadowBottom={true}\n      >\n        <Nav variant=\"tertiary\" className=\"pf-u-px-sm-on-xl\">\n          <NavList>\n            <NavItem\n              style={{ borderTop: 0 }}\n              aria-label={t(\"dataPlaneTopicNavigation.consumer_groups\")}\n              ouiaId={\"tab-Dashboard\"}\n              isActive={activeSection === \"consumer\"}\n            >\n              <Link to={tabsHref[\"consumer\"]}>\n                {t(\"dataPlaneTopicNavigation.consumer_groups\")}\n              </Link>\n            </NavItem>\n            <NavItem\n              style={{ borderTop: 0 }}\n              aria-label={t(\"dataPlaneTopicNavigation.messages\")}\n              ouiaId={\"tab-Topics\"}\n              isActive={activeSection === \"messages\"}\n            >\n              <Link to={tabsHref[\"messages\"]}>\n                {t(\"dataPlaneTopicNavigation.messages\")}\n              </Link>\n            </NavItem>\n            <NavItem\n              style={{ borderTop: 0 }}\n              aria-label={t(\"dataPlaneTopicNavigation.properties\")}\n              ouiaId={\"tab-Permissions\"}\n              isActive={activeSection === \"properties\"}\n            >\n              <Link to={tabsHref[\"properties\"]}>\n                {t(\"dataPlaneTopicNavigation.properties\")}\n              </Link>\n            </NavItem>\n            <NavItem\n              style={{ borderTop: 0 }}\n              aria-label={t(\"dataPlaneTopicNavigation.schemas\")}\n              ouiaId={\"tab-Settings\"}\n              isActive={activeSection === \"schemas\"}\n            >\n              <Link to={tabsHref[\"schemas\"]}>\n                {t(\"dataPlaneTopicNavigation.schemas\")}\n              </Link>\n            </NavItem>\n          </NavList>\n        </Nav>\n      </PageSection>\n    </>\n  );\n};\n","import type { DeleteModalProps } from \"@rhoas/app-services-ui-components\";\nimport {\n  DeleteModal,\n  Trans,\n  useTranslation,\n} from \"@rhoas/app-services-ui-components\";\nimport type { VoidFunctionComponent } from \"react\";\n\nexport type DeleteKafkaInstanceProps = {\n  instanceName: string | undefined;\n} & Omit<\n  DeleteModalProps,\n  \"title\" | \"variant\" | \"confirmationValue\" | \"children\"\n>;\n\nexport const DeleteKafkaInstance: VoidFunctionComponent<\n  DeleteKafkaInstanceProps\n> = ({ instanceName, ...props }) => {\n  const { t } = useTranslation(\"kafka\");\n\n  return (\n    <DeleteModal\n      {...props}\n      variant={\"destructive\"}\n      title={t(\"delete_instance_title\")}\n      confirmationValue={instanceName}\n    >\n      <Trans\n        ns={\"kafka\"}\n        i18nKey={\"delete_instance_message\"}\n        components={[<strong />]}\n        values={{\n          instanceName,\n        }}\n      />\n    </DeleteModal>\n  );\n};\n","import type { I18nProviderProps } from \"@rhoas/app-services-ui-components\";\nimport { I18nProvider as UiComponentsI18nProvider } from \"@rhoas/app-services-ui-components\";\nimport type { FunctionComponent } from \"react\";\n\nexport const I18nProvider: FunctionComponent<\n  Omit<I18nProviderProps, \"resources\">\n> = ({ lng, debug, children }) => {\n  return (\n    <UiComponentsI18nProvider\n      lng={lng}\n      resources={{\n        en: {\n          common: () =>\n            import(\"@rhoas/app-services-ui-components/locales/en/common.json\"),\n          \"create-kafka-instance\": () =>\n            import(\"locales/en/create-kafka-instance.json\"),\n          kafka: () => import(\"locales/en/kafka.json\"),\n          \"kafkaoverview-v3\": () => import(\"locales/en/kafkaoverview-v3.json\"),\n          metrics: () => import(\"locales/en/metrics.json\"),\n          topic: () => import(\"locales/en/topic.json\"),\n          \"manage-kafka-permissions\": () =>\n            import(\"locales/en/manage-kafka-permissions.json\"),\n          \"create-topic\": () => import(\"locales/en/create-topic.json\"),\n          \"message-browser\": () => import(\"locales/en/message-browser.json\"),\n          \"connection-tab\": () => import(\"locales/en/connection-tab.json\"),\n          \"connection-tab-p1\": () =>\n            import(\"locales/en/connection-tab-p1.json\"),\n        },\n        it: {\n          common: () => Promise.resolve({ delete: \"Elimina\" }),\n        },\n      }}\n      debug={debug}\n    >\n      {children}\n    </UiComponentsI18nProvider>\n  );\n};\n","import { useTranslation } from \"react-i18next\";\nimport type {\n  CloudProvider,\n  KafkaField,\n  SimplifiedStatus,\n  Status,\n} from \"ui-models/src/models/kafka\";\n\nexport function useKafkaLabels() {\n  const { t } = useTranslation(\"kafka\");\n\n  const statuses: { [status in Status]: string } = {\n    ready: t(\"statuses.ready\"),\n    degraded: t(\"statuses.degraded\"),\n    accepted: t(\"statuses.accepted\"),\n    provisioning: t(\"statuses.provisioning\"),\n    preparing: t(\"statuses.preparing\"),\n    deprovision: t(\"statuses.deprovision\"),\n    deleting: t(\"statuses.deleting\"),\n    suspended: t(\"statuses.suspended\"),\n    suspending: t(\"statuses.suspending\"),\n    resuming: t(\"statuses.resuming\"),\n  };\n  const statusesSimplified: { [status in SimplifiedStatus]: string } = {\n    creating: t(\"statusesSimplified.creating\"),\n    ready: t(\"statusesSimplified.ready\"),\n    degraded: t(\"statusesSimplified.degraded\"),\n    deleting: t(\"statusesSimplified.deleting\"),\n    suspended: t(\"statusesSimplified.suspended\"),\n    suspending: t(\"statusesSimplified.suspending\"),\n    resuming: t(\"statusesSimplified.resuming\"),\n  };\n  const providers: { [provider in CloudProvider]: string } = {\n    aws: t(\"common:cloudProviders.aws\"),\n    gcp: t(\"common:cloudProviders.gcp\"),\n    azure: t(\"common:cloudProviders.azure\"),\n  };\n  const providerRegions: {\n    [provider in CloudProvider]: { [region: string]: string };\n  } = {\n    aws: {},\n    gcp: {},\n    azure: {},\n  };\n  const fields: {\n    [field in KafkaField]: string;\n  } = {\n    id: t(\"fields.id\"),\n    name: t(\"fields.name\"),\n    createdAt: t(\"fields.createdAt\"),\n    updatedAt: t(\"fields.updatedAt\"),\n    expiryDate: t(\"fields.expiryDate\"),\n    owner: t(\"fields.owner\"),\n    provider: t(\"fields.provider\"),\n    region: t(\"fields.region\"),\n    status: t(\"fields.status\"),\n    plan: t(\"fields.plan\"),\n    size: t(\"fields.size\"),\n    ingress: t(\"fields.ingress\"),\n    egress: t(\"fields.egress\"),\n    storage: t(\"fields.storage\"),\n    maxPartitions: t(\"fields.maxPartitions\"),\n    connections: t(\"fields.connections\"),\n    connectionRate: t(\"fields.connectionRate\"),\n    messageSize: t(\"fields.messageSize\"),\n    billing: t(\"fields.billing\"),\n    adminUrl: t(\"fields.adminUrl\"),\n    bootstrapUrl: t(\"fields.bootstrapUrl\"),\n    version: t(\"fields.version\"),\n  };\n  return {\n    fields,\n    statuses,\n    statusesSimplified,\n    providers,\n    providerRegions,\n  };\n}\n","import { useTranslation } from \"react-i18next\";\nimport type { TopicField } from \"ui-models/src/models/topic\";\n\nexport function useTopicLabels() {\n  const { t } = useTranslation(\"topic\");\n\n  const fields: {\n    [field in TopicField]: string;\n  } = {\n    name: t(\"fields.name\"),\n    partitions: t(\"fields.partitions\"),\n    \"cleanup.policy\": t(\"fields.cleanup_policy\"),\n    \"delete.retention.ms\": t(\"fields.delete_retention_ms\"),\n    \"max.compaction.lag.ms\": t(\"fields.max_compaction_lag_ms\"),\n    \"max.message.bytes\": t(\"fields.max_message_bytes\"),\n    \"message.downconversion.enable\": t(\"fields.message_downconversion_enable\"),\n    \"message.timestamp.difference.max.ms\": t(\n      \"fields.message_timestamp_difference_max_ms\"\n    ),\n    \"message.timestamp.type\": t(\"fields.message_timestamp_type\"),\n    \"min.compaction.lag.ms\": t(\"fields.min_compaction_lag_ms\"),\n    \"retention.bytes\": t(\"fields.retention_bytes\"),\n    \"retention.ms\": t(\"fields.retention_ms\"),\n    \"segment.bytes\": t(\"fields.segment_bytes\"),\n    \"segment.ms\": t(\"fields.segment_ms\"),\n    \"compression.type\": t(\"fields.compression_type\"),\n    \"file.delete.delay.ms\": t(\"fields.file_delete_delay_ms\"),\n    \"flush.messages\": t(\"fields.flush_messages\"),\n    \"flush.ms\": t(\"fields.flush_ms\"),\n    \"follower.replication.throttled.replicas\": t(\n      \"fields.follower_replication_throttled_replicas\"\n    ),\n    \"index.interval.bytes\": t(\"fields.index_interval_bytes\"),\n    \"leader.replication.throttled.replicas\": t(\n      \"fields.leader_replication_throttled_replicas\"\n    ),\n    \"message.format.version\": t(\"fields.message_format_version\"),\n    \"min.cleanable.dirty.ratio\": t(\"fields.min_cleanable_dirty_ratio\"),\n    \"min.insync.replicas\": t(\"fields.min_insync_replicas\"),\n    \"segment.index.bytes\": t(\"fields.segment_index_bytes\"),\n    \"segment.jitter.ms\": t(\"fields.segment_jitter_ms\"),\n    \"unclean.leader.election.enable\": t(\n      \"fields.unclean_leader_election_enable\"\n    ),\n    preallocate: t(\"fields.preallocate\"),\n  };\n  return {\n    fields,\n  };\n}\n","import { Alert } from \"@patternfly/react-core\";\nimport { differenceInHours } from \"date-fns\";\nimport type { FunctionComponent } from \"react\";\nimport { Trans } from \"@rhoas/app-services-ui-components\";\nimport { FormatDate } from \"@rhoas/app-services-ui-components\";\n\ntype DetailsTabAlertProps = {\n  expiryDate: Date;\n};\n\nexport const DetailsTabAlert: FunctionComponent<DetailsTabAlertProps> = ({\n  expiryDate,\n}) => {\n  const hoursLeft = expiryDate ? differenceInHours(expiryDate, Date.now()) : 0;\n  return (\n    <Alert\n      variant={\n        hoursLeft > 24\n          ? \"info\"\n          : hoursLeft < 24 && hoursLeft > 5\n          ? \"warning\"\n          : \"danger\"\n      }\n      title={\n        <Trans\n          i18nKey=\"kafka:will_expire\"\n          components={{\n            time: <FormatDate date={expiryDate} format=\"expiration\" />,\n          }}\n        />\n      }\n      aria-live=\"polite\"\n      isInline\n      className=\"pf-u-mb-lg\"\n    />\n  );\n};\n","import {\n  Skeleton,\n  TextContent,\n  TextList,\n  TextListItem,\n  TextListItemVariants,\n  TextListVariants,\n} from \"@patternfly/react-core\";\nimport { FormatDate, useTranslation } from \"@rhoas/app-services-ui-components\";\nimport type { ReactChild, VoidFunctionComponent } from \"react\";\nimport type { MarketplaceSubscription, Plan } from \"ui-models/src/models/kafka\";\nimport type { Bytes } from \"../../../../../ui-models/src/types\";\nimport { DetailsTabAlert } from \"./DetailsTabAlert\";\n\n/**\n * All fields marked as accepting undefined will show a skeleton loader until the value is available.\n * This is to support fetching the data from different APIs.\n */\nexport type KafkaDetailsTabProps = {\n  id: string;\n  createdAt: Date;\n  updatedAt: Date;\n  expiryDate: Date | undefined;\n  owner: string;\n  provider: string;\n  region: string;\n  instanceType: Plan;\n  size: string | undefined;\n  ingress: number | undefined;\n  egress: number | undefined;\n  storage: Bytes | undefined;\n  maxPartitions: number | undefined;\n  connections: number | undefined;\n  connectionRate: number | undefined;\n  messageSize: Bytes | undefined;\n  billing: \"prepaid\" | MarketplaceSubscription | undefined;\n  kafkaVersion: string;\n};\n\nexport const KafkaDetailsTab: VoidFunctionComponent<KafkaDetailsTabProps> = ({\n  id,\n  createdAt,\n  updatedAt,\n  owner,\n  provider,\n  region,\n  expiryDate,\n  instanceType,\n  size,\n  ingress,\n  egress,\n  storage,\n  maxPartitions,\n  connections,\n  connectionRate,\n  messageSize,\n  billing,\n  kafkaVersion,\n}) => {\n  const { t } = useTranslation(\"kafka\");\n\n  const renderTextListItem = (title: string, value: ReactChild | undefined) => (\n    <>\n      <TextListItem component={TextListItemVariants.dt}>{title}</TextListItem>\n      {value ? (\n        <TextListItem component={TextListItemVariants.dd}>{value}</TextListItem>\n      ) : (\n        <Skeleton\n          width=\"50%\"\n          screenreaderText={t(\"common:skeleton_loader_screenreader_text\", {\n            contentName: title,\n          })}\n        />\n      )}\n    </>\n  );\n  return (\n    <div className=\"mas--details__drawer--tab-content\">\n      {instanceType !== \"standard\" && expiryDate && (\n        <DetailsTabAlert expiryDate={expiryDate} />\n      )}\n      <TextContent>\n        <TextList component={TextListVariants.dl}>\n          {instanceType === \"standard\" &&\n            renderTextListItem(\n              t(\"common:size\"),\n              size\n                ? t(\"create-kafka-instance:streaming_size_value\", {\n                    value: size,\n                  })\n                : undefined\n            )}\n          {renderTextListItem(\n            t(\"ingress\"),\n            ingress\n              ? t(\"create-kafka-instance:ingress_value\", {\n                  value: ingress,\n                })\n              : undefined\n          )}\n          {renderTextListItem(\n            t(\"egress\"),\n            egress\n              ? t(\"create-kafka-instance:egress_value\", {\n                  value: egress,\n                })\n              : undefined\n          )}\n          {renderTextListItem(\n            t(\"storage\"),\n            storage\n              ? t(\"create-kafka-instance:storage_value\", {\n                  value: storage.value,\n                })\n              : undefined\n          )}\n          {renderTextListItem(\n            t(\"partitions\"),\n            maxPartitions\n              ? t(\"create-kafka-instance:partitions_value\", {\n                  value: maxPartitions,\n                })\n              : undefined\n          )}\n          {renderTextListItem(\n            t(\"client_connections\"),\n            connections\n              ? t(\"create-kafka-instance:client_connections_value\", {\n                  value: connections,\n                })\n              : undefined\n          )}\n          {renderTextListItem(\n            t(\"connection_rate\"),\n            connectionRate\n              ? t(\"create-kafka-instance:connection_rate_value\", {\n                  value: connectionRate,\n                })\n              : undefined\n          )}\n          {renderTextListItem(\n            t(\"message_size\"),\n            messageSize\n              ? t(\"create-kafka-instance:message_size_value\", {\n                  value: messageSize.value,\n                })\n              : undefined\n          )}\n\n          {renderTextListItem(t(\"common:id\"), id)}\n          {renderTextListItem(t(\"common:kafka_version\"), kafkaVersion)}\n          {renderTextListItem(t(\"common:owner\"), owner)}\n          {renderTextListItem(\n            t(\"common:time_created\"),\n            <FormatDate date={createdAt} format={\"long\"} />\n          )}\n          {renderTextListItem(\n            t(\"common:time_updated\"),\n            <FormatDate date={updatedAt} format={\"long\"} />\n          )}\n          {renderTextListItem(t(\"common:cloud_provider\"), provider)}\n          {renderTextListItem(t(\"common:region\"), region)}\n          {renderTextListItem(\n            t(\"create-kafka-instance:billing.field_label\"),\n            (() => {\n              if (billing === undefined) {\n                return undefined;\n              } else if (billing === \"prepaid\") {\n                return t(\"create-kafka-instance:billing.prepaid_option\");\n              } else {\n                switch (billing.marketplace) {\n                  case \"aws\":\n                    return (\n                      <>\n                        {t(\"create-kafka-instance:billing.marketplace_aws\")}\n                        <br />\n                        {billing.subscription}\n                      </>\n                    );\n                  case \"azure\":\n                    return (\n                      <>\n                        {t(\"create-kafka-instance:billing.marketplace_azure\")}\n                        <br />\n                        {billing.subscription}\n                      </>\n                    );\n                  case \"gcp\":\n                    return (\n                      <>\n                        {t(\"create-kafka-instance:billing.marketplace_gcp\")}\n                        <br />\n                        {billing.subscription}\n                      </>\n                    );\n                  case \"rhm\":\n                    return (\n                      <>\n                        {t(\"create-kafka-instance:billing.marketplace_rh\")}\n                        <br />\n                        {billing.subscription}\n                      </>\n                    );\n                }\n              }\n            })()\n          )}\n        </TextList>\n      </TextContent>\n    </div>\n  );\n};\n","import {\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateIcon,\n  EmptyStateVariant,\n  Title,\n  TitleSizes,\n} from \"@patternfly/react-core\";\nimport { ExclamationTriangleIcon } from \"@patternfly/react-icons\";\nimport type { VoidFunctionComponent } from \"react\";\nimport { useTranslation } from \"@rhoas/app-services-ui-components\";\n\nexport const SuspendedConnection: VoidFunctionComponent = () => {\n  const { t } = useTranslation(\"kafka\");\n  return (\n    <EmptyState variant={EmptyStateVariant.small}>\n      <EmptyStateIcon icon={ExclamationTriangleIcon} color={\"#f0ab00\"} />\n      <Title headingLevel={\"h1\"} size={TitleSizes.lg}>\n        {t(\"suspend_empty_state_title\")}\n      </Title>\n      <EmptyStateBody>{t(\"suspend_empty_state_body\")}</EmptyStateBody>\n    </EmptyState>\n  );\n};\n","import {\n  Button,\n  ButtonVariant,\n  ClipboardCopy,\n  ExpandableSection,\n  Label,\n  Popover,\n  Skeleton,\n  Text,\n  TextContent,\n  TextVariants,\n} from \"@patternfly/react-core\";\nimport { HelpIcon } from \"@patternfly/react-icons\";\nimport {\n  ExternalLink,\n  Trans,\n  useTranslation,\n} from \"@rhoas/app-services-ui-components\";\nimport type { FunctionComponent } from \"react\";\nimport { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { SuspendedConnection } from \"./SuspendedConnection\";\n\nexport type KafkaConnectionTabP2Props = {\n  isKafkaSuspended?: boolean;\n  isKafkaPending?: boolean;\n  externalServer?: string;\n  tokenEndPointUrl: string;\n  linkToServiceAccount: string;\n  linkToAccessTab: string;\n  adminAPIUrl: string | undefined;\n  showCreateServiceAccountModal: () => void;\n  kafkaFleetManagerUrl: string;\n};\n\nexport const KafkaConnectionTabP2: FunctionComponent<\n  KafkaConnectionTabP2Props\n> = ({\n  isKafkaSuspended,\n  isKafkaPending,\n  externalServer,\n  tokenEndPointUrl,\n  linkToServiceAccount,\n  linkToAccessTab,\n  adminAPIUrl,\n  kafkaFleetManagerUrl,\n  showCreateServiceAccountModal,\n}) => {\n  const { t } = useTranslation();\n\n  const [isExpanded, setIsExpanded] = useState<boolean>(false);\n\n  const onChangeExpandedSection = () => {\n    setIsExpanded(!isExpanded);\n  };\n\n  return isKafkaSuspended ? (\n    <SuspendedConnection />\n  ) : (\n    <div className=\"mas--details__drawer--tab-content\">\n      <TextContent className=\"pf-u-pb-sm\">\n        <Text component={TextVariants.small}>\n          {t(\"connection-tab:drawer_resource_tab_body_description_1\")}\n        </Text>\n        <Text component={TextVariants.h3} className=\"pf-u-mt-xl\">\n          {t(\"connection-tab:bootstrap_server\")}\n        </Text>\n        <Text component={TextVariants.small}>\n          {t(\"connection-tab:bootstrap_server_description\")}\n        </Text>\n        {isKafkaPending ? (\n          <Skeleton fontSize=\"2xl\" />\n        ) : (\n          <ClipboardCopy\n            data-testid=\"drawerStreams-copyBootstrapURL\"\n            textAriaLabel={t(\"connection-tab:bootstrap_server\")}\n            isReadOnly\n          >\n            {externalServer}\n          </ClipboardCopy>\n        )}\n      </TextContent>\n      <TextContent className=\"pf-u-pb-sm\">\n        <Text component={TextVariants.h3} className=\"pf-u-mt-xl\">\n          {t(\"connection-tab:service_accounts_small\")}\n        </Text>\n        <Text component={TextVariants.small}>\n          {\n            <Trans\n              i18nKey={\n                \"connection-tab:create_service_account_to_generate_credentials\"\n              }\n              components={{\n                value: (\n                  <Link\n                    to={linkToServiceAccount}\n                    data-testid=\"tableStreams-linkKafka\"\n                  ></Link>\n                ),\n              }}\n            />\n          }\n        </Text>\n      </TextContent>\n      <Button\n        variant={ButtonVariant.secondary}\n        isInline\n        onClick={showCreateServiceAccountModal}\n        data-testid=\"drawerStreams-buttonCreateServiceAccount\"\n      >\n        {t(\"connection-tab:create_service_account\")}\n      </Button>\n      <TextContent className=\"pf-u-pt-sm\">\n        <Text component={TextVariants.small}>\n          {\n            <Trans\n              i18nKey={\"connection-tab:current_instance\"}\n              components={{\n                value: <Link to={linkToAccessTab}></Link>,\n              }}\n            />\n          }\n        </Text>\n      </TextContent>\n      <TextContent className=\"pf-u-pb-sm\">\n        <ExpandableSection\n          toggleContent={\n            <div className=\"pf-c-content\">\n              <Text component={TextVariants.h3} className={\"pf-c-content\"}>\n                {t(\"connection-tab:rest_api_header\")}\n              </Text>\n            </div>\n          }\n          isExpanded={isExpanded}\n          onToggle={onChangeExpandedSection}\n          className=\"pf-u-mt-lg\"\n        >\n          <TextContent className=\"pf-u-pb-sm\">\n            <Text component={TextVariants.small}>\n              {t(\"connection-tab:rest_api_description\")}\n            </Text>\n          </TextContent>\n          <TextContent>\n            <strong>\n              {t(\"connection-tab:kafka_instance_url_label\")}\n              <Popover\n                headerContent={\n                  <div>\n                    {t(\"connection-tab:kafka_instance_url_popover_label\")}\n                  </div>\n                }\n                bodyContent={\n                  <TextContent>\n                    <p>{t(\"connection-tab:kafka_instance_url_popover_body\")}</p>\n                    <p>\n                      <Trans\n                        ns={\"connection-tab\"}\n                        i18nKey={\"popover_helper_text\"}\n                        components={[\n                          <Button\n                            isInline\n                            variant={ButtonVariant.link}\n                            component=\"a\"\n                            href=\"https://console.redhat.com/docs/api/kafkainstance?github-owner=redhat-developer&github-repo=app-services-sdk-core&github-content=kafka-admin-rest.yaml%3Fref%3Ddoc-portal&readonly=true\"\n                          />,\n                          <ExternalLink\n                            testId={\"customerPortal-link\"}\n                            href=\"https://access.redhat.com/documentation/en-us/red_hat_openshift_application_services/1/guide/2409253a-45ee-470e-bdc9-5db4bfcf9d0f\"\n                            className={\"pf-u-ml-xs\"}\n                          />,\n                        ]}\n                      />\n                    </p>\n                  </TextContent>\n                }\n              >\n                <Button\n                  variant={ButtonVariant.plain}\n                  aria-label={t(\n                    \"connection-tab:kafka_instance_url_button_aria_label\"\n                  )}\n                >\n                  <HelpIcon />\n                </Button>\n              </Popover>\n            </strong>\n            {adminAPIUrl ? (\n              <ClipboardCopy\n                textAriaLabel={t(\"connection-tab:kafka_instance_url_label\")}\n                isReadOnly\n              >\n                {adminAPIUrl}\n              </ClipboardCopy>\n            ) : (\n              <Skeleton fontSize=\"2xl\" />\n            )}\n            <TextContent className=\"pf-u-pt-sm\">\n              <Text component={TextVariants.small}>\n                {t(\"connection-tab:kafka_instance_url_description\")}\n              </Text>\n            </TextContent>\n          </TextContent>\n          <TextContent className=\"pf-u-mt-md\">\n            <strong>\n              {t(\"connection-tab:kafka_management_url\")}\n              <Popover\n                headerContent={\n                  <div>\n                    {t(\"connection-tab:kafka_management_popover_header\")}\n                  </div>\n                }\n                bodyContent={\n                  <TextContent>\n                    <p>{t(\"connection-tab:kafka_management_popover_body\")}</p>\n                    <p>\n                      <Trans\n                        ns={\"connection-tab\"}\n                        i18nKey={\"popover_helper_text\"}\n                        components={[\n                          <Button\n                            isInline\n                            variant={ButtonVariant.link}\n                            component=\"a\"\n                            href=\"https://console.redhat.com/docs/api/kafkamgmt?github-owner=redhat-developer&github-repo=app-services-sdk-core&github-content=kas-fleet-manager.yaml%3Fref%3Ddoc-portal\"\n                          />,\n                          <ExternalLink\n                            testId={\"customerPortal-link\"}\n                            href=\"https://access.redhat.com/documentation/en-us/red_hat_openshift_application_services/1/guide/2409253a-45ee-470e-bdc9-5db4bfcf9d0f\"\n                            className={\"pf-u-ml-xs\"}\n                          />,\n                        ]}\n                      />\n                    </p>\n                  </TextContent>\n                }\n              >\n                <Button\n                  variant={ButtonVariant.plain}\n                  aria-label={t(\n                    \"connection-tab:kafka_management_button_aria_label\"\n                  )}\n                >\n                  <HelpIcon />\n                </Button>\n              </Popover>\n            </strong>\n            {isKafkaPending ? (\n              <Skeleton fontSize=\"2xl\" />\n            ) : (\n              <ClipboardCopy\n                textAriaLabel={t(\"connection-tab:kafka_management_url\")}\n                isReadOnly\n              >\n                {kafkaFleetManagerUrl}\n              </ClipboardCopy>\n            )}\n            <TextContent className=\"pf-u-pt-sm\">\n              <Text component={TextVariants.small}>\n                {t(\"connection-tab:kafka_management_description\")}\n              </Text>\n            </TextContent>\n          </TextContent>\n        </ExpandableSection>\n      </TextContent>\n      <TextContent className=\"pf-u-pb-sm\">\n        <Text component={TextVariants.h3} className=\"pf-u-mt-xl\">\n          {t(\"connection-tab:authentication_method\")}\n        </Text>\n        <Text component={TextVariants.h4} className=\"pf-u-mt-md\">\n          {t(\"connection-tab:sasl_oauthbearer\")}{\" \"}\n          <Label color=\"green\">{t(\"connection-tab:recommended\")}</Label>\n          <Popover\n            aria-label={t(\"connection-tab:sasl_oauthbearer\")}\n            bodyContent={\n              <div>{t(\"connection-tab:sasl_oauthbearer_popover_content\")}</div>\n            }\n          >\n            <Button\n              variant={ButtonVariant.plain}\n              aria-label={t(\"connection-tab:more_info_about_sasl_oauthbearer\")}\n            >\n              <HelpIcon />\n            </Button>\n          </Popover>\n        </Text>\n        <Text component={TextVariants.small}>\n          {t(\"connection-tab:sasl_oauthbearer_description\")}\n        </Text>\n        <strong>{t(\"connection-tab:token_endpoint_url\")}</strong>\n        {isKafkaPending ? (\n          <Skeleton fontSize=\"2xl\" />\n        ) : (\n          <ClipboardCopy\n            textAriaLabel={t(\"connection-tab:token_endpoint_url\")}\n            isReadOnly\n          >\n            {tokenEndPointUrl}\n          </ClipboardCopy>\n        )}\n      </TextContent>\n      <TextContent className=\"pf-u-pb-sm\">\n        <Text component={TextVariants.h4} className=\"pf-u-mt-md\">\n          {t(\"connection-tab:sasl_plain\")}\n        </Text>\n        <Text component={TextVariants.small}>\n          {t(\"connection-tab:sasl_plain_description\")}\n        </Text>\n      </TextContent>\n    </div>\n  );\n};\n","import type { TabsProps } from \"@patternfly/react-core\";\nimport {\n  Drawer,\n  DrawerActions,\n  DrawerCloseButton,\n  DrawerContent,\n  DrawerContentBody,\n  DrawerHead,\n  DrawerPanelBody,\n  DrawerPanelContent,\n  Tab,\n  Tabs,\n  TabTitleText,\n  Text,\n  TextContent,\n  TextVariants,\n  Title,\n  TitleSizes,\n} from \"@patternfly/react-core\";\nimport { useTranslation } from \"@rhoas/app-services-ui-components\";\nimport { parseISO } from \"date-fns\";\nimport type { FunctionComponent, VoidFunctionComponent } from \"react\";\nimport { useCallback, useMemo } from \"react\";\nimport type { Kafka } from \"ui-models/src/models/kafka\";\nimport { CreatingStatuses } from \"ui-models/src/models/kafka\";\nimport { useKafkaLabels } from \"../../hooks\";\nimport { KafkaConnectionTabP2, KafkaDetailsTab } from \"./components\";\n\nexport type KafkaInstanceDrawerProps = {\n  instance?: Kafka;\n  isExpanded: boolean;\n  activeTab: KafkaInstanceDrawerTab;\n  onTabChange: (tab: KafkaInstanceDrawerTab) => void;\n\n  onClose: () => void;\n};\n\nexport const KafkaInstanceDrawer: FunctionComponent<\n  KafkaInstanceDrawerProps\n> = ({ instance, activeTab, isExpanded, onTabChange, onClose, children }) => {\n  const content = useMemo(() => {\n    return (\n      <DrawerPanelContent>\n        {instance ? (\n          <KafkaInstanceDrawerPanel\n            instance={instance}\n            activeTab={activeTab}\n            onTabChange={onTabChange}\n            onClose={onClose}\n          />\n        ) : null}\n      </DrawerPanelContent>\n    );\n  }, [activeTab, instance, onClose, onTabChange]);\n  return (\n    <Drawer isExpanded={isExpanded} isInline={true}>\n      <DrawerContent panelContent={content}>\n        <DrawerContentBody\n          className={\"pf-u-display-flex pf-u-flex-direction-column\"}\n        >\n          {children}\n        </DrawerContentBody>\n      </DrawerContent>\n    </Drawer>\n  );\n};\n\nexport type KafkaInstanceDrawerTab = \"details\" | \"connections\";\n\nexport const KafkaInstanceDrawerPanel: VoidFunctionComponent<\n  Required<Omit<KafkaInstanceDrawerProps, \"isExpanded\">> & {\n    activeTab: KafkaInstanceDrawerTab;\n  }\n> = ({ instance, activeTab, onTabChange, onClose }) => {\n  const { t } = useTranslation([\"kafka\"]);\n  const labels = useKafkaLabels();\n\n  const handleSelect: TabsProps[\"onSelect\"] = useCallback(\n    (_, tab) => {\n      const t = tab as KafkaInstanceDrawerTab;\n      onTabChange(t);\n    },\n    [onTabChange]\n  );\n\n  const isKafkaPending = CreatingStatuses.includes(instance.status);\n\n  return (\n    <>\n      <DrawerHead>\n        <TextContent>\n          <Text component={TextVariants.small} className={\"pf-u-mb-0\"}>\n            {t(\"common:name\")}\n          </Text>\n          <Title\n            headingLevel={\"h1\"}\n            size={TitleSizes[\"xl\"]}\n            className={\"pf-u-mt-0\"}\n          >\n            {instance.name}\n          </Title>\n        </TextContent>\n        <DrawerActions>\n          <DrawerCloseButton onClick={onClose} />\n        </DrawerActions>\n      </DrawerHead>\n      <DrawerPanelBody>\n        <Tabs activeKey={activeTab} onSelect={handleSelect}>\n          <Tab\n            eventKey={\"details\"}\n            title={<TabTitleText>{t(\"drawer-tabs.details\")}</TabTitleText>}\n          >\n            <div className={\"pf-u-pt-md pf-u-pb-md\"}>\n              <KafkaDetailsTab\n                id={instance.id}\n                owner={instance.owner}\n                createdAt={parseISO(instance.createdAt)}\n                updatedAt={parseISO(instance.updatedAt)}\n                expiryDate={\n                  instance.expiryDate\n                    ? parseISO(instance.expiryDate)\n                    : undefined\n                }\n                size={instance.size}\n                ingress={instance.ingress}\n                egress={instance.egress}\n                storage={instance.storage}\n                maxPartitions={instance.maxPartitions}\n                connections={instance.connections}\n                connectionRate={instance.connectionRate}\n                messageSize={instance.messageSize}\n                provider={\n                  labels.providers[instance.provider] || instance.provider\n                }\n                region={\n                  labels.providerRegions[instance.provider][instance.region] ||\n                  instance.region\n                }\n                instanceType={instance.plan}\n                billing={instance.billing}\n                kafkaVersion={instance.version}\n              />\n            </div>\n          </Tab>\n          <Tab\n            eventKey={\"connections\"}\n            title={<TabTitleText>{t(\"drawer-tabs.connections\")}</TabTitleText>}\n            data-testid=\"drawerStreams-tabConnect\"\n          >\n            <div className={\"pf-u-pt-md pf-u-pb-md\"}>\n              <KafkaConnectionTabP2\n                isKafkaPending={isKafkaPending}\n                externalServer={getExternalServer(instance.bootstrapUrl)}\n                tokenEndPointUrl={\"TODO\"}\n                linkToServiceAccount={\"service-accounts\"}\n                linkToAccessTab={`TODO/acls`}\n                adminAPIUrl={getAdminServerUrl(instance.adminUrl)}\n                showCreateServiceAccountModal={() => {\n                  /* TODO */\n                }}\n                kafkaFleetManagerUrl={\n                  \"https://api.openshift.com/api/kafkas_mgmt/v1/openapi\"\n                }\n              />\n            </div>\n          </Tab>\n        </Tabs>\n      </DrawerPanelBody>\n    </>\n  );\n};\n\nconst getExternalServer = (bootstrapUrl: string | undefined) => {\n  if (!bootstrapUrl) {\n    return undefined;\n  }\n  return bootstrapUrl?.endsWith(\":443\") ? bootstrapUrl : `${bootstrapUrl}:443`;\n};\n\nconst getAdminServerUrl = (adminUrl: string | undefined) => {\n  return adminUrl ? `${adminUrl}/openapi` : undefined;\n};\n","import {\n  Alert,\n  Button,\n  Flex,\n  FlexItem,\n  HelperText,\n  HelperTextItem,\n  Spinner,\n  Split,\n  SplitItem,\n} from \"@patternfly/react-core\";\nimport {\n  CheckCircleIcon,\n  ExclamationTriangleIcon,\n} from \"@patternfly/react-icons\";\nimport { useTranslation } from \"@rhoas/app-services-ui-components\";\nimport { forwardRef } from \"react\";\nimport type { Status } from \"ui-models/src/models/kafka\";\nimport {\n  CreatingStatuses,\n  DegradedStatuses,\n  DeletingStatuses,\n  ReadyStatuses,\n  ResumingStatuses,\n  SuspendedStatuses,\n  SuspendingStatuses,\n} from \"ui-models/src/models/kafka\";\nimport \"./StatusLabel.css\";\n\ntype StatusLabelProps = {\n  value: Status;\n  showWarning?: boolean;\n  showError?: boolean;\n  withPopover?: boolean;\n};\n\n/**\n *<strong> Introduction </strong>\n *These are the various statuses that can show in the Kafka instances table under the \"Status\" header.\n */\nexport const StatusLabel = forwardRef<HTMLButtonElement, StatusLabelProps>(\n  (\n    { value, showWarning = false, showError = false, withPopover = false },\n    ref\n  ) => {\n    const { t } = useTranslation(\"kafka\");\n\n    const buttonVariant = withPopover ? \"link\" : \"plain\";\n\n    switch (true) {\n      case ReadyStatuses.includes(value):\n        return (\n          <div>\n            <Split hasGutter className=\"mas-c-status\">\n              <SplitItem>\n                <CheckCircleIcon className=\"mas-m-ready\" />\n              </SplitItem>\n              <SplitItem>{t(\"statuses.ready\")}</SplitItem>\n            </Split>\n          </div>\n        );\n\n      case CreatingStatuses.includes(value):\n        switch (true) {\n          case showWarning:\n            return (\n              <div>\n                <Split hasGutter className=\"mas-c-status\">\n                  <SplitItem>\n                    <Spinner size=\"md\" />\n                  </SplitItem>\n                  <SplitItem>\n                    <Button ref={ref} variant={buttonVariant} isInline>\n                      {t(\"statuses.creating\")}\n                    </Button>\n                  </SplitItem>\n                </Split>\n                <Alert\n                  variant=\"warning\"\n                  isInline\n                  isPlain\n                  title=\"This is taking longer than expected.\"\n                />\n              </div>\n            );\n          case showError:\n            return (\n              <div>\n                <Split hasGutter className=\"mas-c-status\">\n                  <SplitItem>\n                    <Spinner size=\"md\" />\n                  </SplitItem>\n                  <SplitItem>\n                    <Button ref={ref} variant={buttonVariant} isInline>\n                      {t(\"statuses.creating\")}\n                    </Button>\n                  </SplitItem>\n                </Split>\n                <Alert\n                  variant=\"danger\"\n                  isInline\n                  isPlain\n                  title={t(\"status_warning_or_error_title\")}\n                />\n              </div>\n            );\n          default:\n            return (\n              <div>\n                <Split hasGutter className=\"mas-c-status\">\n                  <SplitItem>\n                    <Spinner size=\"md\" />\n                  </SplitItem>\n                  <SplitItem>\n                    <Button ref={ref} variant={buttonVariant} isInline>\n                      {t(\"statuses.creating\")}\n                    </Button>\n                    <Flex>\n                      <FlexItem>\n                        <HelperText>\n                          <HelperTextItem variant=\"indeterminate\">\n                            {t(\"status_created_shortly_help\")}\n                          </HelperTextItem>\n                        </HelperText>\n                      </FlexItem>\n                    </Flex>\n                  </SplitItem>\n                </Split>\n              </div>\n            );\n        }\n\n      case DegradedStatuses.includes(value):\n        return (\n          <div>\n            <Split hasGutter className=\"mas-c-status\">\n              <SplitItem>\n                <ExclamationTriangleIcon className=\"mas-m-degraded\" />\n              </SplitItem>\n              <SplitItem>{t(\"statuses.degraded\")}</SplitItem>\n            </Split>\n          </div>\n        );\n\n      case SuspendingStatuses.includes(value):\n        return (\n          <div>\n            <p className=\"mas-m-deleting\"> {t(\"statuses.suspending\")}</p>\n          </div>\n        );\n      case SuspendedStatuses.includes(value):\n        return (\n          <div>\n            <Split hasGutter className=\"mas-c-status\">\n              <SplitItem>\n                <ExclamationTriangleIcon className=\"mas-m-degraded\" />\n              </SplitItem>\n              <SplitItem>\n                <Button ref={ref} variant={buttonVariant} isInline>\n                  {t(\"statuses.suspended\")}\n                </Button>\n              </SplitItem>\n            </Split>\n          </div>\n        );\n      case ResumingStatuses.includes(value):\n        return (\n          <div>\n            <Split hasGutter className=\"mas-c-status\">\n              <SplitItem>\n                <Spinner size=\"md\" />\n              </SplitItem>\n              <SplitItem>{t(\"statuses.resuming\")}</SplitItem>\n            </Split>\n          </div>\n        );\n      case DeletingStatuses.includes(value):\n        return (\n          <div>\n            <p className=\"mas-m-deleting\"> {t(\"statuses.deleting\")}</p>\n          </div>\n        );\n      default:\n        return null;\n    }\n  }\n);\n","export type KafkaStatus =\n  | \"ready\"\n  | \"degraded\"\n  | \"accepted\"\n  | \"provisioning\"\n  | \"preparing\"\n  | \"deprovision\"\n  | \"deleting\"\n  | \"suspended\"\n  | \"suspending\"\n  | \"resuming\";\n\nexport type PopoverStatus =\n  | \"pending\"\n  | \"provisioning\"\n  | \"preparing\"\n  | \"ready\"\n  | \"suspended\";\n\nexport const PopoverStatusOrder: PopoverStatus[] = [\n  \"pending\",\n  \"preparing\",\n  \"provisioning\",\n];\n\nexport const KafkaToPopoverMapping: {\n  [status in KafkaStatus]: PopoverStatus | null;\n} = {\n  ready: null,\n  degraded: null,\n  accepted: \"pending\",\n  provisioning: \"provisioning\",\n  preparing: \"preparing\",\n  deprovision: null,\n  deleting: null,\n  suspended: \"suspended\",\n  suspending: null,\n  resuming: null,\n};\n","import { ProgressStep, ProgressStepper } from \"@patternfly/react-core\";\nimport type { VoidFunctionComponent } from \"react\";\nimport { useTranslation } from \"@rhoas/app-services-ui-components\";\nimport type { PopoverStatus } from \"../types\";\nimport { PopoverStatusOrder } from \"../types\";\n\ntype StatusProgressStepperProps = {\n  currentStatus: PopoverStatus;\n};\n\nexport const StatusProgressStepper: VoidFunctionComponent<\n  StatusProgressStepperProps\n> = ({ currentStatus }) => {\n  const { t } = useTranslation(\"create-kafka-instance\");\n\n  const currentStep = PopoverStatusOrder.findIndex((s) => s === currentStatus);\n\n  const getVariant = (index: number) =>\n    (currentStep === index && \"info\") ||\n    (currentStep > index && \"success\") ||\n    \"default\";\n\n  return (\n    <ProgressStepper isVertical={true}>\n      <ProgressStep\n        id={\"pending\"}\n        titleId={\"pending\"}\n        isCurrent={currentStatus === \"pending\"}\n        description={t(\"kafka_status_popover.pending.description\")}\n        aria-label={t(\"kafka_status_popover.pending.description\")}\n        variant={getVariant(0)}\n      >\n        {t(\"kafka_status_popover.pending.title\")}\n      </ProgressStep>\n\n      <ProgressStep\n        id={\"provisioning\"}\n        titleId={\"provisioning\"}\n        isCurrent={currentStatus === \"provisioning\"}\n        description={t(\"kafka_status_popover.provisioning.description\")}\n        aria-label={t(\"kafka_status_popover.provisioning.description\")}\n        variant={getVariant(1)}\n      >\n        {t(\"kafka_status_popover.provisioning.title\")}\n      </ProgressStep>\n      <ProgressStep\n        id={\"preparing\"}\n        titleId={\"preparing\"}\n        isCurrent={currentStatus === \"preparing\"}\n        description={t(\"kafka_status_popover.preparing.description\")}\n        aria-label={t(\"kafka_status_popover.preparing.description\")}\n        variant={getVariant(2)}\n      >\n        {t(\"kafka_status_popover.preparing.title\")}\n      </ProgressStep>\n    </ProgressStepper>\n  );\n};\n","import {\n  Alert,\n  Button,\n  ButtonVariant,\n  Stack,\n  StackItem,\n  Text,\n  TextContent,\n  TextVariants,\n} from \"@patternfly/react-core\";\nimport type { VoidFunctionComponent } from \"react\";\nimport { Trans, useTranslation } from \"@rhoas/app-services-ui-components\";\nimport type { PopoverStatus } from \"../types\";\nimport { PopoverStatusOrder } from \"../types\";\nimport { StatusProgressStepper } from \"./StatusProgressStepper\";\n\nexport type StatusPopoverContentProps = {\n  currentStatus: PopoverStatus;\n  showWarning?: boolean;\n  showError?: boolean;\n  onClickConnectionTabLink: () => void;\n  onClickSupportLink: () => void;\n};\n\nexport const StatusPopoverContent: VoidFunctionComponent<\n  StatusPopoverContentProps\n> = ({\n  currentStatus,\n  showWarning = false,\n  showError = false,\n  onClickConnectionTabLink,\n  onClickSupportLink,\n}) => {\n  const { t } = useTranslation(\"create-kafka-instance\");\n\n  const currentStep = PopoverStatusOrder.findIndex((s) => s === currentStatus);\n\n  return (\n    <div>\n      <Stack hasGutter>\n        <StackItem>\n          {showWarning && (\n            <Alert\n              variant=\"warning\"\n              isInline\n              isPlain\n              title={t(\"kafka_status_popover.warning_or_error_title\")}\n            >\n              <TextContent>\n                <Text component={TextVariants.small}>\n                  <Trans\n                    ns={[\"create-kafka-instance\"]}\n                    i18nKey=\"kafka_status_popover.header_content_with_warning\"\n                    components={[\n                      <Button\n                        key=\"btn-connetcion-tab\"\n                        variant={ButtonVariant.link}\n                        onClick={onClickConnectionTabLink}\n                        isInline\n                      />,\n                    ]}\n                  />\n                </Text>\n              </TextContent>\n            </Alert>\n          )}\n          {showError && (\n            <Alert\n              variant=\"danger\"\n              isInline\n              isPlain\n              title={t(\"kafka_status_popover.warning_or_error_title\")}\n            >\n              <TextContent>\n                <Text component={TextVariants.small}>\n                  <Trans\n                    ns={[\"create-kafka-instance\"]}\n                    i18nKey=\"kafka_status_popover.header_content_with_error\"\n                    components={[\n                      <Button\n                        key=\"btn-connetcion-tab\"\n                        variant={ButtonVariant.link}\n                        onClick={onClickConnectionTabLink}\n                        isInline\n                      />,\n                      <Button\n                        key=\"btn-support-case\"\n                        variant={ButtonVariant.link}\n                        onClick={onClickSupportLink}\n                        isInline\n                      />,\n                    ]}\n                  />\n                </Text>\n              </TextContent>\n            </Alert>\n          )}\n          {!showError && !showWarning && (\n            <TextContent>\n              <Text component={TextVariants.small}>\n                <Trans\n                  ns={[\"create-kafka-instance\"]}\n                  i18nKey=\"kafka_status_popover.header_content\"\n                  components={[\n                    <Button\n                      key=\"btn-connetcion-tab\"\n                      variant={ButtonVariant.link}\n                      onClick={onClickConnectionTabLink}\n                      isInline\n                    />,\n                  ]}\n                />\n              </Text>\n            </TextContent>\n          )}\n        </StackItem>\n        <StackItem>\n          {t(\"common:progress_stepper_current_step\", {\n            currentStep,\n            total: PopoverStatusOrder.length,\n          })}\n        </StackItem>\n        <StackItem>\n          <StatusProgressStepper currentStatus={currentStatus} />\n        </StackItem>\n      </Stack>\n    </div>\n  );\n};\n","import type { PopoverProps } from \"@patternfly/react-core\";\nimport { Popover } from \"@patternfly/react-core\";\nimport type { RefObject, VoidFunctionComponent } from \"react\";\nimport { useCallback, useState } from \"react\";\nimport { useTranslation } from \"@rhoas/app-services-ui-components\";\nimport type { PopoverStatus } from \"../types\";\nimport type { StatusPopoverContentProps } from \"./StatusPopoverContent\";\nimport { StatusPopoverContent } from \"./StatusPopoverContent\";\n\nexport type StatusPopoverProps = {\n  status: PopoverStatus;\n  initialOpen?: boolean;\n  showWarning?: boolean;\n  showError?: boolean;\n  children?: PopoverProps[\"children\"];\n  onClickConnectionTabLink: StatusPopoverContentProps[\"onClickConnectionTabLink\"];\n  onClickSupportLink: StatusPopoverContentProps[\"onClickSupportLink\"];\n  reference?: RefObject<HTMLButtonElement>;\n};\n\n/**\n * ## Introduction\n *\n * This is a popover that can be reached from the Kafka Instance table while the status of the instance in question is “Creating”.\n * A Kafka instance usually takes a few minutes to create. The purpose of this popover is to give the user some insights into\n * the creation process of their instance while they wait for it to be available to use.\n *\n * - The text at the top explains that the instance will be ready shortly & suggests that the user creates a service account while they wait.\n *  (Provides a link to the “Connections tab\" where this is done).\n *\n * - The steps shown in the progress stepper are statuses that show in the api. They have been grouped together under the one overall\n * “Creating status” in the table.There is some descriptive text accompanying each step too. When these steps are complete the instance will be ready for use\n *\n * - The popover is only available while instance creation is in progress.\n * - After creation is complete the table displays the ready status and the popover is no longer available.\n *\n */\nexport const StatusPopover: VoidFunctionComponent<StatusPopoverProps> = ({\n  initialOpen = false,\n  status,\n  showWarning = false,\n  showError = false,\n  onClickConnectionTabLink,\n  onClickSupportLink,\n  reference,\n  children,\n}) => {\n  const { t } = useTranslation(\"create-kafka-instance\");\n\n  const [isVisible, setIsVisible] = useState(initialOpen);\n  const onClose = () => setIsVisible(false);\n\n  const handleClickConnectionTabLink = useCallback(() => {\n    onClose();\n    onClickConnectionTabLink();\n  }, [onClickConnectionTabLink]);\n\n  const handleClickSupportLink = useCallback(() => {\n    onClose();\n    onClickSupportLink();\n  }, [onClickSupportLink]);\n\n  return (\n    <Popover\n      headerContent={t(\"kafka_status_popover.title\")}\n      bodyContent={\n        <StatusPopoverContent\n          currentStatus={status}\n          showWarning={showWarning}\n          showError={showError}\n          onClickConnectionTabLink={handleClickConnectionTabLink}\n          onClickSupportLink={handleClickSupportLink}\n        />\n      }\n      isVisible={isVisible}\n      shouldOpen={() => setIsVisible(true)}\n      shouldClose={() => setIsVisible(false)}\n      position={\"right\"}\n      enableFlip={true}\n      reference={reference}\n    >\n      {children}\n    </Popover>\n  );\n};\n","import type { PopoverProps } from \"@patternfly/react-core\";\nimport { Popover, TextContent } from \"@patternfly/react-core\";\nimport { ExclamationTriangleIcon } from \"@patternfly/react-icons\";\nimport { useTranslation } from \"@rhoas/app-services-ui-components\";\nimport type { RefObject, VoidFunctionComponent } from \"react\";\n\nexport type SuspendedPopoverProps = {\n  children?: PopoverProps[\"children\"];\n  reference?: RefObject<HTMLButtonElement>;\n};\n\nexport const SuspendedPopover: VoidFunctionComponent<SuspendedPopoverProps> = ({\n  children,\n  reference,\n}) => {\n  const { t } = useTranslation(\"kafka\");\n  return (\n    <Popover\n      alertSeverityVariant={\"warning\"}\n      headerIcon={<ExclamationTriangleIcon />}\n      headerContent={t(\"suspend_popover_title\")}\n      bodyContent={\n        <TextContent>\n          <p>{t(\"suspend_popover_body_1\")}</p>\n        </TextContent>\n      }\n      position={\"right\"}\n      reference={reference}\n    >\n      {children}\n    </Popover>\n  );\n};\n","import { useInterval } from \"@rhoas/app-services-ui-components\";\nimport { differenceInMinutes } from \"date-fns\";\nimport type { VoidFunctionComponent } from \"react\";\nimport { useCallback, useRef, useState } from \"react\";\nimport type { Status } from \"ui-models/src/models/kafka\";\nimport type { StatusPopoverProps } from \"./components\";\nimport { StatusLabel, StatusPopover, SuspendedPopover } from \"./components\";\nimport { KafkaToPopoverMapping } from \"./types\";\n\nexport type KafkaInstanceStatusProps = {\n  status: Status;\n  createdAt: Date;\n  warningAfterMinutes?: number;\n  errorAfterMinutes?: number;\n} & Pick<StatusPopoverProps, \"onClickConnectionTabLink\" | \"onClickSupportLink\">;\n\n/**\n * A component to show the status of a Kafka instance combining the\n * `StatusPopover` with the `StatusLabel`, with automatic handling of which\n * statuses should have a companion popover.\n */\nexport const KafkaInstanceStatus: VoidFunctionComponent<\n  KafkaInstanceStatusProps\n> = ({\n  status,\n  createdAt,\n  warningAfterMinutes = 15,\n  errorAfterMinutes = 30,\n  onClickConnectionTabLink,\n  onClickSupportLink,\n}) => {\n  const popoverStatus = KafkaToPopoverMapping[status];\n  const [alert, setAlert] = useState<\"warning\" | \"error\" | false>(false);\n  const labelRef = useRef<HTMLButtonElement>(null);\n\n  const checkCreatedAt = useCallback(() => {\n    const elapsed = differenceInMinutes(new Date(), createdAt);\n    if (elapsed > errorAfterMinutes) {\n      setAlert(\"error\");\n    } else if (elapsed > warningAfterMinutes) {\n      setAlert(\"warning\");\n    } else {\n      setAlert(false);\n    }\n  }, [createdAt, errorAfterMinutes, warningAfterMinutes]);\n\n  useInterval(checkCreatedAt, 5000);\n  const showWarning = alert === \"warning\";\n  const showError = alert === \"error\";\n  return (\n    <>\n      {popoverStatus === \"suspended\" ? (\n        <SuspendedPopover reference={labelRef} />\n      ) : (\n        popoverStatus && (\n          <StatusPopover\n            status={popoverStatus}\n            showWarning={showWarning}\n            showError={showError}\n            onClickConnectionTabLink={onClickConnectionTabLink}\n            onClickSupportLink={onClickSupportLink}\n            reference={labelRef}\n          />\n        )\n      )}\n      <StatusLabel\n        value={status}\n        showWarning={showWarning}\n        showError={showError}\n        withPopover={popoverStatus !== undefined}\n        ref={labelRef}\n      />\n    </>\n  );\n};\n","import {\n  Button,\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateIcon,\n  EmptyStateVariant,\n  Title,\n} from \"@patternfly/react-core\";\nimport { PlusCircleIcon } from \"@patternfly/react-icons\";\nimport type { VoidFunctionComponent } from \"react\";\nimport { Trans, useTranslation } from \"@rhoas/app-services-ui-components\";\n\nexport type EmptyStateNoInstancesProps = {\n  onCreate: () => void;\n  onQuickstartGuide: () => void;\n};\n\nexport const EmptyStateNoInstances: VoidFunctionComponent<\n  EmptyStateNoInstancesProps\n> = ({ onCreate, onQuickstartGuide }) => {\n  const { t } = useTranslation(\"kafka\");\n  return (\n    <EmptyState variant={EmptyStateVariant.xs}>\n      <EmptyStateIcon icon={PlusCircleIcon} />\n      <Title headingLevel=\"h2\" size=\"lg\">\n        {t(\"empty_state_no_instances_title\")}\n      </Title>\n      <EmptyStateBody>\n        <Trans\n          ns={\"kafka\"}\n          i18nKey={\"empty_state_no_instances_body\"}\n          components={[<a onClick={onQuickstartGuide} />]}\n        />\n      </EmptyStateBody>\n      <Button ouiaId=\"button-create\" variant=\"primary\" onClick={onCreate}>\n        {t(\"empty_state_no_instances_create_instance\")}\n      </Button>\n    </EmptyState>\n  );\n};\n","import {\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateIcon,\n  EmptyStateVariant,\n  Title,\n} from \"@patternfly/react-core\";\nimport { SearchIcon } from \"@patternfly/react-icons\";\nimport type { VoidFunctionComponent } from \"react\";\nimport { Trans, useTranslation } from \"@rhoas/app-services-ui-components\";\n\nexport type EmptyStateNoResultsProps = {\n  onClearAllFilters: () => void;\n};\n\nexport const EmptyStateNoResults: VoidFunctionComponent<\n  EmptyStateNoResultsProps\n> = ({ onClearAllFilters }) => {\n  const { t } = useTranslation(\"kafka\");\n  return (\n    <EmptyState variant={EmptyStateVariant.xs}>\n      <EmptyStateIcon icon={SearchIcon} />\n      <Title headingLevel=\"h2\" size=\"lg\">\n        {t(\"empty_state_no_results_found_title\")}\n      </Title>\n      <EmptyStateBody>\n        <Trans\n          ns={\"kafka\"}\n          i18nKey={\"empty_state_no_results_found_body\"}\n          components={[<a onClick={onClearAllFilters} />]}\n        />\n      </EmptyStateBody>\n    </EmptyState>\n  );\n};\n","import { Button, PageSection, Stack, StackItem } from \"@patternfly/react-core\";\nimport type { TableViewProps } from \"@rhoas/app-services-ui-components\";\nimport {\n  FormatDate,\n  TableView,\n  Trans,\n  useTranslation,\n} from \"@rhoas/app-services-ui-components\";\nimport { parseISO } from \"date-fns\";\nimport { Link } from \"react-router-dom\";\nimport type { Kafka, SimplifiedStatus } from \"ui-models/src/models/kafka\";\nimport { DeletingStatuses } from \"ui-models/src/models/kafka\";\nimport { useKafkaLabels } from \"../../hooks\";\nimport { KafkaInstanceActions } from \"../KafkaInstanceActions\";\nimport { KafkaInstanceStatus } from \"../KafkaInstanceStatus\";\nimport type {\n  EmptyStateNoInstancesProps,\n  EmptyStateNoResultsProps,\n} from \"./components\";\nimport { EmptyStateNoInstances, EmptyStateNoResults } from \"./components\";\n\nconst Columns = [\n  \"name\",\n  \"owner\",\n  \"createdAt\",\n  \"provider\",\n  \"region\",\n  \"status\",\n] as const;\n\nexport type KafkaInstancesProps<T extends Kafka = Kafka> = {\n  instances: Array<T> | undefined | null;\n  getUrlForInstance: (row: T) => string;\n  names: string[];\n  owners: string[];\n  statuses: string[];\n  onCreate: () => void;\n  onSearchName: (value: string) => void;\n  onRemoveNameChip: (value: string) => void;\n  onRemoveNameChips: () => void;\n  onSearchOwner: (value: string) => void;\n  onRemoveOwnerChip: (value: string) => void;\n  onRemoveOwnerChips: () => void;\n  onSearchStatus: (value: SimplifiedStatus) => void;\n  onRemoveStatusChip: (value: SimplifiedStatus) => void;\n  onRemoveStatusChips: () => void;\n  onDetails: (row: T) => void;\n  onConnection: (row: T) => void;\n  canChangeOwner: (row: T) => boolean;\n  onChangeOwner: (row: T) => void;\n  canDelete: (row: T) => boolean;\n  onDelete: (row: T) => void;\n  onClickConnectionTabLink: (row: T) => void;\n  onClickSupportLink: () => void;\n  onInstanceLinkClick: (row: T) => void;\n  canHaveInstanceLink: (row: T) => boolean;\n  canOpenConnection: (row: T) => boolean;\n} & Pick<\n  TableViewProps<T, typeof Columns[number]>,\n  | \"itemCount\"\n  | \"page\"\n  | \"perPage\"\n  | \"onPageChange\"\n  | \"isRowSelected\"\n  | \"isColumnSortable\"\n  | \"onClearAllFilters\"\n> &\n  EmptyStateNoInstancesProps &\n  EmptyStateNoResultsProps;\n\nexport const KafkaInstances = <T extends Kafka>({\n  instances,\n  itemCount,\n  page,\n  perPage,\n  names,\n  owners,\n  statuses,\n  getUrlForInstance,\n  isRowSelected,\n  isColumnSortable,\n  onPageChange,\n  onDetails,\n  onConnection,\n  canChangeOwner,\n  onChangeOwner,\n  canDelete,\n  onDelete,\n  onCreate,\n  onQuickstartGuide,\n  onClickConnectionTabLink,\n  onClickSupportLink,\n  onInstanceLinkClick,\n  onSearchName,\n  onRemoveNameChip,\n  onRemoveNameChips,\n  onSearchOwner,\n  onRemoveOwnerChip,\n  onRemoveOwnerChips,\n  onSearchStatus,\n  onRemoveStatusChip,\n  onRemoveStatusChips,\n  onClearAllFilters,\n\n  canHaveInstanceLink,\n  canOpenConnection,\n}: KafkaInstancesProps<T>) => {\n  const { t } = useTranslation(\"kafka\");\n  const labels = useKafkaLabels();\n  const breakpoint = \"lg\";\n\n  const isFiltered =\n    names.length > 0 || owners.length > 0 || statuses.length > 0;\n\n  return (\n    <PageSection isFilled={true}>\n      <TableView\n        data={instances}\n        columns={Columns}\n        renderHeader={({ column, Th, key }) => (\n          <Th key={key}>{labels.fields[column]}</Th>\n        )}\n        renderCell={({ column, row, Td, key }) => {\n          const timeCreatedDate = parseISO(row.createdAt);\n          const instanceLinkEnable = canHaveInstanceLink(row);\n          return (\n            <Td key={key} dataLabel={labels.fields[column]}>\n              {(() => {\n                switch (column) {\n                  case \"name\":\n                    return (\n                      <Button\n                        variant=\"link\"\n                        component={(props) => (\n                          <Link to={getUrlForInstance(row)} {...props}>\n                            {row.name}\n                          </Link>\n                        )}\n                        isInline={true}\n                        isAriaDisabled={!instanceLinkEnable}\n                        isDisabled={!instanceLinkEnable}\n                        onClick={() => onInstanceLinkClick(row)}\n                      />\n                    );\n                  case \"provider\":\n                    return labels.providers[row.provider];\n                  case \"createdAt\":\n                    return (\n                      <Stack>\n                        <StackItem>\n                          <FormatDate\n                            date={timeCreatedDate}\n                            format={\"distanceToNowWithAgo\"}\n                          />\n                        </StackItem>\n                        {row.expiryDate && (\n                          <StackItem>\n                            <Trans\n                              i18nKey=\"will_expire_short\"\n                              ns={[\"kafka\"]}\n                              components={{\n                                time: (\n                                  <FormatDate\n                                    date={parseISO(row.expiryDate)}\n                                    format=\"expiration\"\n                                  />\n                                ),\n                              }}\n                            />\n                          </StackItem>\n                        )}\n                      </Stack>\n                    );\n                  case \"status\":\n                    return (\n                      <KafkaInstanceStatus\n                        status={row[\"status\"]}\n                        createdAt={timeCreatedDate}\n                        onClickConnectionTabLink={() =>\n                          onClickConnectionTabLink(row)\n                        }\n                        onClickSupportLink={onClickSupportLink}\n                      />\n                    );\n                  default:\n                    return row[column];\n                }\n              })()}\n            </Td>\n          );\n        }}\n        renderActions={({ row }) => {\n          const changeOwnerEnabled = canChangeOwner(row);\n          const deleteEnabled = canDelete(row);\n          const openConnectionEnabled = canOpenConnection(row);\n          return (\n            <KafkaInstanceActions\n              onDetails={() => onDetails(row)}\n              onConnection={() => onConnection(row)}\n              canOpenConnection={openConnectionEnabled}\n              canChangeOwner={changeOwnerEnabled}\n              onChangeOwner={() => onChangeOwner(row)}\n              canDelete={deleteEnabled}\n              onDelete={() => onDelete(row)}\n            />\n          );\n        }}\n        onRowClick={({ row }) => onDetails(row)}\n        isColumnSortable={isColumnSortable}\n        isRowSelected={isRowSelected}\n        isRowDeleted={({ row }) => DeletingStatuses.includes(row[\"status\"])}\n        toolbarBreakpoint={breakpoint}\n        filters={{\n          [labels.fields.name]: {\n            type: \"search\",\n            chips: names,\n            onSearch: onSearchName,\n            onRemoveChip: onRemoveNameChip,\n            onRemoveGroup: onRemoveNameChips,\n            validate: (value) => /^[a-z]([-a-z0-9]*[a-z0-9])?$/.test(value),\n            errorMessage: t(\"kafka:input_field_invalid_message\"),\n          },\n          [labels.fields.owner]: {\n            type: \"search\",\n            chips: owners,\n            onSearch: onSearchOwner,\n            onRemoveChip: onRemoveOwnerChip,\n            onRemoveGroup: onRemoveOwnerChips,\n            validate: (value: string) => !/[\"$^<>|+%/;:,\\s*=~#()]/.test(value),\n            errorMessage: t(\"kafka:input_field_invalid_message\"),\n          },\n          [labels.fields.status]: {\n            type: \"checkbox\",\n            chips: statuses,\n            options: labels.statusesSimplified,\n            onToggle: onSearchStatus,\n            onRemoveChip: onRemoveStatusChip,\n            onRemoveGroup: onRemoveStatusChips,\n          },\n        }}\n        actions={[\n          {\n            label: t(\"create_instance\"),\n            onClick: onCreate,\n            isPrimary: true,\n          },\n        ]}\n        itemCount={itemCount}\n        page={page}\n        perPage={perPage}\n        onPageChange={onPageChange}\n        onClearAllFilters={onClearAllFilters}\n        ariaLabel={t(\"table.title\")}\n        isFiltered={isFiltered}\n        emptyStateNoData={\n          <EmptyStateNoInstances\n            onCreate={onCreate}\n            onQuickstartGuide={onQuickstartGuide}\n          />\n        }\n        emptyStateNoResults={\n          <EmptyStateNoResults onClearAllFilters={onClearAllFilters} />\n        }\n      />\n    </PageSection>\n  );\n};\n","import type { DatePickerProps, TimePickerProps } from \"@patternfly/react-core\";\nimport { DatePicker, InputGroup, TimePicker } from \"@patternfly/react-core\";\nimport { formatISO, parseISO, setHours, setMinutes } from \"date-fns\";\nimport { formatInTimeZone } from \"date-fns-tz\";\nimport type { VoidFunctionComponent } from \"react\";\nimport { useState } from \"react\";\nimport type { DateIsoString } from \"../../../../../ui-models/src/types\";\n\nexport type DateTimePickerProps = {\n  isDisabled: boolean;\n  value: DateIsoString | undefined;\n  onChange: (value: DateIsoString) => void;\n};\nexport const DateTimePicker: VoidFunctionComponent<DateTimePickerProps> = ({\n  isDisabled,\n  value,\n  onChange,\n}) => {\n  const [timeSelected, setIsTimeSelected] = useState(false);\n  const date = value ? parseISO(value) : undefined;\n\n  const onSelectCalendar: DatePickerProps[\"onChange\"] = (_, newDate) => {\n    if (newDate) {\n      onChange(formatISO(newDate) as DateIsoString);\n    }\n  };\n\n  const onSelectTime: TimePickerProps[\"onChange\"] = (\n    time,\n    hour,\n    minute,\n    __,\n    isValid\n  ) => {\n    if (\n      isValid &&\n      date &&\n      hour != undefined &&\n      hour > 0 &&\n      (time.includes(\"AM\") || time.includes(\"PM\"))\n    ) {\n      let newDate = date;\n      if (hour !== undefined) {\n        newDate = setHours(newDate, hour);\n      }\n      if (minute !== undefined) {\n        newDate = setMinutes(newDate, minute);\n      }\n\n      onChange(formatISO(newDate) as DateIsoString);\n      setIsTimeSelected(true);\n    }\n  };\n\n  return (\n    <InputGroup>\n      <DatePicker\n        isDisabled={isDisabled}\n        value={date ? formatInTimeZone(date, \"UTC\", \"yyyy-MM-dd\") : undefined}\n        onChange={onSelectCalendar}\n      />\n      <TimePicker\n        isDisabled={!date || isDisabled}\n        time={timeSelected ? date : undefined}\n        onChange={onSelectTime}\n      />\n    </InputGroup>\n  );\n};\n","import {\n  Dropdown,\n  DropdownItem,\n  DropdownPosition,\n  DropdownSeparator,\n  DropdownToggle,\n  InputGroup,\n  TextInput,\n  ToolbarItem,\n} from \"@patternfly/react-core\";\nimport { useTranslation } from \"@rhoas/app-services-ui-components\";\nimport type { VoidFunctionComponent } from \"react\";\nimport { useState } from \"react\";\nimport type { DateIsoString } from \"../../../../../ui-models/src/types\";\nimport { DateTimePicker } from \"./DateTimePicker\";\n\ntype Category = \"offset\" | \"timestamp\" | \"epoch\" | \"latest\";\nexport type FilterGroupProps = {\n  isDisabled: boolean;\n  offset: number | undefined;\n  epoch: number | undefined;\n  timestamp: DateIsoString | undefined;\n  onOffsetChange: (value: number | undefined) => void;\n  onTimestampChange: (value: DateIsoString | undefined) => void;\n  onEpochChange: (value: number | undefined) => void;\n  onLatest: () => void;\n};\nexport const FilterGroup: VoidFunctionComponent<FilterGroupProps> = ({\n  isDisabled,\n  offset,\n  epoch,\n  timestamp,\n  onOffsetChange,\n  onTimestampChange,\n  onEpochChange,\n  onLatest,\n}) => {\n  const { t } = useTranslation(\"message-browser\");\n  const [currentCategory, setCurrentCategory] = useState<Category>(\"latest\");\n  const [isOpen, setIsOpen] = useState(false);\n  const labels: { [key in Category]: string } = {\n    offset: t(\"filter.offset\"),\n    timestamp: t(\"filter.timestamp\"),\n    epoch: t(\"filter.epoch\"),\n    latest: t(\"filter.latest\"),\n  };\n  return (\n    <ToolbarItem>\n      <InputGroup>\n        <Dropdown\n          data-testid={\"filter-group-dropdown\"}\n          toggle={\n            <DropdownToggle\n              onToggle={setIsOpen}\n              isDisabled={isDisabled}\n              data-testid={\"filter-group\"}\n            >\n              {labels[currentCategory]}\n            </DropdownToggle>\n          }\n          position={DropdownPosition.left}\n          isOpen={isOpen}\n          onSelect={() => setIsOpen(false)}\n          dropdownItems={[\n            <DropdownItem\n              key=\"offset\"\n              value=\"offset\"\n              autoFocus={currentCategory === \"offset\"}\n              onClick={() => setCurrentCategory(\"offset\")}\n            >\n              {labels[\"offset\"]}\n            </DropdownItem>,\n            <DropdownItem\n              key=\"timestamp\"\n              value=\"timestamp\"\n              autoFocus={currentCategory === \"timestamp\"}\n              onClick={() => setCurrentCategory(\"timestamp\")}\n            >\n              {labels[\"timestamp\"]}\n            </DropdownItem>,\n            <DropdownItem\n              key=\"epoch\"\n              value=\"epoch\"\n              autoFocus={currentCategory === \"epoch\"}\n              onClick={() => setCurrentCategory(\"epoch\")}\n            >\n              {labels[\"epoch\"]}\n            </DropdownItem>,\n            <DropdownSeparator key={\"divider\"} />,\n            <DropdownItem\n              key=\"latest\"\n              value=\"latest\"\n              autoFocus={currentCategory === \"latest\"}\n              onClick={() => {\n                setCurrentCategory(\"latest\");\n                onLatest();\n              }}\n            >\n              {labels[\"latest\"]}\n            </DropdownItem>,\n          ]}\n        />\n        {currentCategory === \"offset\" && (\n          <TextInput\n            isDisabled={isDisabled}\n            type={\"number\"}\n            aria-label={t(\"filter.offset_aria_label\")}\n            placeholder={t(\"filter.offset_placeholder\")}\n            onChange={(value) => {\n              if (value !== \"\") {\n                const newOffset = parseInt(value, 10);\n                if (Number.isInteger(newOffset)) {\n                  onOffsetChange(newOffset);\n                }\n              } else {\n                onOffsetChange(undefined);\n              }\n            }}\n            value={offset === undefined ? \"\" : offset}\n          />\n        )}\n        {currentCategory === \"timestamp\" && (\n          <DateTimePicker\n            isDisabled={isDisabled}\n            value={timestamp}\n            onChange={onTimestampChange}\n          />\n        )}\n        {currentCategory === \"epoch\" && (\n          <TextInput\n            isDisabled={isDisabled}\n            type={\"number\"}\n            aria-label={t(\"filter.epoch_aria_label\")}\n            placeholder={t(\"filter.epoch_placeholder\")}\n            className=\"pf-u-flex-basis-auto pf-u-flex-grow-0 pf-u-w-initial\"\n            size={t(\"filter.epoch_placeholder\").length}\n            onChange={(value) => {\n              if (value !== \"\" && Number(value) >= 0)\n                onEpochChange(Number(value));\n              else onEpochChange(undefined);\n            }}\n            value={epoch == undefined ? \"\" : epoch}\n          />\n        )}\n      </InputGroup>\n    </ToolbarItem>\n  );\n};\n","import {\n  InputGroup,\n  InputGroupText,\n  Select,\n  SelectOption,\n} from \"@patternfly/react-core\";\nimport type { VoidFunctionComponent } from \"react\";\nimport { useState } from \"react\";\nimport { useTranslation } from \"@rhoas/app-services-ui-components\";\n\nexport type LimitSelectorProps = {\n  value: number;\n  isDisabled: boolean;\n  onChange: (value: number) => void;\n};\nexport const LimitSelector: VoidFunctionComponent<LimitSelectorProps> = ({\n  value,\n  isDisabled,\n  onChange,\n}) => {\n  const { t } = useTranslation(\"message-browser\");\n  const [isOpen, setIsOpen] = useState(false);\n  const toggleOpen = (isOpen: boolean) => setIsOpen(isOpen);\n  const titleId = \"limit-selector\";\n\n  return (\n    <InputGroup>\n      <InputGroupText className=\"pf-c-content\">\n        {t(\"limit_label\")}\n      </InputGroupText>\n      <div>\n        <span id={titleId} hidden>\n          Select a state\n        </span>\n\n        <Select\n          aria-label={t(\"per_page_aria_label\")}\n          onToggle={toggleOpen}\n          selections={value !== undefined ? [t(\"limit\", { value })] : undefined}\n          isOpen={isOpen}\n          isDisabled={isDisabled}\n          onSelect={() => setIsOpen(false)}\n          data-testid={\"limit-selector\"}\n        >\n          {[10, 20, 50].map((value, idx) => (\n            <SelectOption\n              key={idx}\n              value={t(\"limit\", { value })}\n              onClick={() => onChange(value)}\n            />\n          ))}\n        </Select>\n      </div>\n    </InputGroup>\n  );\n};\n","import type { Message } from \"ui-models/src/models/message\";\n\nexport function isSameMessage(m1: Message, m2: Message) {\n  return JSON.stringify(m1) === JSON.stringify(m2);\n}\n\nexport function beautifyUnknownValue(value: string): string {\n  try {\n    return JSON.stringify(JSON.parse(value), null, 2);\n  } catch (e) {\n    // noop\n  }\n  return value;\n}\n\nexport function truncate(value: string, length: number): [string, boolean] {\n  const shouldTruncate = value.length > length;\n  return [\n    shouldTruncate ? `${value.substring(0, length)}...` : value,\n    shouldTruncate,\n  ];\n}\n","export enum RetentionTimeUnits {\n  MILLISECOND = \"milliseconds\",\n  SECOND = \"seconds\",\n  MINUTE = \"minutes\",\n  HOUR = \"hours\",\n  DAY = \"days\",\n  WEEK = \"weeks\",\n  CUSTOM = \"custom\",\n  UNLIMITED = \"unlimited\",\n}\n\nexport enum RetentionSizeUnits {\n  BYTE = \"bytes\",\n  KIBIBYTE = \"kibibytes\",\n  MEBIBYTE = \"mebibytes\",\n  GIBIBYTE = \"gibibytes\",\n  TEBIBYTE = \"tebibytes\",\n  CUSTOM = \"custom\",\n  UNLIMITED = \"unlimited\",\n}\n\nexport const unitsToBytes = {\n  [RetentionSizeUnits.BYTE]: BigInt(\"1\"),\n  [RetentionSizeUnits.KIBIBYTE]: BigInt(\"1024\"),\n  [RetentionSizeUnits.MEBIBYTE]: BigInt(\"1048576\"),\n  [RetentionSizeUnits.GIBIBYTE]: BigInt(\"1073741824\"),\n  [RetentionSizeUnits.TEBIBYTE]: BigInt(\"1099511600000\"),\n};\n\nexport const unitsToMilliSecond = {\n  [RetentionTimeUnits.MILLISECOND]: BigInt(\"1\"),\n  [RetentionTimeUnits.SECOND]: BigInt(\"1000\"),\n  [RetentionTimeUnits.MINUTE]: BigInt(\"60000\"),\n  [RetentionTimeUnits.HOUR]: BigInt(\"3600000\"),\n  [RetentionTimeUnits.DAY]: BigInt(\"86400000\"),\n};\n\ntype ConversionUnit = {\n  value: bigint;\n  unit: string;\n};\n\nexport const millisecondsToTime = (value: bigint): ConversionUnit => {\n  if (value) {\n    if (value % unitsToMilliSecond.days == BigInt(0))\n      return { value: value / unitsToMilliSecond.days, unit: \"days\" };\n    if (value % unitsToMilliSecond.hours == BigInt(0))\n      return { value: value / unitsToMilliSecond.hours, unit: \"hours\" };\n    if (value % unitsToMilliSecond.minutes == BigInt(0))\n      return { value: value / unitsToMilliSecond.minutes, unit: \"minutes\" };\n    if (value % unitsToMilliSecond.seconds == BigInt(0))\n      return { value: value / unitsToMilliSecond.seconds, unit: \"seconds\" };\n  }\n\n  return { value, unit: \"milliseconds\" };\n};\n\nexport const formattedRetentionTime = (time: bigint): string => {\n  const { unit, value } = millisecondsToTime(time);\n  return Number(value) === -1 ? \"Unlimited\" : `${time} ms (${value} ${unit})`;\n};\n\nexport const formattedRetentionSize = (size: bigint): string => {\n  const { unit, value } = bytesToMemorySize(size);\n  return Number(value) === -1\n    ? \"Unlimited\"\n    : `${size} bytes (${value} ${unit})`;\n};\n\nexport const bytesToMemorySize = (value: bigint): ConversionUnit => {\n  if (value) {\n    if (value % unitsToBytes.tebibytes == BigInt(0))\n      return { value: value / unitsToBytes.tebibytes, unit: \"tebibytes\" };\n    if (value % unitsToBytes.gibibytes == BigInt(0))\n      return { value: value / unitsToBytes.gibibytes, unit: \"gibibytes\" };\n    if (value % unitsToBytes.mebibytes == BigInt(0))\n      return { value: value / unitsToBytes.mebibytes, unit: \"mebibytes\" };\n    if (value % unitsToBytes.kibibytes == BigInt(0))\n      return { value: value / unitsToBytes.kibibytes, unit: \"kibibytes\" };\n  }\n\n  return { value, unit: \"bytes\" };\n};\n","import type { VoidFunctionComponent } from \"react\";\nimport { useTranslation } from \"@rhoas/app-services-ui-components\";\n\nexport type NoDataCellProps = {\n  columnLabel: string;\n};\nexport const NoDataCell: VoidFunctionComponent<NoDataCellProps> = ({\n  columnLabel,\n}) => {\n  const { t } = useTranslation(\"common\");\n  return (\n    <span className=\"pf-u-color-400\">\n      {t(\"table_cell_no_data\", { column: columnLabel })}\n    </span>\n  );\n};\n","import {\n  ClipboardCopy,\n  DescriptionList,\n  DescriptionListDescription,\n  DescriptionListGroup,\n  DescriptionListTerm,\n  DrawerActions,\n  DrawerCloseButton,\n  DrawerContentBody,\n  DrawerHead,\n  DrawerPanelContent,\n  Flex,\n  FlexItem,\n  Tab,\n  Tabs,\n  TabTitleText,\n  Text,\n  TextContent,\n  TextVariants,\n} from \"@patternfly/react-core\";\nimport { FormatDate, useTranslation } from \"@rhoas/app-services-ui-components\";\nimport { parseISO } from \"date-fns\";\nimport type { VoidFunctionComponent } from \"react\";\nimport type { Message } from \"ui-models/src/models/message\";\nimport { beautifyUnknownValue } from \"../utils\";\nimport { NoDataCell } from \"./NoDataCell\";\n\nexport type MessageDetailsProps = {\n  onClose: () => void;\n  defaultTab: MessageDetailsBodyProps[\"defaultTab\"];\n  message: Message | undefined;\n};\nexport const MessageDetails: VoidFunctionComponent<MessageDetailsProps> = ({\n  onClose,\n  defaultTab,\n  message,\n}) => {\n  const { t } = useTranslation(\"message-browser\");\n\n  return (\n    <DrawerPanelContent isResizable={true} minSize={\"400px\"}>\n      <DrawerHead>\n        <TextContent>\n          <Text component={TextVariants.h2}>{t(\"message\")}</Text>\n        </TextContent>\n        <DrawerActions>\n          <DrawerCloseButton onClick={onClose} />\n        </DrawerActions>\n      </DrawerHead>\n      <DrawerContentBody>\n        {message && (\n          <MessageDetailsBody\n            defaultTab={defaultTab}\n            messageKey={message.key}\n            {...message}\n          />\n        )}\n      </DrawerContentBody>\n    </DrawerPanelContent>\n  );\n};\n\nexport type MessageDetailsBodyProps = {\n  defaultTab: \"value\" | \"headers\";\n  messageKey: Message[\"key\"];\n} & Omit<Message, \"key\">;\n\nexport const MessageDetailsBody: VoidFunctionComponent<\n  MessageDetailsBodyProps\n> = ({ defaultTab, ...message }) => {\n  const { t } = useTranslation(\"message-browser\");\n\n  return (\n    <Flex direction={{ default: \"column\" }} data-testid={\"message-details\"}>\n      <FlexItem>\n        <DescriptionList isHorizontal isCompact>\n          <DescriptionListGroup>\n            <DescriptionListTerm>{t(\"field.partition\")}</DescriptionListTerm>\n            <DescriptionListDescription>\n              {message.partition}\n            </DescriptionListDescription>\n          </DescriptionListGroup>\n          <DescriptionListGroup>\n            <DescriptionListTerm>{t(\"field.offset\")}</DescriptionListTerm>\n            <DescriptionListDescription>\n              {message.offset}\n            </DescriptionListDescription>\n          </DescriptionListGroup>\n          <DescriptionListGroup>\n            <DescriptionListTerm>{t(\"field.timestamp\")}</DescriptionListTerm>\n            <DescriptionListDescription>\n              {message.timestamp ? (\n                <FormatDate\n                  date={parseISO(message.timestamp)}\n                  format={\"longWithMilliseconds\"}\n                />\n              ) : (\n                <NoDataCell columnLabel={t(\"field.timestamp\")} />\n              )}\n            </DescriptionListDescription>\n          </DescriptionListGroup>\n          <DescriptionListGroup>\n            <DescriptionListTerm>{t(\"field.epoch\")}</DescriptionListTerm>\n            <DescriptionListDescription>\n              {message.timestamp ? (\n                <FormatDate\n                  date={parseISO(message.timestamp)}\n                  format={\"epoch\"}\n                />\n              ) : (\n                <NoDataCell columnLabel={t(\"field.epoch\")} />\n              )}\n            </DescriptionListDescription>\n          </DescriptionListGroup>\n          <DescriptionListGroup>\n            <DescriptionListTerm>{t(\"field.key\")}</DescriptionListTerm>\n            <DescriptionListDescription>\n              {message.messageKey ? (\n                message.messageKey\n              ) : (\n                <NoDataCell columnLabel={t(\"field.key\")} />\n              )}\n            </DescriptionListDescription>\n          </DescriptionListGroup>\n        </DescriptionList>\n      </FlexItem>\n      <FlexItem>\n        {/* set key to be a random number to force redraw the tabs in order to change the active tab from the outside */}\n        <Tabs defaultActiveKey={defaultTab} key={Math.random()}>\n          <Tab\n            eventKey={\"value\"}\n            title={<TabTitleText>{t(\"field.value\")}</TabTitleText>}\n          >\n            <ClipboardCopy isCode={true} isExpanded={true} isReadOnly={true}>\n              {beautifyUnknownValue(message.value || \"\")}\n            </ClipboardCopy>\n          </Tab>\n          <Tab\n            eventKey={\"headers\"}\n            title={<TabTitleText>{t(\"field.headers\")}</TabTitleText>}\n          >\n            <ClipboardCopy isCode={true} isExpanded={true} isReadOnly={true}>\n              {beautifyUnknownValue(JSON.stringify(message.headers) || \"\")}\n            </ClipboardCopy>\n          </Tab>\n        </Tabs>\n      </FlexItem>\n    </Flex>\n  );\n};\n","import {\n  Button,\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateIcon,\n  EmptyStateVariant,\n  Title,\n} from \"@patternfly/react-core\";\nimport { CubesIcon } from \"@patternfly/react-icons\";\nimport type { VoidFunctionComponent } from \"react\";\nimport { useTranslation } from \"@rhoas/app-services-ui-components\";\n\nexport const NoDataEmptyState: VoidFunctionComponent<{\n  onRefresh: () => void;\n}> = ({ onRefresh }) => {\n  const { t } = useTranslation(\"message-browser\");\n  return (\n    <EmptyState variant={EmptyStateVariant.large}>\n      <EmptyStateIcon icon={CubesIcon} />\n      <Title headingLevel=\"h4\" size=\"lg\">\n        {t(\"no_data_title\")}\n      </Title>\n      <EmptyStateBody>{t(\"no_data_body\")}</EmptyStateBody>\n      <Button onClick={onRefresh}>{t(\"no_data_refresh\")}</Button>\n    </EmptyState>\n  );\n};\n","import {\n  Button,\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateIcon,\n  EmptyStateVariant,\n  Title,\n} from \"@patternfly/react-core\";\nimport { SearchIcon } from \"@patternfly/react-icons\";\nimport type { VoidFunctionComponent } from \"react\";\nimport { useTranslation } from \"@rhoas/app-services-ui-components\";\n\nexport const NoResultsEmptyState: VoidFunctionComponent<{\n  onReset: () => void;\n}> = ({ onReset }) => {\n  const { t } = useTranslation(\"message-browser\");\n  return (\n    <EmptyState variant={EmptyStateVariant.large}>\n      <EmptyStateIcon icon={SearchIcon} />\n      <Title headingLevel=\"h4\" size=\"lg\">\n        {t(\"no_results_title\")}\n      </Title>\n      <EmptyStateBody>{t(\"no_results_body\")}</EmptyStateBody>\n      <Button variant={\"link\"} onClick={onReset}>\n        {t(\"no_results_reset\")}\n      </Button>\n    </EmptyState>\n  );\n};\n","import { Text, TextContent } from \"@patternfly/react-core\";\nimport type { VoidFunctionComponent } from \"react\";\nimport { useTranslation } from \"@rhoas/app-services-ui-components\";\n\nexport const OffsetRange: VoidFunctionComponent<{\n  min: number;\n  max: number;\n}> = ({ min, max }) => {\n  const { t } = useTranslation(\"message-browser\");\n  return (\n    <TextContent className=\"pf-u-font-size\">\n      <Text>\n        {t(\"offset\")} <span className=\"custom-text\">{min}</span> -{\" \"}\n        <span className=\"custom-text\">{max}</span>\n      </Text>\n    </TextContent>\n  );\n};\n","import type { SelectProps } from \"@patternfly/react-core\";\nimport {\n  InputGroup,\n  InputGroupText,\n  InputGroupTextVariant,\n  Select,\n  SelectOption,\n  SelectVariant,\n} from \"@patternfly/react-core\";\nimport type { VoidFunctionComponent } from \"react\";\nimport { useCallback, useMemo, useState } from \"react\";\nimport { useTranslation } from \"@rhoas/app-services-ui-components\";\n\nconst MAX_OPTIONS = 20;\n\nexport type PartitionSelectorProps = {\n  value: number | undefined;\n  partitions: number | undefined;\n  isDisabled: boolean;\n  onChange: (value: number | undefined) => void;\n};\nexport const PartitionSelector: VoidFunctionComponent<\n  PartitionSelectorProps\n> = ({ value, partitions, isDisabled, onChange }) => {\n  const { t } = useTranslation(\"message-browser\");\n  const [isOpen, setIsOpen] = useState(false);\n  const toggleOpen = (isOpen: boolean) => setIsOpen(isOpen);\n  const titleId = \"partition-selector\";\n\n  const handleChange = useCallback(\n    (value: string) => {\n      if (value !== \"\") {\n        const valueAsNum = parseInt(value, 10);\n        if (Number.isInteger(valueAsNum)) {\n          onChange(valueAsNum);\n        }\n      }\n      setIsOpen(false);\n    },\n    [onChange]\n  );\n\n  const allPartitions = useMemo(() => {\n    return new Array(partitions).fill(0).map((_, index) => index.toString());\n  }, [partitions]);\n\n  const makeOptions = useCallback(\n    (values: string[]) => {\n      const options = values\n        .slice(0, MAX_OPTIONS)\n        .map((v) => <SelectOption key={v} value={v} />);\n      const hiddenOptionsCount = values.length - options.length;\n      return hiddenOptionsCount\n        ? [\n            ...options,\n            <SelectOption\n              key={\"more-info\"}\n              isDisabled={true}\n              description={t(\"partitions_hidden\", {\n                count: hiddenOptionsCount,\n              })}\n            />,\n          ]\n        : options;\n    },\n    [t]\n  );\n\n  const options = useMemo(() => {\n    return makeOptions(allPartitions);\n  }, [allPartitions, makeOptions]);\n\n  const handleFilter: SelectProps[\"onFilter\"] = useCallback(\n    (_, filter: string) => {\n      if (filter !== \"\") {\n        return makeOptions(\n          allPartitions.filter((partition) => partition.includes(filter))\n        );\n      }\n      return options;\n    },\n    [allPartitions, makeOptions, options]\n  );\n\n  return (\n    <InputGroup>\n      <InputGroupText className=\"pf-c-content\">\n        {t(\"field.partition\")}\n      </InputGroupText>\n      <div>\n        <span id={titleId} hidden>\n          {t(\"select_partition_aria_label\")}\n        </span>\n        <Select\n          variant={SelectVariant.typeahead}\n          typeAheadAriaLabel={t(\"select_partition_typeahead\")}\n          onToggle={toggleOpen}\n          onSelect={(_, value) => handleChange(value as string)}\n          selections={value !== undefined ? [`${value}`] : undefined}\n          isOpen={isOpen}\n          aria-labelledby={titleId}\n          maxHeight={200}\n          width={150}\n          onFilter={handleFilter}\n          isInputValuePersisted={false}\n          isDisabled={isDisabled}\n          placeholderText={t(\"partition_placeholder\")}\n          onClear={() => onChange(undefined)}\n          data-testid={\"partition-selector\"}\n        >\n          {options}\n        </Select>\n      </div>\n      <InputGroupText\n        id={`${titleId}-input`}\n        variant={InputGroupTextVariant.plain}\n        className=\"pf-c-content\"\n      >\n        {t(\"select_partition_of_count\", { partitions })}\n      </InputGroupText>\n    </InputGroup>\n  );\n};\n","import type { VoidFunctionComponent } from \"react\";\nimport { truncate } from \"../utils\";\nimport { Flex, FlexItem } from \"@patternfly/react-core\";\nimport { useTranslation } from \"@rhoas/app-services-ui-components\";\n\nconst PREVIEW_LENGTH = 170;\n\nexport type UnknownValuePreviewProps = {\n  value: string;\n  truncateAt?: number;\n  onClick?: () => void;\n};\nexport const UnknownValuePreview: VoidFunctionComponent<\n  UnknownValuePreviewProps\n> = ({ value, truncateAt = PREVIEW_LENGTH, onClick }) => {\n  const { t } = useTranslation(\"message-browser\");\n  const [preview, truncated] = truncate(value, truncateAt);\n  return (\n    <Flex\n      direction={{ default: \"column\" }}\n      spaceItems={{ default: \"spaceItemsXs\" }}\n    >\n      <FlexItem>{preview}</FlexItem>\n      {truncated && (\n        <FlexItem>\n          <a\n            onClick={\n              onClick\n                ? (e) => {\n                    e.stopPropagation();\n                    onClick();\n                  }\n                : undefined\n            }\n          >\n            {t(\"show_more\")}\n          </a>\n        </FlexItem>\n      )}\n    </Flex>\n  );\n};\n","import type { Message } from \"ui-models/src/models/message\";\nimport { assign, createMachine } from \"xstate\";\nimport type { DateIsoString } from \"../../../../ui-models/src/types\";\nimport { isSameMessage } from \"./utils\";\n\nexport type MessageApiResponse = {\n  lastUpdated: Date;\n  messages: Message[];\n  partitions: number;\n  offsetMin: number;\n  offsetMax: number;\n\n  filter: {\n    partition: number | undefined;\n    offset: number | undefined;\n    timestamp: DateIsoString | undefined;\n    limit: number | undefined;\n    epoch: number | undefined;\n  };\n};\n\nexport const MessageBrowserMachine = createMachine(\n  {\n    id: \"message-browser\",\n    tsTypes: {} as import(\"./MessageBrowserMachine.typegen\").Typegen0,\n    schema: {\n      context: {} as {\n        // response\n        response: MessageApiResponse | undefined;\n\n        limit: number;\n        // optional input\n        partition: number | undefined;\n        offset: number | undefined;\n        epoch: number | undefined;\n        timestamp: DateIsoString | undefined;\n        selectedMessage: Message | undefined;\n      },\n      events: {} as\n        | {\n            type: \"fetchSuccess\";\n            messages: Message[];\n            partitions: number;\n            offsetMin: number;\n            offsetMax: number;\n          }\n        | { type: \"fetchFail\" }\n        | { type: \"refresh\" }\n        | { type: \"setPartition\"; value: number | undefined }\n        | { type: \"setOffset\"; value: number | undefined }\n        | { type: \"setTimestamp\"; value: DateIsoString | undefined }\n        | { type: \"setEpoch\"; value: number | undefined }\n        | { type: \"setLatest\" }\n        | { type: \"setLimit\"; value: number }\n        | { type: \"selectMessage\"; message: Message }\n        | { type: \"deselectMessage\" },\n    },\n    initial: \"initialLoading\",\n    context: {\n      // response\n      response: undefined,\n\n      limit: 10,\n      // optional input\n      partition: undefined,\n      offset: undefined,\n      timestamp: undefined,\n      selectedMessage: undefined,\n      epoch: undefined,\n    },\n    states: {\n      initialLoading: {\n        invoke: {\n          src: \"api\",\n        },\n        on: {\n          fetchSuccess: {\n            actions: \"setMessages\",\n            target: \"verifyMessages\",\n          },\n          fetchFail: \"error\",\n        },\n      },\n      verifyMessages: {\n        always: [{ cond: \"noMessages\", target: \"noData\" }, { target: \"ready\" }],\n      },\n      noData: {\n        on: {\n          refresh: \"initialLoading\",\n        },\n      },\n      error: {\n        on: {\n          refresh: \"initialLoading\",\n        },\n      },\n      ready: {\n        initial: \"pristine\",\n        states: {\n          pristine: {},\n          dirty: {\n            tags: \"dirty\",\n          },\n          shouldSearch: {\n            always: [\n              {\n                cond: \"areFiltersChanged\",\n                target: \"dirty\",\n              },\n              { target: \"pristine\" },\n            ],\n          },\n        },\n        always: [\n          {\n            cond: \"selectedMessageNotAvailable\",\n            actions: \"deselectMessage\",\n          },\n        ],\n        on: {\n          refresh: \"refreshing\",\n          setPartition: {\n            target: \".shouldSearch\",\n            actions: \"setPartition\",\n          },\n          setEpoch: {\n            actions: \"setEpoch\",\n            target: \".shouldSearch\",\n          },\n          setTimestamp: {\n            target: \".shouldSearch\",\n            actions: \"setTimestamp\",\n          },\n          setOffset: {\n            target: \".shouldSearch\",\n            actions: \"setOffset\",\n          },\n          setLatest: {\n            target: \".shouldSearch\",\n            actions: \"setLatest\",\n          },\n          setLimit: {\n            target: \".shouldSearch\",\n            actions: \"setLimit\",\n          },\n          selectMessage: {\n            actions: \"selectMessage\",\n          },\n          deselectMessage: {\n            actions: \"deselectMessage\",\n          },\n        },\n      },\n      refreshing: {\n        invoke: {\n          src: \"api\",\n        },\n        on: {\n          fetchSuccess: {\n            actions: \"setMessages\",\n            target: \"ready\",\n          },\n          fetchFail: {\n            target: \"ready\",\n          },\n        },\n      },\n    },\n  },\n  {\n    actions: {\n      setMessages: assign(\n        (context, { messages, partitions, offsetMin, offsetMax }) => ({\n          response: {\n            lastUpdated: new Date(),\n            messages,\n            partitions,\n            offsetMin,\n            offsetMax,\n            filter: {\n              partition: context.partition,\n              timestamp: context.timestamp,\n              offset: context.offset,\n              limit: context.limit,\n              epoch: context.epoch,\n            },\n          },\n        })\n      ),\n      setPartition: assign((_, { value }) => ({ partition: value })),\n      setEpoch: assign((_, { value }) => ({\n        epoch: value,\n      })),\n      setTimestamp: assign((_, { value }) => ({\n        timestamp: value,\n      })),\n      setOffset: assign((_, { value }) => ({\n        offset: value,\n      })),\n      setLimit: assign((_, { value }) => ({\n        limit: value,\n      })),\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      setLatest: assign((_) => ({\n        timestamp: undefined,\n        offset: undefined,\n      })),\n      selectMessage: assign((_, { message }) => ({ selectedMessage: message })),\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      deselectMessage: assign((_) => ({ selectedMessage: undefined })),\n    },\n    guards: {\n      noMessages: ({ response }) =>\n        response === undefined || response.messages.length === 0,\n      selectedMessageNotAvailable: ({ response, selectedMessage }) =>\n        selectedMessage !== undefined &&\n        response?.messages.find((m) => isSameMessage(m, selectedMessage)) ===\n          undefined,\n      areFiltersChanged: (context) =>\n        context.response?.filter.limit !== context.limit ||\n        context.response?.filter.offset !== context.offset ||\n        context.response?.filter.partition !== context.partition ||\n        context.response?.filter.timestamp !== context.timestamp ||\n        context.response?.filter.epoch !== context.epoch,\n    },\n  }\n);\n","import {\n  Button,\n  Drawer,\n  DrawerContent,\n  PageSection,\n  Toolbar,\n  ToolbarContent,\n  ToolbarGroup,\n  ToolbarItem,\n  ToolbarToggleGroup,\n} from \"@patternfly/react-core\";\nimport { FilterIcon, SearchIcon } from \"@patternfly/react-icons\";\nimport type { BaseCellProps } from \"@patternfly/react-table\";\nimport {\n  InnerScrollContainer,\n  OuterScrollContainer,\n} from \"@patternfly/react-table\";\nimport {\n  FormatDate,\n  Loading,\n  RefreshButton,\n  ResponsiveTable,\n  useTranslation,\n} from \"@rhoas/app-services-ui-components\";\nimport { useMachine } from \"@xstate/react\";\nimport { parseISO } from \"date-fns\";\nimport type { VoidFunctionComponent } from \"react\";\nimport { useMemo, useState } from \"react\";\nimport type { Message } from \"ui-models/src/models/message\";\nimport type { DateIsoString } from \"../../../../ui-models/src/types\";\nimport type { MessageDetailsProps } from \"./components\";\nimport {\n  FilterGroup,\n  LimitSelector,\n  MessageDetails,\n  NoDataCell,\n  NoDataEmptyState,\n  NoResultsEmptyState,\n  OffsetRange,\n  PartitionSelector,\n  UnknownValuePreview,\n} from \"./components\";\nimport \"./KafkaMessageBrowser.css\";\nimport type { MessageApiResponse } from \"./MessageBrowserMachine\";\nimport { MessageBrowserMachine } from \"./MessageBrowserMachine\";\nimport { beautifyUnknownValue, isSameMessage } from \"./utils\";\n\nconst columns = [\n  \"partition\",\n  \"offset\",\n  \"timestamp\",\n  \"key\",\n  \"headers\",\n  \"value\",\n] as const;\n\nconst columnWidths: BaseCellProps[\"width\"][] = [10, 10, 15, 10, undefined, 30];\n\nexport type KafkaMessageBrowserProps = {\n  getMessages: (props: {\n    partition?: number;\n    offset?: number;\n    timestamp?: DateIsoString;\n    limit: number;\n  }) => Promise<{ messages: Message[]; partitions: number }>;\n};\nexport const KafkaMessageBrowser: VoidFunctionComponent<\n  KafkaMessageBrowserProps\n> = ({ getMessages }) => {\n  const [state, send] = useMachine(() => MessageBrowserMachine, {\n    devTools: true,\n    services: {\n      api: (context) => {\n        return (send) => {\n          getMessages({\n            partition: context.partition,\n            offset: context.offset,\n            timestamp: context.timestamp,\n            limit: context.limit,\n          })\n            .then(({ messages, partitions }) =>\n              send({\n                type: \"fetchSuccess\",\n                messages,\n                partitions,\n                offsetMin: context.offset || 0,\n                offsetMax: messages.reduce(\n                  (max, m) => Math.max(max, m.offset || 0),\n                  0\n                ),\n              })\n            )\n            .catch(() => send({ type: \"fetchFail\" }));\n        };\n      },\n    },\n  });\n\n  return (\n    <KafkaMessageBrowserConnected\n      isFirstLoad={state.matches(\"initialLoading\")}\n      isNoData={state.matches(\"noData\") || state.matches(\"error\")}\n      isRefreshing={state.matches(\"refreshing\")}\n      requiresSearch={state.hasTag(\"dirty\")}\n      selectedMessage={state.context.selectedMessage}\n      response={state.context.response}\n      lastUpdated={state.context.response?.lastUpdated}\n      partition={state.context.partition}\n      limit={state.context.limit}\n      filterOffset={state.context.offset}\n      filterEpoch={state.context.epoch}\n      filterTimestamp={state.context.timestamp}\n      setPartition={(value: number | undefined) =>\n        send({ type: \"setPartition\", value })\n      }\n      setOffset={(value: number | undefined) =>\n        send({ type: \"setOffset\", value })\n      }\n      setTimestamp={(value: DateIsoString | undefined) =>\n        send({ type: \"setTimestamp\", value })\n      }\n      setEpoch={(value: number | undefined) =>\n        send({ type: \"setEpoch\", value })\n      }\n      setLatest={() => send({ type: \"setLatest\" })}\n      setLimit={(value: number) => send({ type: \"setLimit\", value })}\n      refresh={() => send({ type: \"refresh\" })}\n      selectMessage={(message: Message) =>\n        send({ type: \"selectMessage\", message })\n      }\n      deselectMessage={() => send({ type: \"deselectMessage\" })}\n    />\n  );\n};\n\nexport type KafkaMessageBrowserConnectedProps = {\n  isFirstLoad: boolean;\n  isNoData: boolean;\n  isRefreshing: boolean;\n  requiresSearch: boolean;\n  selectedMessage: Message | undefined;\n  lastUpdated: Date | undefined;\n  response: MessageApiResponse | undefined;\n  partition: number | undefined;\n  limit: number;\n  filterOffset: number | undefined;\n  filterEpoch: number | undefined;\n  filterTimestamp: DateIsoString | undefined;\n  setPartition: (value: number | undefined) => void;\n  setOffset: (value: number | undefined) => void;\n  setTimestamp: (value: DateIsoString | undefined) => void;\n  setEpoch: (value: number | undefined) => void;\n  setLatest: () => void;\n  setLimit: (value: number) => void;\n  refresh: () => void;\n  selectMessage: (message: Message) => void;\n  deselectMessage: () => void;\n};\nexport const KafkaMessageBrowserConnected: VoidFunctionComponent<\n  KafkaMessageBrowserConnectedProps\n> = ({\n  isFirstLoad,\n  isNoData,\n  isRefreshing,\n  requiresSearch,\n  selectedMessage,\n  response,\n  partition,\n  limit,\n  filterOffset,\n  filterEpoch,\n  filterTimestamp,\n  setPartition,\n  setOffset,\n  setTimestamp,\n  setEpoch,\n  setLatest,\n  setLimit,\n  refresh,\n  selectMessage,\n  deselectMessage,\n}) => {\n  const { t } = useTranslation(\"message-browser\");\n  const [defaultTab, setDefaultTab] =\n    useState<MessageDetailsProps[\"defaultTab\"]>(\"value\");\n\n  const columnLabels: { [key in typeof columns[number]]: string } = useMemo(\n    () =>\n      ({\n        partition: t(\"field.partition\"),\n        offset: t(\"field.offset\"),\n        timestamp: t(\"field.timestamp\"),\n        key: t(\"field.key\"),\n        value: t(\"field.value\"),\n        headers: t(\"field.headers\"),\n      } as const),\n    [t]\n  );\n\n  switch (true) {\n    case isFirstLoad:\n      return <Loading />;\n    case isNoData:\n      return <NoDataEmptyState onRefresh={refresh} />;\n    default:\n      return (\n        <PageSection isFilled={true} hasOverflowScroll={true}>\n          <Drawer isInline={true} isExpanded={selectedMessage !== undefined}>\n            <DrawerContent\n              panelContent={\n                <MessageDetails\n                  message={selectedMessage}\n                  defaultTab={defaultTab}\n                  onClose={deselectMessage}\n                />\n              }\n            >\n              <OuterScrollContainer>\n                <Toolbar\n                  className={\"mas-KafkaMessageBrowser-Toolbar\"}\n                  data-testid={\"message-browser-toolbar\"}\n                >\n                  <ToolbarContent>\n                    <ToolbarToggleGroup\n                      toggleIcon={<FilterIcon />}\n                      breakpoint=\"2xl\"\n                    >\n                      <ToolbarGroup variant=\"filter-group\">\n                        <ToolbarItem>\n                          <PartitionSelector\n                            value={partition}\n                            partitions={response?.partitions || 0}\n                            onChange={setPartition}\n                            isDisabled={isRefreshing}\n                          />\n                        </ToolbarItem>\n                      </ToolbarGroup>\n                      <ToolbarGroup variant=\"filter-group\">\n                        <FilterGroup\n                          isDisabled={isRefreshing}\n                          offset={filterOffset}\n                          epoch={filterEpoch}\n                          timestamp={filterTimestamp}\n                          onOffsetChange={setOffset}\n                          onTimestampChange={setTimestamp}\n                          onEpochChange={setEpoch}\n                          onLatest={setLatest}\n                        />\n                      </ToolbarGroup>\n                      <ToolbarGroup>\n                        <LimitSelector\n                          value={limit}\n                          onChange={setLimit}\n                          isDisabled={isRefreshing}\n                        />\n                      </ToolbarGroup>\n                    </ToolbarToggleGroup>\n                    <ToolbarGroup>\n                      <ToolbarItem>\n                        <Button\n                          variant={\"plain\"}\n                          isDisabled={!requiresSearch || isRefreshing}\n                          aria-label={t(\"common:search_button_label\")}\n                          onClick={refresh}\n                        >\n                          <SearchIcon />\n                        </Button>\n                      </ToolbarItem>\n                      <ToolbarItem>\n                        <RefreshButton\n                          onClick={refresh}\n                          isRefreshing={isRefreshing}\n                          isDisabled={requiresSearch}\n                        />\n                      </ToolbarItem>\n                    </ToolbarGroup>\n                    <ToolbarGroup alignment={{ default: \"alignRight\" }}>\n                      {response?.filter.partition !== undefined &&\n                        response?.messages.length > 0 && (\n                          <OffsetRange\n                            min={response?.offsetMin || 0}\n                            max={response?.offsetMax || 0}\n                          />\n                        )}\n                    </ToolbarGroup>\n                  </ToolbarContent>\n                </Toolbar>\n                <InnerScrollContainer>\n                  <ResponsiveTable\n                    ariaLabel={t(\"table_aria_label\")}\n                    columns={columns}\n                    data={response?.messages}\n                    expectedLength={response?.messages?.length}\n                    renderHeader={({ column, Th, key }) => (\n                      <Th key={key}>{columnLabels[column]}</Th>\n                    )}\n                    renderCell={({ column, row, colIndex, Td, key }) => (\n                      <Td\n                        key={key}\n                        dataLabel={columnLabels[column]}\n                        width={columnWidths[colIndex]}\n                      >\n                        {(() => {\n                          const empty = (\n                            <NoDataCell columnLabel={columnLabels[column]} />\n                          );\n                          switch (column) {\n                            case \"partition\":\n                              return row.partition;\n                            case \"offset\":\n                              return row.offset;\n                            case \"timestamp\":\n                              return row.timestamp ? (\n                                <FormatDate\n                                  date={parseISO(row.timestamp)}\n                                  format={\"longWithMilliseconds\"}\n                                />\n                              ) : (\n                                empty\n                              );\n                            case \"key\":\n                              return row.key ? (\n                                <UnknownValuePreview\n                                  value={row.key}\n                                  truncateAt={40}\n                                />\n                              ) : (\n                                empty\n                              );\n                            case \"headers\":\n                              return Object.keys(row.headers).length > 0 ? (\n                                <UnknownValuePreview\n                                  value={beautifyUnknownValue(\n                                    JSON.stringify(row.headers)\n                                  )}\n                                  onClick={() => {\n                                    setDefaultTab(\"headers\");\n                                    selectMessage(row);\n                                  }}\n                                />\n                              ) : (\n                                empty\n                              );\n                            case \"value\":\n                              return row.value ? (\n                                <UnknownValuePreview\n                                  value={beautifyUnknownValue(row.value || \"\")}\n                                  onClick={() => {\n                                    setDefaultTab(\"value\");\n                                    selectMessage(row);\n                                  }}\n                                />\n                              ) : (\n                                empty\n                              );\n                          }\n                        })()}\n                      </Td>\n                    )}\n                    isRowSelected={({ row }) =>\n                      selectedMessage !== undefined &&\n                      isSameMessage(row, selectedMessage)\n                    }\n                    onRowClick={({ row }) => {\n                      setDefaultTab(\"value\");\n                      selectMessage(row);\n                    }}\n                  >\n                    <NoResultsEmptyState\n                      onReset={() => {\n                        setLatest();\n                        setPartition(undefined);\n                        refresh();\n                      }}\n                    />\n                  </ResponsiveTable>\n                </InnerScrollContainer>\n              </OuterScrollContainer>\n            </DrawerContent>\n          </Drawer>\n        </PageSection>\n      );\n  }\n};\n","import {\n  TableComposable,\n  Tbody,\n  Td,\n  Th,\n  Thead,\n  Tr,\n} from \"@patternfly/react-table\";\nimport type { FunctionComponent } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\ninterface CapacityTable {\n  name: string;\n  firstStreamingUnit: string;\n  secondStreamingUnit: string;\n}\n\nexport const KafkaInstanceCapacityTable: FunctionComponent = () => {\n  const { t } = useTranslation(\"kafkaoverview-v2\");\n\n  const capacityTable: CapacityTable[] = [\n    {\n      name: \"Ingress (MB/second)\",\n      firstStreamingUnit: \"up to 50\",\n      secondStreamingUnit: \"up to 100\",\n    },\n    {\n      name: \"Egress (MB/second)\",\n      firstStreamingUnit: \"up to 100\",\n      secondStreamingUnit: \"up to 200\",\n    },\n    {\n      name: \"Storage* (GB)\",\n      firstStreamingUnit: \"up to 1000\",\n      secondStreamingUnit: \"up to 2000\",\n    },\n    {\n      name: \"Topic partitions\",\n      firstStreamingUnit: \"up to 1500\",\n      secondStreamingUnit: \"up to 3000\",\n    },\n    {\n      name: \"Client connections\",\n      firstStreamingUnit: \"up to 3000\",\n      secondStreamingUnit: \"up to 6000\",\n    },\n    {\n      name: \"Connection rate (connections/second)\",\n      firstStreamingUnit: \"up to 100\",\n      secondStreamingUnit: \"up to 200\",\n    },\n    {\n      name: \"Message size (MB)\",\n      firstStreamingUnit: \"up to 1\",\n      secondStreamingUnit: \"up to 1\",\n    },\n  ];\n\n  const columnNames = {\n    name: \"\",\n    firstStreamingUnit: t(\"firstStreamingUnit\"),\n    secondStreamingUnit: t(\"secondStreamingUnit\"),\n  };\n\n  return (\n    <TableComposable>\n      <Thead>\n        <Tr>\n          <Th>{columnNames.name}</Th>\n          <Th>{columnNames.firstStreamingUnit}</Th>\n          <Th>{columnNames.secondStreamingUnit}</Th>\n        </Tr>\n      </Thead>\n      <Tbody>\n        {capacityTable.map((table) => {\n          return (\n            <Tr key={table.name}>\n              <Td dataLabel={columnNames.name}>{table.name}</Td>\n              <Td dataLabel={columnNames.firstStreamingUnit}>\n                {table.firstStreamingUnit}\n              </Td>\n              <Td dataLabel={columnNames.secondStreamingUnit}>\n                {table.secondStreamingUnit}\n              </Td>\n            </Tr>\n          );\n        })}\n      </Tbody>\n    </TableComposable>\n  );\n};\n","import {\n  Bullseye,\n  Card,\n  PageSection,\n  PageSectionVariants,\n  Stack,\n  StackItem,\n  Text,\n  TextVariants,\n  Title,\n} from \"@patternfly/react-core\";\nimport classNames from \"classnames\";\nimport type {\n  CSSProperties,\n  FunctionComponent,\n  ReactNode,\n  VoidFunctionComponent,\n} from \"react\";\nimport \"./MarketingPage.css\";\n\nexport type MarketingPageHeroProps = {\n  title: string;\n  tagLine: string;\n  description: string;\n  description2?: string;\n  heroImage: string;\n  heroImageSize: number;\n  heroImageCanRepeat?: boolean;\n  heroImagePositionY?: number;\n  cta?: ReactNode;\n  variant?: \"light\" | \"dark\";\n};\n\nexport const MarketingPageHero: VoidFunctionComponent<\n  MarketingPageHeroProps\n> = ({\n  title,\n  tagLine,\n  description,\n  description2,\n  heroImage,\n  heroImageSize,\n  heroImageCanRepeat = true,\n  heroImagePositionY = 0,\n  cta,\n  variant = \"light\",\n}) => {\n  const style = {\n    \"--appsrv-marketing--banner--before--BackgroundImage\": `url(${heroImage})`,\n    \"--appsrv-marketing--banner--before--BackgroundSize\": `${heroImageSize}px`,\n    \"--appsrv-marketing--banner--before--BackgroundRepeat\": heroImageCanRepeat\n      ? \"repeat\"\n      : \"no-repeat\",\n    \"--appsrv-marketing--banner--before--BackgroundPositionY\": `${heroImagePositionY}px`,\n  } as CSSProperties;\n  return (\n    <PageSection\n      className={classNames(\"appsrv-marketing--banner\", {\n        \"pf-u-background-color-dark-100\": variant === \"dark\",\n        \"pf-u-background-color-100\": variant === \"light\",\n      })}\n      variant={\n        variant === \"dark\"\n          ? PageSectionVariants.dark\n          : PageSectionVariants.light\n      }\n      style={style}\n    >\n      <Stack hasGutter>\n        <Title headingLevel=\"h1\" size=\"2xl\">\n          {title}\n        </Title>\n        <Text\n          className={`appsrv-marketing--banner__tagline ${\n            variant === \"dark\" ? \"\" : \"pf-u-color-200\"\n          }`}\n        >\n          {tagLine}\n        </Text>\n        <Text component={TextVariants.p}>{description}</Text>\n        {description2 && (\n          <Text component={TextVariants.p} className=\"pf-u-mt-md\">\n            {description2}\n          </Text>\n        )}\n        {cta && <StackItem>{cta}</StackItem>}\n      </Stack>\n    </PageSection>\n  );\n};\n\nexport const MarketingPageBanner: FunctionComponent = ({ children }) => {\n  return (\n    <PageSection\n      variant={PageSectionVariants.light}\n      className=\"appsrv-marketing--page-section--marketing pf-u-background-color-100\"\n    >\n      <Bullseye>\n        <Text\n          component={TextVariants.p}\n          className=\"appsrv-marketing--banner--text-only\"\n        >\n          {children}\n        </Text>\n      </Bullseye>\n    </PageSection>\n  );\n};\n\nexport type MarketingPageSectionProps = {\n  className?: string;\n};\n\nexport const MarketingPageSection: FunctionComponent<\n  MarketingPageSectionProps & {\n    variant?: \"dark\" | \"light\" | \"default\";\n  }\n> = ({\n  className = \"appsrv-marketing--page-section--marketing\",\n  variant = \"default\",\n  children,\n}) => (\n  <PageSection\n    isWidthLimited\n    className={classNames(className, {\n      \"pf-u-background-color-dark-100\": variant === \"dark\",\n      \"pf-u-background-color-100\": variant === \"light\",\n    })}\n    variant={\n      variant === \"dark\"\n        ? PageSectionVariants.dark\n        : variant === \"light\"\n        ? PageSectionVariants.light\n        : PageSectionVariants.default\n    }\n  >\n    {children}\n  </PageSection>\n);\n\nexport const MarketingPageVideoCard: VoidFunctionComponent<{\n  src: string;\n  title: string;\n}> = ({ src, title }) => (\n  <Card className=\"appsrv-marketing--video\">\n    <div className=\"appsrv-marketing--video__wrapper\">\n      <iframe\n        src={src}\n        title={title}\n        frameBorder=\"0\"\n        allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n        allowFullScreen\n      ></iframe>\n    </div>\n  </Card>\n);\n","import {\n  Card,\n  CardBody,\n  CardFooter,\n  CardHeader,\n  CardHeaderMain,\n  CardTitle,\n  DescriptionList,\n  DescriptionListDescription,\n  DescriptionListGroup,\n  DescriptionListTerm,\n  Divider,\n  Flex,\n  FlexItem,\n  Grid,\n  Split,\n  SplitItem,\n  Stack,\n  Text,\n  TextContent,\n  TextVariants,\n  Title,\n} from \"@patternfly/react-core\";\nimport {\n  AppSpeedKeyArt,\n  ExternalLink,\n} from \"@rhoas/app-services-ui-components\";\nimport type { FunctionComponent } from \"react\";\nimport { Trans, useTranslation } from \"react-i18next\";\nimport { KafkaInstanceCapacityTable } from \"./KafkaInstanceCapacityTable\";\nimport { LogoAWS, LogoAzure, LogoGCP } from \"./Logos/images\";\nimport { MarketingPageHero, MarketingPageSection } from \"./MarketingPage\";\n\nexport const KafkaPageV3: FunctionComponent = () => {\n  const { t } = useTranslation([\"kafkaoverview-v3\"]);\n  return (\n    <>\n      <MarketingPageHero\n        title={t(\"heroTitle\")}\n        tagLine={t(\"heroTagline\")}\n        description={t(\"heroDescription\")}\n        heroImage={AppSpeedKeyArt}\n        heroImageSize={478}\n        heroImageCanRepeat={false}\n        heroImagePositionY={-99}\n      />\n      <MarketingPageSection>\n        <Grid hasGutter lg={6}>\n          <Card\n            ouiaId=\"card-overview-purchase-now\"\n            aria-label={t(\"kafkaoverview:purchaseCardTitle\")}\n          >\n            <CardHeader>\n              <CardHeaderMain>\n                <CardTitle>\n                  <Title headingLevel=\"h2\">\n                    <Trans\n                      ns={\"kafkaoverview-v3\"}\n                      i18nKey={\"purchaseCardTitle\"}\n                    >\n                      <span className=\"pf-u-color-200 pf-u-font-size-sm\"></span>\n                    </Trans>\n                  </Title>\n                </CardTitle>\n              </CardHeaderMain>\n            </CardHeader>\n            <CardBody>{t(\"purchaseCardMainText\")}</CardBody>\n            <CardFooter>\n              <Flex spaceItems={{ default: \"spaceItems2xl\" }}>\n                <FlexItem>\n                  <ExternalLink\n                    href={\n                      \"https://marketplace.redhat.com/en-us/products/red-hat-openshift-streams-for-apache-kafka\"\n                    }\n                    testId={\"cardPurchase-buttonRH\"}\n                    className={\"pf-u-ml-md \"}\n                  >\n                    <Trans\n                      ns={\"kafkaoverview-v3\"}\n                      i18nKey={\"purchaseCardCallToActionButtonRedHat\"}\n                      components={{\n                        bold: <strong />,\n                        size: <span className=\"pf-u-font-size-lg\" />,\n                      }}\n                    />\n                  </ExternalLink>\n                </FlexItem>\n\n                <FlexItem>\n                  <ExternalLink\n                    href={\n                      \"https://aws.amazon.com/marketplace/pp/prodview-3xohcoyuwkumc\"\n                    }\n                    testId={\"cardPurchase-buttonAWS\"}\n                    className={\"pf-u-ml-md\"}\n                  >\n                    <Trans\n                      ns={\"kafkaoverview-v3\"}\n                      i18nKey={\"purchaseCardCallToActionButtonAWS\"}\n                      components={{\n                        bold: <strong />,\n                        size: <span className=\"pf-u-font-size-lg\" />,\n                      }}\n                    />\n                  </ExternalLink>\n                </FlexItem>\n              </Flex>\n            </CardFooter>\n          </Card>\n          <Card\n            ouiaId=\"card-overview-contact-sales\"\n            aria-label={t(\"kafkaoverview:contactSalesCardTitle\")}\n          >\n            <CardHeader>\n              <CardTitle>\n                <Title headingLevel=\"h2\">\n                  <Trans\n                    ns={\"kafkaoverview-v3\"}\n                    i18nKey={\"contactSalesCardTitle\"}\n                  >\n                    <span className=\"pf-u-color-200 pf-u-font-size-sm\"></span>\n                  </Trans>\n                </Title>\n              </CardTitle>\n            </CardHeader>\n            <CardBody>{t(\"contactSalesCardMainText\")}</CardBody>\n            <CardFooter>\n              <ExternalLink\n                href={\n                  \"https://www.redhat.com/en/technologies/cloud-computing/openshift/openshift-streams-for-apache-kafka#contact-us\"\n                }\n                testId={\"cardContactSales-buttonCTA\"}\n                className={\"pf-u-ml-md\"}\n              >\n                <Trans\n                  ns={\"kafkaoverview-v3\"}\n                  i18nKey={\"contactSalesCardCallToActionButton\"}\n                  components={{\n                    bold: <strong />,\n                    size: <span className=\"pf-u-font-size-lg\" />,\n                  }}\n                />\n              </ExternalLink>\n            </CardFooter>\n          </Card>\n        </Grid>\n      </MarketingPageSection>\n      <MarketingPageSection\n        className={\"kafka-overview--page-section--marketing\"}\n      >\n        <Card>\n          <CardTitle>\n            <Title headingLevel=\"h2\">{t(\"pricingModalTitle\")}</Title>\n          </CardTitle>\n          <CardBody>\n            <Flex spaceItems={{ default: \"spaceItemsXl\" }}>\n              <Flex\n                alignSelf={{ default: \"alignSelfCenter\" }}\n                justifyContent={{ default: \"justifyContentCenter\" }}\n                flex={{ default: \"flex_1\" }}\n              >\n                <FlexItem>\n                  <DescriptionList isHorizontal>\n                    <DescriptionListGroup>\n                      <DescriptionListTerm>\n                        {t(\"steamingUnit\")}\n                      </DescriptionListTerm>\n                      <DescriptionListDescription>\n                        {t(\"streamingUnit_price\")}\n                      </DescriptionListDescription>\n                    </DescriptionListGroup>\n                    <DescriptionListGroup>\n                      <DescriptionListTerm>\n                        {t(\"dataTransfer\")}\n                      </DescriptionListTerm>\n                      <DescriptionListDescription>\n                        {t(\"dataTransfer_price\")}\n                      </DescriptionListDescription>\n                    </DescriptionListGroup>\n                    <DescriptionListGroup>\n                      <DescriptionListTerm>{t(\"storage\")}</DescriptionListTerm>\n                      <DescriptionListDescription>\n                        {t(\"storage_price\")}\n                      </DescriptionListDescription>\n                    </DescriptionListGroup>\n                  </DescriptionList>\n                </FlexItem>\n              </Flex>\n              <Divider isVertical />\n              <FlexItem flex={{ default: \"flex_1\" }}>\n                <TextContent>\n                  <Text component={TextVariants.p}>\n                    <Trans\n                      ns={\"kafkaoverview-v3\"}\n                      i18nKey={\"streamingUnitText\"}\n                      components={{ bold: <strong /> }}\n                    />\n                  </Text>\n                </TextContent>\n              </FlexItem>\n            </Flex>\n          </CardBody>\n        </Card>\n      </MarketingPageSection>\n      <MarketingPageSection\n        className={\"kafka-overview--page-section--marketing\"}\n      >\n        <Card>\n          <CardTitle>\n            <Title headingLevel=\"h2\">{t(\"kafkaInstanceCapacityTitle\")}</Title>\n          </CardTitle>\n          <CardBody>\n            <Stack hasGutter>\n              <Text component={TextVariants.p}>\n                {t(\"kafkaInstanceCapacityDescription\")}\n              </Text>\n              <KafkaInstanceCapacityTable />\n            </Stack>\n          </CardBody>\n          <CardFooter>\n            <TextContent className={\"pf-u-font-size-sm\"}>\n              <Trans\n                ns={\"kafkaoverview-v3\"}\n                i18nKey={\"kafkaInstanceCapacityfooter\"}\n                components={[\n                  <ExternalLink\n                    href={\"https://access.redhat.com/support\"}\n                    testId={\"SupportLink\"}\n                    className={\"pf-u-ml-xs\"}\n                  />,\n                  <ExternalLink\n                    href={\n                      \"https://access.redhat.com/documentation/en-us/red_hat_openshift_streams_for_apache_kafka/1/guide/aced8e5e-8229-4cb2-82f9-87a8caa24bb3\"\n                    }\n                    testId={\"MonitoringDiskSpaceLink\"}\n                    className={\"pf-u-ml-xs\"}\n                  />,\n                ]}\n              />\n            </TextContent>\n          </CardFooter>\n        </Card>\n      </MarketingPageSection>\n      <MarketingPageSection\n        className={\"kafka-overview--page-section--marketing\"}\n      >\n        <Card>\n          <CardTitle>\n            <Title headingLevel=\"h2\">{t(\"cloudProvidersTitle\")}</Title>\n          </CardTitle>\n          <CardBody>\n            <Flex\n              spaceItems={{ default: \"spaceItemsXl\" }}\n              direction={{ default: \"column\", xl: \"row\" }}\n            >\n              <Flex\n                justifyContent={{ default: \"justifyContentCenter\" }}\n                flex={{ default: \"flex_1\" }}\n              >\n                <FlexItem>\n                  <Split hasGutter>\n                    <SplitItem>\n                      <img src={LogoAWS} alt={\"\"} style={{ height: \"60px\" }} />\n                    </SplitItem>\n                    <SplitItem>\n                      <Title headingLevel=\"h2\" className={\"pf-u-pt-sm\"}>\n                        {t(\"awsWebServiceTitle\")}\n                      </Title>\n                    </SplitItem>\n                  </Split>\n                </FlexItem>\n              </Flex>\n              <Divider\n                orientation={{ default: \"horizontal\", xl: \"vertical\" }}\n              />\n              <Flex\n                justifyContent={{ default: \"justifyContentCenter\" }}\n                flex={{ default: \"flex_1\" }}\n              >\n                <FlexItem>\n                  <Split hasGutter>\n                    <SplitItem>\n                      <img src={LogoGCP} alt={\"\"} style={{ height: \"60px\" }} />\n                    </SplitItem>\n                    <SplitItem>\n                      <Title headingLevel=\"h2\" className={\"pf-u-pt-sm\"}>\n                        {t(\"googleCloudProviderTitle\")}\n                      </Title>\n                      <Text\n                        component={TextVariants.p}\n                        className={\"pf-u-color-200\"}\n                      >\n                        {t(\"googleCloudProviderDescription\")}\n                      </Text>\n                    </SplitItem>\n                  </Split>\n                </FlexItem>\n              </Flex>\n              <Divider\n                orientation={{ default: \"horizontal\", xl: \"vertical\" }}\n              />\n              <Flex\n                justifyContent={{ default: \"justifyContentCenter\" }}\n                flex={{ default: \"flex_1\" }}\n              >\n                <FlexItem>\n                  <Split hasGutter>\n                    <SplitItem>\n                      <img\n                        src={LogoAzure}\n                        alt={\"\"}\n                        style={{ height: \"60px\" }}\n                      />\n                    </SplitItem>\n                    <SplitItem>\n                      <Title headingLevel=\"h2\" className={\"pf-u-pt-sm\"}>\n                        {t(\"microsoftAzureTitle\")}\n                      </Title>\n                      <Text\n                        component={TextVariants.p}\n                        className={\"pf-u-color-200\"}\n                      >\n                        {t(\"microsoftAzureDescription\")}\n                      </Text>\n                    </SplitItem>\n                  </Split>\n                </FlexItem>\n              </Flex>\n            </Flex>\n          </CardBody>\n        </Card>\n      </MarketingPageSection>\n    </>\n  );\n};\n","import {\n  Button,\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateIcon,\n  EmptyStateVariant,\n  Title,\n} from \"@patternfly/react-core\";\nimport { PlusCircleIcon } from \"@patternfly/react-icons\";\nimport type { VoidFunctionComponent } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nexport type EmptyStateNoTopicProps = {\n  onCreateTopic: () => void;\n};\n\nexport const EmptyStateNoTopic: VoidFunctionComponent<\n  EmptyStateNoTopicProps\n> = ({ onCreateTopic }) => {\n  const { t } = useTranslation(\"topic\");\n\n  return (\n    <EmptyState\n      data-ouia-page-id=\"emptyStateTopics\"\n      variant={EmptyStateVariant.large}\n    >\n      <EmptyStateIcon icon={PlusCircleIcon} />\n      <Title headingLevel=\"h2\" size=\"lg\">\n        {t(\"empty_topics_title\")}\n      </Title>\n      <EmptyStateBody>{t(\"empty_topics_body\")}</EmptyStateBody>\n      <Button\n        data-testid=\"actionCreateTopic\"\n        ouiaId=\"button-create\"\n        variant=\"primary\"\n        onClick={onCreateTopic}\n      >\n        {t(\"create_topic\")}\n      </Button>\n    </EmptyState>\n  );\n};\n","import type { ResourceOperationValue } from \"./components/ResourceOperation\";\nimport type { ResourcePermissionValue } from \"./components/ResourcePermission\";\nimport type { ResourcePrefixRuleValue } from \"./components/ResourcePrefixRule\";\nimport type { ResourceTypeValue } from \"./components/ResourceType\";\n\nexport type AclOperation =\n  | \"ALL\"\n  | \"READ\"\n  | \"WRITE\"\n  | \"CREATE\"\n  | \"DELETE\"\n  | \"ALTER\"\n  | \"DESCRIBE\"\n  | \"DESCRIBE_CONFIGS\"\n  | \"ALTER_CONFIGS\";\n\nexport type AclResourceType =\n  | \"GROUP\"\n  | \"TOPIC\"\n  | \"CLUSTER\"\n  | \"TRANSACTIONAL_ID\";\n\nexport type AclPatternType = \"LITERAL\" | \"PREFIXED\";\n\nexport type AclPermissionType = \"ALLOW\" | \"DENY\";\n\nexport interface AclBinding {\n  /**\n   *\n   * @type {AclResourceType}\n   * @memberof AclBinding\n   */\n  resourceType: AclResourceType;\n  /**\n   *\n   * @type {string}\n   * @memberof AclBinding\n   */\n  resourceName: string;\n  /**\n   *\n   * @type {AclPatternType}\n   * @memberof AclBinding\n   */\n  patternType: AclPatternType;\n  /**\n   * Identifies the user or service account to which an ACL entry is bound. The literal prefix value of `User:` is required. May be used to specify all users with value `User:*`.\n   * @type {string}\n   * @memberof AclBinding\n   */\n  principal: string;\n  /**\n   *\n   * @type {AclOperation}\n   * @memberof AclBinding\n   */\n  operation: AclOperation;\n  /**\n   *\n   * @type {AclPermissionType}\n   * @memberof AclBinding\n   */\n  permission: AclPermissionType;\n}\nexport enum PrincipalType {\n  UserAccount = \"USER_ACCOUNT\",\n  ServiceAccount = \"SERVICE_ACCOUNT\",\n}\n\nexport type Account = {\n  id: string;\n  principalType: PrincipalType;\n  displayName: string;\n};\n\ntype ManualAcl = {\n  resourceType: ResourceTypeValue | undefined;\n  resourcePrefix: ResourcePrefixRuleValue;\n  resourceName: string | undefined;\n  resourcePermission: ResourcePermissionValue;\n  resourceOperation: ResourceOperationValue | undefined;\n};\n\ntype ProduceTopicTemplate = {\n  prefixRuleValue: ResourcePrefixRuleValue;\n  resourceNameValue: string | undefined;\n};\n\ntype ConsumeTopicTemplate = {\n  consumerResourceName: string | undefined;\n  consumerResourcePrefixRule: ResourcePrefixRuleValue;\n  topicResourceName: string | undefined;\n  topicResourcePrefixRule: ResourcePrefixRuleValue;\n};\n\ntype ManageAccessTemplate = {\n  instanceName: string;\n};\nexport type AddAclType =\n  | ({ type: \"manual\" } & ManualAcl)\n  | ({ type: \"consume-topic\" } & ConsumeTopicTemplate)\n  | ({ type: \"produce-topic\" } & ProduceTopicTemplate)\n  | ({ type: \"manage-access\" } & ManageAccessTemplate);\n\nexport const createEmptyManualAcl = (): AddAclType => {\n  return {\n    type: \"manual\",\n    resourceName: undefined,\n    resourceType: undefined,\n    resourceOperation: undefined,\n    resourcePrefix: \"Is\",\n    resourcePermission: \"allow\",\n  };\n};\nexport const createEmptyProduceTopicAcl = (): AddAclType => {\n  return {\n    type: \"produce-topic\",\n    prefixRuleValue: \"Is\",\n    resourceNameValue: undefined,\n  };\n};\nexport const createEmptyConsumeTopicAcl = (): AddAclType => {\n  return {\n    type: \"consume-topic\",\n    consumerResourceName: undefined,\n    consumerResourcePrefixRule: \"Is\",\n    topicResourceName: undefined,\n    topicResourcePrefixRule: \"Is\",\n  };\n};\nexport const createEmptyManageAccessAcl = (kafkaName: string): AddAclType => {\n  return {\n    type: \"manage-access\",\n    instanceName: kafkaName,\n  };\n};\n","import { Button, PageSection } from \"@patternfly/react-core\";\nimport { TableVariant } from \"@patternfly/react-table\";\nimport type { TableViewProps } from \"@rhoas/app-services-ui-components\";\nimport {\n  EmptyStateNoResults,\n  TableView,\n} from \"@rhoas/app-services-ui-components\";\nimport { useTranslation } from \"react-i18next\";\nimport { Link } from \"react-router-dom\";\nimport type { Topic, TopicField } from \"ui-models/src/models/topic\";\nimport { useTopicLabels } from \"../../hooks\";\nimport type { EmptyStateNoTopicProps } from \"./components\";\nimport { EmptyStateNoTopic } from \"./components\";\nimport { formattedRetentionSize, formattedRetentionTime } from \"./types\";\n\ntype SubUnion<T, U extends T> = U;\n\nconst Columns: SubUnion<\n  TopicField,\n  \"name\" | \"partitions\" | \"retention.ms\" | \"retention.bytes\"\n>[] = [\"name\", \"partitions\", \"retention.ms\", \"retention.bytes\"];\n\nexport type KafkaTopicsProps<T extends Topic> = {\n  topics: Array<T> | undefined;\n  getUrlFortopic: (row: T) => string;\n  onDelete: (row: T) => void;\n  onEdit: (row: T) => void;\n  topicName: string[];\n  onSearchTopic: (value: string) => void;\n  onRemoveTopicChip: (value: string) => void;\n  onRemoveTopicChips: () => void;\n  onTopicLinkClick: (row: T) => void;\n} & Pick<\n  TableViewProps<T, typeof Columns[number]>,\n  | \"itemCount\"\n  | \"page\"\n  | \"perPage\"\n  | \"onPageChange\"\n  | \"isRowSelected\"\n  | \"isColumnSortable\"\n  | \"onClearAllFilters\"\n> &\n  EmptyStateNoTopicProps;\n\nexport const KafkaTopics = <T extends Topic>({\n  topics,\n  onDelete,\n  onEdit,\n  isColumnSortable,\n  itemCount,\n  onSearchTopic,\n  topicName,\n  onClearAllFilters,\n  onCreateTopic,\n  page,\n  perPage,\n  onPageChange,\n  onRemoveTopicChip,\n  onRemoveTopicChips,\n  getUrlFortopic,\n  onTopicLinkClick,\n}: KafkaTopicsProps<T>) => {\n  const { t } = useTranslation(\"topic\");\n\n  const labels = useTopicLabels();\n\n  const isFiltered = topicName.length > 0;\n  return (\n    <PageSection isFilled={true} hasOverflowScroll={true}>\n      <TableView\n        variant={TableVariant.compact}\n        tableOuiaId={\"card-table\"}\n        ariaLabel={t(\"topic_list_table\")}\n        data={topics}\n        columns={Columns}\n        renderHeader={({ column, Th, key }) => (\n          <Th key={key}>{labels.fields[column]}</Th>\n        )}\n        renderCell={({ column, row, Td, key }) => {\n          return (\n            <Td key={key} dataLabel={labels.fields[column]}>\n              {(() => {\n                switch (column) {\n                  case \"name\":\n                    return (\n                      <Button\n                        variant=\"link\"\n                        component={(props) => (\n                          <Link\n                            to={getUrlFortopic(row)}\n                            {...props}\n                            data-testid=\"tableTopics-linkTopic\"\n                            data-ouia-component-id=\"table-link\"\n                          >\n                            {row.name}\n                          </Link>\n                        )}\n                        onClick={() => onTopicLinkClick(row)}\n                        isInline\n                      />\n                    );\n                  case \"partitions\":\n                    return row.partitions.length;\n                  case \"retention.ms\":\n                    return formattedRetentionTime(row[\"retention.ms\"].value);\n                  case \"retention.bytes\":\n                    return formattedRetentionSize(row[\"retention.bytes\"].value);\n                }\n              })()}\n            </Td>\n          );\n        }}\n        renderActions={({ row, ActionsColumn }) => (\n          <ActionsColumn\n            items={[\n              {\n                title: t(\"table.actions.edit\"),\n                onClick: () => onEdit(row),\n              },\n              {\n                title: t(\"table.actions.delete\"),\n                onClick: () => onDelete(row),\n              },\n            ]}\n          />\n        )}\n        isColumnSortable={isColumnSortable}\n        filters={{\n          [labels.fields.name]: {\n            type: \"search\",\n            chips: topicName,\n            onSearch: onSearchTopic,\n            onRemoveChip: onRemoveTopicChip,\n            onRemoveGroup: onRemoveTopicChips,\n            validate: (value: string) => !/[\"$^<>|+%/;:,\\s*=~#()]/.test(value),\n            errorMessage: t(\"input_field_invalid_message\"),\n          },\n        }}\n        actions={[\n          {\n            label: t(\"create_topic\"),\n            onClick: onCreateTopic,\n            isPrimary: true,\n          },\n        ]}\n        itemCount={itemCount}\n        page={page}\n        onPageChange={onPageChange}\n        perPage={perPage}\n        isFiltered={isFiltered}\n        onClearAllFilters={onClearAllFilters}\n        emptyStateNoData={<EmptyStateNoTopic onCreateTopic={onCreateTopic} />}\n        emptyStateNoResults={<EmptyStateNoResults />}\n      />\n    </PageSection>\n  );\n};\n","import type { CardKafkaInstanceMetricsLimits } from \"./components\";\n\nexport type TimeSeriesMetrics = { [timestamp: number]: number };\nexport type PartitionBytesMetric = { [partition: string]: TimeSeriesMetrics };\n\nexport enum DurationOptions {\n  Last5minutes = 5,\n  Last15minutes = 15,\n  Last30minutes = 30,\n  Last1hour = 60,\n  Last3hours = 3 * 60,\n  Last6hours = 6 * 60,\n  Last12hours = 12 * 60,\n  Last24hours = 24 * 60,\n  Last2days = 2 * 24 * 60,\n  Last7days = 7 * 24 * 60,\n}\n\nexport type GetTopicsMetricsResponse = {\n  kafkaTopics: string[];\n  metricsTopics: string[];\n  bytesOutgoing: TimeSeriesMetrics;\n  bytesIncoming: TimeSeriesMetrics;\n  bytesPerPartition: PartitionBytesMetric;\n  incomingMessageRate: TimeSeriesMetrics;\n};\n\nexport type GetKafkaInstanceMetricsResponse = {\n  usedDiskSpaceMetrics: TimeSeriesMetrics;\n  clientConnectionsMetrics: TimeSeriesMetrics;\n  connectionAttemptRateMetrics: TimeSeriesMetrics;\n} & CardKafkaInstanceMetricsLimits;\n\nexport type GetMetricsKpiResponse = {\n  topics: number;\n  topicPartitions: number;\n  consumerGroups: number;\n  topicPartitionsLimit: number;\n};\n","import {\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateVariant,\n  PageSection,\n} from \"@patternfly/react-core\";\nimport { AppServicesLoading } from \"@rhoas/app-services-ui-components\";\nimport type { VoidFunctionComponent } from \"react\";\n\nexport const EmptyStateInitialLoading: VoidFunctionComponent = () => {\n  return (\n    <PageSection isFilled={true}>\n      <EmptyState variant={EmptyStateVariant.xs}>\n        <EmptyStateBody data-chromatic=\"ignore\">\n          <AppServicesLoading />\n        </EmptyStateBody>\n      </EmptyState>\n    </PageSection>\n  );\n};\n","import {\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateIcon,\n  EmptyStateVariant,\n  PageSection,\n  Title,\n} from \"@patternfly/react-core\";\nimport { TachometerAltIcon } from \"@patternfly/react-icons\";\nimport { useTranslation } from \"@rhoas/app-services-ui-components\";\nimport type { FunctionComponent } from \"react\";\n\nexport const EmptyStateMetricsUnavailable: FunctionComponent = () => {\n  const { t } = useTranslation();\n  return (\n    <PageSection isFilled={true}>\n      <EmptyState variant={EmptyStateVariant.xs}>\n        <EmptyStateIcon icon={TachometerAltIcon} />\n        <Title headingLevel=\"h3\" size=\"lg\">\n          {t(\"metrics:empty_state_no_data_title\")}\n        </Title>\n        <EmptyStateBody>{t(\"metrics:empty_state_no_data_body\")}</EmptyStateBody>\n      </EmptyState>\n    </PageSection>\n  );\n};\n","import { Grid, GridItem, PageSection } from \"@patternfly/react-core\";\nimport type { FunctionComponent, ReactElement } from \"react\";\n\ntype MetricsLayoutProps = {\n  metricsLagAlert: ReactElement;\n  topicsKpi: ReactElement;\n  topicPartitionsKpi: ReactElement;\n  consumerGroupKpi: ReactElement;\n  diskSpaceMetrics: ReactElement;\n  topicMetrics: ReactElement;\n};\nexport const MetricsLayout: FunctionComponent<MetricsLayoutProps> = ({\n  metricsLagAlert,\n  topicsKpi,\n  topicPartitionsKpi,\n  consumerGroupKpi,\n  diskSpaceMetrics,\n  topicMetrics,\n}) => {\n  return (\n    <PageSection\n      hasOverflowScroll={true}\n      aria-label={\"TODO\"}\n      padding={{ default: \"noPadding\" }}\n      className={\n        \"pf-u-px-lg-on-xl pf-u-pt-sm-on-xl pf-u-pb-lg-on-xl pf-u-px-md pf-u-pb-md\"\n      }\n    >\n      <Grid hasGutter>\n        <GridItem>{metricsLagAlert}</GridItem>\n        <GridItem sm={4}>{topicsKpi}</GridItem>\n        <GridItem sm={4}>{topicPartitionsKpi}</GridItem>\n        <GridItem sm={4}>{consumerGroupKpi}</GridItem>\n        <GridItem lg={6}>{diskSpaceMetrics}</GridItem>\n        <GridItem lg={6}>{topicMetrics}</GridItem>\n      </Grid>\n    </PageSection>\n  );\n};\n","import { CardBody, Bullseye, Spinner } from \"@patternfly/react-core\";\nimport type { FunctionComponent } from \"react\";\n\nexport const CardBodyLoading: FunctionComponent = () => (\n  <CardBody>\n    <Bullseye>\n      <Spinner isSVG data-chromatic=\"ignore\" />\n    </Bullseye>\n  </CardBody>\n);\n","import { DurationOptions } from \"./types\";\n\nexport const timeIntervalsMapping = {\n  [DurationOptions.Last5minutes]: {\n    interval: 1 * 60,\n    ticks: 6,\n    showDate: false,\n  },\n  [DurationOptions.Last15minutes]: {\n    interval: 3 * 60,\n    ticks: 6,\n    showDate: false,\n  },\n  [DurationOptions.Last30minutes]: {\n    interval: 5 * 60,\n    ticks: 7,\n    showDate: false,\n  },\n  [DurationOptions.Last1hour]: { interval: 10 * 60, ticks: 6, showDate: false },\n  [DurationOptions.Last3hours]: {\n    interval: 30 * 60,\n    ticks: 7,\n    showDate: false,\n  },\n  [DurationOptions.Last6hours]: {\n    interval: 1 * 60 * 60,\n    ticks: 7,\n    showDate: false,\n  },\n  [DurationOptions.Last12hours]: {\n    interval: 2 * 60 * 60,\n    ticks: 7,\n    showDate: false,\n  },\n  [DurationOptions.Last24hours]: {\n    interval: 4 * 60 * 60,\n    ticks: 7,\n    showDate: true,\n  },\n  [DurationOptions.Last2days]: {\n    interval: 8 * 60 * 60,\n    ticks: 7,\n    showDate: true,\n  },\n  [DurationOptions.Last7days]: {\n    interval: 24 * 60 * 60,\n    ticks: 8,\n    showDate: true,\n  },\n} as const;\n\nexport const chartHeight = 350;\nexport const chartPadding = {\n  bottom: 110, // Adjusted to accomodate legend\n  left: 120,\n  right: 40,\n  top: 10,\n};\n","import { Flex, FlexItem, Skeleton } from \"@patternfly/react-core\";\nimport type { VoidFunctionComponent } from \"react\";\nimport { chartHeight, chartPadding } from \"../consts\";\nimport { useTranslation } from \"@rhoas/app-services-ui-components\";\n\nexport const ChartSkeletonLoader: VoidFunctionComponent = () => {\n  const { t } = useTranslation();\n  return (\n    <Flex direction={{ default: \"column\" }} data-chromatic=\"ignore\">\n      <FlexItem>\n        <Skeleton\n          height={`${chartHeight - chartPadding.bottom}px`}\n          screenreaderText={t(\"common:skeleton_loader_screenreader_text\")}\n        />\n      </FlexItem>\n      <FlexItem>\n        <Skeleton height={`${chartPadding.bottom / 2 - 12.5}px`} width=\"20%\" />\n      </FlexItem>\n      <FlexItem>\n        <Skeleton height={`${chartPadding.bottom / 2 - 12.5}px`} width=\"40%\" />\n      </FlexItem>\n    </Flex>\n  );\n};\n","import type { RefObject } from \"react\";\nimport { useEffect, useLayoutEffect, useRef, useState } from \"react\";\n\nexport function useChartWidth(): [RefObject<HTMLDivElement>, number] {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const [width, setWidth] = useState<number>(0);\n\n  const handleResize = () =>\n    containerRef.current && setWidth(containerRef.current.clientWidth);\n\n  useLayoutEffect(() => {\n    handleResize();\n  }, []);\n\n  useEffect(() => {\n    window.addEventListener(\"resize\", handleResize);\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []);\n  return [containerRef, width];\n}\n","import byteSize from \"byte-size\";\nimport { fromUnixTime, sub } from \"date-fns\";\nimport { formatInTimeZone } from \"date-fns-tz\";\nimport { timeIntervalsMapping } from \"../consts\";\nimport type { DurationOptions } from \"../types\";\n\nexport function formatBytes(bytes: number): string {\n  return byteSize(bytes, { units: \"iec\" }).toString();\n}\n\nexport const shouldShowDate = (timeDuration: DurationOptions): boolean => {\n  return timeIntervalsMapping[timeDuration].showDate;\n};\n\nexport const dateToChartValue = (\n  timestamp: number,\n  { showDate }: { showDate: boolean } = { showDate: false }\n): string => {\n  const date = fromUnixTime(timestamp / 1000);\n  return formatInTimeZone(date, \"utc\", showDate ? \"HH:mm'\\n'MMM dd\" : \"HH:mm\");\n};\n\nexport function timestampsToTicks(\n  timestamps: string[],\n  duration: DurationOptions\n): number[] {\n  const allTimestamps = [...timestamps];\n  allTimestamps.sort();\n  const mostRecentTs =\n    parseInt(allTimestamps[allTimestamps.length - 1]) || Date.now();\n  return new Array(\n    Math.max(timeIntervalsMapping[duration].ticks, allTimestamps.length)\n  )\n    .fill(mostRecentTs)\n    .map((d: number, index) =>\n      sub(new Date(d), {\n        seconds: timeIntervalsMapping[duration].interval * index,\n      }).getTime()\n    );\n}\n","import type { ChartVoronoiContainerProps } from \"@patternfly/react-charts\";\nimport {\n  Chart,\n  ChartArea,\n  ChartAxis,\n  ChartGroup,\n  ChartLegend,\n  ChartThemeColor,\n  ChartThreshold,\n  ChartVoronoiContainer,\n} from \"@patternfly/react-charts\";\nimport {\n  chart_color_black_500,\n  chart_color_blue_300,\n} from \"@patternfly/react-tokens\";\nimport type { ReactElement, VoidFunctionComponent } from \"react\";\nimport { useTranslation } from \"@rhoas/app-services-ui-components\";\nimport { chartHeight, chartPadding } from \"../consts\";\nimport type { DurationOptions, TimeSeriesMetrics } from \"../types\";\nimport { ChartSkeletonLoader } from \"./ChartSkeletonLoader\";\nimport { useChartWidth } from \"./useChartWidth\";\nimport { dateToChartValue, shouldShowDate, timestampsToTicks } from \"./utils\";\n\ntype ChartData = {\n  areaColor: string;\n  softLimitColor: string;\n  area: BrokerChartData[];\n  softLimit: BrokerChartData[];\n};\n\ntype BrokerChartData = {\n  name: string;\n  x: number;\n  y: number;\n};\n\ntype LegendData = {\n  name: string;\n  symbol?: {\n    fill?: string;\n    type?: string;\n  };\n};\n\ntype ChartLinearWithOptionalLimitProps = {\n  metrics: TimeSeriesMetrics;\n  duration: DurationOptions;\n  chartName: string;\n  xLabel?: string;\n  yLabel?: string;\n  usageLimit?: number;\n  formatValue?: (d: number) => string;\n  isLoading: boolean;\n  emptyState: ReactElement;\n};\n\nexport const ChartLinearWithOptionalLimit: VoidFunctionComponent<\n  ChartLinearWithOptionalLimitProps\n> = ({\n  metrics,\n  duration,\n  chartName,\n  xLabel,\n  yLabel,\n  usageLimit,\n  formatValue = (d) => `${d}`,\n  isLoading,\n  emptyState,\n}) => {\n  const { t } = useTranslation();\n  const [containerRef, width] = useChartWidth();\n\n  const itemsPerRow = width && width > 650 ? 6 : 3;\n\n  const { chartData, legendData, tickValues } = getChartData(\n    metrics,\n    duration,\n    chartName,\n    t(\"metrics:limit\"),\n    usageLimit\n  );\n\n  const hasMetrics = Object.keys(metrics).length > 0;\n  const showDate = shouldShowDate(duration);\n\n  switch (true) {\n    case isLoading:\n      return <ChartSkeletonLoader />;\n    case !hasMetrics:\n      return emptyState;\n    default: {\n      const labels: ChartVoronoiContainerProps[\"labels\"] = ({ datum }) =>\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access,@typescript-eslint/restrict-template-expressions,@typescript-eslint/no-unsafe-argument\n        `${datum.name}: ${formatValue(datum.y)}`;\n      return (\n        <div ref={containerRef}>\n          <Chart\n            ariaTitle={chartName}\n            containerComponent={\n              <ChartVoronoiContainer labels={labels} constrainToVisibleArea />\n            }\n            legendPosition=\"bottom-left\"\n            legendComponent={\n              <ChartLegend\n                orientation={\"horizontal\"}\n                data={legendData}\n                itemsPerRow={itemsPerRow}\n              />\n            }\n            height={chartHeight}\n            padding={chartPadding}\n            themeColor={ChartThemeColor.multiUnordered}\n            width={width}\n            legendAllowWrap={true}\n          >\n            <ChartAxis\n              label={\"\\n\" + (xLabel || t(\"metrics:axis-label-time\") || \"\")}\n              tickValues={tickValues}\n              tickFormat={(d: number) =>\n                dateToChartValue(d, {\n                  showDate,\n                })\n              }\n            />\n            <ChartAxis\n              label={\"\\n\\n\\n\\n\\n\" + (yLabel || chartName)}\n              dependentAxis\n              tickFormat={formatValue}\n            />\n            <ChartGroup>\n              {chartData.map((value, index) => (\n                <ChartArea\n                  key={`chart-area-${index}`}\n                  data={value.area}\n                  style={{\n                    data: {\n                      // TODO: check if this is needed\n                      // stroke: value.color,\n                    },\n                  }}\n                />\n              ))}\n            </ChartGroup>\n            <ChartThreshold\n              key={`chart-softlimit`}\n              data={chartData[0].softLimit}\n              style={{\n                data: {\n                  stroke: chartData[0].softLimitColor,\n                },\n              }}\n            />\n          </Chart>\n        </div>\n      );\n    }\n  }\n};\n\nfunction getChartData(\n  metrics: TimeSeriesMetrics,\n  duration: number,\n  lineLabel: string,\n  limitLabel: string,\n  usageLimit?: number\n): {\n  legendData: Array<LegendData>;\n  chartData: Array<ChartData>;\n  tickValues: number[];\n} {\n  const legendData = [\n    usageLimit\n      ? {\n          name: limitLabel,\n          symbol: { fill: chart_color_black_500.value, type: \"threshold\" },\n        }\n      : undefined,\n    { name: lineLabel, symbol: { fill: chart_color_blue_300.value } },\n  ].filter((d) => !!d) as Array<LegendData>;\n\n  const areaColor = chart_color_blue_300.value;\n  const softLimitColor = chart_color_black_500.value;\n  const chartData: Array<ChartData> = [];\n  const area: Array<BrokerChartData> = [];\n  const softLimit: Array<BrokerChartData> = [];\n\n  Object.entries(metrics).map(([timestamp, bytes]) => {\n    area.push({ name: lineLabel, x: parseInt(timestamp, 10), y: bytes });\n  });\n  chartData.push({ areaColor, softLimitColor, area, softLimit });\n\n  const tickValues = timestampsToTicks(Object.keys(metrics), duration);\n\n  if (usageLimit) {\n    tickValues.forEach((timestamp) =>\n      softLimit.push({\n        name: limitLabel,\n        x: timestamp,\n        y: usageLimit,\n      })\n    );\n  }\n\n  return {\n    legendData,\n    chartData,\n    tickValues,\n  };\n}\n","import type { ChartVoronoiContainerProps } from \"@patternfly/react-charts\";\nimport {\n  Chart,\n  ChartArea,\n  ChartAxis,\n  ChartGroup,\n  ChartLegend,\n  ChartThemeColor,\n  ChartVoronoiContainer,\n} from \"@patternfly/react-charts\";\nimport {\n  chart_color_blue_300,\n  chart_color_cyan_300,\n} from \"@patternfly/react-tokens\";\nimport type { FunctionComponent, ReactElement } from \"react\";\nimport { useTranslation } from \"@rhoas/app-services-ui-components\";\nimport { chartHeight, chartPadding } from \"../consts\";\nimport type { PartitionBytesMetric } from \"../types\";\nimport { ChartSkeletonLoader } from \"./ChartSkeletonLoader\";\nimport { useChartWidth } from \"./useChartWidth\";\nimport {\n  dateToChartValue,\n  formatBytes,\n  shouldShowDate,\n  timestampsToTicks,\n} from \"./utils\";\n\nconst colors = [chart_color_cyan_300.value, chart_color_blue_300.value];\n\ntype ChartData = {\n  color: string;\n  area: PartitionChartData[];\n};\n\ntype PartitionChartData = {\n  name: string;\n  x: number;\n  y: number;\n};\n\ntype LegendData = {\n  name: string;\n};\n\nexport type ChartLogSizePerPartitionProps = {\n  partitions: PartitionBytesMetric;\n  topic: string | undefined;\n  duration: number;\n  isLoading: boolean;\n  emptyState: ReactElement;\n};\nexport const ChartLogSizePerPartition: FunctionComponent<\n  ChartLogSizePerPartitionProps\n> = ({ partitions, topic, duration, isLoading, emptyState }) => {\n  const { t } = useTranslation();\n  const [containerRef, width] = useChartWidth();\n\n  const itemsPerRow = width && width > 650 ? 6 : 3;\n\n  const { chartData, legendData, tickValues } = getChartData(\n    partitions,\n    topic,\n    duration\n  );\n\n  const hasMetrics = Object.keys(partitions).length > 0;\n\n  const showDate = shouldShowDate(duration);\n\n  return (\n    <div ref={containerRef}>\n      {(() => {\n        switch (true) {\n          case isLoading:\n            return <ChartSkeletonLoader />;\n          case !hasMetrics:\n            return emptyState;\n          default: {\n            const labels: ChartVoronoiContainerProps[\"labels\"] = ({ datum }) =>\n              // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access,@typescript-eslint/restrict-template-expressions,@typescript-eslint/no-unsafe-argument\n              `${datum.name}: ${formatBytes(datum.y)}`;\n\n            return (\n              <Chart\n                ariaTitle={t(\"metrics:log_size_per_partition\")}\n                containerComponent={\n                  <ChartVoronoiContainer\n                    labels={labels}\n                    constrainToVisibleArea\n                  />\n                }\n                legendPosition=\"bottom-left\"\n                legendComponent={\n                  <ChartLegend data={legendData} itemsPerRow={itemsPerRow} />\n                }\n                height={chartHeight}\n                padding={chartPadding}\n                themeColor={ChartThemeColor.multiOrdered}\n                width={width}\n                legendAllowWrap={true}\n              >\n                <ChartAxis\n                  label={\"\\n\" + t(\"metrics:axis-label-time\")}\n                  tickValues={tickValues}\n                  tickFormat={(d: number) =>\n                    dateToChartValue(d, {\n                      showDate,\n                    })\n                  }\n                />\n                <ChartAxis\n                  label={\"\\n\\n\\n\\n\\n\" + t(\"metrics:axis-label-bytes\")}\n                  dependentAxis\n                  tickFormat={formatBytes}\n                />\n                <ChartGroup>\n                  {chartData.map((value, index) => (\n                    <ChartArea key={`chart-area-${index}`} data={value.area} />\n                  ))}\n                </ChartGroup>\n              </Chart>\n            );\n          }\n        }\n      })()}\n    </div>\n  );\n};\n\nexport function getChartData(\n  partitions: PartitionBytesMetric,\n  topic: string | undefined,\n  duration: number\n): {\n  legendData: Array<LegendData>;\n  chartData: Array<ChartData>;\n  tickValues: number[];\n} {\n  const legendData: Array<LegendData> = [];\n  const chartData: Array<ChartData> = [];\n  Object.entries(partitions).map(([partition, dataMap], index) => {\n    const name = topic ? `${topic}: ${partition}` : partition;\n    const color = colors[index];\n    legendData.push({\n      name,\n    });\n    const area: Array<PartitionChartData> = [];\n\n    Object.entries(dataMap).map(([timestamp, value]) => {\n      area.push({ name, x: parseInt(timestamp, 10), y: value });\n    });\n    chartData.push({ color, area });\n  });\n\n  const allTimestamps = Array.from(\n    new Set(Object.values(partitions).flatMap((m) => Object.keys(m)))\n  );\n  const tickValues = timestampsToTicks(allTimestamps, duration);\n\n  return {\n    legendData,\n    chartData,\n    tickValues,\n  };\n}\n","import { Popover } from \"@patternfly/react-core\";\nimport { OutlinedQuestionCircleIcon } from \"@patternfly/react-icons\";\nimport type { VoidFunctionComponent } from \"react\";\nimport { useTranslation } from \"@rhoas/app-services-ui-components\";\n\ntype ChartPopoverProps = {\n  title: string;\n  description: string;\n};\n\nexport const ChartPopover: VoidFunctionComponent<ChartPopoverProps> = ({\n  title,\n  description,\n}) => {\n  const { t } = useTranslation();\n  return (\n    <Popover\n      aria-label={title}\n      headerContent={<div>{title}</div>}\n      bodyContent={<div>{description}</div>}\n    >\n      <OutlinedQuestionCircleIcon\n        aria-label={t(\"metrics:chart-popover-icon-screenreader-text\", {\n          title,\n        })}\n      />\n    </Popover>\n  );\n};\n","import type { ChartVoronoiContainerProps } from \"@patternfly/react-charts\";\nimport {\n  Chart,\n  ChartAxis,\n  ChartGroup,\n  ChartLegend,\n  ChartLine,\n  ChartThemeColor,\n  ChartVoronoiContainer,\n} from \"@patternfly/react-charts\";\nimport {\n  chart_color_blue_300,\n  chart_color_green_300,\n} from \"@patternfly/react-tokens\";\nimport type { FunctionComponent, ReactElement } from \"react\";\nimport { useTranslation } from \"@rhoas/app-services-ui-components\";\nimport { chartHeight, chartPadding, timeIntervalsMapping } from \"../consts\";\nimport type { TimeSeriesMetrics } from \"../types\";\nimport { ChartSkeletonLoader } from \"./ChartSkeletonLoader\";\nimport { useChartWidth } from \"./useChartWidth\";\nimport {\n  dateToChartValue,\n  formatBytes,\n  shouldShowDate,\n  timestampsToTicks,\n} from \"./utils\";\n\ntype ChartData = {\n  color: string;\n  line: TopicChartData[];\n};\n\ntype TopicChartData = {\n  name: string;\n  x: number;\n  y: number;\n};\n\ntype LegendData = {\n  name: string;\n  symbol: {\n    fill: string;\n    type?: string;\n  };\n};\n\ntype ChartTotalBytesProps = {\n  incomingTopicsData: TimeSeriesMetrics;\n  outgoingTopicsData: TimeSeriesMetrics;\n  selectedTopic: string | undefined;\n  duration: number;\n  isLoading: boolean;\n  emptyState: ReactElement;\n};\nexport const ChartTotalBytes: FunctionComponent<ChartTotalBytesProps> = ({\n  incomingTopicsData,\n  outgoingTopicsData,\n  selectedTopic,\n  duration,\n  isLoading,\n  emptyState,\n}) => {\n  const { t } = useTranslation();\n  const [containerRef, width] = useChartWidth();\n\n  const itemsPerRow = width && width > 650 ? 6 : 3;\n\n  const { chartData, legendData, tickValues } = getBytesChartData(\n    incomingTopicsData,\n    outgoingTopicsData,\n    duration,\n    selectedTopic\n      ? t(\"metrics:incoming_bytes\", {\n          topic: selectedTopic,\n        })\n      : t(\"metrics:incoming_bytes_all_topics\"),\n    selectedTopic\n      ? t(\"metrics:outgoing_bytes\", {\n          topic: selectedTopic,\n        })\n      : t(\"metrics:outgoing_bytes_all_topics\")\n  );\n\n  const hasMetrics =\n    Object.keys(incomingTopicsData).length > 0 ||\n    Object.keys(outgoingTopicsData).length > 0;\n\n  const showDate = shouldShowDate(duration);\n\n  switch (true) {\n    case isLoading:\n      return <ChartSkeletonLoader />;\n    case !hasMetrics:\n      return emptyState;\n    default: {\n      const labels: ChartVoronoiContainerProps[\"labels\"] =\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access,@typescript-eslint/restrict-template-expressions,@typescript-eslint/no-unsafe-argument\n        ({ datum }) => `${datum.name}: ${formatBytes(datum.y)}`;\n      return (\n        <div ref={containerRef}>\n          <Chart\n            ariaTitle={t(\"metrics:total_bytes\")}\n            containerComponent={\n              <ChartVoronoiContainer labels={labels} constrainToVisibleArea />\n            }\n            legendAllowWrap={true}\n            legendPosition=\"bottom-left\"\n            legendComponent={\n              <ChartLegend data={legendData} itemsPerRow={itemsPerRow} />\n            }\n            height={chartHeight}\n            padding={chartPadding}\n            themeColor={ChartThemeColor.multiUnordered}\n            width={width}\n          >\n            <ChartAxis\n              label={\"\\n\" + t(\"metrics:axis-label-time\")}\n              tickValues={tickValues}\n              tickCount={timeIntervalsMapping[duration].ticks}\n              tickFormat={(d: number) =>\n                dateToChartValue(d, {\n                  showDate,\n                })\n              }\n            />\n            <ChartAxis\n              label={\"\\n\\n\\n\\n\\n\" + t(\"metrics:axis-label-bytes\")}\n              dependentAxis\n              tickFormat={formatBytes}\n            />\n            <ChartGroup>\n              {chartData.map((value, index) => (\n                <ChartLine\n                  key={`chart-line-${index}`}\n                  data={value.line}\n                  style={{\n                    data: {\n                      stroke: value.color,\n                    },\n                  }}\n                />\n              ))}\n            </ChartGroup>\n          </Chart>\n        </div>\n      );\n    }\n  }\n};\n\nexport function getBytesChartData(\n  incomingTopic: TimeSeriesMetrics,\n  outgoingTopic: TimeSeriesMetrics,\n  duration: number,\n  incomingTopicName: string,\n  outgoingTopicName: string\n): {\n  legendData: Array<LegendData>;\n  chartData: Array<ChartData>;\n  tickValues: number[];\n} {\n  const legendData: Array<LegendData> = [];\n  const chartData: Array<ChartData> = [];\n\n  const incomingLine = metricsToLine(incomingTopic, incomingTopicName);\n  if (incomingLine.length > 0) {\n    const color = chart_color_blue_300.value;\n    chartData.push({ color, line: incomingLine });\n    legendData.push({\n      name: incomingTopicName,\n      symbol: {\n        fill: color,\n      },\n    });\n  }\n\n  const outgoingLine = metricsToLine(outgoingTopic, outgoingTopicName);\n  if (outgoingLine.length > 0) {\n    const color = chart_color_green_300.value;\n    chartData.push({ color, line: outgoingLine });\n    legendData.push({\n      name: outgoingTopicName,\n      symbol: {\n        fill: color,\n      },\n    });\n  }\n  const allTimestamps = Array.from(\n    new Set([...Object.keys(incomingTopic), ...Object.keys(outgoingTopic)])\n  );\n  const tickValues = timestampsToTicks(allTimestamps, duration);\n\n  return {\n    legendData,\n    chartData,\n    tickValues,\n  };\n}\n\nexport function metricsToLine(\n  metrics: TimeSeriesMetrics,\n  name: string\n): Array<TopicChartData> {\n  const line: Array<TopicChartData> = [];\n\n  Object.entries(metrics).map(([timestamp, bytes]) => {\n    line.push({ name, x: parseInt(timestamp, 10), y: bytes });\n  });\n  return line;\n}\n","import {\n  EmptyState,\n  EmptyStateIcon,\n  EmptyStateVariant,\n  Title,\n} from \"@patternfly/react-core\";\nimport { ExclamationTriangleIcon } from \"@patternfly/react-icons\";\nimport type { FunctionComponent } from \"react\";\nimport { useTranslation } from \"@rhoas/app-services-ui-components\";\n\nexport const EmptyStateNoMetricsData: FunctionComponent = () => {\n  const { t } = useTranslation([\"metrics\"]);\n  return (\n    <EmptyState variant={EmptyStateVariant.xs}>\n      <EmptyStateIcon\n        icon={ExclamationTriangleIcon}\n        color=\"var(--pf-global--warning-color--100)\"\n      />\n      <Title headingLevel=\"h3\" size=\"md\">\n        {t(\"metric_not_available\")}\n      </Title>\n    </EmptyState>\n  );\n};\n","import {\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateIcon,\n  EmptyStateVariant,\n  Title,\n} from \"@patternfly/react-core\";\nimport { SearchIcon } from \"@patternfly/react-icons\";\nimport type { FunctionComponent } from \"react\";\nimport { useTranslation } from \"@rhoas/app-services-ui-components\";\n\nexport const EmptyStateNoMetricsDataForSelection: FunctionComponent = () => {\n  const { t } = useTranslation();\n  return (\n    <EmptyState variant={EmptyStateVariant.xs}>\n      <EmptyStateIcon icon={SearchIcon} />\n      <Title headingLevel=\"h3\" size=\"lg\">\n        {t(\"metrics:empty_state_no_metrics_data_title\")}\n      </Title>\n      <EmptyStateBody>\n        {t(\"metrics:empty_state_no_metrics_data_body\")}\n      </EmptyStateBody>\n    </EmptyState>\n  );\n};\n","import {\n  Button,\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateIcon,\n  EmptyStateVariant,\n  Title,\n} from \"@patternfly/react-core\";\nimport { WrenchIcon } from \"@patternfly/react-icons\";\nimport type { FunctionComponent } from \"react\";\nimport { useTranslation } from \"@rhoas/app-services-ui-components\";\n\ntype EmptyStateNoTopicsProps = {\n  onCreateTopic?: () => void;\n};\nexport const EmptyStateNoTopics: FunctionComponent<EmptyStateNoTopicsProps> = ({\n  onCreateTopic,\n}) => {\n  const { t } = useTranslation();\n  return (\n    <EmptyState variant={EmptyStateVariant.xs}>\n      <EmptyStateIcon icon={WrenchIcon} />\n      <Title headingLevel=\"h3\" size=\"lg\">\n        {t(\"metrics:empty_state_no_topics_title\")}\n      </Title>\n      <EmptyStateBody>{t(\"metrics:empty_state_no_topics_body\")}</EmptyStateBody>\n      {onCreateTopic && (\n        <Button\n          ouiaId=\"button-create\"\n          variant=\"primary\"\n          onClick={onCreateTopic}\n        >\n          {t(\"metrics:empty_state_no_topics_create_topic\")}\n        </Button>\n      )}\n    </EmptyState>\n  );\n};\n","import {\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateIcon,\n  EmptyStateVariant,\n  Title,\n} from \"@patternfly/react-core\";\nimport { FilterIcon } from \"@patternfly/react-icons\";\nimport { Trans, useTranslation } from \"@rhoas/app-services-ui-components\";\nimport type { VoidFunctionComponent } from \"react\";\n\nexport const EmptyStateNoTopicSelected: VoidFunctionComponent = () => {\n  const { t } = useTranslation();\n  return (\n    <EmptyState variant={EmptyStateVariant.xs}>\n      <EmptyStateIcon icon={FilterIcon} />\n      <Title headingLevel=\"h3\" size=\"lg\">\n        {t(\"metrics:empty_state_no_filter_title\")}\n      </Title>\n      <EmptyStateBody>\n        <Trans\n          ns={\"metrics\"}\n          i18nKey={\"empty_state_no_filter_body\"}\n          components={{ bold: <strong /> }}\n        />\n      </EmptyStateBody>\n    </EmptyState>\n  );\n};\n","import type { VoidFunctionComponent } from \"react\";\nimport { useState } from \"react\";\nimport type { SelectProps } from \"@patternfly/react-core\";\nimport {\n  ToolbarItem,\n  Select,\n  SelectVariant,\n  SelectGroup,\n  SelectOption,\n} from \"@patternfly/react-core\";\nimport { DurationOptions } from \"../types\";\n\nexport const DurationOptionsMap = {\n  [DurationOptions.Last5minutes]: \"Last 5 minutes\",\n  [DurationOptions.Last15minutes]: \"Last 15 minutes\",\n  [DurationOptions.Last30minutes]: \"Last 30 minutes\",\n  [DurationOptions.Last1hour]: \"Last 1 hour\",\n  [DurationOptions.Last3hours]: \"Last 3 hours\",\n  [DurationOptions.Last6hours]: \"Last 6 hours\",\n  [DurationOptions.Last12hours]: \"Last 12 hours\",\n  [DurationOptions.Last24hours]: \"Last 24 hours\",\n  [DurationOptions.Last2days]: \"Last 2 days\",\n  [DurationOptions.Last7days]: \"Last 7 days\",\n} as const;\n\ntype FilterByTimeProps = {\n  duration: DurationOptions;\n  onDurationChange: (value: DurationOptions) => void;\n  keyText: string;\n  ariaLabel: string;\n  disableToolbar: boolean;\n};\n\nexport const FilterByTime: VoidFunctionComponent<FilterByTimeProps> = ({\n  duration,\n  keyText,\n  ariaLabel,\n  disableToolbar,\n  onDurationChange,\n}) => {\n  const [isTimeSelectOpen, setIsTimeSelectOpen] = useState<boolean>(false);\n\n  const onTimeToggle = (isTimeSelectOpen: boolean) => {\n    setIsTimeSelectOpen(isTimeSelectOpen);\n  };\n\n  const onTimeSelect: SelectProps[\"onSelect\"] = (_, selection) => {\n    const mapping = Object.entries(DurationOptionsMap).find(\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      ([_, value]) => value === selection\n    );\n    if (mapping) {\n      onDurationChange(parseInt(mapping[0], 10) as DurationOptions);\n    }\n    setIsTimeSelectOpen(false);\n  };\n\n  const timeOptions = (keyText: string) => [\n    <SelectGroup label=\"Relative time ranges\" key={`${keyText}-group`}>\n      {Object.values(DurationOptionsMap).map((label, idx) => (\n        <SelectOption key={`${keyText}-${idx}`} value={label} />\n      ))}\n    </SelectGroup>,\n  ];\n  const ariaId = `filter-by-time-${Date.now()}`;\n  return (\n    <ToolbarItem>\n      <label hidden id={ariaId}>\n        {ariaLabel}\n      </label>\n      <Select\n        variant={SelectVariant.single}\n        aria-labelledby={ariaId}\n        onToggle={onTimeToggle}\n        onSelect={onTimeSelect}\n        selections={DurationOptionsMap[duration]}\n        isOpen={isTimeSelectOpen}\n        isDisabled={disableToolbar}\n      >\n        {timeOptions(keyText)}\n      </Select>\n    </ToolbarItem>\n  );\n};\n","import type { SelectProps } from \"@patternfly/react-core\";\nimport {\n  Select,\n  SelectGroup,\n  SelectOption,\n  SelectVariant,\n  ToolbarItem,\n} from \"@patternfly/react-core\";\nimport { FilterIcon } from \"@patternfly/react-icons\";\nimport type { VoidFunctionComponent } from \"react\";\nimport { useEffect, useState } from \"react\";\nimport { useTranslation } from \"@rhoas/app-services-ui-components\";\nimport \"./FilterByTopic.css\";\n\nconst widths = {\n  default: \"150px\",\n  sm: \"150px\",\n  md: \"150px\",\n  lg: \"200px\",\n  xl: \"200px\",\n  \"2xl\": \"200px\",\n};\n\ntype FilterByTopicProps = {\n  selectedTopic: string | undefined;\n  topicList: string[];\n  disableToolbar: boolean;\n  ariaLabel: string;\n  onSetSelectedTopic: (value: string | undefined) => void;\n};\n\nexport const FilterByTopic: VoidFunctionComponent<FilterByTopicProps> = ({\n  selectedTopic,\n  topicList = [],\n  disableToolbar,\n  ariaLabel,\n  onSetSelectedTopic,\n}) => {\n  const { t } = useTranslation();\n  const [isTopicSelectOpen, setIsTopicSelectOpen] = useState<boolean>(false);\n  const [selectKey, setSelectKey] = useState(Math.random());\n\n  useEffect(() => setSelectKey(Math.random()), [topicList]);\n\n  const allTopicsLabel = t(\"metrics:all_topics\");\n\n  const onTopicToggle = (isTopicSelectOpen: boolean) => {\n    setIsTopicSelectOpen(isTopicSelectOpen);\n  };\n\n  const onTopicSelect: SelectProps[\"onSelect\"] = (_, selection) => {\n    selection !== allTopicsLabel\n      ? onSetSelectedTopic(selection as string)\n      : onSetSelectedTopic(undefined);\n    setIsTopicSelectOpen(false);\n  };\n\n  const onTopicFilter = (_: unknown, textInput: string) => {\n    const filteredTopics =\n      topicList.filter((topic) => topic.indexOf(textInput) != -1) || [];\n    return topicOptions(filteredTopics);\n  };\n\n  const topicOptions = (topicList: string[]) => [\n    <SelectOption key={\"topic-filter-0\"} value={allTopicsLabel} />,\n    <SelectGroup label=\"Filter by topic\" key=\"topic-filter-group\">\n      {topicList.map((topic, index) => (\n        <SelectOption\n          key={`topic-filter-${index + 1}`}\n          value={topic}\n          title={topic}\n        />\n      ))}\n    </SelectGroup>,\n  ];\n\n  const isDisabled = disableToolbar || topicList.length === 0;\n  const ariaId = `filter-by-topic-${Date.now()}`;\n\n  return (\n    <ToolbarItem widths={widths}>\n      <label hidden id={ariaId}>\n        {ariaLabel}\n      </label>\n      <Select\n        key={selectKey}\n        variant={SelectVariant.single}\n        onToggle={onTopicToggle}\n        onSelect={onTopicSelect}\n        selections={selectedTopic || allTopicsLabel}\n        isOpen={isTopicSelectOpen}\n        placeholderText={\n          <>\n            <FilterIcon /> {allTopicsLabel}\n          </>\n        }\n        aria-labelledby={ariaId}\n        onFilter={onTopicFilter}\n        isGrouped\n        hasInlineFilter\n        isDisabled={isDisabled}\n        position=\"left\"\n        className={\"appserv-metrics-filterbytopic\"}\n      >\n        {topicOptions(topicList)}\n      </Select>\n    </ToolbarItem>\n  );\n};\n","import { ToolbarItem } from \"@patternfly/react-core\";\nimport type { VoidFunctionComponent } from \"react\";\nimport { useTranslation } from \"@rhoas/app-services-ui-components\";\nimport { FormatDate, RefreshButton } from \"@rhoas/app-services-ui-components\";\n\nexport type ToolbarRefreshProps = {\n  isRefreshing: boolean;\n  lastUpdated: Date | undefined;\n  ariaLabel: string;\n  onRefresh: () => void;\n};\n\nexport const ToolbarRefresh: VoidFunctionComponent<ToolbarRefreshProps> = ({\n  isRefreshing,\n  lastUpdated = new Date(),\n  ariaLabel,\n  onRefresh,\n}) => {\n  const { t } = useTranslation([\"metrics\"]);\n\n  return (\n    <>\n      <ToolbarItem>\n        <RefreshButton\n          ariaLabel={ariaLabel}\n          onClick={onRefresh}\n          isRefreshing={isRefreshing}\n        />\n      </ToolbarItem>\n      <ToolbarItem\n        alignment={{ default: \"alignRight\" }}\n        style={{ color: \"var(--pf-global--Color--200)\" }}\n      >\n        <div className=\"pf-u-font-size-xs\">\n          {isRefreshing ? (\n            t(\"metrics:refreshing\")\n          ) : (\n            <>\n              {t(\"metrics:last-refresh\")}\n              <br />\n              <FormatDate date={lastUpdated} format=\"distanceToNow\" />\n              {t(\"metrics:last-refresh-distance\")}\n            </>\n          )}\n        </div>\n      </ToolbarItem>\n    </>\n  );\n};\n","import {\n  CardHeader,\n  CardTitle,\n  Divider,\n  Toolbar,\n  ToolbarContent,\n} from \"@patternfly/react-core\";\nimport type { FunctionComponent } from \"react\";\nimport { useTranslation } from \"@rhoas/app-services-ui-components\";\nimport type { DurationOptions } from \"../types\";\nimport { FilterByTime } from \"./FilterByTime\";\nimport { FilterByTopic } from \"./FilterByTopic\";\nimport type { ToolbarRefreshProps } from \"./ToolbarRefresh\";\nimport { ToolbarRefresh } from \"./ToolbarRefresh\";\n\ntype ToolbarTopicsMetricsProps = {\n  title: string;\n  selectedTopic: string | undefined;\n  topicList: string[];\n  duration: DurationOptions;\n  isDisabled: boolean;\n  onSetTimeDuration: (value: DurationOptions) => void;\n  onSetSelectedTopic: (value: string | undefined) => void;\n} & Omit<ToolbarRefreshProps, \"ariaLabel\">;\nexport const ToolbarTopicsMetrics: FunctionComponent<\n  ToolbarTopicsMetricsProps\n> = ({\n  title,\n  selectedTopic,\n  topicList,\n  duration,\n  isDisabled,\n  isRefreshing,\n  lastUpdated,\n  onSetTimeDuration,\n  onRefresh,\n  onSetSelectedTopic,\n}) => {\n  const { t } = useTranslation();\n  return (\n    <>\n      <CardHeader>\n        <CardTitle component=\"h2\">{title}</CardTitle>\n      </CardHeader>\n      <Divider />\n      <Toolbar>\n        <ToolbarContent>\n          <FilterByTopic\n            ariaLabel={t(\"metrics:topics_filter_by_topic\")}\n            selectedTopic={selectedTopic}\n            onSetSelectedTopic={onSetSelectedTopic}\n            topicList={topicList}\n            disableToolbar={isDisabled}\n          />\n          <FilterByTime\n            ariaLabel={t(\"metrics:topics_filter_by_time\")}\n            duration={duration}\n            onDurationChange={onSetTimeDuration}\n            disableToolbar={isDisabled}\n            keyText={\"topic-metrics-time-filter\"}\n          />\n          <ToolbarRefresh\n            isRefreshing={isRefreshing}\n            lastUpdated={lastUpdated}\n            onRefresh={onRefresh}\n            ariaLabel={t(\"metrics:topics_refresh\")}\n          />\n        </ToolbarContent>\n      </Toolbar>\n      <Divider />\n    </>\n  );\n};\n","import { Card, CardBody, CardTitle, Divider } from \"@patternfly/react-core\";\nimport type { FunctionComponent } from \"react\";\nimport { useTranslation } from \"@rhoas/app-services-ui-components\";\nimport type {\n  DurationOptions,\n  PartitionBytesMetric,\n  TimeSeriesMetrics,\n} from \"../types\";\nimport { CardBodyLoading } from \"./CardBodyLoading\";\nimport { ChartLinearWithOptionalLimit } from \"./ChartLinearWithOptionalLimit\";\nimport { ChartLogSizePerPartition } from \"./ChartLogSizePerPartition\";\nimport { ChartPopover } from \"./ChartPopover\";\nimport { ChartTotalBytes } from \"./ChartTotalBytes\";\nimport { EmptyStateNoMetricsData } from \"./EmptyStateNoMetricsData\";\nimport { EmptyStateNoMetricsDataForSelection } from \"./EmptyStateNoMetricsDataForSelection\";\nimport { EmptyStateNoTopics } from \"./EmptyStateNoTopics\";\nimport { EmptyStateNoTopicSelected } from \"./EmptyStateNoTopicSelected\";\nimport type { ToolbarRefreshProps } from \"./ToolbarRefresh\";\nimport { ToolbarTopicsMetrics } from \"./ToolbarTopicsMetrics\";\n\ntype CardTopicsMetricsProps = {\n  topics: string[];\n  incomingTopicsData: TimeSeriesMetrics;\n  outgoingTopicsData: TimeSeriesMetrics;\n  partitions: PartitionBytesMetric;\n  incomingMessageRate: TimeSeriesMetrics;\n  duration: DurationOptions;\n  backendUnavailable: boolean;\n  isInitialLoading: boolean;\n  isLoading: boolean;\n  isJustCreated: boolean;\n  selectedTopic: string | undefined;\n  onCreateTopic: () => void;\n  onSelectedTopic: (topic: string | undefined) => void;\n  onDurationChange: (duration: DurationOptions) => void;\n} & Omit<ToolbarRefreshProps, \"ariaLabel\">;\n\nexport const CardTopicsMetrics: FunctionComponent<CardTopicsMetricsProps> = ({\n  topics,\n  incomingTopicsData,\n  outgoingTopicsData,\n  incomingMessageRate,\n  selectedTopic,\n  duration,\n  partitions,\n  backendUnavailable,\n  isInitialLoading,\n  isLoading,\n  isRefreshing,\n  isJustCreated,\n  lastUpdated,\n  onCreateTopic,\n  onRefresh,\n  onSelectedTopic,\n  onDurationChange,\n}) => {\n  const { t } = useTranslation();\n  const noTopics = topics.length === 0;\n  const selectedTopicNotInList =\n    selectedTopic !== undefined &&\n    topics.find((t) => t === selectedTopic) === undefined;\n  const chartEmptyState = selectedTopicNotInList ? (\n    <EmptyStateNoMetricsDataForSelection />\n  ) : (\n    <EmptyStateNoMetricsData />\n  );\n  return (\n    <Card data-testid={\"metrics-topics\"}>\n      <ToolbarTopicsMetrics\n        title={t(\"metrics:topic_metrics\")}\n        duration={duration}\n        onSetTimeDuration={onDurationChange}\n        isDisabled={\n          backendUnavailable || isJustCreated || noTopics || isLoading\n        }\n        isRefreshing={isRefreshing}\n        selectedTopic={selectedTopic}\n        onSetSelectedTopic={onSelectedTopic}\n        onRefresh={onRefresh}\n        topicList={topics}\n        lastUpdated={lastUpdated}\n      />\n      {(() => {\n        switch (true) {\n          case isInitialLoading:\n            return <CardBodyLoading />;\n\n          case backendUnavailable:\n            return (\n              <CardBody>\n                <EmptyStateNoMetricsData />\n              </CardBody>\n            );\n\n          case isJustCreated && !noTopics:\n            return (\n              <CardBody>\n                <EmptyStateNoTopics />\n              </CardBody>\n            );\n\n          case isJustCreated && noTopics:\n            return (\n              <CardBody>\n                <EmptyStateNoTopics onCreateTopic={onCreateTopic} />\n              </CardBody>\n            );\n\n          case selectedTopic !== undefined:\n            return (\n              <>\n                <TotalBytesTitle />\n                <CardBody>\n                  <ChartTotalBytes\n                    incomingTopicsData={incomingTopicsData}\n                    outgoingTopicsData={outgoingTopicsData}\n                    selectedTopic={selectedTopic}\n                    duration={duration}\n                    isLoading={isLoading}\n                    emptyState={chartEmptyState}\n                  />\n                </CardBody>\n                <Divider />\n                <IncomingMessageRate />\n                <CardBody>\n                  <ChartLinearWithOptionalLimit\n                    chartName={t(\"metrics:topic_incoming_message_rate\")}\n                    yLabel={t(\"metrics:topic_incoming_message_rate_y_axis\")}\n                    metrics={incomingMessageRate}\n                    duration={duration}\n                    isLoading={isLoading}\n                    emptyState={chartEmptyState}\n                  />\n                </CardBody>\n                <Divider />\n                <PartitionSizeTitle />\n                <CardBody>\n                  <ChartLogSizePerPartition\n                    partitions={partitions}\n                    topic={selectedTopic}\n                    duration={duration}\n                    isLoading={isLoading}\n                    emptyState={chartEmptyState}\n                  />\n                </CardBody>\n              </>\n            );\n\n          default:\n            return (\n              <>\n                <TotalBytesTitle />\n                <CardBody>\n                  <ChartTotalBytes\n                    incomingTopicsData={incomingTopicsData}\n                    outgoingTopicsData={outgoingTopicsData}\n                    selectedTopic={selectedTopic}\n                    duration={duration}\n                    isLoading={isLoading}\n                    emptyState={chartEmptyState}\n                  />\n                </CardBody>\n                <Divider />\n                <IncomingMessageRate />\n                <CardBody>\n                  <ChartLinearWithOptionalLimit\n                    chartName={t(\"metrics:topic_incoming_message_rate\")}\n                    yLabel={t(\"metrics:topic_incoming_message_rate_y_axis\")}\n                    metrics={incomingMessageRate}\n                    duration={duration}\n                    isLoading={isLoading}\n                    emptyState={chartEmptyState}\n                  />\n                </CardBody>\n                <Divider />\n                <PartitionSizeTitle />\n                <CardBody>\n                  <EmptyStateNoTopicSelected />\n                </CardBody>\n              </>\n            );\n        }\n      })()}\n    </Card>\n  );\n};\n\nconst TotalBytesTitle: FunctionComponent = () => {\n  const { t } = useTranslation();\n  return (\n    <CardTitle component=\"h3\">\n      {t(\"metrics:total_bytes\")}{\" \"}\n      <ChartPopover\n        title={t(\"metrics:total_bytes_popover_header\")}\n        description={t(\"metrics:topic_metrics_help_text\")}\n      />\n    </CardTitle>\n  );\n};\n\nconst PartitionSizeTitle: FunctionComponent = () => {\n  const { t } = useTranslation();\n  return (\n    <CardTitle component=\"h3\">\n      {t(\"metrics:topic_partition_size\")}{\" \"}\n      <ChartPopover\n        title={t(\"metrics:topic_partition_size_popover_header\")}\n        description={t(\"metrics:topic_partition_size_help_text\")}\n      />\n    </CardTitle>\n  );\n};\n\nconst IncomingMessageRate: FunctionComponent = () => {\n  const { t } = useTranslation();\n  return (\n    <CardTitle component=\"h3\">\n      {t(\"metrics:topic_incoming_message_rate\")}{\" \"}\n      <ChartPopover\n        title={t(\"metrics:topic_incoming_message_rate_popover_header\")}\n        description={t(\"metrics:topic_incoming_message_rate_help_text\")}\n      />\n    </CardTitle>\n  );\n};\n","import type { FunctionComponent } from \"react\";\nimport {\n  CardHeader,\n  CardTitle,\n  Divider,\n  Toolbar,\n  ToolbarContent,\n} from \"@patternfly/react-core\";\nimport { FilterByTime } from \"./FilterByTime\";\nimport type { DurationOptions } from \"../types\";\nimport { useTranslation } from \"@rhoas/app-services-ui-components\";\nimport type { ToolbarRefreshProps } from \"./ToolbarRefresh\";\nimport { ToolbarRefresh } from \"./ToolbarRefresh\";\n\ntype ToolbarKafkaInstanceMetricProps = {\n  title: string;\n  isDisabled: boolean;\n  duration: DurationOptions;\n  onSetTimeDuration: (value: DurationOptions) => void;\n} & Omit<ToolbarRefreshProps, \"ariaLabel\">;\nexport const ToolbarKafkaInstanceMetric: FunctionComponent<\n  ToolbarKafkaInstanceMetricProps\n> = ({\n  title,\n  isDisabled,\n  isRefreshing,\n  lastUpdated,\n  duration,\n  onSetTimeDuration,\n  onRefresh,\n}) => {\n  const { t } = useTranslation();\n  return (\n    <>\n      <CardHeader>\n        <CardTitle component=\"h2\">{title}</CardTitle>\n      </CardHeader>\n      <Divider />\n      <Toolbar>\n        <ToolbarContent>\n          <FilterByTime\n            ariaLabel={t(\"metrics:kafka_instance_filter_by_time\")}\n            duration={duration}\n            onDurationChange={onSetTimeDuration}\n            keyText={\"kafka-metrics-time-filter\"}\n            disableToolbar={isDisabled}\n          />\n          <ToolbarRefresh\n            isRefreshing={isRefreshing}\n            lastUpdated={lastUpdated}\n            onRefresh={onRefresh}\n            ariaLabel={t(\"metrics:kafka_instance_refresh\")}\n          />\n        </ToolbarContent>\n      </Toolbar>\n      <Divider />\n    </>\n  );\n};\n","import { Card, CardBody, CardTitle, Divider } from \"@patternfly/react-core\";\nimport type { FunctionComponent } from \"react\";\nimport { useTranslation } from \"@rhoas/app-services-ui-components\";\nimport type { DurationOptions, TimeSeriesMetrics } from \"../types\";\nimport { CardBodyLoading } from \"./CardBodyLoading\";\nimport { ChartPopover } from \"./ChartPopover\";\nimport { ChartLinearWithOptionalLimit } from \"./ChartLinearWithOptionalLimit\";\nimport { EmptyStateMetricsUnavailable } from \"./EmptyStateMetricsUnavailable\";\nimport { ToolbarKafkaInstanceMetric } from \"./ToolbarKafkaInstanceMetric\";\nimport { formatBytes } from \"./utils\";\nimport { EmptyStateNoMetricsData } from \"./EmptyStateNoMetricsData\";\nimport type { ToolbarRefreshProps } from \"./ToolbarRefresh\";\n\nexport type CardKafkaInstanceMetricsLimits = {\n  diskSpaceLimit: number;\n  connectionsLimit: number;\n  connectionRateLimit: number;\n};\n\nexport type CardKafkaInstanceMetricsProps = {\n  usedDiskMetrics: TimeSeriesMetrics;\n  clientConnectionsMetrics: TimeSeriesMetrics;\n  connectionAttemptRateMetrics: TimeSeriesMetrics;\n  duration: DurationOptions;\n  lastUpdated: Date | undefined;\n  backendUnavailable: boolean;\n  isInitialLoading: boolean;\n  isLoading: boolean;\n  isJustCreated: boolean;\n  onDurationChange: (duration: DurationOptions) => void;\n} & Omit<ToolbarRefreshProps, \"ariaLabel\"> &\n  CardKafkaInstanceMetricsLimits;\n\ntype ChartTitleProps = {\n  title: string;\n  helperText: string;\n};\n\nexport const CardKafkaInstanceMetrics: FunctionComponent<\n  CardKafkaInstanceMetricsProps\n> = ({\n  usedDiskMetrics,\n  clientConnectionsMetrics,\n  connectionAttemptRateMetrics,\n  duration,\n  lastUpdated,\n  backendUnavailable,\n  isInitialLoading,\n  isLoading,\n  isRefreshing,\n  isJustCreated,\n  diskSpaceLimit,\n  connectionsLimit,\n  connectionRateLimit,\n  onRefresh,\n  onDurationChange,\n}) => {\n  const { t } = useTranslation(\"metrics\");\n\n  return (\n    <Card data-testid={\"metrics-kafka-instance\"}>\n      <ToolbarKafkaInstanceMetric\n        title={t(\"kafka_instance_metrics\")}\n        duration={duration}\n        lastUpdated={lastUpdated}\n        onSetTimeDuration={onDurationChange}\n        isDisabled={backendUnavailable || isJustCreated || isLoading}\n        isRefreshing={isRefreshing}\n        onRefresh={onRefresh}\n      />\n      {(() => {\n        switch (true) {\n          case isInitialLoading:\n            return <CardBodyLoading />;\n\n          case backendUnavailable:\n            return (\n              <CardBody>\n                <EmptyStateNoMetricsData />\n              </CardBody>\n            );\n\n          case isJustCreated:\n            return (\n              <CardBody>\n                <EmptyStateMetricsUnavailable />\n              </CardBody>\n            );\n\n          default:\n            return (\n              <>\n                <ChartTitle\n                  title={t(\"used_disk_space\")}\n                  helperText={t(\"used_disk_space_help_text\")}\n                />\n                <CardBody>\n                  <ChartLinearWithOptionalLimit\n                    chartName={t(\"used_disk_space\")}\n                    yLabel={t(\"axis-label-bytes\")}\n                    metrics={usedDiskMetrics}\n                    duration={duration}\n                    formatValue={formatBytes}\n                    usageLimit={diskSpaceLimit}\n                    isLoading={isLoading}\n                    emptyState={<EmptyStateNoMetricsData />}\n                  />\n                </CardBody>\n                <Divider />\n                <ChartTitle\n                  title={t(\"client_connections\")}\n                  helperText={t(\"client_connections_helper_text\")}\n                />\n                <CardBody>\n                  <ChartLinearWithOptionalLimit\n                    chartName={t(\"client_connections\")}\n                    yLabel={t(\"client_connections_y_axis\")}\n                    metrics={clientConnectionsMetrics}\n                    duration={duration}\n                    usageLimit={connectionsLimit}\n                    isLoading={isLoading}\n                    emptyState={<EmptyStateNoMetricsData />}\n                  />\n                </CardBody>\n                <Divider />\n                <ChartTitle\n                  title={t(\"connection_attempt_rate\")}\n                  helperText={t(\"connection_attempt_rate_help_text\")}\n                />\n                <CardBody>\n                  <ChartLinearWithOptionalLimit\n                    chartName={t(\"connection_attempt_rate\")}\n                    yLabel={t(\"connection_attempt_rate_yaxis\")}\n                    metrics={connectionAttemptRateMetrics}\n                    duration={duration}\n                    usageLimit={connectionRateLimit}\n                    isLoading={isLoading}\n                    emptyState={<EmptyStateNoMetricsData />}\n                  />\n                </CardBody>\n              </>\n            );\n        }\n      })()}\n    </Card>\n  );\n};\n\nexport const ChartTitle: FunctionComponent<ChartTitleProps> = ({\n  title,\n  helperText,\n}) => {\n  return (\n    <CardTitle component=\"h3\">\n      {title} <ChartPopover title={title} description={helperText} />\n    </CardTitle>\n  );\n};\n","import {\n  Bullseye,\n  Card,\n  CardBody,\n  CardTitle,\n  Skeleton,\n  Title,\n} from \"@patternfly/react-core\";\nimport type { VoidFunctionComponent } from \"react\";\nimport { ChartPopover } from \"./ChartPopover\";\nimport { EmptyStateNoMetricsData } from \"./EmptyStateNoMetricsData\";\n\ntype CardKpiProps = {\n  metric: string | number | undefined;\n  name: string;\n  popover: string;\n  isLoading: boolean;\n};\n\nexport const CardKpi: VoidFunctionComponent<CardKpiProps> = ({\n  metric,\n  name,\n  popover,\n  isLoading,\n}) => {\n  return (\n    <Card isFullHeight data-testid={name}>\n      <CardTitle component=\"h3\">\n        {name} <ChartPopover title={name} description={popover} />\n      </CardTitle>\n      <CardBody>\n        {!isLoading &&\n          (metric === undefined ? (\n            <Bullseye>\n              <EmptyStateNoMetricsData />\n            </Bullseye>\n          ) : (\n            <Title\n              headingLevel=\"h3\"\n              size=\"4xl\"\n              aria-valuetext={`${metric} ${name}`}\n            >\n              {metric}\n            </Title>\n          ))}\n        {isLoading && <Skeleton width=\"50px\" shape=\"square\" />}\n      </CardBody>\n    </Card>\n  );\n};\n","import type { VoidFunctionComponent } from \"react\";\nimport { Alert, AlertActionCloseButton } from \"@patternfly/react-core\";\nimport { useTranslation } from \"@rhoas/app-services-ui-components\";\n\nexport type MetricsLagAlertProps = {\n  isClosed: boolean;\n  onClickClose: () => void;\n};\n\nexport const MetricsLagAlert: VoidFunctionComponent<MetricsLagAlertProps> = ({\n  isClosed,\n  onClickClose,\n}) => {\n  const { t } = useTranslation(\"metrics\");\n\n  if (!isClosed) {\n    return (\n      <Alert\n        isInline\n        variant=\"info\"\n        title={t(\"metrics_lag_title\")}\n        actionClose={<AlertActionCloseButton onClose={onClickClose} />}\n      >\n        <p>{t(\"metrics_lag_description\")}</p>\n      </Alert>\n    );\n  } else {\n    return <> </>;\n  }\n};\n","import {\n  Alert,\n  AlertVariant,\n  Bullseye,\n  Card,\n  CardBody,\n  CardFooter,\n  CardTitle,\n  Skeleton,\n  Text,\n  TextContent,\n  Title,\n} from \"@patternfly/react-core\";\nimport {\n  ExclamationCircleIcon,\n  ExclamationTriangleIcon,\n} from \"@patternfly/react-icons\";\nimport type { VoidFunctionComponent } from \"react\";\nimport { useTranslation } from \"@rhoas/app-services-ui-components\";\nimport { ChartPopover } from \"./ChartPopover\";\nimport { EmptyStateNoMetricsData } from \"./EmptyStateNoMetricsData\";\n\ntype PartitionCardProps = {\n  metric: number | undefined;\n  isLoading: boolean;\n  topicPartitionsLimit: number | undefined;\n};\n\nexport const PartitionCard: VoidFunctionComponent<PartitionCardProps> = ({\n  metric,\n  isLoading,\n  topicPartitionsLimit = 0,\n}) => {\n  const { t } = useTranslation();\n\n  return (\n    <Card\n      isFullHeight\n      data-testid={t(\"metrics:metric_kpi_topicPartitions_name\")}\n    >\n      <CardTitle component=\"h3\">\n        {t(\"metrics:metric_kpi_topicPartitions_name\")}{\" \"}\n        <ChartPopover\n          title={t(\"metrics:metric_kpi_topicPartitions_name\")}\n          description={t(\"metrics:metric_kpi_topicPartitions_description\")}\n        />\n      </CardTitle>\n      <CardBody>\n        {!isLoading &&\n          (metric === undefined ? (\n            <Bullseye>\n              <EmptyStateNoMetricsData />\n            </Bullseye>\n          ) : (\n            <>\n              <Title\n                headingLevel=\"h3\"\n                size=\"4xl\"\n                aria-valuetext={`${metric} ${t(\n                  \"metrics:metric_kpi_topicPartitions_name\"\n                )}`}\n              >\n                {metric}{\" \"}\n                {(() => {\n                  if (metric >= topicPartitionsLimit) {\n                    return (\n                      <ExclamationCircleIcon color=\"var(--pf-global--danger-color--100)\" />\n                    );\n                  } else if (metric >= topicPartitionsLimit * 0.95) {\n                    return (\n                      <ExclamationTriangleIcon color=\"var(--pf-global--warning-color--100)\" />\n                    );\n                  } else {\n                    return \"\";\n                  }\n                })()}\n              </Title>\n              <TextContent>\n                <Text>\n                  {t(\"metrics:partition_limit\", {\n                    topic: topicPartitionsLimit,\n                  })}\n                </Text>\n              </TextContent>\n            </>\n          ))}\n        {isLoading && <Skeleton width=\"50px\" shape=\"square\" />}\n      </CardBody>\n      {(() => {\n        if (metric && metric >= topicPartitionsLimit) {\n          return (\n            <CardFooter>\n              <Alert\n                isExpandable\n                isInline\n                variant={AlertVariant.danger}\n                title={t(\"metrics:partition_limit_reached_title\")}\n              >\n                <p>{t(\"metrics:partition_limit_reached_description_1\")}</p>\n                <p>{t(\"metrics:partition_limit_reached_description_2\")}</p>\n              </Alert>\n            </CardFooter>\n          );\n        } else if (metric && metric >= topicPartitionsLimit * 0.95) {\n          return (\n            <CardFooter>\n              <Alert\n                role={\"alert\"}\n                isExpandable\n                isInline\n                variant={AlertVariant.warning}\n                title={t(\"metrics:partition_limit_approaching_title\")}\n              >\n                <p>\n                  {t(\"metrics:partition_limit_approaching_description_1\", {\n                    limit: topicPartitionsLimit,\n                  })}\n                </p>\n                <p>{t(\"metrics:partition_limit_approaching_description_2\")}</p>\n              </Alert>\n            </CardFooter>\n          );\n        } else {\n          return \" \";\n        }\n      })()}\n    </Card>\n  );\n};\n","import { assign, createMachine } from \"xstate\";\nimport type {\n  GetKafkaInstanceMetricsResponse,\n  TimeSeriesMetrics,\n} from \"../types\";\nimport { DurationOptions } from \"../types\";\n\nconst MAX_RETRIES = 3;\n\nconst apiState = {\n  initial: \"loading\",\n  states: {\n    loading: {\n      invoke: {\n        src: \"api\",\n      },\n      on: {\n        fetchFail: {\n          actions: \"incrementRetries\",\n          target: \"failure\",\n        },\n      },\n    },\n    failure: {\n      after: {\n        1000: [\n          { cond: \"canRetryFetching\", target: \"loading\" },\n          { target: \"#kafkaInstanceMetrics.criticalFail\" },\n        ],\n      },\n    },\n  },\n};\n\nexport type KafkaInstanceMetricsMachineContext = {\n  lastUpdated: Date | undefined;\n\n  // from the UI elements\n  duration: DurationOptions;\n\n  // from the api\n  usedDiskSpaceMetrics: TimeSeriesMetrics;\n  clientConnectionsMetrics: TimeSeriesMetrics;\n  connectionAttemptRateMetrics: TimeSeriesMetrics;\n  diskSpaceLimit: number | undefined;\n  connectionsLimit: number | undefined;\n  connectionRateLimit: number | undefined;\n  // how many time did we try a fetch (that combines more api)\n  fetchFailures: number;\n};\n\nexport const KafkaInstanceMetricsMachine = createMachine(\n  {\n    tsTypes: {} as import(\"./KafkaInstanceMetricsMachine.typegen\").Typegen0,\n    schema: {\n      context: {} as KafkaInstanceMetricsMachineContext,\n      events: {} as\n        | ({ type: \"fetchSuccess\" } & GetKafkaInstanceMetricsResponse)\n        | { type: \"fetchFail\" }\n        // to refresh the data\n        | { type: \"refresh\" }\n        // from the UI elements\n        | { type: \"selectTopic\"; topic: string | undefined }\n        | { type: \"selectDuration\"; duration: DurationOptions },\n    },\n    id: \"kafkaInstanceMetrics\",\n    context: {\n      lastUpdated: undefined,\n      duration: DurationOptions.Last1hour,\n      usedDiskSpaceMetrics: {},\n      clientConnectionsMetrics: {},\n      connectionAttemptRateMetrics: {},\n      diskSpaceLimit: undefined,\n      connectionsLimit: undefined,\n      connectionRateLimit: undefined,\n      fetchFailures: 0,\n    },\n    initial: \"initialLoading\",\n    states: {\n      initialLoading: {\n        ...apiState,\n        tags: \"initialLoading\",\n        entry: \"setFetchTimestamp\",\n        on: {\n          fetchSuccess: [\n            {\n              cond: \"isJustCreated\",\n              actions: \"setMetrics\",\n              target: \"#kafkaInstanceMetrics.withResponse\",\n            },\n            { actions: \"setMetrics\", target: \"justCreated\" },\n          ],\n        },\n      },\n      callApi: {\n        ...apiState,\n        tags: \"loading\",\n        entry: \"setFetchTimestamp\",\n        on: {\n          fetchSuccess: {\n            actions: \"setMetrics\",\n            target: \"#kafkaInstanceMetrics.withResponse\",\n          },\n        },\n      },\n      criticalFail: {\n        tags: \"failed\",\n        on: {\n          refresh: {\n            actions: \"resetRetries\",\n            target: \"callApi\",\n          },\n        },\n      },\n      justCreated: {\n        tags: \"justCreated\",\n        on: {\n          refresh: {\n            target: \"initialLoading\",\n          },\n        },\n      },\n      withResponse: {\n        tags: \"withResponse\",\n        on: {\n          refresh: {\n            target: \"refreshing\",\n          },\n          selectDuration: {\n            actions: \"setDuration\",\n            target: \"callApi\",\n          },\n        },\n      },\n      refreshing: {\n        tags: \"refreshing\",\n        entry: \"setFetchTimestamp\",\n        invoke: {\n          src: \"api\",\n        },\n        on: {\n          fetchSuccess: {\n            actions: \"setMetrics\",\n            target: \"withResponse\",\n          },\n          fetchFail: {\n            // 👀 we silently ignore this happened and go back to the right\n            // state depending on the previous data\n            target: \"withResponse\",\n          },\n        },\n      },\n    },\n  },\n  {\n    actions: {\n      setFetchTimestamp: assign({\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        lastUpdated: (_context) => new Date(),\n      }),\n      setMetrics: assign((_, event) => {\n        const {\n          usedDiskSpaceMetrics,\n          clientConnectionsMetrics,\n          connectionAttemptRateMetrics,\n          diskSpaceLimit,\n          connectionsLimit,\n          connectionRateLimit,\n        } = event;\n        return {\n          usedDiskSpaceMetrics,\n          clientConnectionsMetrics,\n          connectionAttemptRateMetrics,\n          diskSpaceLimit: diskSpaceLimit * 1024 ** 3, // convert it to GiB\n          connectionsLimit,\n          connectionRateLimit,\n        };\n      }),\n      incrementRetries: assign({\n        fetchFailures: (context) => context.fetchFailures + 1,\n      }),\n      resetRetries: assign({\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        fetchFailures: (_context) => 0,\n      }),\n      setDuration: assign((_context, event) => ({\n        duration: event.duration,\n        usedDiskSpaceMetrics: {},\n        clientConnectionsMetrics: {},\n        connectionAttemptRateMetrics: {},\n      })),\n    },\n    guards: {\n      canRetryFetching: (context) => context.fetchFailures < MAX_RETRIES,\n      isJustCreated: (_, event) => {\n        if (event.type === \"fetchSuccess\") {\n          return (\n            Object.keys(event.clientConnectionsMetrics).length > 0 ||\n            Object.keys(event.connectionAttemptRateMetrics).length > 0 ||\n            Object.keys(event.usedDiskSpaceMetrics).length > 0\n          );\n        }\n        return false;\n      },\n    },\n  }\n);\n\nexport type KafkaInstanceMetricsMachineType =\n  typeof KafkaInstanceMetricsMachine;\n","import { assign, createMachine } from \"xstate\";\nimport type {\n  GetTopicsMetricsResponse,\n  PartitionBytesMetric,\n  TimeSeriesMetrics,\n} from \"../types\";\nimport { DurationOptions } from \"../types\";\n\nconst MAX_RETRIES = 3;\n\nconst apiState = {\n  initial: \"loading\",\n  states: {\n    loading: {\n      invoke: {\n        src: \"api\",\n      },\n      on: {\n        fetchFail: {\n          actions: \"incrementRetries\",\n          target: \"failure\",\n        },\n      },\n    },\n    failure: {\n      after: {\n        1000: [\n          { cond: \"canRetryFetching\", target: \"loading\" },\n          { target: \"#topicsMetrics.criticalFail\" },\n        ],\n      },\n    },\n  },\n};\n\nexport type TopicsMetricsMachineContext = {\n  lastUpdated: Date | undefined;\n\n  // from the UI elements\n  selectedTopic: string | undefined;\n  duration: DurationOptions;\n\n  // from the api\n  kafkaTopics: string[];\n  metricsTopics: string[];\n  bytesOutgoing: TimeSeriesMetrics;\n  bytesIncoming: TimeSeriesMetrics;\n  bytesPerPartition: PartitionBytesMetric;\n  incomingMessageRate: TimeSeriesMetrics;\n\n  // how many time did we try a fetch (that combines more api)\n  fetchFailures: number;\n};\n\nexport const TopicsMetricsMachine = createMachine(\n  {\n    tsTypes: {} as import(\"./TopicsMetricsMachine.typegen\").Typegen0,\n    schema: {\n      context: {} as TopicsMetricsMachineContext,\n      events: {} as  // called when a new kafka id has been specified\n        | ({ type: \"fetchSuccess\" } & GetTopicsMetricsResponse)\n        | { type: \"fetchFail\" }\n\n        // to refresh the data\n        | { type: \"refresh\" }\n\n        // from the UI elements\n        | { type: \"selectTopic\"; topic: string | undefined }\n        | { type: \"selectDuration\"; duration: DurationOptions },\n    },\n    id: \"topicsMetrics\",\n    context: {\n      lastUpdated: undefined,\n\n      // from the UI elements\n      selectedTopic: undefined,\n      duration: DurationOptions.Last1hour,\n\n      // from the api\n      kafkaTopics: [],\n      metricsTopics: [],\n      bytesOutgoing: {},\n      bytesIncoming: {},\n      bytesPerPartition: {},\n      incomingMessageRate: {},\n\n      // how many time did we try a fetch (that combines more api)\n      fetchFailures: 0,\n    },\n    initial: \"initialLoading\",\n    states: {\n      initialLoading: {\n        ...apiState,\n        tags: \"initialLoading\",\n        entry: \"setFetchTimestamp\",\n        on: {\n          fetchSuccess: [\n            {\n              cond: \"isJustCreated\",\n              actions: \"setMetrics\",\n              target: \"#topicsMetrics.withResponse\",\n            },\n            { actions: \"setMetrics\", target: \"justCreated\" },\n          ],\n        },\n      },\n      callApi: {\n        ...apiState,\n        tags: \"loading\",\n        entry: \"setFetchTimestamp\",\n        on: {\n          fetchSuccess: {\n            actions: \"setMetrics\",\n            target: \"#topicsMetrics.withResponse\",\n          },\n        },\n      },\n      criticalFail: {\n        tags: \"failed\",\n        on: {\n          refresh: {\n            actions: \"resetRetries\",\n            target: \"callApi\",\n          },\n        },\n      },\n      justCreated: {\n        tags: \"justCreated\",\n        on: {\n          refresh: {\n            target: \"initialLoading\",\n          },\n        },\n      },\n      withResponse: {\n        tags: \"withResponse\",\n        initial: \"idle\",\n        states: {\n          idle: {},\n          refreshing: {\n            tags: \"refreshing\",\n            entry: \"setFetchTimestamp\",\n            invoke: {\n              src: \"api\",\n            },\n            on: {\n              fetchSuccess: {\n                actions: \"setMetrics\",\n                target: \"#topicsMetrics.withResponse\",\n              },\n              fetchFail: {\n                // 👀 we silently ignore this happened\n                target: \"#topicsMetrics.withResponse\",\n              },\n            },\n          },\n        },\n        on: {\n          refresh: {\n            target: \"#topicsMetrics.withResponse.refreshing\",\n          },\n          selectTopic: {\n            actions: \"setTopic\",\n            target: \"callApi\",\n          },\n          selectDuration: {\n            actions: \"setDuration\",\n            target: \"callApi\",\n          },\n        },\n      },\n    },\n  },\n  {\n    actions: {\n      setFetchTimestamp: assign({\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        lastUpdated: (_context) => new Date(),\n      }),\n      setMetrics: assign((_context, event) => {\n        const {\n          kafkaTopics,\n          metricsTopics,\n          bytesPerPartition,\n          bytesIncoming,\n          bytesOutgoing,\n          incomingMessageRate,\n        } = event;\n        return {\n          kafkaTopics,\n          metricsTopics,\n          bytesPerPartition,\n          bytesIncoming,\n          bytesOutgoing,\n          incomingMessageRate,\n        };\n      }),\n      incrementRetries: assign({\n        fetchFailures: (context) => context.fetchFailures + 1,\n      }),\n      resetRetries: assign({\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        fetchFailures: (_context) => 0,\n      }),\n      setTopic: assign({\n        selectedTopic: (_context, event) => event.topic,\n      }),\n      setDuration: assign({\n        duration: (_, event) => event.duration,\n      }),\n    },\n    guards: {\n      canRetryFetching: (context) => context.fetchFailures < MAX_RETRIES,\n      isJustCreated: (_, event) => {\n        if (event.type === \"fetchSuccess\") {\n          return (\n            Object.keys(event.bytesIncoming).length > 0 ||\n            Object.keys(event.bytesOutgoing).length > 0 ||\n            Object.keys(event.bytesPerPartition).length > 0 ||\n            Object.keys(event.incomingMessageRate).length > 0\n          );\n        }\n        return false;\n      },\n    },\n  }\n);\n\nexport type TopicsMetricsMachineType = typeof TopicsMetricsMachine;\n","import { assign, createMachine } from \"xstate\";\nimport type { GetMetricsKpiResponse } from \"../types\";\n\nconst MAX_RETRIES = 3;\n\nconst apiState = {\n  initial: \"loading\",\n  states: {\n    loading: {\n      invoke: {\n        src: \"api\",\n      },\n      on: {\n        fetchFail: {\n          actions: \"incrementRetries\",\n          target: \"failure\",\n        },\n      },\n    },\n    failure: {\n      after: {\n        1000: [\n          { cond: \"canRetryFetching\", target: \"loading\" },\n          { target: \"#kpis.criticalFail\" },\n        ],\n      },\n    },\n  },\n};\n\nexport type MetricsKpiMachineContext = {\n  // from the api\n  topics: number | undefined;\n  topicPartitions: number | undefined;\n  consumerGroups: number | undefined;\n  topicPartitionsLimit: number | undefined;\n\n  // how many time did we try a fetch (that combines more api)\n  fetchFailures: number;\n};\n\nexport const MetricsKpiMachine = createMachine(\n  {\n    tsTypes: {} as import(\"./MetricsKpiMachine.typegen\").Typegen0,\n    schema: {\n      context: {} as MetricsKpiMachineContext,\n      events: {} as\n        | { type: \"fetch\" }\n        | ({ type: \"fetchSuccess\" } & GetMetricsKpiResponse)\n        | { type: \"fetchFail\" }\n        | { type: \"refresh\" },\n    },\n    id: \"kpis\",\n    context: {\n      topics: undefined,\n      topicPartitions: undefined,\n      consumerGroups: undefined,\n      topicPartitionsLimit: undefined,\n      fetchFailures: 0,\n    },\n    initial: \"initialLoading\",\n    states: {\n      initialLoading: {\n        ...apiState,\n        tags: \"initialLoading\",\n        on: {\n          fetchSuccess: [\n            {\n              cond: \"isJustCreated\",\n              actions: \"setMetrics\",\n              target: \"#kpis.withResponse\",\n            },\n            { actions: \"setMetrics\", target: \"justCreated\" },\n          ],\n        },\n      },\n      callApi: {\n        ...apiState,\n        tags: \"loading\",\n        on: {\n          fetchSuccess: {\n            actions: \"setMetrics\",\n            target: \"#kpis.withResponse\",\n          },\n        },\n      },\n      criticalFail: {\n        tags: \"failed\",\n        on: {\n          refresh: {\n            actions: \"resetRetries\",\n            target: \"callApi\",\n          },\n        },\n      },\n      justCreated: {\n        tags: \"justCreated\",\n        on: {\n          refresh: {\n            target: \"initialLoading\",\n          },\n        },\n      },\n      withResponse: {\n        tags: \"withResponse\",\n        initial: \"idle\",\n        states: {\n          idle: {},\n          refreshing: {\n            tags: \"refreshing\",\n            invoke: {\n              src: \"api\",\n            },\n            on: {\n              fetchSuccess: {\n                actions: \"setMetrics\",\n                target: \"#kpis.withResponse\",\n              },\n              fetchFail: {\n                // 👀 we silently ignore this happened\n                target: \"#kpis.withResponse\",\n              },\n            },\n          },\n        },\n        on: {\n          refresh: {\n            target: \"#kpis.withResponse.refreshing\",\n          },\n        },\n      },\n    },\n  },\n  {\n    actions: {\n      setMetrics: assign((_, event) => {\n        const {\n          topics,\n          topicPartitions,\n          consumerGroups,\n          topicPartitionsLimit,\n        } = event;\n        return {\n          topics,\n          topicPartitions,\n          consumerGroups,\n          topicPartitionsLimit,\n        };\n      }),\n\n      incrementRetries: assign({\n        fetchFailures: (context) => context.fetchFailures + 1,\n      }),\n\n      resetRetries: assign({\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        fetchFailures: (_context) => 0,\n      }),\n    },\n    guards: {\n      canRetryFetching: (context) => context.fetchFailures < MAX_RETRIES,\n      isJustCreated: (_, event) => {\n        if (event.type === \"fetchSuccess\") {\n          return (\n            event.topics !== undefined ||\n            event.topicPartitions !== undefined ||\n            event.consumerGroups !== undefined ||\n            event.topicPartitionsLimit !== undefined\n          );\n        }\n        return false;\n      },\n    },\n  }\n);\n\nexport type MetricsKpiMachineType = typeof MetricsKpiMachine;\n","import { useInterpret } from \"@xstate/react\";\nimport type { FunctionComponent } from \"react\";\nimport { createContext } from \"react\";\nimport type { ActorRefFrom } from \"xstate\";\nimport { timeIntervalsMapping } from \"./consts\";\nimport type { KafkaInstanceMetricsMachineType } from \"./machines\";\nimport { KafkaInstanceMetricsMachine } from \"./machines\";\nimport type { DurationOptions, GetKafkaInstanceMetricsResponse } from \"./types\";\n\nexport const KafkaInstanceMetricsContext = createContext<{\n  service: ActorRefFrom<KafkaInstanceMetricsMachineType>;\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n}>(null!);\n\nexport type KafkaInstanceMetricsProviderProps = {\n  getKafkaInstanceMetrics: (options: {\n    duration: DurationOptions;\n    interval: number;\n  }) => Promise<GetKafkaInstanceMetricsResponse>;\n};\nexport const KafkaInstanceMetricsProvider: FunctionComponent<\n  KafkaInstanceMetricsProviderProps\n> = ({ children, getKafkaInstanceMetrics }) => {\n  const service = useInterpret(\n    () =>\n      KafkaInstanceMetricsMachine.withConfig({\n        services: {\n          api: (context) => {\n            return (callback) => {\n              getKafkaInstanceMetrics({\n                duration: context.duration,\n                interval: timeIntervalsMapping[context.duration].interval,\n              })\n                .then((results) =>\n                  callback({ type: \"fetchSuccess\", ...results })\n                )\n                .catch((e) => {\n                  console.error(\"Failed fetching data\", e);\n                  callback(\"fetchFail\");\n                });\n            };\n          },\n        },\n      }),\n    {\n      devTools: true,\n    }\n  );\n  return (\n    <KafkaInstanceMetricsContext.Provider\n      value={{\n        service,\n      }}\n    >\n      {children}\n    </KafkaInstanceMetricsContext.Provider>\n  );\n};\n","import { useInterpret } from \"@xstate/react\";\nimport type { FunctionComponent } from \"react\";\nimport { createContext } from \"react\";\nimport type { ActorRefFrom } from \"xstate\";\nimport type { MetricsKpiMachineType } from \"./machines\";\nimport { MetricsKpiMachine } from \"./machines\";\nimport type { GetMetricsKpiResponse } from \"./types\";\n\nexport const MetricsKpiContext = createContext<{\n  service: ActorRefFrom<MetricsKpiMachineType>;\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n}>(null!);\n\nexport type MetricsKpiProviderProps = {\n  getMetricsKpi: () => Promise<GetMetricsKpiResponse>;\n};\nexport const MetricsKpiProvider: FunctionComponent<MetricsKpiProviderProps> = ({\n  children,\n  getMetricsKpi,\n}) => {\n  const service = useInterpret(\n    () =>\n      MetricsKpiMachine.withConfig({\n        services: {\n          api: () => {\n            return (callback) => {\n              getMetricsKpi()\n                .then((results) =>\n                  callback({ type: \"fetchSuccess\", ...results })\n                )\n                .catch((e) => {\n                  console.error(\"Failed fetching data\", e);\n                  callback(\"fetchFail\");\n                });\n            };\n          },\n        },\n      }),\n    {\n      devTools: true,\n    }\n  );\n  return (\n    <MetricsKpiContext.Provider\n      value={{\n        service,\n      }}\n    >\n      {children}\n    </MetricsKpiContext.Provider>\n  );\n};\n","import { useInterpret } from \"@xstate/react\";\nimport type { FunctionComponent } from \"react\";\nimport { createContext } from \"react\";\nimport type { ActorRefFrom } from \"xstate\";\nimport { timeIntervalsMapping } from \"./consts\";\nimport type { TopicsMetricsMachineType } from \"./machines\";\nimport { TopicsMetricsMachine } from \"./machines\";\nimport type { DurationOptions, GetTopicsMetricsResponse } from \"./types\";\n\nexport const TopicsMetricsContext = createContext<{\n  service: ActorRefFrom<TopicsMetricsMachineType>;\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n}>(null!);\n\nexport type TopicsMetricsProviderProps = {\n  getTopicsMetrics: (options: {\n    duration: DurationOptions;\n    interval: number;\n    selectedTopic: string | undefined;\n  }) => Promise<GetTopicsMetricsResponse>;\n};\nexport const TopicsMetricsProvider: FunctionComponent<\n  TopicsMetricsProviderProps\n> = ({ children, getTopicsMetrics }) => {\n  const service = useInterpret(\n    () =>\n      TopicsMetricsMachine.withConfig({\n        services: {\n          api: (context) => {\n            return (callback) => {\n              getTopicsMetrics({\n                selectedTopic: context.selectedTopic,\n                duration: context.duration,\n                interval: timeIntervalsMapping[context.duration].interval,\n              })\n                .then((results) =>\n                  callback({ type: \"fetchSuccess\", ...results })\n                )\n                .catch((e) => {\n                  console.error(\"Failed fetching data\", e);\n                  callback(\"fetchFail\");\n                });\n            };\n          },\n        },\n      }),\n    {\n      devTools: true,\n    }\n  );\n  return (\n    <TopicsMetricsContext.Provider\n      value={{\n        service,\n      }}\n    >\n      {children}\n    </TopicsMetricsContext.Provider>\n  );\n};\n","import { useSelector } from \"@xstate/react\";\nimport { useCallback, useContext } from \"react\";\nimport { KafkaInstanceMetricsContext } from \"./KafkaInstanceMetricsProvider\";\nimport type { KafkaInstanceMetricsMachineContext } from \"./machines\";\nimport type { DurationOptions } from \"./types\";\n\ntype SeletorReturn = KafkaInstanceMetricsMachineContext & {\n  isInitialLoading: boolean;\n  isRefreshing: boolean;\n  isLoading: boolean;\n  isFailed: boolean;\n  isJustCreated: boolean;\n};\n\nexport function useKafkaInstanceMetrics() {\n  const { service } = useContext(KafkaInstanceMetricsContext);\n\n  const {\n    usedDiskSpaceMetrics,\n    clientConnectionsMetrics,\n    connectionAttemptRateMetrics,\n    diskSpaceLimit,\n    connectionsLimit,\n    connectionRateLimit,\n    duration,\n    lastUpdated,\n    isInitialLoading,\n    isLoading,\n    isRefreshing,\n    isFailed,\n    isJustCreated,\n  } = useSelector<typeof service, SeletorReturn>(\n    service,\n    useCallback(\n      (state) => ({\n        ...state.context,\n        isInitialLoading: state.hasTag(\"initialLoading\"),\n        isRefreshing: state.hasTag(\"refreshing\"),\n        isLoading: state.hasTag(\"loading\"),\n        isFailed: state.hasTag(\"failed\"),\n        isJustCreated: state.hasTag(\"justCreated\"),\n      }),\n      []\n    )\n  );\n\n  const onDurationChange = useCallback(\n    (duration: DurationOptions) =>\n      service.send({ type: \"selectDuration\", duration }),\n    [service]\n  );\n\n  const onRefresh = useCallback(() => service.send(\"refresh\"), [service]);\n\n  return {\n    usedDiskSpaceMetrics,\n    clientConnectionsMetrics,\n    connectionAttemptRateMetrics,\n    diskSpaceLimit,\n    connectionsLimit,\n    connectionRateLimit,\n    lastUpdated,\n    isInitialLoading,\n    isLoading,\n    isRefreshing,\n    isFailed,\n    isJustCreated,\n    duration,\n    onDurationChange,\n    onRefresh,\n  };\n}\n","import { useSelector } from \"@xstate/react\";\nimport { useCallback, useContext, useMemo } from \"react\";\nimport type { TopicsMetricsMachineContext } from \"./machines\";\nimport { TopicsMetricsContext } from \"./TopicsMetricsProvider\";\nimport type { DurationOptions } from \"./types\";\n\ntype SelectorReturn = TopicsMetricsMachineContext & {\n  isInitialLoading: boolean;\n  isRefreshing: boolean;\n  isLoading: boolean;\n  isFailed: boolean;\n  isJustCreated: boolean;\n};\n\nexport function useTopicsMetrics() {\n  const { service } = useContext(TopicsMetricsContext);\n\n  const {\n    selectedTopic,\n    duration,\n    kafkaTopics,\n    metricsTopics,\n    bytesIncoming,\n    bytesOutgoing,\n    bytesPerPartition,\n    incomingMessageRate,\n    isInitialLoading,\n    isLoading,\n    isRefreshing,\n    isFailed,\n    isJustCreated,\n    lastUpdated,\n  } = useSelector<typeof service, SelectorReturn>(\n    service,\n    useCallback(\n      (state) => ({\n        ...state.context,\n        isInitialLoading: state.hasTag(\"initialLoading\"),\n        isRefreshing: state.hasTag(\"refreshing\"),\n        isLoading: state.hasTag(\"loading\"),\n        isFailed: state.hasTag(\"failed\"),\n        isJustCreated: state.hasTag(\"justCreated\"),\n      }),\n      []\n    )\n  );\n\n  const onTopicChange = useCallback(\n    (topic: string | undefined) => service.send({ type: \"selectTopic\", topic }),\n    [service]\n  );\n\n  const onDurationChange = useCallback(\n    (duration: DurationOptions) =>\n      service.send({ type: \"selectDuration\", duration }),\n    [service]\n  );\n\n  const onRefresh = useCallback(() => service.send(\"refresh\"), [service]);\n\n  const mergedTopics = useMemo((): string[] => {\n    const topics = Array.from(\n      new Set<string>([...kafkaTopics, ...metricsTopics])\n    );\n    topics.sort((a, b) => a.localeCompare(b));\n    return topics;\n  }, [kafkaTopics, metricsTopics]);\n\n  return {\n    isInitialLoading,\n    isLoading,\n    isRefreshing,\n    isFailed,\n    isJustCreated,\n    lastUpdated,\n    topics: mergedTopics,\n    selectedTopic,\n    duration,\n    bytesIncoming,\n    bytesOutgoing,\n    bytesPerPartition,\n    incomingMessageRate,\n    onTopicChange,\n    onDurationChange,\n    onRefresh,\n  };\n}\n","import { useTranslation } from \"@rhoas/app-services-ui-components\";\nimport type { VoidFunctionComponent } from \"react\";\nimport {\n  CardKafkaInstanceMetrics,\n  CardTopicsMetrics,\n  EmptyStateInitialLoading,\n  EmptyStateMetricsUnavailable,\n  MetricsLayout,\n} from \"./components\";\nimport { CardKpi } from \"./components/CardKpi\";\nimport { MetricsLagAlert } from \"./components/MetricsLagAlert\";\nimport { PartitionCard } from \"./components/PartitionCard\";\nimport type { KafkaInstanceMetricsProviderProps } from \"./KafkaInstanceMetricsProvider\";\nimport { KafkaInstanceMetricsProvider } from \"./KafkaInstanceMetricsProvider\";\nimport type { MetricsKpiProviderProps } from \"./MetricsKpiProvider\";\nimport { MetricsKpiProvider } from \"./MetricsKpiProvider\";\nimport type { TopicsMetricsProviderProps } from \"./TopicsMetricsProvider\";\nimport { TopicsMetricsProvider } from \"./TopicsMetricsProvider\";\nimport { useKafkaInstanceMetrics } from \"./useKafkaInstanceMetrics\";\nimport { useMetricsKpi } from \"./useMetricsKpi\";\nimport { useTopicsMetrics } from \"./useTopicsMetrics\";\n\nexport type MetricsProps = {\n  onCreateTopic: () => void;\n  onAlertClose: () => void;\n  hasUserAlreadyClosedAlert: boolean;\n} & KafkaInstanceMetricsProviderProps &\n  TopicsMetricsProviderProps &\n  MetricsKpiProviderProps;\n\nexport const Metrics: VoidFunctionComponent<MetricsProps> = ({\n  getKafkaInstanceMetrics,\n  getTopicsMetrics,\n  getMetricsKpi,\n  onCreateTopic,\n  onAlertClose,\n  hasUserAlreadyClosedAlert,\n}) => {\n  return (\n    <TopicsMetricsProvider getTopicsMetrics={getTopicsMetrics}>\n      <KafkaInstanceMetricsProvider\n        getKafkaInstanceMetrics={getKafkaInstanceMetrics}\n      >\n        <MetricsKpiProvider getMetricsKpi={getMetricsKpi}>\n          <ConnectedMetrics\n            onCreateTopic={onCreateTopic}\n            onClickClose={onAlertClose}\n            isClosed={hasUserAlreadyClosedAlert}\n          />\n        </MetricsKpiProvider>\n      </KafkaInstanceMetricsProvider>\n    </TopicsMetricsProvider>\n  );\n};\n\ntype ConnectedMetricsProps = {\n  onCreateTopic: () => void;\n  onClickClose: () => void;\n  isClosed: boolean;\n};\nconst ConnectedMetrics: VoidFunctionComponent<ConnectedMetricsProps> = ({\n  onCreateTopic,\n  onClickClose,\n  isClosed,\n}) => {\n  const { t } = useTranslation();\n  const kafkaInstanceMetrics = useKafkaInstanceMetrics();\n  const topicsMetrics = useTopicsMetrics();\n  const metricsKpi = useMetricsKpi();\n\n  switch (true) {\n    case kafkaInstanceMetrics.isInitialLoading ||\n      topicsMetrics.isInitialLoading ||\n      metricsKpi.isInitialLoading:\n      return <EmptyStateInitialLoading />;\n    case kafkaInstanceMetrics.isFailed &&\n      topicsMetrics.isFailed &&\n      topicsMetrics.isFailed:\n    case kafkaInstanceMetrics.isJustCreated &&\n      topicsMetrics.isJustCreated &&\n      metricsKpi.isJustCreated:\n      return <EmptyStateMetricsUnavailable />;\n    default:\n      return (\n        <MetricsLayout\n          metricsLagAlert={\n            <MetricsLagAlert onClickClose={onClickClose} isClosed={isClosed} />\n          }\n          topicsKpi={\n            <CardKpi\n              metric={metricsKpi.topics}\n              isLoading={metricsKpi.isInitialLoading || metricsKpi.isLoading}\n              name={t(\"metrics:metric_kpi_topics_name\")}\n              popover={t(\"metrics:metric_kpi_topics_description\")}\n            />\n          }\n          topicPartitionsKpi={\n            <PartitionCard\n              metric={metricsKpi.topicPartitions}\n              isLoading={metricsKpi.isInitialLoading || metricsKpi.isLoading}\n              topicPartitionsLimit={metricsKpi.topicPartitionsLimit}\n            />\n          }\n          consumerGroupKpi={\n            <CardKpi\n              metric={metricsKpi.consumerGroups}\n              isLoading={metricsKpi.isInitialLoading || metricsKpi.isLoading}\n              name={t(\"metrics:metric_kpi_consumerGroup_name\")}\n              popover={t(\"metrics:metric_kpi_consumerGroup_description\")}\n            />\n          }\n          diskSpaceMetrics={<ConnectedKafkaInstanceMetrics />}\n          topicMetrics={\n            <ConnectedTopicsMetrics onCreateTopic={onCreateTopic} />\n          }\n        />\n      );\n  }\n};\n\nconst ConnectedKafkaInstanceMetrics: VoidFunctionComponent = () => {\n  const {\n    isInitialLoading,\n    isLoading,\n    isRefreshing,\n    isFailed,\n    isJustCreated,\n    duration,\n    lastUpdated,\n    usedDiskSpaceMetrics,\n    clientConnectionsMetrics,\n    connectionAttemptRateMetrics,\n    diskSpaceLimit,\n    connectionsLimit,\n    connectionRateLimit,\n    onDurationChange,\n    onRefresh,\n  } = useKafkaInstanceMetrics();\n\n  return (\n    <CardKafkaInstanceMetrics\n      usedDiskMetrics={usedDiskSpaceMetrics}\n      clientConnectionsMetrics={clientConnectionsMetrics}\n      connectionAttemptRateMetrics={connectionAttemptRateMetrics}\n      duration={duration}\n      backendUnavailable={isFailed}\n      isInitialLoading={isInitialLoading}\n      isLoading={isLoading}\n      isRefreshing={isRefreshing}\n      isJustCreated={isJustCreated}\n      lastUpdated={lastUpdated}\n      onRefresh={onRefresh}\n      onDurationChange={onDurationChange}\n      diskSpaceLimit={diskSpaceLimit || 0}\n      connectionsLimit={connectionsLimit || 0}\n      connectionRateLimit={connectionRateLimit || 0}\n    />\n  );\n};\n\ntype ConnectedTopicsMetricsProps = {\n  onCreateTopic: () => void;\n};\nconst ConnectedTopicsMetrics: VoidFunctionComponent<\n  ConnectedTopicsMetricsProps\n> = ({ onCreateTopic }) => {\n  const {\n    isInitialLoading,\n    isLoading,\n    isRefreshing,\n    isFailed,\n    isJustCreated,\n    lastUpdated,\n    selectedTopic,\n    duration,\n    topics,\n    bytesIncoming,\n    bytesOutgoing,\n    bytesPerPartition,\n    incomingMessageRate,\n    onDurationChange,\n    onTopicChange,\n    onRefresh,\n  } = useTopicsMetrics();\n\n  return (\n    <CardTopicsMetrics\n      backendUnavailable={isFailed}\n      topics={topics}\n      incomingTopicsData={bytesIncoming}\n      outgoingTopicsData={bytesOutgoing}\n      partitions={bytesPerPartition}\n      incomingMessageRate={incomingMessageRate}\n      duration={duration}\n      isInitialLoading={isInitialLoading}\n      isLoading={isLoading}\n      isRefreshing={isRefreshing}\n      isJustCreated={isJustCreated}\n      lastUpdated={lastUpdated}\n      selectedTopic={selectedTopic}\n      onRefresh={onRefresh}\n      onSelectedTopic={onTopicChange}\n      onDurationChange={onDurationChange}\n      onCreateTopic={onCreateTopic}\n    />\n  );\n};\n","import { useSelector } from \"@xstate/react\";\nimport { useCallback, useContext } from \"react\";\nimport type { MetricsKpiMachineContext } from \"./machines\";\nimport { MetricsKpiContext } from \"./MetricsKpiProvider\";\n\ntype SelectorReturn = MetricsKpiMachineContext & {\n  isInitialLoading: boolean;\n  isRefreshing: boolean;\n  isLoading: boolean;\n  isFailed: boolean;\n  isJustCreated: boolean;\n};\n\nexport function useMetricsKpi() {\n  const { service } = useContext(MetricsKpiContext);\n\n  const {\n    topics,\n    topicPartitions,\n    topicPartitionsLimit,\n    consumerGroups,\n    isInitialLoading,\n    isLoading,\n    isRefreshing,\n    isFailed,\n    isJustCreated,\n  } = useSelector<typeof service, SelectorReturn>(\n    service,\n    useCallback(\n      (state) => ({\n        ...state.context,\n        isInitialLoading: state.hasTag(\"initialLoading\"),\n        isRefreshing: state.hasTag(\"refreshing\"),\n        isLoading: state.hasTag(\"loading\"),\n        isFailed: state.hasTag(\"failed\"),\n        isJustCreated: state.hasTag(\"justCreated\"),\n      }),\n      []\n    )\n  );\n\n  const onRefresh = useCallback(() => service.send(\"refresh\"), [service]);\n\n  return {\n    isInitialLoading,\n    isLoading,\n    isRefreshing,\n    isFailed,\n    isJustCreated,\n    topics,\n    topicPartitions,\n    consumerGroups,\n    topicPartitionsLimit,\n    onRefresh,\n  };\n}\n","import {\n  Button,\n  Card,\n  CardBody,\n  Flex,\n  FlexItem,\n  Modal,\n  ModalVariant,\n  PageSection,\n  Spinner,\n  Stack,\n  StackItem,\n  Switch,\n} from \"@patternfly/react-core\";\nimport { useTranslation } from \"@rhoas/app-services-ui-components\";\nimport type { FunctionComponent } from \"react\";\nimport { useState } from \"react\";\nimport \"./Settings.css\";\n// import { useAlert, AlertVariant } from \"@rhoas/app-services-ui-components\";\nimport type { SettingsStatus } from \"./types\";\n\nexport type SettingsProps = {\n  onSubmitReAuthentication: (\n    reauthenticationEnabled: boolean\n  ) => Promise<boolean>;\n  reauthenticationEnabled: boolean;\n};\n\nexport const Settings: FunctionComponent<SettingsProps> = ({\n  onSubmitReAuthentication,\n  reauthenticationEnabled,\n}) => {\n  const { t } = useTranslation(\"kafka\");\n  const { addAlert } = {\n    //TODO\n    addAlert: (args: { [key: string]: any }) => {\n      // TODO\n    },\n  };\n  //states\n  const [connectionStatus, setConnectionStatus] = useState<SettingsStatus>(\n    reauthenticationEnabled ? \"On\" : \"Off\"\n  );\n  const [isModalOpen, setIsModalOpen] = useState<boolean>(false);\n\n  const onClose = () => {\n    setIsModalOpen(false);\n  };\n\n  const onChangeSwitch = (checked: boolean) => {\n    if (connectionStatus === \"On\") {\n      setIsModalOpen(true);\n    } else {\n      handleReAuthentication(checked);\n    }\n  };\n\n  const handleReAuthentication = (reAuthValue: boolean) => {\n    setConnectionStatus(reAuthValue ? \"TurningOn\" : \"TurningOff\");\n\n    onSubmitReAuthentication(reAuthValue)\n      .then((reauthentication) => {\n        setConnectionStatus(reauthentication ? \"On\" : \"Off\");\n\n        addAlert({\n          variant: \"success\",\n          title: t(\"settings.success_alert\", {\n            status: reauthentication ? \"on\" : \"off\",\n          }),\n        });\n      })\n      .catch(() => {\n        setConnectionStatus(!reAuthValue ? \"On\" : \"Off\");\n\n        addAlert({\n          variant: \"danger\",\n          title: t(\"settings.error_alert_title\"),\n          description: t(\"settings.error_alert_title_description\"),\n        });\n      });\n  };\n\n  const onTurnOff = () => {\n    setIsModalOpen(false);\n    handleReAuthentication(false);\n  };\n\n  return (\n    <PageSection isFilled={true} hasOverflowScroll={true}>\n      <Stack hasGutter>\n        <StackItem>\n          <Card>\n            <CardBody>{t(\"settings.kafka_instance_settings_label\")}</CardBody>\n          </Card>\n        </StackItem>\n        <StackItem>\n          <Card className={\"mas--settings__card\"}>\n            <CardBody>\n              <Flex flexWrap={{ default: \"nowrap\" }}>\n                <FlexItem grow={{ default: \"grow\" }}>\n                  <Flex>\n                    <FlexItem\n                      component={\"span\"}\n                      spacer={{ default: \"spacerSm\" }}\n                    >\n                      <strong>\n                        {t(\"settings.connection_re_authentication_label\")}\n                        {\":\"}\n                      </strong>\n                    </FlexItem>\n                    <FlexItem>\n                      {(() => {\n                        switch (connectionStatus) {\n                          case \"On\":\n                            return t(\n                              \"settings.Connection_re_authentication_states.on\"\n                            );\n                          case \"TurningOff\":\n                            return (\n                              <>\n                                <Spinner\n                                  size=\"md\"\n                                  aria-valuetext={t(\n                                    \"settings.Connection_re_authentication_states.turning_off\"\n                                  )}\n                                  aria-label={t(\n                                    \"settings.connection_re_authentication_label\"\n                                  )}\n                                />{\" \"}\n                                {t(\n                                  \"settings.Connection_re_authentication_states.turning_off\"\n                                )}\n                              </>\n                            );\n                          case \"Off\":\n                            return t(\n                              \"settings.Connection_re_authentication_states.off\"\n                            );\n                          case \"TurningOn\":\n                            return (\n                              <>\n                                <Spinner\n                                  size=\"md\"\n                                  aria-valuetext={\n                                    \"settings.Connection_re_authentication_states.turning_on\"\n                                  }\n                                  aria-label={t(\n                                    \"settings.connection_re_authentication_label\"\n                                  )}\n                                />{\" \"}\n                                {t(\n                                  \"settings.Connection_re_authentication_states.turning_on\"\n                                )}\n                              </>\n                            );\n                          default:\n                            return null;\n                        }\n                      })()}\n                    </FlexItem>\n                  </Flex>\n                </FlexItem>\n                <FlexItem>\n                  <Switch\n                    id=\"Connection-re-authentication-switch\"\n                    aria-label={t(\n                      \"settings.connection_re_authentication_label\"\n                    )}\n                    isChecked={\n                      connectionStatus === \"On\" ||\n                      connectionStatus === \"TurningOff\"\n                    }\n                    isDisabled={\n                      connectionStatus === \"TurningOff\" ||\n                      connectionStatus === \"TurningOn\"\n                    }\n                    onChange={onChangeSwitch}\n                  />\n                </FlexItem>\n                <Modal\n                  variant={ModalVariant.small}\n                  isOpen={isModalOpen}\n                  title={t(\"settings.warning_title\")}\n                  titleIconVariant={\"warning\"}\n                  actions={[\n                    <Button\n                      key={\"confirm\"}\n                      variant=\"primary\"\n                      onClick={onTurnOff}\n                    >\n                      {t(\"settings.turn_off_button_label\")}\n                    </Button>,\n                    <Button key={\"cancel\"} variant=\"link\" onClick={onClose}>\n                      {t(\"common:cancel\")}\n                    </Button>,\n                  ]}\n                  onClose={onClose}\n                >\n                  {t(\"settings.warning_description\")}\n                </Modal>\n              </Flex>\n            </CardBody>\n          </Card>\n        </StackItem>\n      </Stack>\n    </PageSection>\n  );\n};\n","export type SelectOptions = {\n  key: string;\n  value: string;\n  isPlaceholder?: boolean;\n  isDisabled?: boolean;\n};\n\nexport const retentionTimeSelectOptions: SelectOptions[] = [\n  { key: \"days\", value: \"days\", isPlaceholder: true },\n  { key: \"hours\", value: \"hours\" },\n  { key: \"minutes\", value: \"minutes\" },\n  { key: \"seconds\", value: \"seconds\" },\n  { key: \"milliseconds\", value: \"milliseconds\" },\n];\n\nexport const retentionSizeSelectOptions: SelectOptions[] = [\n  { key: \"bytes\", value: \"bytes\", isPlaceholder: true },\n  { key: \"kibibytes\", value: \"kibibytes\" },\n  { key: \"mebibytes\", value: \"mebibytes\" },\n  { key: \"gibibytes\", value: \"gibibytes\" },\n  { key: \"tebibytes\", value: \"tebibytes\" },\n];\n\nexport type IDropdownOption = {\n  value?: string;\n  label?: string;\n  key?: string;\n  isDisabled?: boolean;\n};\n","import { FormGroup, Popover, TextInput } from \"@patternfly/react-core\";\nimport { HelpIcon } from \"@patternfly/react-icons\";\nimport type { FunctionComponent } from \"react\";\n\nexport interface TextWithLabelPopoverProps {\n  fieldId: string;\n  fieldLabel: string;\n  fieldValue?: string;\n  popoverHeader: string;\n  popoverBody: string;\n  btnAriaLabel: string;\n  showUnlimited?: boolean;\n}\n\nexport const TextWithLabelPopover: FunctionComponent<\n  TextWithLabelPopoverProps\n> = ({\n  fieldId,\n  fieldLabel,\n  btnAriaLabel,\n  fieldValue,\n  popoverBody,\n  popoverHeader,\n  showUnlimited,\n}) => {\n  let displayText = \"-\";\n\n  if (\n    showUnlimited === true &&\n    fieldValue !== undefined &&\n    parseInt(fieldValue) < 0\n  ) {\n    displayText = \"Unlimited\"; // TODO i18n\n  } else if (fieldValue) {\n    displayText = fieldValue;\n  }\n\n  return (\n    <FormGroup\n      fieldId={fieldId}\n      label={fieldLabel}\n      className=\"kafka-ui-form-group--readonly\"\n      labelIcon={\n        <Popover\n          headerContent={<div>{popoverHeader}</div>}\n          bodyContent={<div>{popoverBody}</div>}\n        >\n          <button\n            aria-label={btnAriaLabel}\n            onClick={(event) => event.preventDefault()}\n            className=\"pf-c-form__group-label-help\"\n          >\n            <HelpIcon noVerticalAlign />\n          </button>\n        </Popover>\n      }\n    >\n      <TextInput\n        readOnlyVariant={\"plain\"}\n        type=\"text\"\n        id={fieldId}\n        name={fieldId}\n        value={displayText}\n      />\n    </FormGroup>\n  );\n};\n","import {\n  FormSection,\n  Text,\n  TextContent,\n  TextVariants,\n} from \"@patternfly/react-core\";\nimport { useTranslation } from \"@rhoas/app-services-ui-components\";\nimport convert from \"convert\";\nimport type React from \"react\";\nimport { TextWithLabelPopover } from \"./TextWithLabelPopover\";\n\ntype CleanupProps = {\n  defaultLogSegmentSize: bigint;\n  defaultSegmentTime: bigint;\n  defaultSegmentJitterTime: bigint;\n  defaultFileDeleteDelay: bigint;\n};\n\nconst Cleanup: React.FC<CleanupProps> = ({\n  defaultFileDeleteDelay,\n  defaultLogSegmentSize,\n  defaultSegmentJitterTime,\n  defaultSegmentTime,\n}) => {\n  const { t } = useTranslation([\"create-topic\", \"common\"]);\n\n  return (\n    <FormSection title={t(\"cleanup\")} id=\"cleanup\" titleElement={\"h2\"}>\n      <TextContent>\n        <Text component={TextVariants.p} className=\"section-info\">\n          {t(\"cleanup_section_info\")}\n        </Text>\n      </TextContent>\n\n      <TextWithLabelPopover\n        fieldId=\"log-segment-size\"\n        btnAriaLabel={t(\"log_segment_size\")}\n        fieldLabel={t(\"log_segment_size\")}\n        fieldValue={t(\"bytes_to_gibibyte\", {\n          bytes: defaultLogSegmentSize,\n          gibibyte: convert(Number(defaultLogSegmentSize), \"bytes\").to(\n            \"gibibytes\"\n          ),\n        })}\n        popoverBody={t(\"log_segment_size\")}\n        popoverHeader={t(\"log_segment_size_description\")}\n      />\n\n      <TextWithLabelPopover\n        fieldId=\"segement-time\"\n        btnAriaLabel={t(\"segement_time\")}\n        fieldLabel={t(\"segement_time\")}\n        fieldValue={t(\"milliseconds_to_days\", {\n          milliseconds: defaultSegmentTime,\n          days: convert(Number(defaultSegmentTime), \"milliseconds\").to(\"days\"),\n        })}\n        popoverBody={t(\"segement_time_description\")}\n        popoverHeader={t(\"segement_time\")}\n      />\n\n      <TextWithLabelPopover\n        fieldId=\"segment-jitter-time\"\n        btnAriaLabel={t(\"segment_jitter_time\")}\n        fieldLabel={t(\"segment_jitter_time\")}\n        fieldValue={t(\"milliseconds_time\", { value: defaultSegmentJitterTime })}\n        popoverBody={t(\"segment_jitter_time_description\")}\n        popoverHeader={t(\"segment_jitter_time\")}\n      />\n\n      <TextWithLabelPopover\n        fieldId=\"file-delete-delay\"\n        btnAriaLabel={t(\"file_delete_delay\")}\n        fieldLabel={t(\"file_delete_delay\")}\n        fieldValue={t(\"milliseconds_to_minute\", {\n          milliseconds: defaultFileDeleteDelay,\n          minute: convert(Number(defaultFileDeleteDelay), \"milliseconds\").to(\n            \"minutes\"\n          ),\n        })}\n        popoverBody={t(\"file_delete_delay_description\")}\n        popoverHeader={t(\"file_delete_delay\")}\n      />\n\n      <TextWithLabelPopover\n        fieldId=\"preallocate-log-segment-files\"\n        btnAriaLabel={t(\"preallocate_log_segment_files\")}\n        fieldLabel={t(\"preallocate_log_segment_files\")}\n        fieldValue={t(\"common:disabled\")}\n        popoverBody={t(\"preallocate_log_segment_files_description\")}\n        popoverHeader={t(\"preallocate_log_segment_files\")}\n      />\n    </FormSection>\n  );\n};\n\nexport { Cleanup };\n","import type { NumberInputProps, SelectProps } from \"@patternfly/react-core\";\nimport {\n  Flex,\n  FlexItem,\n  NumberInput,\n  Select,\n  SelectOption,\n  SelectVariant,\n} from \"@patternfly/react-core\";\nimport type React from \"react\";\nimport type { Topic } from \"ui-models/src/models/topic\";\nimport { RetentionTimeUnits } from \"../../KafkaTopics/types\";\nimport type { SelectOptions } from \"./types\";\n\nexport type CustomRetentionMessageProps = NumberInputProps &\n  SelectProps & {\n    id?: string;\n    selectOptions: SelectOptions[];\n    topicData: Topic;\n    setTopicData: (data: Topic) => void;\n  };\n\nconst CustomRetentionMessage: React.FC<CustomRetentionMessageProps> = ({\n  onToggle,\n  isOpen,\n  selectOptions,\n  topicData,\n  setTopicData,\n}) => {\n  const onSelect: SelectProps[\"onSelect\"] = (event, value) => {\n    // setTopicData({\n    //   ...topicData,\n    //   customRetentionTimeUnit: value as RetentionTimeUnits,\n    // });\n\n    //}\n\n    onToggle(false, event);\n  };\n\n  const handleTouchSpin = (operator: string) => {\n    if (operator === \"+\") {\n      // setTopicData({\n      //   ...topicData,\n      //   retentionTime: topicData.retentionTime + 1,\n      // });\n    } else if (operator === \"-\") {\n      // setTopicData({\n      //   ...topicData,\n      //   retentionTime: topicData.retentionTime - 1,\n      // });\n    }\n  };\n\n  const onChangeTouchSpin = (event: React.FormEvent<HTMLInputElement>) => {\n    // setTopicData({\n    //   ...topicData,\n    //   retentionTime: Number(event.currentTarget.value),\n    // });\n  };\n\n  return (\n    <div className=\"kafka-ui--radio__parameters\">\n      <Flex>\n        <FlexItem>\n          <NumberInput\n            onMinus={() => handleTouchSpin(\"-\")}\n            onPlus={() => handleTouchSpin(\"+\")}\n            value={\n              Number(\n                topicData[\"retention.ms\"].value\n              ) /* TODO precision loss from BigInt to Number, handle this as a string */\n            }\n            onChange={(event) => onChangeTouchSpin(event)}\n            min={0}\n          />\n        </FlexItem>\n        <FlexItem>\n          <Select\n            variant={SelectVariant.single}\n            aria-label=\"Select Input\"\n            onToggle={onToggle}\n            onSelect={onSelect}\n            selections={RetentionTimeUnits.MILLISECOND /* TODO */}\n            isOpen={isOpen}\n          >\n            {selectOptions?.map((s) => (\n              <SelectOption\n                key={s.key}\n                value={s.value}\n                isPlaceholder={s.isPlaceholder}\n              />\n            ))}\n          </Select>\n        </FlexItem>\n      </Flex>\n    </div>\n  );\n};\n\nexport { CustomRetentionMessage };\n","import type { NumberInputProps, SelectProps } from \"@patternfly/react-core\";\nimport {\n  Flex,\n  FlexItem,\n  NumberInput,\n  Select,\n  SelectOption,\n  SelectVariant,\n} from \"@patternfly/react-core\";\nimport type React from \"react\";\nimport type { Topic } from \"ui-models/src/models/topic\";\nimport { RetentionSizeUnits } from \"../../KafkaTopics/types\";\nimport type { SelectOptions } from \"./types\";\n\nexport type CustomRetentionSizeProps = NumberInputProps &\n  SelectProps & {\n    id?: string;\n    selectOptions: SelectOptions[];\n    topicData: Topic;\n    setTopicData: (data: Topic) => void;\n  };\n\nconst CustomRetentionSize: React.FC<CustomRetentionSizeProps> = ({\n  onToggle,\n  isOpen,\n  selectOptions,\n  topicData,\n  setTopicData,\n}) => {\n  const onSelect: SelectProps[\"onSelect\"] = (event, value) => {\n    // setTopicData({\n    //   ...topicData,\n    //   customRetentionSizeUnit: value as RetentionSizeUnits,\n    // });\n\n    //}\n\n    onToggle(false, event);\n  };\n\n  const handleTouchSpin = (operator: string) => {\n    if (operator === \"+\") {\n      // setTopicData({\n      //   ...topicData,\n      //   retentionBytes: topicData.retentionBytes + 1,\n      // });\n    } else if (operator === \"-\") {\n      // setTopicData({\n      //   ...topicData,\n      //   retentionBytes: topicData.retentionBytes - 1,\n      // });\n    }\n  };\n\n  const onChangeTouchSpin = (event: React.FormEvent<HTMLInputElement>) => {\n    // setTopicData({\n    //   ...topicData,\n    //   retentionBytes: Number(event.currentTarget.value),\n    // });\n  };\n\n  return (\n    <div className=\"kafka-ui--radio__parameters\">\n      <Flex>\n        <FlexItem>\n          <NumberInput\n            onMinus={() => handleTouchSpin(\"-\")}\n            onPlus={() => handleTouchSpin(\"+\")}\n            value={\n              Number(\n                topicData[\"retention.bytes\"].value\n              ) /* TODO precision loss from BigInt to Number */\n            }\n            onChange={(event) => onChangeTouchSpin(event)}\n            min={0}\n          />\n        </FlexItem>\n        <FlexItem>\n          <Select\n            variant={SelectVariant.single}\n            aria-label=\"Select Input\"\n            onToggle={onToggle}\n            onSelect={onSelect}\n            selections={RetentionSizeUnits.BYTE /* TODO */}\n            isOpen={isOpen}\n          >\n            {selectOptions?.map((s) => (\n              <SelectOption\n                key={s.key}\n                value={s.value}\n                isPlaceholder={s.isPlaceholder}\n              />\n            ))}\n          </Select>\n        </FlexItem>\n      </Flex>\n    </div>\n  );\n};\n\nexport { CustomRetentionSize };\n","import type { NumberInputProps } from \"@patternfly/react-core\";\nimport {\n  FormSection,\n  NumberInput,\n  Radio,\n  Stack,\n  Text,\n  TextContent,\n  TextInput,\n  TextVariants,\n  ValidatedOptions,\n} from \"@patternfly/react-core\";\nimport {\n  FormGroupWithPopover,\n  useTranslation,\n} from \"@rhoas/app-services-ui-components\";\nimport type { FunctionComponent } from \"react\";\nimport { useCallback, useState } from \"react\";\nimport type { Topic } from \"ui-models/src/models/topic\";\nimport {\n  RetentionSizeUnits,\n  RetentionTimeUnits,\n} from \"../../KafkaTopics/types\";\nimport { CustomRetentionMessage } from \"./CustomRetentionMessage\";\nimport { CustomRetentionSize } from \"./CustomRetentionSize\";\nimport { TextWithLabelPopover } from \"./TextWithLabelPopover\";\nimport {\n  retentionSizeSelectOptions,\n  retentionTimeSelectOptions,\n} from \"./types\";\nimport { useValidateTopic } from \"./useValidateTopic\";\n\nexport type CoreConfigurationProps = {\n  isCreate?: boolean;\n  topicData: Topic;\n  setTopicData: (data: Topic) => void;\n  checkTopicName: (value: string) => Promise<boolean>;\n  //initialPartition: number | undefined;\n  invalidText: string;\n  setInvalidText: (message: string) => void;\n  setTopicValidated: (error: ValidatedOptions) => void;\n  topicValidated: ValidatedOptions;\n  setWarning: (isWarning: boolean) => void;\n  warning: boolean;\n  availablePartitionLimit: number;\n};\n\nconst CoreConfiguration: FunctionComponent<CoreConfigurationProps> = ({\n  isCreate,\n  topicData,\n  setTopicData,\n  invalidText,\n  setInvalidText,\n  setTopicValidated,\n  topicValidated,\n  availablePartitionLimit,\n}) => {\n  const { t } = useTranslation([\"create-topic\"]);\n  const { validateName } = useValidateTopic();\n  const [retentionSizeUnit, setRetentionSizeUnit] =\n    useState<RetentionSizeUnits>(RetentionSizeUnits.BYTE);\n  const [retentionTimeUnit, setRetentionTimeUnit] =\n    useState<RetentionTimeUnits>(RetentionTimeUnits.MILLISECOND);\n  const [isRetentionTimeSelectOpen, setIsRetentionTimeSelectOpen] =\n    useState<boolean>();\n  const [isRetentionSizeSelectOpen, setIsRetentionSizeSelectOpen] =\n    useState<boolean>();\n\n  const validationCheck = useCallback(\n    (value: string) => {\n      const errorMessage = validateName(value);\n      if (errorMessage) {\n        setInvalidText(errorMessage);\n        setTopicValidated(ValidatedOptions.error);\n      } else {\n        setTopicValidated(ValidatedOptions.default);\n      }\n    },\n    [setInvalidText, setTopicValidated, validateName]\n  );\n\n  const handleRetentionMessageSize = (value: string) => {\n    switch (value) {\n      case RetentionSizeUnits.CUSTOM:\n        setRetentionSizeUnit(RetentionSizeUnits.CUSTOM);\n        break;\n      case RetentionTimeUnits.UNLIMITED:\n        setRetentionSizeUnit(RetentionSizeUnits.UNLIMITED);\n    }\n  };\n\n  const onRetentionTimeToggle = (isOpen: boolean) => {\n    setIsRetentionTimeSelectOpen(isOpen);\n  };\n\n  const onRetentionSizeToggle = (isOpen: boolean) => {\n    setIsRetentionSizeSelectOpen(isOpen);\n  };\n\n  const handleRetentionMessageTime = (value: string) => {\n    switch (value) {\n      case RetentionTimeUnits.CUSTOM:\n        setRetentionTimeUnit(RetentionTimeUnits.CUSTOM);\n        break;\n      case RetentionTimeUnits.UNLIMITED:\n        setRetentionTimeUnit(RetentionTimeUnits.UNLIMITED);\n    }\n  };\n\n  const handleTextInputChange = (value: string) => {\n    validationCheck(value);\n    setTopicData({ ...topicData, name: value });\n  };\n\n  const onPartitionsChange: NumberInputProps[\"onChange\"] = (event) => {\n    // setTopicData({\n    //   ...topicData,\n    //   partitions.length: Number((event.target as HTMLInputElement).value),\n    // });\n  };\n  const handleOnPlus = () => {\n    // setTopicData({\n    //   ...topicData,\n    //   partitions.length: topicData.partitions.length + 1,\n    // });\n  };\n\n  const handleOnMinus = () => {\n    // setTopicData({\n    //   ...topicData,\n    //   partitions.length: topicData.partitions.length - 1,\n    // });\n  };\n\n  const retentionTimeInput = (\n    <CustomRetentionMessage\n      toggleId=\"core-config-retention-dropdowntoggle\"\n      name=\"retention-ms\"\n      topicData={topicData}\n      setTopicData={setTopicData}\n      onToggle={onRetentionTimeToggle}\n      isOpen={isRetentionTimeSelectOpen}\n      selectOptions={retentionTimeSelectOptions}\n    />\n  );\n\n  const retentionSizeInput = (\n    <CustomRetentionSize\n      toggleId=\"core-config-retention-size-dropdowntoggle\"\n      name=\"retention-bytes\"\n      topicData={topicData}\n      setTopicData={setTopicData}\n      onToggle={onRetentionSizeToggle}\n      isOpen={isRetentionSizeSelectOpen}\n      selectOptions={retentionSizeSelectOptions}\n    />\n  );\n\n  return (\n    <FormSection\n      title={t(\"core_configuration\")}\n      id=\"core-configuration\"\n      titleElement={\"h2\"}\n    >\n      <TextContent>\n        <Text component={TextVariants.p} className=\"section-info\">\n          {t(\"core_config_info\")}\n        </Text>\n      </TextContent>\n      {isCreate ? (\n        <FormGroupWithPopover\n          labelHead={t(\"topic_name\")}\n          fieldId=\"create-topic-name\"\n          fieldLabel={t(\"topic_name\")}\n          labelBody={t(\"topic_name_description\")}\n          buttonAriaLabel=\"More info for topic name field\"\n          helperTextInvalid={invalidText}\n          validated={topicValidated}\n          isRequired={true}\n          helperText={t(\"topic_name_helper_text\")}\n        >\n          <TextInput\n            isRequired\n            type=\"text\"\n            id=\"create-topic-name\"\n            name=\"name\"\n            value={topicData.name}\n            onChange={handleTextInputChange}\n            label={t(\"topic_name\")}\n            placeholder={t(\"enter_name\")}\n            validated={topicValidated}\n          />\n        </FormGroupWithPopover>\n      ) : (\n        <TextWithLabelPopover\n          fieldId=\"topic-name\"\n          btnAriaLabel=\"topic detail name\"\n          fieldLabel=\"Name\"\n          fieldValue={topicData.name}\n          popoverBody={t(\"topic_name_description\")}\n          popoverHeader={t(\"topic_name\")}\n        />\n      )}\n\n      <FormGroupWithPopover\n        fieldId=\"create-topic-partitions\"\n        fieldLabel=\"Partitions\"\n        labelHead={t(\"partitions\")}\n        labelBody={t(\"partitions_description\")}\n        buttonAriaLabel=\"More info for partitions field\"\n        helperText={\n          topicData.partitions.length >= availablePartitionLimit\n            ? t(\"partitions_warning\")\n            : t(\"partition_helper_text\")\n        }\n        validated={\n          topicData.partitions.length >= availablePartitionLimit\n            ? \"warning\"\n            : \"default\"\n        }\n      >\n        <NumberInput\n          id=\"create-topic-partitions\"\n          inputName=\"num-partitions\"\n          onChange={onPartitionsChange}\n          data-testid={t(\"partitions\")}\n          onPlus={handleOnPlus}\n          onMinus={handleOnMinus}\n          value={topicData.partitions.length}\n          plusBtnProps={{ name: \"num-partitions\" }}\n          minusBtnProps={{ name: \"num-partitions\" }}\n          min={0}\n        />\n      </FormGroupWithPopover>\n\n      <TextWithLabelPopover\n        fieldId=\"replicas\"\n        btnAriaLabel={t(\"replicas\")}\n        fieldLabel={t(\"replicas\")}\n        fieldValue={\"3\" /* TODO */}\n        popoverBody={t(\"replicas_description\")}\n        popoverHeader={t(\"replicas\")}\n      />\n      <TextWithLabelPopover\n        fieldId=\"min-insync-replicas\"\n        btnAriaLabel=\"topic detail min-in-sync replica\"\n        fieldLabel=\"Minimum in-sync replicas\"\n        fieldValue={topicData[\"min.insync.replicas\"].toString()}\n        popoverBody={t(\"min_insync_replicas_description\")}\n        popoverHeader={t(\"min_insync_replicas\")}\n      />\n      <FormGroupWithPopover\n        fieldId=\"retention\"\n        fieldLabel=\"Retention time\"\n        labelHead={t(\"retention_time\")}\n        labelBody={t(\"retention_time_description\")}\n        buttonAriaLabel=\"More info for retention time field\"\n      >\n        <Stack hasGutter>\n          <Radio\n            isChecked={\n              retentionTimeUnit === RetentionTimeUnits.DAY ||\n              retentionTimeUnit === RetentionTimeUnits.WEEK ||\n              retentionTimeUnit === RetentionTimeUnits.CUSTOM\n            }\n            name=\"custom-retention-time\"\n            onChange={() =>\n              handleRetentionMessageTime(RetentionTimeUnits.CUSTOM)\n            }\n            label={retentionTimeInput}\n            className=\"kafka-ui--radio-label__number-input\"\n            aria-label=\"custom duration\"\n            id=\"custom-retention-time\"\n            value={RetentionTimeUnits.CUSTOM}\n          />\n          <Radio\n            isChecked={retentionTimeUnit === RetentionTimeUnits.UNLIMITED}\n            name=\"unlimited-retention-time\"\n            onChange={() =>\n              handleRetentionMessageTime(RetentionTimeUnits.UNLIMITED)\n            }\n            label=\"Unlimited time\"\n            aria-label=\"Unlimited\"\n            id=\"unlimited-retention-time\"\n            value={RetentionTimeUnits.UNLIMITED}\n          />\n        </Stack>\n      </FormGroupWithPopover>\n      <FormGroupWithPopover\n        fieldId=\"retention-size\"\n        fieldLabel=\"Retention size\"\n        labelHead={t(\"retention_size\")}\n        labelBody={t(\"retention_size_description\")}\n        buttonAriaLabel=\"More info for retention size field\"\n      >\n        <Stack hasGutter>\n          <Radio\n            isChecked={retentionSizeUnit === RetentionSizeUnits.CUSTOM}\n            name=\"custom-retention-size\"\n            onChange={() =>\n              handleRetentionMessageSize(RetentionSizeUnits.CUSTOM)\n            }\n            label={retentionSizeInput}\n            className=\"kafka-ui--radio-label__number-input\"\n            aria-label=\"custom size\"\n            id=\"custom-retention-size\"\n            value={RetentionSizeUnits.CUSTOM}\n          />\n          <Radio\n            isChecked={retentionSizeUnit === RetentionSizeUnits.UNLIMITED}\n            name=\"unlimited-retention-size\"\n            onChange={() =>\n              handleRetentionMessageSize(RetentionSizeUnits.UNLIMITED)\n            }\n            label=\"Unlimited size\"\n            aria-label=\"Unlimited\"\n            id=\"unlimited-retention-size\"\n            value={RetentionSizeUnits.UNLIMITED}\n          />\n        </Stack>\n      </FormGroupWithPopover>\n    </FormSection>\n  );\n};\n\nexport { CoreConfiguration };\n","import { useTranslation } from \"@rhoas/app-services-ui-components\";\nimport { useCallback } from \"react\";\n\nexport const useValidateTopic = (): {\n  validateName: (name: string) => string | undefined;\n} => {\n  const { t } = useTranslation([\"create-topic\"]);\n\n  return {\n    validateName: useCallback(\n      (name) => {\n        const legalNameChars = new RegExp(\"^[a-zA-Z0-9._-]+$\");\n        if (name.length && !legalNameChars.test(name)) {\n          return t(\"topic_name_helper_text\");\n        } else if (name.length > 249) {\n          return t(\"cannot_exceed_characters\");\n        } else if (name === \".\" || name === \"..\") {\n          return t(\"invalid_name_with_dot\");\n        }\n        return undefined;\n      },\n      [t]\n    ),\n  };\n};\n","import {\n  FormSection,\n  Text,\n  TextContent,\n  TextVariants,\n} from \"@patternfly/react-core\";\nimport { useTranslation } from \"@rhoas/app-services-ui-components\";\nimport type React from \"react\";\nimport { TextWithLabelPopover } from \"./TextWithLabelPopover\";\n\ntype FlushProps = {\n  defaultFlushIntervalMessages: bigint;\n  defaultFlushIntervalTime: bigint;\n};\n\nconst Flush: React.FC<FlushProps> = ({\n  defaultFlushIntervalMessages,\n  defaultFlushIntervalTime,\n}) => {\n  const { t } = useTranslation([\"create-topic\"]);\n\n  return (\n    <FormSection title={t(\"flush\")} id=\"flush\" titleElement={\"h2\"}>\n      <TextContent>\n        <Text component={TextVariants.p} className=\"section-info\">\n          {t(\"flush_section_info\")}\n        </Text>\n      </TextContent>\n\n      <TextWithLabelPopover\n        fieldId=\"flush-interval-messages\"\n        btnAriaLabel={t(\"flush_interval_messages\")}\n        fieldLabel={t(\"flush_interval_messages\")}\n        fieldValue={t(\"messages_time\", {\n          value: defaultFlushIntervalMessages,\n        })}\n        popoverBody={t(\"flush_interval_messages_description\")}\n        popoverHeader={t(\"flush_interval_messages\")}\n      />\n\n      <TextWithLabelPopover\n        fieldId=\"flush-interval-time\"\n        btnAriaLabel={t(\"flush_interval_time\")}\n        fieldLabel={t(\"flush_interval_time\")}\n        fieldValue={t(\"milliseconds_time\", { value: defaultFlushIntervalTime })}\n        popoverBody={t(\"flush_interval_time_description\")}\n        popoverHeader={t(\"flush_interval_time\")}\n      />\n    </FormSection>\n  );\n};\n\nexport { Flush };\n","import {\n  FormSection,\n  Text,\n  TextContent,\n  TextVariants,\n} from \"@patternfly/react-core\";\nimport {\n  DropdownWithToggle,\n  FormGroupWithPopover,\n  useTranslation,\n} from \"@rhoas/app-services-ui-components\";\nimport convert from \"convert\";\nimport type React from \"react\";\nimport type { Topic } from \"ui-models/src/models/topic\";\nimport { TextWithLabelPopover } from \"./TextWithLabelPopover\";\nimport type { IDropdownOption } from \"./types\";\n\nexport type LogProps = {\n  topicData: Topic;\n  setTopicData: (data: Topic) => void;\n  defaultDeleteRetentionTime: bigint;\n  defaultMinCleanbleRatio: number;\n  defaultMinimumCompactionLagTime: bigint;\n};\n\nconst Log: React.FC<LogProps> = ({\n  topicData,\n  setTopicData,\n  defaultDeleteRetentionTime,\n  defaultMinCleanbleRatio,\n  defaultMinimumCompactionLagTime,\n}) => {\n  const { t } = useTranslation([\"create-topic\", \"common\"]);\n\n  const cleanupPolicyOptions: IDropdownOption[] = [\n    {\n      key: \"compact\",\n      value: \"compact\",\n      label: t(\"compact\"),\n      isDisabled: false,\n    },\n    {\n      key: \"delete\",\n      value: \"delete\",\n      label: t(\"common:delete\"),\n      isDisabled: false,\n    },\n    {\n      key: \"compact-delete\",\n      value: \"compact,delete\",\n      label: `${t(\"compact\")},${t(\"common:delete\")}`,\n      isDisabled: false,\n    },\n  ];\n\n  const onSelectOption = (value: string) => {\n    // setTopicData({ ...topicData, cleanupPolicy: value });\n  };\n\n  return (\n    <FormSection title={t(\"log\")} id=\"log\" titleElement={\"h2\"}>\n      <TextContent>\n        <Text component={TextVariants.p}>{t(\"log_section_info\")}</Text>\n        <Text component={TextVariants.small}>{t(\"log_section_info_note\")}</Text>\n      </TextContent>\n\n      <FormGroupWithPopover\n        fieldId=\"cleanup-policy\"\n        fieldLabel={t(\"cleanup_policy\")}\n        labelHead={t(\"cleanup_policy\")}\n        labelBody={t(\"cleanup_policy_description\")}\n        buttonAriaLabel={t(\"cleanup_policy\")}\n      >\n        <DropdownWithToggle\n          id=\"log-section-policy-type-dropdown\"\n          toggleId=\"log-section-policy-type-dropdowntoggle\"\n          ariaLabel={t(\"select_policy\")}\n          onSelectOption={onSelectOption}\n          items={cleanupPolicyOptions}\n          name=\"cleanup-policy\"\n          value={topicData[\"cleanup.policy\"]}\n          isLabelAndValueNotSame={true}\n        />\n      </FormGroupWithPopover>\n\n      <TextWithLabelPopover\n        fieldId=\"delete-retention-time\"\n        btnAriaLabel={t(\"delete_retention_time\")}\n        fieldLabel={t(\"delete_retention_time\")}\n        fieldValue={t(\"milliseconds_time_to_day\", {\n          value: defaultDeleteRetentionTime,\n          days: convert(Number(defaultDeleteRetentionTime), \"milliseconds\").to(\n            \"days\"\n          ),\n        })}\n        popoverBody={t(\"delete_retention_time_description\")}\n        popoverHeader={t(\"delete_retention_time\")}\n      />\n\n      <TextWithLabelPopover\n        fieldId=\"min-cleanable-ratio\"\n        btnAriaLabel={t(\"min_cleanable_ratio\")}\n        fieldLabel={t(\"min_cleanable_ratio\")}\n        fieldValue={String(defaultMinCleanbleRatio)}\n        popoverBody={t(\"min_cleanable_ratio_description\")}\n        popoverHeader={t(\"min_cleanable_ratio\")}\n      />\n\n      <TextWithLabelPopover\n        fieldId=\"min-compaction-lag-time-description\"\n        btnAriaLabel={t(\"min_compaction_lag_time\")}\n        fieldLabel={t(\"min_compaction_lag_time\")}\n        fieldValue={t(\"milliseconds_time\", {\n          value: defaultMinimumCompactionLagTime,\n        })}\n        popoverBody={t(\"min_compaction_lag_time_description\")}\n        popoverHeader={t(\"min_compaction_lag_time\")}\n      />\n    </FormSection>\n  );\n};\n\nexport { Log };\n","import {\n  FormSection,\n  Text,\n  TextContent,\n  TextVariants,\n} from \"@patternfly/react-core\";\nimport { useTranslation } from \"@rhoas/app-services-ui-components\";\nimport type React from \"react\";\nimport { TextWithLabelPopover } from \"./TextWithLabelPopover\";\n\ntype MessageProps = {\n  defaultMaximumMessageBytes: bigint;\n  defaultMessageTimestampType: string;\n  defaultMaxMessageTimestampDiff: bigint;\n};\n\nconst Message: React.FC<MessageProps> = ({\n  defaultMaximumMessageBytes,\n  defaultMessageTimestampType,\n  defaultMaxMessageTimestampDiff,\n}) => {\n  const { t } = useTranslation([\"create-topic\"]);\n\n  return (\n    <FormSection title={t(\"messages\")} id=\"messages\" titleElement={\"h2\"}>\n      <TextContent>\n        <Text component={TextVariants.p} className=\"section-info\">\n          {t(\"message_section_info\")}\n        </Text>\n      </TextContent>\n\n      <TextWithLabelPopover\n        fieldId=\"max-message-size\"\n        btnAriaLabel={t(\"max_message_size\")}\n        fieldLabel={t(\"max_message_size\")}\n        fieldValue={t(\"bytes_size\", { value: defaultMaximumMessageBytes })}\n        popoverBody={t(\"max_message_size_description\")}\n        popoverHeader={t(\"max_message_size\")}\n      />\n\n      <TextWithLabelPopover\n        fieldId=\"message-timestamp-type\"\n        btnAriaLabel={t(\"message_timestamp_type\")}\n        fieldLabel={t(\"message_timestamp_type\")}\n        fieldValue={String(defaultMessageTimestampType)}\n        popoverBody={t(\"message_timestamp_type_description\")}\n        popoverHeader={t(\"message_timestamp_type\")}\n      />\n      <TextWithLabelPopover\n        fieldId=\"max-message-timestamp-diff\"\n        btnAriaLabel={t(\"max_message_timestamp_diff\")}\n        fieldLabel={t(\"max_message_timestamp_diff\")}\n        fieldValue={t(\"milliseconds_time\", {\n          value: defaultMaxMessageTimestampDiff,\n        })}\n        popoverBody={t(\"max_message_timestamp_diff_description\")}\n        popoverHeader={t(\"max_message_timestamp_diff\")}\n      />\n\n      <TextWithLabelPopover\n        fieldId=\"compression-type\"\n        btnAriaLabel={t(\"compression_type\")}\n        fieldLabel={t(\"compression_type\")}\n        fieldValue={\"Producer\"}\n        popoverBody={t(\"compression_type_description\")}\n        popoverHeader={t(\"compression_type\")}\n      />\n\n      <TextWithLabelPopover\n        fieldId=\"message-format\"\n        btnAriaLabel={t(\"message_format\")}\n        fieldLabel={t(\"message_format\")}\n        fieldValue={\"2.7-IV2\"}\n        popoverBody={t(\"message_format_description\")}\n        popoverHeader={t(\"message_format\")}\n      />\n    </FormSection>\n  );\n};\n\nexport { Message };\n","import {\n  FormSection,\n  Text,\n  TextContent,\n  TextVariants,\n} from \"@patternfly/react-core\";\nimport { useTranslation } from \"@rhoas/app-services-ui-components\";\nimport type React from \"react\";\nimport { TextWithLabelPopover } from \"./TextWithLabelPopover\";\n\nconst Replication: React.FC = () => {\n  const { t } = useTranslation([\"create-topic\", \"common\"]);\n\n  return (\n    <FormSection title={t(\"replication\")} id=\"replication\" titleElement={\"h2\"}>\n      <TextContent>\n        <Text component={TextVariants.p}>\n          {t(\"replication_section_info\")}\n          <Text component={TextVariants.small}>\n            {t(\"replication_section_info_note\")}\n          </Text>\n        </Text>\n      </TextContent>\n\n      <TextWithLabelPopover\n        fieldId=\"unclean-leader-election\"\n        btnAriaLabel={t(\"unclean_leader_election\")}\n        fieldLabel={t(\"unclean_leader_election\")}\n        fieldValue={t(\"common:disabled\")}\n        popoverBody={t(\"unclean_leader_election_description\")}\n        popoverHeader={t(\"unclean_leader_election\")}\n      />\n    </FormSection>\n  );\n};\n\nexport { Replication };\n","import {\n  FormSection,\n  Text,\n  TextContent,\n  TextVariants,\n} from \"@patternfly/react-core\";\nimport { useTranslation } from \"@rhoas/app-services-ui-components\";\nimport convert from \"convert\";\nimport type React from \"react\";\nimport { TextWithLabelPopover } from \"./TextWithLabelPopover\";\n\ntype TopicAdavanceIndexProps = {\n  defaultIndexIntervalSize: bigint;\n  defaultSegmentIndexSize: bigint;\n};\n\nconst TopicAdvanceIndex: React.FC<TopicAdavanceIndexProps> = ({\n  defaultIndexIntervalSize,\n  defaultSegmentIndexSize,\n}) => {\n  const { t } = useTranslation([\"create-topic\"]);\n\n  return (\n    <FormSection title={t(\"index\")} id=\"index\" titleElement={\"h2\"}>\n      <TextContent>\n        <Text component={TextVariants.p} className=\"section-info\">\n          {t(\"index_section_info\")}\n        </Text>\n      </TextContent>\n\n      <TextWithLabelPopover\n        fieldId=\"index-interval-size\"\n        btnAriaLabel={t(\"index_interval_size\")}\n        fieldLabel={t(\"index_interval_size\")}\n        fieldValue={t(\"bytes_to_kibibytes\", {\n          bytes: defaultIndexIntervalSize,\n          kibibytes: convert(Number(defaultIndexIntervalSize), \"bytes\").to(\n            \"kibibytes\"\n          ),\n        })}\n        popoverBody={t(\"index_interval_size_description\")}\n        popoverHeader={t(\"index_interval_size\")}\n      />\n\n      <TextWithLabelPopover\n        fieldId=\"segment-index-size\"\n        btnAriaLabel={t(\"segment_index_size\")}\n        fieldLabel={t(\"segment_index_size\")}\n        fieldValue={t(\"bytes_to_mebibytes\", {\n          bytes: defaultSegmentIndexSize,\n          mebibytes: convert(Number(defaultIndexIntervalSize), \"bytes\").to(\n            \"mebibytes\"\n          ),\n        })}\n        popoverBody={t(\"segment_index_size_description\")}\n        popoverHeader={t(\"segment_index_size\")}\n      />\n    </FormSection>\n  );\n};\n\nexport { TopicAdvanceIndex };\n","import { JumpLinks, JumpLinksItem, SidebarPanel } from \"@patternfly/react-core\";\nimport { useTranslation } from \"@rhoas/app-services-ui-components\";\nimport type React from \"react\";\n\nexport type TopicAdvanceJumpLinksProps = {\n  canHaveDelete?: boolean;\n};\nconst TopicAdvanceJumpLinks: React.FC<TopicAdvanceJumpLinksProps> = ({\n  canHaveDelete,\n}) => {\n  const { t } = useTranslation([\"create-topic\"]);\n\n  return (\n    <SidebarPanel variant=\"sticky\">\n      <JumpLinks\n        isVertical\n        label={t(\"jump_to_section\")}\n        scrollableSelector=\".topic-properties\"\n        style={{ position: \"sticky\" }}\n        // offset={-164} // for header\n      >\n        <JumpLinksItem key={0} href=\"#core-configuration\">\n          {t(\"core_configuration\")}\n        </JumpLinksItem>\n        <JumpLinksItem key={1} href=\"#messages\">\n          {t(\"messages\")}\n        </JumpLinksItem>\n        <JumpLinksItem key={2} href=\"#log\">\n          {t(\"log\")}\n        </JumpLinksItem>\n        <JumpLinksItem key={3} href=\"#replication\">\n          {t(\"replication\")}\n        </JumpLinksItem>\n        <JumpLinksItem key={4} href=\"#cleanup\">\n          {t(\"cleanup\")}\n        </JumpLinksItem>\n        <JumpLinksItem key={5} href=\"#index\">\n          {t(\"index\")}\n        </JumpLinksItem>\n        <JumpLinksItem key={6} href=\"#flush\">\n          {t(\"flush\")}\n        </JumpLinksItem>\n        {canHaveDelete ? (\n          <JumpLinksItem key={7} href=\"#delete\">\n            {t(\"delete\")}\n          </JumpLinksItem>\n        ) : (\n          <></>\n        )}\n      </JumpLinks>\n    </SidebarPanel>\n  );\n};\n\nexport { TopicAdvanceJumpLinks };\n","import {\n  ActionGroup,\n  Button,\n  Divider,\n  Form,\n  PageGroup,\n  PageSection,\n  Sidebar,\n  SidebarContent,\n  ValidatedOptions,\n} from \"@patternfly/react-core\";\nimport { useTranslation } from \"@rhoas/app-services-ui-components\";\nimport type React from \"react\";\nimport { useState } from \"react\";\nimport type { Topic } from \"ui-models/src/models/topic\";\nimport { Cleanup } from \"./Cleanup\";\nimport { CoreConfiguration } from \"./CoreConfiguration\";\nimport { Flush } from \"./Flush\";\nimport { Log } from \"./Log\";\nimport { Message } from \"./Message\";\nimport { Replication } from \"./Replication\";\nimport { TopicAdvanceIndex } from \"./TopicAdvanceIndex\";\nimport { TopicAdvanceJumpLinks } from \"./TopicAdvanceJumpLinks\";\n\nexport type TopicAdvancePageProps = {\n  isCreate: boolean;\n  onConfirm: () => void;\n  handleCancel?: () => void;\n  topicData: Topic;\n  setTopicData: (val: Topic) => void;\n  checkTopicName: (value: string) => Promise<boolean>;\n  availablePartitionLimit: number;\n};\n\nexport const TopicAdvancePage: React.FunctionComponent<\n  TopicAdvancePageProps\n> = ({\n  isCreate,\n  onConfirm,\n  handleCancel,\n  topicData,\n  setTopicData,\n  checkTopicName,\n  availablePartitionLimit,\n}) => {\n  const { t } = useTranslation([\"create-topic\", \"common\"]);\n  const actionText = isCreate ? t(\"create_topic\") : t(\"common:save\");\n\n  //states\n\n  const [topicValidated, setTopicValidated] = useState<ValidatedOptions>(\n    ValidatedOptions.default\n  );\n  const [invalidText, setInvalidText] = useState(\"\");\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const [warning, setWarning] = useState<boolean>(false);\n  const onValidateTopic = () => {\n    if (topicData?.name.length < 1) {\n      setInvalidText(t(\"common:required\"));\n      setTopicValidated(ValidatedOptions.error);\n    } else {\n      setIsLoading(true);\n\n      checkTopicName(topicData?.name)\n        .then((value) =>\n          value == false\n            ? (setInvalidText(t(\"already_exists\", { name: topicData?.name })),\n              setTopicValidated(ValidatedOptions.error))\n            : onConfirm()\n        )\n        .finally(() => setIsLoading(false));\n    }\n  };\n\n  return (\n    <PageSection padding={{ default: \"noPadding\" }}>\n      <Sidebar hasGutter>\n        <TopicAdvanceJumpLinks />\n        <SidebarContent>\n          <PageGroup\n            hasOverflowScroll\n            id=\"topic-detail-view\"\n            aria-label={\"TODO\"}\n          >\n            <PageSection padding={{ default: \"noPadding\" }}>\n              <Form>\n                <CoreConfiguration\n                  isCreate={isCreate}\n                  topicData={topicData}\n                  setTopicData={setTopicData}\n                  checkTopicName={checkTopicName}\n                  availablePartitionLimit={availablePartitionLimit}\n                  invalidText={invalidText}\n                  setInvalidText={setInvalidText}\n                  setTopicValidated={setTopicValidated}\n                  topicValidated={topicValidated}\n                  setWarning={setWarning}\n                  warning={warning}\n                />\n                <Message\n                  defaultMaximumMessageBytes={\n                    topicData[\"max.message.bytes\"].value\n                  }\n                  defaultMessageTimestampType={\n                    topicData[\"message.timestamp.type\"]\n                  }\n                  defaultMaxMessageTimestampDiff={\n                    topicData[\"message.timestamp.difference.max.ms\"].value\n                  }\n                />\n                <Log\n                  topicData={topicData}\n                  setTopicData={setTopicData}\n                  defaultDeleteRetentionTime={topicData[\"retention.ms\"].value}\n                  defaultMinCleanbleRatio={\n                    topicData[\"min.cleanable.dirty.ratio\"]\n                  }\n                  defaultMinimumCompactionLagTime={\n                    topicData[\"min.compaction.lag.ms\"].value\n                  }\n                />\n                <Replication />\n                <Cleanup\n                  defaultLogSegmentSize={topicData[\"segment.bytes\"].value}\n                  defaultSegmentTime={topicData[\"segment.ms\"].value}\n                  defaultSegmentJitterTime={\n                    topicData[\"segment.jitter.ms\"].value\n                  }\n                  defaultFileDeleteDelay={\n                    topicData[\"file.delete.delay.ms\"].value\n                  }\n                />\n                <TopicAdvanceIndex\n                  defaultIndexIntervalSize={\n                    topicData[\"index.interval.bytes\"].value\n                  }\n                  defaultSegmentIndexSize={\n                    topicData[\"segment.index.bytes\"].value\n                  }\n                />\n                <Flush\n                  defaultFlushIntervalMessages={\n                    topicData[\"flush.messages\"].value\n                  }\n                  defaultFlushIntervalTime={topicData[\"flush.ms\"].value}\n                />\n              </Form>\n\n              <ActionGroup className=\"kafka-ui--sticky-footer\">\n                <Divider className=\"kafka-ui--divider--FlexShrink\" />\n                <Button\n                  isLoading={isLoading}\n                  onClick={onValidateTopic}\n                  variant=\"primary\"\n                  data-testid={\n                    isCreate\n                      ? \"topicAdvanceCreate-actionCreate\"\n                      : \"tabProperties-actionSave\"\n                  }\n                  isDisabled={topicValidated !== \"default\"}\n                >\n                  {actionText}\n                </Button>\n                <Button\n                  onClick={handleCancel}\n                  variant=\"link\"\n                  data-testid={\n                    isCreate\n                      ? \"topicAdvanceCreate-actionCancel\"\n                      : \"tabProperties-actionCancel\"\n                  }\n                >\n                  {t(\"common:cancel\")}\n                </Button>\n              </ActionGroup>\n            </PageSection>\n          </PageGroup>\n        </SidebarContent>\n      </Sidebar>\n    </PageSection>\n  );\n};\n","import { PageSection } from \"@patternfly/react-core\";\nimport type { FunctionComponent } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport type { Topic } from \"ui-models/src/models/topic\";\nimport { TopicAdvancePage } from \"../components/TopicAdvancePage\";\n\nexport type EditTopicPropertiesProps = {\n  topic: Topic;\n  onCancel: () => void;\n};\n\nexport const EditTopicProperties: FunctionComponent<\n  EditTopicPropertiesProps\n> = ({ topic }) => {\n  const { t } = useTranslation([\"create-topic\"]);\n  return (\n    <PageSection\n      variant={\"light\"}\n      className={\"topic-properties\"}\n      hasOverflowScroll={true}\n    >\n      <TopicAdvancePage\n        isCreate={false}\n        onConfirm={() => {}}\n        handleCancel={() => {}}\n        topicData={topic}\n        setTopicData={() => {}}\n        checkTopicName={() => Promise.resolve(true)}\n        availablePartitionLimit={3}\n      />\n    </PageSection>\n  );\n};\n","import {\n  Button,\n  Divider,\n  Form,\n  FormSection,\n  PageGroup,\n  PageSection,\n  Sidebar,\n  SidebarContent,\n  Split,\n  SplitItem,\n  Text,\n  TextContent,\n  TextVariants,\n} from \"@patternfly/react-core\";\nimport type React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { Link } from \"react-router-dom\";\nimport type { Topic } from \"ui-models/src/models/topic\";\nimport {\n  formattedRetentionSize,\n  formattedRetentionTime,\n} from \"../../KafkaTopics/types\";\nimport { TextWithLabelPopover } from \"../components\";\nimport { Cleanup } from \"../components/Cleanup\";\nimport { Flush } from \"../components/Flush\";\nimport { Message } from \"../components/Message\";\nimport { Replication } from \"../components/Replication\";\nimport { TopicAdvanceIndex } from \"../components/TopicAdvanceIndex\";\nimport { TopicAdvanceJumpLinks } from \"../components/TopicAdvanceJumpLinks\";\n\nexport type TopicViewDetailProps = {\n  topic: Topic;\n  deleteTopicHref: string;\n  updateTopicHref: string;\n};\n\nexport const TopicProperties: React.FunctionComponent<TopicViewDetailProps> = ({\n  topic,\n  deleteTopicHref,\n  updateTopicHref,\n}) => {\n  const { t } = useTranslation([\"create-topic\"]);\n  return (\n    <PageSection\n      variant={\"light\"}\n      className={\"topic-properties\"}\n      hasOverflowScroll={true}\n    >\n      <Sidebar hasGutter>\n        <TopicAdvanceJumpLinks canHaveDelete={true} />\n        <SidebarContent>\n          <PageGroup\n            hasOverflowScroll\n            id=\"topic-detail-view\"\n            className={\"pf-u-mb-4xl\"}\n          >\n            <PageSection padding={{ default: \"noPadding\" }}>\n              <Split>\n                <SplitItem isFilled>\n                  <Form id=\"topic-form\">\n                    <FormSection\n                      title={t(\"core_configuration\")}\n                      id=\"core-configuration\"\n                      titleElement={\"h2\"}\n                    >\n                      <TextContent>\n                        <Text\n                          component={TextVariants.p}\n                          className=\"section-info\"\n                        >\n                          {t(\"core_config_info\")}\n                        </Text>\n                      </TextContent>\n\n                      <TextWithLabelPopover\n                        fieldId=\"topic-name\"\n                        btnAriaLabel={t(\"name\")}\n                        fieldLabel={t(\"topic_name\")}\n                        fieldValue={topic.name}\n                        popoverBody={t(\"topic_name_description\")}\n                        popoverHeader={t(\"topic_name\")}\n                      />\n\n                      <TextWithLabelPopover\n                        fieldId=\"partitions\"\n                        btnAriaLabel={t(\"partitions\")}\n                        fieldLabel={t(\"partitions\")}\n                        fieldValue={topic.partitions.length.toString()}\n                        popoverBody={t(\"partitions_description\")}\n                        popoverHeader={t(\"partitions\")}\n                      />\n\n                      <TextWithLabelPopover\n                        fieldId=\"replicas\"\n                        btnAriaLabel={t(\"replicas\")}\n                        fieldLabel={t(\"replicas\")}\n                        fieldValue={\n                          \"TODO\" /* TODO this is a config from the Kafka instance itself, should we be showing it? */\n                        }\n                        popoverBody={t(\"replicas_description\")}\n                        popoverHeader={t(\"replicas\")}\n                      />\n\n                      <TextWithLabelPopover\n                        fieldId=\"min-insync-replicas\"\n                        btnAriaLabel={t(\"min_insync_replicas\")}\n                        fieldLabel={t(\"min_insync_replicas\")}\n                        fieldValue={topic[\"min.insync.replicas\"].toString()}\n                        popoverBody={t(\"min_insync_replicas_description\")}\n                        popoverHeader={t(\"min_insync_replicas\")}\n                      />\n\n                      <TextWithLabelPopover\n                        fieldId=\"retention-time\"\n                        btnAriaLabel={t(\"retention_time\")}\n                        fieldLabel={t(\"retention_time\")}\n                        fieldValue={formattedRetentionTime(\n                          topic[\"retention.ms\"].value\n                        )}\n                        popoverBody={t(\"retention_time_description\")}\n                        popoverHeader={t(\"retention_time\")}\n                        showUnlimited={true}\n                      />\n\n                      <TextWithLabelPopover\n                        fieldId=\"retention-size\"\n                        btnAriaLabel={t(\"retention_size\")}\n                        fieldLabel={t(\"retention_size\")}\n                        fieldValue={formattedRetentionSize(\n                          topic[\"retention.bytes\"].value\n                        )}\n                        popoverHeader={t(\"retention_size\")}\n                        popoverBody={t(\"retention_size_description\")}\n                        showUnlimited={true}\n                      />\n                    </FormSection>\n                    <Message\n                      defaultMaximumMessageBytes={\n                        topic[\"max.message.bytes\"].value\n                      }\n                      defaultMessageTimestampType={\n                        topic[\"message.timestamp.type\"]\n                      }\n                      defaultMaxMessageTimestampDiff={\n                        topic[\"message.timestamp.difference.max.ms\"].value\n                      }\n                    />\n                    <FormSection title={t(\"log\")} id=\"log\" titleElement={\"h2\"}>\n                      <TextContent>\n                        <Text component={TextVariants.p}>\n                          {t(\"log_section_info\")}\n                          <Text\n                            component={TextVariants.small}\n                            className=\"section-info-note\"\n                          >\n                            {t(\"log_section_info_note\")}\n                          </Text>\n                        </Text>\n                      </TextContent>\n\n                      <TextWithLabelPopover\n                        fieldId=\"cleanup-policy\"\n                        btnAriaLabel={t(\"cleanup_policy\")}\n                        fieldLabel={t(\"cleanup_policy\")}\n                        fieldValue={topic[\"cleanup.policy\"]}\n                        popoverBody={t(\"cleanup_policy_description\")}\n                        popoverHeader={t(\"cleanup_policy\")}\n                      />\n\n                      <TextWithLabelPopover\n                        fieldId=\"delete-retention-time\"\n                        btnAriaLabel={t(\"delete_retention_time\")}\n                        fieldLabel={t(\"delete_retention_time\")}\n                        fieldValue={topic[\n                          \"delete.retention.ms\"\n                        ].value.toString()}\n                        popoverBody={t(\"delete_retention_time_description\")}\n                        popoverHeader={t(\"delete_retention_time\")}\n                      />\n\n                      <TextWithLabelPopover\n                        fieldId=\"min-cleanable-ratio\"\n                        btnAriaLabel={t(\"min_cleanable_ratio\")}\n                        fieldLabel={t(\"min_cleanable_ratio\")}\n                        fieldValue={topic[\n                          \"min.cleanable.dirty.ratio\"\n                        ].toString()}\n                        popoverBody={t(\"min_cleanable_ratio_description\")}\n                        popoverHeader={t(\"min_cleanable_ratio\")}\n                      />\n\n                      <TextWithLabelPopover\n                        fieldId=\"min-compaction-lag-time\"\n                        btnAriaLabel={t(\"min_compaction_lag_time\")}\n                        fieldLabel={t(\"min_compaction_lag_time\")}\n                        fieldValue={topic[\n                          \"min.compaction.lag.ms\"\n                        ].value.toString()}\n                        popoverBody={t(\"min_compaction_lag_time_description\")}\n                        popoverHeader={t(\"min_compaction_lag_time\")}\n                      />\n                    </FormSection>\n                    <Replication />\n                    <Cleanup\n                      defaultLogSegmentSize={topic[\"segment.bytes\"].value}\n                      defaultSegmentTime={topic[\"segment.ms\"].value}\n                      defaultSegmentJitterTime={\n                        topic[\"segment.jitter.ms\"].value\n                      }\n                      defaultFileDeleteDelay={\n                        topic[\"file.delete.delay.ms\"].value\n                      }\n                    />\n                    <TopicAdvanceIndex\n                      defaultIndexIntervalSize={\n                        topic[\"index.interval.bytes\"].value\n                      }\n                      defaultSegmentIndexSize={\n                        topic[\"segment.index.bytes\"].value\n                      }\n                    />\n                    <Flush\n                      defaultFlushIntervalMessages={\n                        topic[\"flush.messages\"].value\n                      }\n                      defaultFlushIntervalTime={topic[\"flush.ms\"].value}\n                    />\n                  </Form>\n\n                  <Divider className=\"pf-u-mt-2xl pf-u-mb-2xl\" />\n\n                  <TextContent>\n                    <Text component={TextVariants.h2} id=\"delete\">\n                      {t(\"delete_topic_irreversible\")}\n                    </Text>\n                    <Text component={TextVariants.p} className=\"section-info\">\n                      {t(\"delete_topic_info\")}\n                    </Text>\n                    <Button\n                      variant=\"danger\"\n                      data-testid=\"tabProperties-actionDelete\"\n                      component={(props) => (\n                        <Link {...props} to={deleteTopicHref}>\n                          {t(\"delete_topic\")}\n                        </Link>\n                      )}\n                    />\n                  </TextContent>\n                </SplitItem>\n                <SplitItem>\n                  <Button\n                    variant=\"primary\"\n                    data-testid=\"tabProperties-actionEdit\"\n                    component={(props) => (\n                      <Link {...props} to={updateTopicHref}>\n                        {t(\"edit_props\")}\n                      </Link>\n                    )}\n                  />\n                </SplitItem>\n              </Split>\n            </PageSection>\n          </PageGroup>\n        </SidebarContent>\n      </Sidebar>\n    </PageSection>\n  );\n};\n"],"names":["ControlPlaneRouteRoot","NewInstanceSegment","ControlPlaneSpecialSegments","ControlPlaneRoutePath","ControlPlaneNewInstancePath","ControlPlaneDeleteInstancePath","DrawerContext","createContext","DrawerProvider","children","match","useRouteMatch","Error","selectedInstance","params","id","includes","undefined","section","instance","useState","isExact","isExpanded","setIsExpanded","activeTab","setActiveTab","onClose","useRef","toggleExpanded","useCallback","newValue","prev","current","useEffect","value","useMemo","Provider","onTabChange","useDrawer","context","useContext","KafkaInstancesRoute","getUrlForInstance","history","useHistory","setActiveQuickStart","QuickStartContext","replace","labels","usePaginationSearchParams","page","perPage","setPagination","setPaginationQuery","resetPaginationQuery","namesChips","useURLSearchParamsChips","ownersChips","statusesChips","useSortableSearchParams","fields","isColumnSortable","sort","sortDirection","data","name","chips","owner","status","direction","onClearAllFilters","clearChained","openDrawer","tab","onDetailsClick","onConnectionsClick","onCreate","push","onDelete","onQuickstartGuide","instances","itemCount","count","names","owners","statuses","onPageChange","onSearchName","add","onRemoveNameChip","remove","onRemoveNameChips","clear","onSearchOwner","onRemoveOwnerChip","onRemoveOwnerChips","onSearchStatus","toggle","onRemoveStatusChip","onRemoveStatusChips","onChangeOwner","row","isRowSelected","onDetails","onConnection","onClickConnectionTabLink","onClickSupportLink","onInstanceLinkClick","canHaveInstanceLink","canOpenConnection","canChangeOwner","canDelete","CreateKafkaInstanceRoute","instancesHref","callbacks","auth","useChrome","getUsername","getUser","username","identity","user","Promise","reject","checkDeveloperAvailabilityQuery","standardQuotaQuery","providersWithRegionsQuery","getProvidersInfo","getProviderRegionsSizes","checkDeveloperAvailability","onAvailable","onUsed","onUnavailable","checkStandardQuota","onQuotaAvailable","onNoQuotaAvailable","onOutOfQuota","hasTrialQuota","remainingPrepaidQuota","remainingMarketplaceQuota","marketplaceSubscriptions","quota","fetchProvidersWithRegions","plan","providers","getStandardSizes","provider","region","providersInfo","providerInfo","find","p","getTrialSizes","standardSizes","length","displayName","trialSizes","standard","trial","useCreateKafkaCallbacks","createKafkaInstance","qsContext","onClickKafkaOverview","onClickQuickStart","onSuccess","onError","mutateAsync","onCancel","CreateKafkaInstance","isModalOpen","onClickContactUs","onLearnHowToAddStreamingUnits","onLearnMoreAboutSizes","subscriptionOptionsHref","document","location","href","appendTo","getElementById","body","DeleteKafkaInstanceRoute","isError","isDeleting","instanceName","ControlPlaneRoutes","Route","path","exact","DataPlaneRoutePath","DataPlaneTopicRoutePath","useDataPlaneGate","DataPlaneGate","Loading","DataPlaneHeaderConnected","activeSection","url","sectionsHref","dashboard","topics","consumer","permissions","settings","AclsRoute","PageSection","TopicsRoute","topicChips","adminUrl","filter","topicName","getUrlFortopic","onEdit","onSearchTopic","onCreateTopic","onRemoveTopicChip","onRemoveTopicChips","onTopicLinkClick","SettingsRoute","updateInstance","onSubmitReAuthentication","reauthenticationEnabled","updates","reauthentication_enabled","request","DashboardRoute","hasUserAlreadyClosedAlert","setHasUserAlreadyClosedAlert","onAlertClose","queryInstance","queryKpisMetrics","queryInstanceMetrics","queryTopicMetrics","queryTopics","getMetricsKpi","kpis","topicPartitionsLimit","maxPartitions","getKafkaInstanceMetrics","interval","duration","all","metrics","diskSpaceLimit","max_data_retention_size","bytes","connectionsLimit","connections","connectionRateLimit","connectionRate","getTopicsMetrics","selectedTopic","kafkaTopics","map","t","ConsumerGroupsRoute","consumerName","groupId","consumers","groups","onSearchConsumer","onRemoveConsumerChip","onRemoveConsumerChips","onViewPartition","onViewResetOffset","useTopicGate","instanceDetailsHref","topic","DataPlaneTopicHeaderConnected","instanceTopicsHref","tabsHref","messages","properties","schemas","instanceDetailHref","TopicConsumerGroupsRoute","TopicMessagesGroupsRoute","kafkaTopicMessagesFetchQuery","getMessages","partitions","TopicPropertiesRoute","deleteTopicHref","updateTopicHref","TopicSchemasRoute","chrome","processor2","entry","e","basename","srs","getToken","AuthContext","ConfigContext","apiBasePath","I18nProvider","lng","resources","en","common","srsTemporaryFixMe","debug","ScalprumComponent","appName","module","scope","ErrorComponent","processor","renderSchema","registry","version","registryId","DeleteKafkaTopic","props","useTranslation","DeleteModal","variant","title","confirmationValue","Trans","ns","i18nKey","components","values","TopicDeleteRoute","topicHref","instanceId","TopicEditPropertiesRoute","TopicGate","DataPlaneRoutes","Switch","Redirect","from","to","InvalidObject","OverviewRoute","Routes","memo","updateDocumentTitle","on","register","notifications","unregister","event","console","dir","navId","basePath","getPath","QuickstartLoader","loaded","setLoaded","quickStarts","AssetsContext","showDrafts","onLoad","qs","set","init","errorDescriptionKey","middleware","CreatingStatuses","ReadyStatuses","DegradedStatuses","SuspendingStatuses","SuspendedStatuses","DeletingStatuses","ResumingStatuses","SimplifiedStatuses","creating","ready","degraded","suspended","deleting","resuming","suspending","stateMapping","DEAD","EMPTY","STABLE","UNKNOWN","COMPLETING_REBALANCE","PREPARING_REBALANCE","fetchKafkaMetrics","getMetricsByRangeQuery","response","safeMetrics","items","m","metric","persistentvolumeclaim","usedDiskSpaceMetrics","connectionAttemptRateMetrics","clientConnectionsMetrics","forEach","addAggregatedValuesTo","timestamp","valuesToQuery","field","comparison","v","trim","join","uiColumnMapping","createdAt","fetchKafkas","dataMapper","getKafkas","search","flatMap","s","Boolean","q","filtersToSearch","toString","res","rawInstances","total","fetchKafkaKpis","getMetricsByInstantQuery","topicPartitions","consumerGroups","developerDefaults","type","BigInt","preallocate","standardDefaults","topicTransformerFactory","d","cm","Object","fromEntries","config","c","key","configValueToMilliseconds","configValueToBytes","configValueToBoolean","configValueToNumber","defaultIfEmpty","defaultIfError","parseInt","JSON","parse","fetchTopicsMetrics","filteredMetrics","Array","Set","bytesIncoming","bytesOutgoing","bytesPerPartition","incomingMessageRate","partition","addAggregatedTotalBytesTo","metricsTopics","fetchTopics","getTopics","apiSizeToComponentSize","isDisabled","apiSize","display_name","quota_consumed","ingress","ingress_throughput_per_sec","egress","egress_throughput_per_sec","storage","Math","round","total_max_connections","max_connection_attempts_per_sec","max_partitions","messageSize","max_message_size","maturity_status","trialDurationHours","lifespan_seconds","fetchProviderRegions","getCloudProviderRegions","instanceType","enabled","capacity","some","instance_type","r","max_capacity_reached","available_sizes","resourceName","isStandardQuota","related_resources","billing_model","isMarketplaceQuota","ReactQueryDevtoolsProduction","lazy","then","default","ReactQueryDevtools","ApiContext","ApiProvider","showDevTools","QueryClientProvider","client","initialIsOpen","Suspense","fallback","useApiConfiguration","masQueries","_root","organization","entity","available","subentity","developerAvailability","standardAvailability","kafkaQueries","list","details","topicMessages","kpi","providerQueries","limits","developer","accessToken","kafkasFleet","DefaultApi","Configuration","account","AppServicesApi","TopicsApi","GroupsApi","records","RecordsApi","kafkaRequestToKafkaInstanceEnhanched","developerPlanInstanceLimits","standardPlanInstanceLimits","enhancedInstance","billing","created_at","Date","toISOString","expiryDate","expires_at","cloud_provider","size","accepted","preparing","provisioning","failed","deprovision","updatedAt","updated_at","bootstrapUrl","bootstrap_server_host","admin_api_server_url","marketplaceForBilling","ms","subscriptions","billing_cloud_account_id","marketplace","subscription","warn","thisInstanceLimits","l","size_id","useKafkaInstanceTransformer","getStandardQuotaQuery","useStandardQuotaFetchQuery","useProvidersWithRegionsFetchQuery","useProviderRegionSizesFetchQuery","standardQuota","standardPlanLimitsQuery","developerPlanLimitsQuery","standardPlanLimits","developerPlanLimits","useKafka","refetchInterval","api","useQuery","queryKey","queryFn","getKafkaById","APIErrorCodes","useKafkas","queryClient","args","i","setQueryData","useTopic","getTopic","fetchTopic","useTopics","useConsumerGroups","getConsumerGroups","state","activeConsumers","laggingPartitions","unassignedPartitions","fetchConsumerGroups","useDeveloperInstanceAvailabilityFetchQuery","fetchQuery","staleTime","Infinity","k","useKafkaFetchQuery","useKafkaKpisFetchQuery","useKafkaMetricsFetchQuery","useTopicsMetricsFetchQuery","useTopicsFetchQuery","useMessagesFetchQuery","consumeRecords","offset","limit","headers","fetchMessages","kms","regions","regionInfo","availableSizes","sizes","instance_types","bind","fetchProviderRegionSizes","getInstanceTypesByCloudProviderAndRegion","getCloudProviders","allProviders","firstProvider","defaultProvider","skipCache","ams","fetchOrganization","apiAccountsMgmtV1CurrentAccountGet","apiAccountsMgmtV1OrganizationsOrgIdQuotaCostGet","organizationId","quotaResponse","statusText","standardQuotas","resource_name","product","prepaidQuota","marketplaceQuotas","allowed","consumed","reduce","agg","unaggregatedSubscriptions","cloud_accounts","subscriptionMarketplaces","cloud_provider_id","cloud_account_id","useCreateKafkaMutation","useMutation","kafkaRequest","sizeId","createKafka","isServiceApiError","code","DUPLICATE_INSTANCE_NAME","INTERNAL_CAPACITY_ERROR","INSUFFICIENT_QUOTA","error","invalidateQueries","UNAUTHORIZED_USER","TRIAL_USED","FAILED_TO_CHECK_QUOTA","OWNER_DOES_NOT_EXIST","useDeleteKafkaMutation","deleteKafkaById","message","useDeleteTopicMutation","deleteTopic","_","useUpdateKafkaMutation","updateKafkaById","KafkaInstancesSortableColumns","KafkaTopicsSortableColumns","TopicOrderKey","KafkaConsumerGroupSortableColumns","ConsumerGroupOrderKey","METRICS_LAG_ALERT","isReactQueryDevToolsEanbled","localStorage","getItem","metricsIsLagAlertsDismissed","metricsDismissLagAlerts","setItem","ConsumerGroupEmptyState","EmptyState","EmptyStateVariant","EmptyStateIcon","icon","Title","headingLevel","TitleSizes","EmptyStateBody","Columns","ConsumerGroups","isFiltered","isFilled","hasOverflowScroll","TableView","TableVariant","tableOuiaId","ariaLabel","columns","renderHeader","column","Th","info","popover","popoverProps","headerContent","renderCell","Td","dataLabel","renderActions","ActionsColumn","onClick","filters","onSearch","onRemoveChip","onRemoveGroup","validate","test","errorMessage","emptyStateNoData","emptyStateNoResults","EmptyStateNoResults","ControlPlaneHeader","PageSectionVariants","hasShadowBottom","stickyOnBreakpoint","Level","LevelItem","TextContent","Text","component","onProviderChange","selectedProvider","defaultRegion","capabilities","form","creationError","tsTypes","schema","events","services","initial","states","verifyAvailability","always","cond","target","overQuota","tags","instanceUnavailable","regionsUnavailable","configuring","unsubmitted","submitted","create","description","invalid","valid","fieldInvalid","submit","saving","createSuccess","createError","actions","saved","empty","nameChange","providerChange","regionChange","idle","disabled","waitingForQuota","loading","invoke","src","onDone","sizeChange","billingChange","prepaidOnly","singleSubscription","onlySubscriptions","selectSubscription","prepaidAndSubscriptions","prepaid","selectPrepaid","setInitialContext","availableProviders","setName","setProvider","setRegion","setSize","setSizes","smallestSize","a","b","resetCreationErrorMessage","_context","setCreationError","triggerSave","triggerSubmit","triggerBillingChange","setBillingToPrepaid","setBillingToSubscription","unsetSubscription","guards","isOverQuota","instanceAvailability","isInstanceUnavailable","isRegionsUnavailable","nameIsEmpty","nameIsValid","providerIsValid","selectedProviderInfo","regionIsValid","noProviderOrRegion","noSizes","emptySizes","sizeIsDisabled","billingRequiredButNotSelected","meta","hasTag","sizeIsOverQuota","availableQuota","didProviderChange","didRegionChange","didSizeChange","onlyPrepaid","matchesSelectedProviderOrRHMarketplaceAndHasQuota","hasPrepaidQuota","noSelectedProvider","trialUsed","trialUnavailable","isTrialUsed","isTrialUnavailable","noProviderAndRegion","save","complete","setDeveloperAvailable","setDeveloperUnavailable","setDeveloperUsed","setStandardAvailable","setStandardOutOfQuota","setStandardUnavailable","setProviders","setProvidersOrRegionsUnavailable","setCapabilities","notifyCreateErrorToStandardPlan","notifyCreateErrorToTrialPlan","LogoAWS","URL","LogoAzure","LogoGCP","LogoRedhat","AWSLogo","alt","style","height","AzureLogo","GCPLogo","KafkaInstanceActions","rowData","hackZIndex","customChild","DropdownGroup","label","tooltipProps","position","content","tooltip","pointerEvents","cursor","isSeparator","actionProps","zIndex","DataPlaneHeader","actionsProps","className","Breadcrumb","ouiaId","BreadcrumbItem","render","Link","isActive","padding","Nav","NavList","NavItem","borderTop","DataPlaneTopicHeader","DeleteKafkaInstance","kafka","it","resolve","delete","useKafkaLabels","statusesSimplified","aws","gcp","azure","providerRegions","useTopicLabels","DetailsTabAlert","hoursLeft","differenceInHours","now","Alert","time","FormatDate","date","format","isInline","KafkaDetailsTab","kafkaVersion","renderTextListItem","TextListItem","TextListItemVariants","Skeleton","width","screenreaderText","contentName","TextList","TextListVariants","SuspendedConnection","color","KafkaConnectionTabP2","isKafkaSuspended","isKafkaPending","externalServer","tokenEndPointUrl","linkToServiceAccount","linkToAccessTab","adminAPIUrl","kafkaFleetManagerUrl","showCreateServiceAccountModal","TextVariants","fontSize","ClipboardCopy","textAriaLabel","isReadOnly","Button","ButtonVariant","ExpandableSection","toggleContent","onToggle","Popover","bodyContent","testId","Label","KafkaInstanceDrawer","DrawerPanelContent","KafkaInstanceDrawerPanel","Drawer","DrawerContent","panelContent","DrawerContentBody","handleSelect","DrawerHead","DrawerActions","DrawerCloseButton","DrawerPanelBody","Tabs","activeKey","onSelect","Tab","eventKey","TabTitleText","parseISO","getExternalServer","getAdminServerUrl","endsWith","StatusLabel","forwardRef","ref","showWarning","showError","withPopover","buttonVariant","Split","hasGutter","SplitItem","Spinner","isPlain","Flex","FlexItem","HelperText","HelperTextItem","PopoverStatusOrder","KafkaToPopoverMapping","StatusProgressStepper","currentStatus","currentStep","findIndex","getVariant","index","ProgressStepper","isVertical","ProgressStep","titleId","isCurrent","StatusPopoverContent","Stack","StackItem","StatusPopover","initialOpen","reference","isVisible","setIsVisible","handleClickConnectionTabLink","handleClickSupportLink","shouldOpen","shouldClose","enableFlip","SuspendedPopover","alertSeverityVariant","headerIcon","KafkaInstanceStatus","warningAfterMinutes","errorAfterMinutes","popoverStatus","alert","setAlert","labelRef","checkCreatedAt","elapsed","differenceInMinutes","useInterval","EmptyStateNoInstances","KafkaInstances","timeCreatedDate","instanceLinkEnable","isAriaDisabled","changeOwnerEnabled","deleteEnabled","openConnectionEnabled","onRowClick","isRowDeleted","toolbarBreakpoint","options","isPrimary","DateTimePicker","onChange","timeSelected","setIsTimeSelected","InputGroup","DatePicker","formatInTimeZone","newDate","formatISO","TimePicker","hour","minute","__","isValid","setHours","setMinutes","FilterGroup","epoch","onOffsetChange","onTimestampChange","onEpochChange","onLatest","currentCategory","setCurrentCategory","isOpen","setIsOpen","latest","ToolbarItem","Dropdown","DropdownToggle","DropdownPosition","dropdownItems","DropdownItem","autoFocus","DropdownSeparator","TextInput","placeholder","newOffset","Number","isInteger","LimitSelector","InputGroupText","hidden","Select","selections","idx","SelectOption","isSameMessage","m1","m2","stringify","beautifyUnknownValue","RetentionSizeUnits","RetentionTimeUnits","NoDataCell","columnLabel","MessageDetails","defaultTab","isResizable","minSize","MessageDetailsBody","messageKey","DescriptionList","isHorizontal","isCompact","DescriptionListGroup","DescriptionListTerm","DescriptionListDescription","defaultActiveKey","isCode","random","NoDataEmptyState","onRefresh","NoResultsEmptyState","onReset","OffsetRange","min","max","PartitionSelector","handleChange","valueAsNum","allPartitions","fill","makeOptions","slice","hiddenOptionsCount","handleFilter","SelectVariant","typeAheadAriaLabel","maxHeight","onFilter","isInputValuePersisted","placeholderText","onClear","InputGroupTextVariant","UnknownValuePreview","truncateAt","shouldTruncate","substring","truncate","preview","truncated","spaceItems","stopPropagation","MessageBrowserMachine","selectedMessage","initialLoading","fetchSuccess","fetchFail","verifyMessages","noData","refresh","pristine","dirty","shouldSearch","setPartition","setEpoch","setTimestamp","setOffset","setLatest","setLimit","selectMessage","deselectMessage","refreshing","setMessages","offsetMin","offsetMax","lastUpdated","noMessages","selectedMessageNotAvailable","areFiltersChanged","columnWidths","KafkaMessageBrowser","useMachine","devTools","send","catch","KafkaMessageBrowserConnected","isFirstLoad","matches","isNoData","isRefreshing","requiresSearch","filterOffset","filterEpoch","filterTimestamp","setDefaultTab","columnLabels","OuterScrollContainer","Toolbar","ToolbarContent","ToolbarToggleGroup","toggleIcon","breakpoint","ToolbarGroup","RefreshButton","alignment","InnerScrollContainer","ResponsiveTable","expectedLength","colIndex","keys","KafkaInstanceCapacityTable","columnNames","firstStreamingUnit","secondStreamingUnit","TableComposable","Thead","Tr","Tbody","table","MarketingPageHero","tagLine","description2","heroImage","heroImageSize","heroImageCanRepeat","heroImagePositionY","cta","MarketingPageSection","isWidthLimited","KafkaPageV3","Grid","lg","Card","CardHeader","CardHeaderMain","CardTitle","CardBody","CardFooter","bold","alignSelf","justifyContent","flex","Divider","xl","orientation","EmptyStateNoTopic","PrincipalType","unitsToBytes","BYTE","KIBIBYTE","MEBIBYTE","GIBIBYTE","TEBIBYTE","unitsToMilliSecond","MILLISECOND","SECOND","MINUTE","HOUR","DAY","formattedRetentionTime","days","unit","hours","minutes","seconds","millisecondsToTime","formattedRetentionSize","bytesToMemorySize","tebibytes","gibibytes","mebibytes","kibibytes","KafkaTopics","DurationOptions","EmptyStateInitialLoading","EmptyStateMetricsUnavailable","MetricsLayout","metricsLagAlert","topicsKpi","topicPartitionsKpi","consumerGroupKpi","diskSpaceMetrics","topicMetrics","GridItem","sm","CardBodyLoading","Bullseye","isSVG","timeIntervalsMapping","Last5minutes","ticks","showDate","Last15minutes","Last30minutes","Last1hour","Last3hours","Last6hours","Last12hours","Last24hours","Last2days","Last7days","chartHeight","chartPadding","bottom","left","right","top","ChartSkeletonLoader","useChartWidth","containerRef","setWidth","handleResize","clientWidth","useLayoutEffect","window","addEventListener","removeEventListener","formatBytes","units","shouldShowDate","timeDuration","dateToChartValue","fromUnixTime","timestampsToTicks","timestamps","allTimestamps","mostRecentTs","sub","getTime","ChartLinearWithOptionalLimit","chartName","xLabel","yLabel","usageLimit","formatValue","isLoading","emptyState","itemsPerRow","lineLabel","limitLabel","legendData","symbol","chart_color_black_500","chart_color_blue_300","areaColor","softLimitColor","chartData","area","softLimit","entries","x","y","tickValues","getChartData","hasMetrics","Chart","ariaTitle","containerComponent","ChartVoronoiContainer","datum","constrainToVisibleArea","legendPosition","legendComponent","ChartLegend","themeColor","ChartTheme","legendAllowWrap","ChartAxis","C","tickFormat","dependentAxis","ChartGroup","ChartArea","ChartThreshold","stroke","colors","chart_color_cyan_300","ChartLogSizePerPartition","dataMap","ChartPopover","ChartTotalBytes","incomingTopicsData","outgoingTopicsData","incomingTopic","outgoingTopic","incomingTopicName","outgoingTopicName","incomingLine","metricsToLine","line","outgoingLine","chart_color_green_300","getBytesChartData","tickCount","ChartLine","EmptyStateNoMetricsData","EmptyStateNoMetricsDataForSelection","EmptyStateNoTopics","EmptyStateNoTopicSelected","DurationOptionsMap","FilterByTime","keyText","disableToolbar","onDurationChange","isTimeSelectOpen","setIsTimeSelectOpen","ariaId","selection","mapping","SelectGroup","timeOptions","widths","md","FilterByTopic","topicList","onSetSelectedTopic","isTopicSelectOpen","setIsTopicSelectOpen","selectKey","setSelectKey","allTopicsLabel","topicOptions","textInput","filteredTopics","indexOf","isGrouped","hasInlineFilter","ToolbarRefresh","ToolbarTopicsMetrics","onSetTimeDuration","CardTopicsMetrics","backendUnavailable","isInitialLoading","isJustCreated","onSelectedTopic","noTopics","selectedTopicNotInList","chartEmptyState","TotalBytesTitle","IncomingMessageRate","PartitionSizeTitle","ToolbarKafkaInstanceMetric","CardKafkaInstanceMetrics","usedDiskMetrics","ChartTitle","helperText","CardKpi","isFullHeight","shape","MetricsLagAlert","isClosed","onClickClose","actionClose","AlertActionCloseButton","PartitionCard","isExpandable","AlertVariant","role","apiState","failure","after","KafkaInstanceMetricsMachine","fetchFailures","callApi","criticalFail","justCreated","withResponse","selectDuration","setFetchTimestamp","setMetrics","incrementRetries","resetRetries","setDuration","canRetryFetching","TopicsMetricsMachine","selectTopic","setTopic","MetricsKpiMachine","KafkaInstanceMetricsContext","KafkaInstanceMetricsProvider","service","callback","results","MetricsKpiContext","MetricsKpiProvider","TopicsMetricsContext","TopicsMetricsProvider","useKafkaInstanceMetrics","isFailed","useTopicsMetrics","onTopicChange","localeCompare","Metrics","ConnectedMetrics","kafkaInstanceMetrics","topicsMetrics","metricsKpi","useMetricsKpi","ConnectedKafkaInstanceMetrics","ConnectedTopicsMetrics","Settings","connectionStatus","setConnectionStatus","setIsModalOpen","handleReAuthentication","reAuthValue","reauthentication","flexWrap","grow","spacer","isChecked","checked","Modal","ModalVariant","titleIconVariant","retentionTimeSelectOptions","isPlaceholder","retentionSizeSelectOptions","fieldId","fieldLabel","btnAriaLabel","fieldValue","popoverBody","popoverHeader","displayText","FormGroup","labelIcon","preventDefault","noVerticalAlign","readOnlyVariant","Cleanup","defaultFileDeleteDelay","defaultLogSegmentSize","defaultSegmentJitterTime","defaultSegmentTime","FormSection","titleElement","gibibyte","milliseconds","CustomRetentionMessage","selectOptions","topicData","NumberInput","onMinus","onPlus","CustomRetentionSize","CoreConfiguration","isCreate","setTopicData","invalidText","setInvalidText","setTopicValidated","topicValidated","availablePartitionLimit","validateName","legalNameChars","RegExp","retentionSizeUnit","setRetentionSizeUnit","retentionTimeUnit","setRetentionTimeUnit","isRetentionTimeSelectOpen","setIsRetentionTimeSelectOpen","isRetentionSizeSelectOpen","setIsRetentionSizeSelectOpen","validationCheck","ValidatedOptions","handleRetentionMessageSize","handleRetentionMessageTime","retentionTimeInput","toggleId","retentionSizeInput","labelHead","labelBody","buttonAriaLabel","helperTextInvalid","validated","isRequired","inputName","plusBtnProps","minusBtnProps","Radio","Flush","defaultFlushIntervalMessages","defaultFlushIntervalTime","Log","defaultDeleteRetentionTime","defaultMinCleanbleRatio","defaultMinimumCompactionLagTime","cleanupPolicyOptions","DropdownWithToggle","onSelectOption","isLabelAndValueNotSame","String","Message","defaultMaximumMessageBytes","defaultMessageTimestampType","defaultMaxMessageTimestampDiff","Replication","TopicAdvanceIndex","defaultIndexIntervalSize","defaultSegmentIndexSize","TopicAdvanceJumpLinks","canHaveDelete","SidebarPanel","JumpLinks","scrollableSelector","JumpLinksItem","onConfirm","handleCancel","checkTopicName","actionText","setIsLoading","warning","setWarning","Sidebar","SidebarContent","PageGroup","Form","ActionGroup","finally","EditTopicProperties","TopicProperties","showUnlimited"],"sourceRoot":""}